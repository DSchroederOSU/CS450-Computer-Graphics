/**
 * Copyright å© 2017 by Cengage Learning, Inc. All rights reserved.
 * Date: 2017.10.27 02:35 PM PDT 
 */
/*!
 * jQuery JavaScript Library v1.4.4
 * http://jquery.com/
 *
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2010, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Thu Nov 11 19:04:53 2010 -0500
 *
 *
 * jQuery plugin: fieldSelection - v0.1.0 - last change: 2006-12-16
 * (c) 2006 Alex Brem <alex@0xab.cd> - http://blog.0xab.cd
 *
 *
 * Raphael 1.5.2 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://raphaeljs.com/license.html) license.
 *
 *
 * QUnit - A JavaScript Unit Testing Framework
 * 
 * http://docs.jquery.com/QUnit
 *
 * Copyright (c) 2011 John Resig, JÃ¶rn Zaefferer
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * or GPL (GPL-LICENSE.txt) licenses.
 *
 *
 * jQuery Mobile v1.0a2
 * http://jquerymobile.com/
 *
 * Copyright 2010, jQuery Project
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 *
 * jQuery UI Widget @VERSION
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 *
 *
 * jQuery Templates
 *
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Written by: Stan Lemon <stanlemon@mac.com>
 *
 * Based off of the Ext.Template library, available at:
 * http://www.extjs.com
 *
 *
 * jQuery JSON Plugin
 * version: 2.1 (2009-08-14)
 *
 * This document is licensed as free software under the terms of the
 * MIT License: http://www.opensource.org/licenses/mit-license.php
 *
 * Brantley Harris wrote this plugin. It is based somewhat on the JSON.org 
 * website's http://www.json.org/json2.js, which proclaims:
 * "NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.", a sentiment that
 * I uphold.
 *
 * It is also influenced heavily by MochiKit's serializeJSON, which is 
 * copyrighted 2005 by Bob Ippolito.
 *
 *
 * 
 * Find more about the scrolling function at
 * http://cubiq.org/iscroll
 *
 * Copyright (c) 2010 Matteo Spinelli, http://cubiq.org/
 * Released under MIT license
 * http://cubiq.org/dropbox/mit-license.txt
 * 
 * Version 3.7.1 - Last updated: 2010.10.08
 * 
 */(function(k,b){function a(a,c,d){if(d===b&&1===a.nodeType)if(d=a.getAttribute("data-"+c),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:!o.isNaN(d)?parseFloat(d):t.test(d)?o.parseJSON(d):d}catch(e){}o.data(a,c,d)}else d=b;return d}function d(){return!1}function c(){return!0}function e(a,b,c){c[0].type=a;return o.event.handle.apply(b,c)}function f(a){var b,c,d,e,g,f,h,j,l,m,n,p=[];e=[];g=o.data(this,this.nodeType?"events":"__events__");"function"===typeof g&&(g=g.events);if(!(a.liveFired===
this||!g||!g.live||a.button&&"click"===a.type)){a.namespace&&(n=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var q=g.live.slice(0);for(h=0;h<q.length;h++)g=q[h],g.origType.replace(v,"")===a.type?e.push(g.selector):q.splice(h--,1);e=o(a.target).closest(e,a.currentTarget);j=0;for(l=e.length;j<l;j++){m=e[j];for(h=0;h<q.length;h++)if(g=q[h],m.selector===g.selector&&(!n||n.test(g.namespace))){f=m.elem;d=null;if("mouseenter"===g.preType||"mouseleave"===g.preType)a.type=
g.preType,d=o(a.relatedTarget).closest(g.selector)[0];(!d||d!==f)&&p.push({elem:f,handleObj:g,level:m.level})}}j=0;for(l=p.length;j<l;j++){e=p[j];if(c&&e.level>c)break;a.currentTarget=e.elem;a.data=e.handleObj.data;a.handleObj=e.handleObj;n=e.handleObj.origHandler.apply(e.elem,arguments);if(!1===n||a.isPropagationStopped())if(c=e.level,!1===n&&(b=!1),a.isImmediatePropagationStopped())break}return b}}function g(a,b){return(a&&"*"!==a?a+".":"")+b.replace(H,"`").replace(L,"&")}function h(a,b,c){if(o.isFunction(b))return o.grep(a,
function(a,d){return!!b.call(a,d,a)===c});if(b.nodeType)return o.grep(a,function(a){return a===b===c});if("string"===typeof b){var d=o.grep(a,function(a){return 1===a.nodeType});if(X.test(b))return o.filter(b,d,!c);b=o.filter(b,d)}return o.grep(a,function(a){return 0<=o.inArray(a,b)===c})}function j(a,b){var c=0;b.each(function(){if(this.nodeName===(a[c]&&a[c].nodeName)){var b=o.data(a[c++]),d=o.data(this,b);if(b=b&&b.events){delete d.handle;d.events={};for(var e in b)for(var g in b[e])o.event.add(this,
e,b[e][g],b[e][g].data)}}})}function l(a,b){b.src?o.ajax({url:b.src,async:!1,dataType:"script"}):o.globalEval(b.text||b.textContent||b.innerHTML||"");b.parentNode&&b.parentNode.removeChild(b)}function m(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight;if("border"===c)return d;o.each("width"===b?pa:qa,function(){c||(d-=parseFloat(o.css(a,"padding"+this))||0);d="margin"===c?d+(parseFloat(o.css(a,"margin"+this))||0):d-(parseFloat(o.css(a,"border"+this+"Width"))||0)});return d}function n(a,b,c,d){o.isArray(b)&&
b.length?o.each(b,function(b,e){c||ra.test(a)?d(a,e):n(a+"["+("object"===typeof e||o.isArray(e)?b:"")+"]",e,c,d)}):!c&&null!=b&&"object"===typeof b?o.isEmptyObject(b)?d(a,""):o.each(b,function(b,e){n(a+"["+b+"]",e,c,d)}):d(a,b)}function p(a,b){var c={};o.each(fa.concat.apply([],fa.slice(0,b)),function(){c[this]=a});return c}function q(a){if(!da[a]){var b=o("<"+a+">").appendTo("body"),c=b.css("display");b.remove();if("none"===c||""===c)c="block";da[a]=c}return da[a]}function r(a){return o.isWindow(a)?
a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var s=k.document,o=function(){function a(){if(!c.isReady){try{s.documentElement.doScroll("left")}catch(b){setTimeout(a,1);return}c.ready()}}var c=function(a,b){return new c.fn.init(a,b)},d=k.jQuery,e=k.$,g,f=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,h=/\S/,j=/^\s+/,l=/\s+$/,m=/\W/,n=/\d/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/^[\],:{}\s]*$/,q=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,G=/(?:^|:|,)(?:\s*\[)+/g,
u=/(webkit)[ \/]([\w.]+)/,t=/(opera)(?:.*version)?[ \/]([\w.]+)/,U=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,z=navigator.userAgent,A=!1,C=[],v,B=Object.prototype.toString,W=Object.prototype.hasOwnProperty,D=Array.prototype.push,x=Array.prototype.slice,y=String.prototype.trim,L=Array.prototype.indexOf,$={};c.fn=c.prototype={init:function(a,d){var e,h,j;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!d&&s.body)return this.context=s,this[0]=
s.body,this.selector="body",this.length=1,this;if("string"===typeof a){if((e=f.exec(a))&&(e[1]||!d)){if(e[1])return j=d?d.ownerDocument||d:s,(h=p.exec(a))?c.isPlainObject(d)?(a=[s.createElement(h[1])],c.fn.attr.call(a,d,!0)):a=[j.createElement(h[1])]:(h=c.buildFragment([e[1]],[j]),a=(h.cacheable?h.fragment.cloneNode(!0):h.fragment).childNodes),c.merge(this,a);if((h=s.getElementById(e[2]))&&h.parentNode){if(h.id!==e[2])return g.find(a);this.length=1;this[0]=h}this.context=s;this.selector=a;return this}return!d&&
!m.test(a)?(this.selector=a,this.context=s,a=s.getElementsByTagName(a),c.merge(this,a)):!d||d.jquery?(d||g).find(a):c(d).find(a)}if(c.isFunction(a))return g.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return c.makeArray(a,this)},selector:"",jquery:"1.4.4",length:0,size:function(){return this.length},toArray:function(){return x.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this.slice(a)[0]:this[a]},pushStack:function(a,b,d){var e=c();c.isArray(a)?D.apply(e,
a):c.merge(e,a);e.prevObject=this;e.context=this.context;"find"===b?e.selector=this.selector+(this.selector?" ":"")+d:b&&(e.selector=this.selector+"."+b+"("+d+")");return e},each:function(a,b){return c.each(this,a,b)},ready:function(a){c.bindReady();c.isReady?a.call(s,c):C&&C.push(a);return this},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(x.apply(this,arguments),"slice",
x.call(arguments).join(","))},map:function(a){return this.pushStack(c.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||c(null)},push:D,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var a,d,e,g,f,h=arguments[0]||{},j=1,l=arguments.length,m=!1;"boolean"===typeof h&&(m=h,h=arguments[1]||{},j=2);"object"!==typeof h&&!c.isFunction(h)&&(h={});l===j&&(h=this,--j);for(;j<l;j++)if(null!=(a=arguments[j]))for(d in a)e=h[d],g=a[d],
h!==g&&(m&&g&&(c.isPlainObject(g)||(f=c.isArray(g)))?(f?(f=!1,e=e&&c.isArray(e)?e:[]):e=e&&c.isPlainObject(e)?e:{},h[d]=c.extend(m,e,g)):g!==b&&(h[d]=g));return h};c.extend({noConflict:function(a){k.$=e;a&&(k.jQuery=d);return c},isReady:!1,readyWait:1,ready:function(a){!0===a&&c.readyWait--;if(!c.readyWait||!0!==a&&!c.isReady){if(!s.body)return setTimeout(c.ready,1);c.isReady=!0;if(!(!0!==a&&0<--c.readyWait)&&C){var b=0,d=C;for(C=null;a=d[b++];)a.call(s,c);c.fn.trigger&&c(s).trigger("ready").unbind("ready")}}},
bindReady:function(){if(!A){A=!0;if("complete"===s.readyState)return setTimeout(c.ready,1);if(s.addEventListener)s.addEventListener("DOMContentLoaded",v,!1),k.addEventListener("load",c.ready,!1);else if(s.attachEvent){s.attachEvent("onreadystatechange",v);k.attachEvent("onload",c.ready);var b=!1;try{b=null==k.frameElement}catch(d){}s.documentElement.doScroll&&b&&a()}}},isFunction:function(a){return"function"===c.type(a)},isArray:Array.isArray||function(a){return"array"===c.type(a)},isWindow:function(a){return a&&
"object"===typeof a&&"setInterval"in a},isNaN:function(a){return null==a||!n.test(a)||isNaN(a)},type:function(a){return null==a?""+a:$[B.call(a)]||"object"},isPlainObject:function(a){if(!a||("object"!==c.type(a)||a.nodeType||c.isWindow(a))||a.constructor&&!W.call(a,"constructor")&&!W.call(a.constructor.prototype,"isPrototypeOf"))return!1;for(var d in a);return d===b||W.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a;},parseJSON:function(a){if("string"!==
typeof a||!a)return null;a=c.trim(a);if(o.test(a.replace(q,"@").replace(r,"]").replace(G,"")))return k.JSON&&k.JSON.parse?k.JSON.parse(a):(new Function("return "+a))();c.error("Invalid JSON: "+a)},noop:function(){},globalEval:function(a){if(a&&h.test(a)){var b=s.getElementsByTagName("head")[0]||s.documentElement,d=s.createElement("script");d.type="text/javascript";c.support.scriptEval?d.appendChild(s.createTextNode(a)):d.text=a;b.insertBefore(d,b.firstChild);b.removeChild(d)}},nodeName:function(a,
b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,d,e){var g,f=0,h=a.length,j=h===b||c.isFunction(a);if(e)if(j)for(g in a){if(!1===d.apply(a[g],e))break}else for(;f<h&&!1!==d.apply(a[f++],e););else if(j)for(g in a){if(!1===d.call(a[g],g,a[g]))break}else for(e=a[0];f<h&&!1!==d.call(e,f,e);e=a[++f]);return a},trim:y?function(a){return null==a?"":y.call(a)}:function(a){return null==a?"":a.toString().replace(j,"").replace(l,"")},makeArray:function(a,b){var d=b||[];if(null!=
a){var e=c.type(a);null==a.length||"string"===e||"function"===e||"regexp"===e||c.isWindow(a)?D.call(d,a):c.merge(d,a)}return d},inArray:function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1},merge:function(a,c){var d=a.length,e=0;if("number"===typeof c.length)for(var g=c.length;e<g;e++)a[d++]=c[e];else for(;c[e]!==b;)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){for(var d=[],e,c=!!c,g=0,f=a.length;g<f;g++)e=!!b(a[g],g),c!==e&&d.push(a[g]);
return d},map:function(a,b,c){for(var d=[],e,g=0,f=a.length;g<f;g++)e=b(a[g],g,c),null!=e&&(d[d.length]=e);return d.concat.apply([],d)},guid:1,proxy:function(a,d,e){2===arguments.length&&("string"===typeof d?(e=a,a=e[d],d=b):d&&!c.isFunction(d)&&(e=d,d=b));!d&&a&&(d=function(){return a.apply(e||this,arguments)});a&&(d.guid=a.guid=a.guid||d.guid||c.guid++);return d},access:function(a,d,e,g,f,h){var j=a.length;if("object"===typeof d){for(var l in d)c.access(a,l,d[l],g,f,e);return a}if(e!==b){g=!h&&
g&&c.isFunction(e);for(l=0;l<j;l++)f(a[l],d,g?e.call(a[l],l,f(a[l],d)):e,h);return a}return j?f(a[0],d):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=u.exec(a)||t.exec(a)||U.exec(a)||0>a.indexOf("compatible")&&w.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},browser:{}});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){$["[object "+b+"]"]=b.toLowerCase()});z=c.uaMatch(z);z.browser&&(c.browser[z.browser]=!0,c.browser.version=
z.version);c.browser.webkit&&(c.browser.safari=!0);L&&(c.inArray=function(a,b){return L.call(b,a)});/\s/.test("Â ")||(j=/^[\s\xA0]+/,l=/[\s\xA0]+$/);g=c(s);s.addEventListener?v=function(){s.removeEventListener("DOMContentLoaded",v,false);c.ready()}:s.attachEvent&&(v=function(){if(s.readyState==="complete"){s.detachEvent("onreadystatechange",v);c.ready()}});return k.jQuery=k.$=c}();(function(){o.support={};var a=s.documentElement,b=s.createElement("script"),c=s.createElement("div"),d="script"+o.now();
c.style.display="none";c.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var e=c.getElementsByTagName("*"),g=c.getElementsByTagName("a")[0],f=s.createElement("select"),h=f.appendChild(s.createElement("option"));if(e&&e.length&&g){o.support={leadingWhitespace:3===c.firstChild.nodeType,tbody:!c.getElementsByTagName("tbody").length,htmlSerialize:!!c.getElementsByTagName("link").length,style:/red/.test(g.getAttribute("style")),
hrefNormalized:"/a"===g.getAttribute("href"),opacity:/^0.55$/.test(g.style.opacity),cssFloat:!!g.style.cssFloat,checkOn:"on"===c.getElementsByTagName("input")[0].value,optSelected:h.selected,deleteExpando:!0,optDisabled:!1,checkClone:!1,scriptEval:!1,noCloneEvent:!0,boxModel:null,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableHiddenOffsets:!0};f.disabled=!0;o.support.optDisabled=!h.disabled;b.type="text/javascript";try{b.appendChild(s.createTextNode("window."+d+"=1;"))}catch(j){}a.insertBefore(b,
a.firstChild);k[d]&&(o.support.scriptEval=!0,delete k[d]);try{delete b.test}catch(l){o.support.deleteExpando=!1}a.removeChild(b);c.attachEvent&&c.fireEvent&&(c.attachEvent("onclick",function oa(){o.support.noCloneEvent=false;c.detachEvent("onclick",oa)}),c.cloneNode(!0).fireEvent("onclick"));c=s.createElement("div");c.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";a=s.createDocumentFragment();a.appendChild(c.firstChild);o.support.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;
o(function(){var a=s.createElement("div");a.style.width=a.style.paddingLeft="1px";s.body.appendChild(a);o.boxModel=o.support.boxModel=a.offsetWidth===2;if("zoom"in a.style){a.style.display="inline";a.style.zoom=1;o.support.inlineBlockNeedsLayout=a.offsetWidth===2;a.style.display="";a.innerHTML="<div style='width:4px;'></div>";o.support.shrinkWrapBlocks=a.offsetWidth!==2}a.innerHTML="<table><tr><td style='padding:0;display:none'></td><td>t</td></tr></table>";var b=a.getElementsByTagName("td");o.support.reliableHiddenOffsets=
b[0].offsetHeight===0;b[0].style.display="";b[1].style.display="none";o.support.reliableHiddenOffsets=o.support.reliableHiddenOffsets&&b[0].offsetHeight===0;a.innerHTML="";s.body.removeChild(a).style.display="none"});a=function(a){var b=s.createElement("div"),a="on"+a,c=a in b;if(!c){b.setAttribute(a,"return;");c=typeof b[a]==="function"}return c};o.support.submitBubbles=a("submit");o.support.changeBubbles=a("change");a=b=c=e=g=null}})();var u={},t=/^(?:\{.*\}|\[.*\])$/;o.extend({cache:{},uuid:0,
expando:"jQuery"+o.now(),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},data:function(a,c,d){if(o.acceptData(a)){var a=a==k?u:a,e=a.nodeType,g=e?a[o.expando]:null,f=o.cache;if(!e||g||!("string"===typeof c&&d===b))return e?g||(a[o.expando]=g=++o.uuid):f=a,"object"===typeof c?e?f[g]=o.extend(f[g],c):o.extend(f,c):e&&!f[g]&&(f[g]={}),a=e?f[g]:f,d!==b&&(a[c]=d),"string"===typeof c?a[c]:a}},removeData:function(a,b){if(o.acceptData(a)){var a=a==k?u:a,c=a.nodeType,d=c?a[o.expando]:
a,e=o.cache,g=c?e[d]:d;if(b)g&&(delete g[b],c&&o.isEmptyObject(g)&&o.removeData(a));else if(c&&o.support.deleteExpando)delete a[o.expando];else if(a.removeAttribute)a.removeAttribute(o.expando);else if(c)delete e[d];else for(var f in a)delete a[f]}},acceptData:function(a){if(a.nodeName){var b=o.noData[a.nodeName.toLowerCase()];if(b)return!(!0===b||a.getAttribute("classid")!==b)}return!0}});o.fn.extend({data:function(c,d){var e=null;if("undefined"===typeof c){if(this.length)for(var g=this[0].attributes,
f,e=o.data(this[0]),h=0,j=g.length;h<j;h++)f=g[h].name,0===f.indexOf("data-")&&(f=f.substr(5),a(this[0],f,e[f]));return e}if("object"===typeof c)return this.each(function(){o.data(this,c)});var l=c.split(".");l[1]=l[1]?"."+l[1]:"";return d===b?(e=this.triggerHandler("getData"+l[1]+"!",[l[0]]),e===b&&this.length&&(e=o.data(this[0],c),e=a(this[0],c,e)),e===b&&l[1]?this.data(l[0]):e):this.each(function(){var a=o(this),b=[l[0],d];a.triggerHandler("setData"+l[1]+"!",b);o.data(this,c,d);a.triggerHandler("changeData"+
l[1]+"!",b)})},removeData:function(a){return this.each(function(){o.removeData(this,a)})}});o.extend({queue:function(a,b,c){if(a){var b=(b||"fx")+"queue",d=o.data(a,b);if(!c)return d||[];!d||o.isArray(c)?d=o.data(a,b,o.makeArray(c)):d.push(c);return d}},dequeue:function(a,b){var b=b||"fx",c=o.queue(a,b),d=c.shift();"inprogress"===d&&(d=c.shift());d&&("fx"===b&&c.unshift("inprogress"),d.call(a,function(){o.dequeue(a,b)}))}});o.fn.extend({queue:function(a,c){"string"!==typeof a&&(c=a,a="fx");return c===
b?o.queue(this[0],a):this.each(function(){var b=o.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&o.dequeue(this,a)})},dequeue:function(a){return this.each(function(){o.dequeue(this,a)})},delay:function(a,b){a=o.fx?o.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var c=this;setTimeout(function(){o.dequeue(c,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])}});var w=/[\n\t]/g,x=/\s+/,B=/\r/g,y=/^(?:href|src|style)$/,z=/^(?:button|input)$/i,A=/^(?:button|input|object|select|textarea)$/i,
D=/^a(?:rea)?$/i,C=/^(?:radio|checkbox)$/i;o.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};o.fn.extend({attr:function(a,b){return o.access(this,a,b,!0,o.attr)},removeAttr:function(a){return this.each(function(){o.attr(this,a,"");1===this.nodeType&&this.removeAttribute(a)})},addClass:function(a){if(o.isFunction(a))return this.each(function(b){var c=
o(this);c.addClass(a.call(this,b,c.attr("class")))});if(a&&"string"===typeof a)for(var b=(a||"").split(x),c=0,d=this.length;c<d;c++){var e=this[c];if(1===e.nodeType)if(e.className){for(var g=" "+e.className+" ",f=e.className,h=0,j=b.length;h<j;h++)0>g.indexOf(" "+b[h]+" ")&&(f+=" "+b[h]);e.className=o.trim(f)}else e.className=a}return this},removeClass:function(a){if(o.isFunction(a))return this.each(function(b){var c=o(this);c.removeClass(a.call(this,b,c.attr("class")))});if(a&&"string"===typeof a||
a===b)for(var c=(a||"").split(x),d=0,e=this.length;d<e;d++){var g=this[d];if(1===g.nodeType&&g.className)if(a){for(var f=(" "+g.className+" ").replace(w," "),h=0,j=c.length;h<j;h++)f=f.replace(" "+c[h]+" "," ");g.className=o.trim(f)}else g.className=""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"===typeof b;return o.isFunction(a)?this.each(function(c){var d=o(this);d.toggleClass(a.call(this,c,d.attr("class"),b),b)}):this.each(function(){if("string"===c)for(var e,g=0,f=o(this),
h=b,j=a.split(x);e=j[g++];)h=d?h:!f.hasClass(e),f[h?"addClass":"removeClass"](e);else if("undefined"===c||"boolean"===c)this.className&&o.data(this,"__className__",this.className),this.className=this.className||!1===a?"":o.data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if(-1<(" "+this[b].className+" ").replace(w," ").indexOf(a))return!0;return!1},val:function(a){if(!arguments.length){var c=this[0];if(c){if(o.nodeName(c,"option")){var d=c.attributes.value;
return!d||d.specified?c.value:c.text}if(o.nodeName(c,"select")){var e=c.selectedIndex,d=[],g=c.options,c="select-one"===c.type;if(0>e)return null;for(var f=c?e:0,e=c?e+1:g.length;f<e;f++){var h=g[f];if(h.selected&&(o.support.optDisabled?!h.disabled:null===h.getAttribute("disabled"))&&(!h.parentNode.disabled||!o.nodeName(h.parentNode,"optgroup"))){a=o(h).val();if(c)return a;d.push(a)}}return d}return C.test(c.type)&&!o.support.checkOn?null===c.getAttribute("value")?"on":c.value:(c.value||"").replace(B,
"")}return b}var j=o.isFunction(a);return this.each(function(b){var c=o(this),d=a;if(1===this.nodeType)if(j&&(d=a.call(this,b,c.val())),null==d?d="":"number"===typeof d?d+="":o.isArray(d)&&(d=o.map(d,function(a){return a==null?"":a+""})),o.isArray(d)&&C.test(this.type))this.checked=0<=o.inArray(c.val(),d);else if(o.nodeName(this,"select")){var e=o.makeArray(d);o("option",this).each(function(){this.selected=0<=o.inArray(o(this).val(),e)});e.length||(this.selectedIndex=-1)}else this.value=d})}});o.extend({attrFn:{val:!0,
css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){if(!a||3===a.nodeType||8===a.nodeType)return b;if(e&&c in o.attrFn)return o(a)[c](d);var e=1!==a.nodeType||!o.isXMLDoc(a),g=d!==b,c=e&&o.props[c]||c,f=y.test(c);if("selected"===c&&!o.support.optSelected){var h=a.parentNode;h&&(h.selectedIndex,h.parentNode&&h.parentNode.selectedIndex)}if((c in a||a[c]!==b)&&e&&!f)return g&&("type"===c&&(z.test(a.nodeName)&&a.parentNode)&&o.error("type property can't be changed"),null===
d?1===a.nodeType&&a.removeAttribute(c):a[c]=d),o.nodeName(a,"form")&&a.getAttributeNode(c)?a.getAttributeNode(c).nodeValue:"tabIndex"===c?(c=a.getAttributeNode("tabIndex"))&&c.specified?c.value:A.test(a.nodeName)||D.test(a.nodeName)&&a.href?0:b:a[c];if(!o.support.style&&e&&"style"===c)return g&&(a.style.cssText=""+d),a.style.cssText;g&&a.setAttribute(c,""+d);if(!a.attributes[c]&&a.hasAttribute&&!a.hasAttribute(c))return b;a=!o.support.hrefNormalized&&e&&f?a.getAttribute(c,2):a.getAttribute(c);return null===
a?b:a}});var v=/\.(.*)$/,F=/^(?:textarea|input|select)$/i,H=/\./g,L=/ /g,O=/[^\w\s.|`]/g,M=function(a){return a.replace(O,"\\$&")},J={focusin:0,focusout:0};o.event={add:function(a,c,e,g){if(!(3===a.nodeType||8===a.nodeType)){o.isWindow(a)&&(a!==k&&!a.frameElement)&&(a=k);if(!1===e)e=d;else if(!e)return;var f,h;e.handler&&(f=e,e=f.handler);e.guid||(e.guid=o.guid++);if(h=o.data(a)){var j=a.nodeType?"events":"__events__",l=h[j],m=h.handle;"function"===typeof l?(m=l.handle,l=l.events):l||(a.nodeType||
(h[j]=h=function(){}),h.events=l={});m||(h.handle=m=function(){return typeof o!=="undefined"&&!o.event.triggered?o.event.handle.apply(m.elem,arguments):b});m.elem=a;for(var c=c.split(" "),n=0,p;j=c[n++];){h=f?o.extend({},f):{handler:e,data:g};-1<j.indexOf(".")?(p=j.split("."),j=p.shift(),h.namespace=p.slice(0).sort().join(".")):(p=[],h.namespace="");h.type=j;h.guid||(h.guid=e.guid);var q=l[j],r=o.event.special[j]||{};if(!q&&(q=l[j]=[],!r.setup||!1===r.setup.call(a,g,p,m)))a.addEventListener?a.addEventListener(j,
m,!1):a.attachEvent&&a.attachEvent("on"+j,m);r.add&&(r.add.call(a,h),h.handler.guid||(h.handler.guid=e.guid));q.push(h);o.event.global[j]=!0}a=null}}},global:{},remove:function(a,b,c,e){if(!(3===a.nodeType||8===a.nodeType)){!1===c&&(c=d);var g,f,h=0,j,l,m,n,p,q,r=a.nodeType?"events":"__events__",s=o.data(a),k=s&&s[r];if(s&&k)if("function"===typeof k&&(s=k,k=k.events),b&&b.type&&(c=b.handler,b=b.type),!b||"string"===typeof b&&"."===b.charAt(0))for(g in b=b||"",k)o.event.remove(a,g+b);else{for(b=b.split(" ");g=
b[h++];)if(n=g,j=0>g.indexOf("."),l=[],j||(l=g.split("."),g=l.shift(),m=RegExp("(^|\\.)"+o.map(l.slice(0).sort(),M).join("\\.(?:.*\\.)?")+"(\\.|$)")),p=k[g])if(c){n=o.event.special[g]||{};for(f=e||0;f<p.length;f++)if(q=p[f],c.guid===q.guid){if(j||m.test(q.namespace))null==e&&p.splice(f--,1),n.remove&&n.remove.call(a,q);if(null!=e)break}if(0===p.length||null!=e&&1===p.length)(!n.teardown||!1===n.teardown.call(a,l))&&o.removeEvent(a,g,s.handle),delete k[g]}else for(f=0;f<p.length;f++)if(q=p[f],j||m.test(q.namespace))o.event.remove(a,
n,q.handler,f),p.splice(f--,1);if(o.isEmptyObject(k)){if(b=s.handle)b.elem=null;delete s.events;delete s.handle;"function"===typeof s?o.removeData(a,r):o.isEmptyObject(s)&&o.removeData(a)}}}},trigger:function(a,c,d,e){var g=a.type||a;if(!e){a="object"===typeof a?a[o.expando]?a:o.extend(o.Event(g),a):o.Event(g);0<=g.indexOf("!")&&(a.type=g=g.slice(0,-1),a.exclusive=!0);d||(a.stopPropagation(),o.event.global[g]&&o.each(o.cache,function(){this.events&&this.events[g]&&o.event.trigger(a,c,this.handle.elem)}));
if(!d||3===d.nodeType||8===d.nodeType)return b;a.result=b;a.target=d;c=o.makeArray(c);c.unshift(a)}a.currentTarget=d;(e=d.nodeType?o.data(d,"handle"):(o.data(d,"__events__")||{}).handle)&&e.apply(d,c);e=d.parentNode||d.ownerDocument;try{if((!d||!d.nodeName||!o.noData[d.nodeName.toLowerCase()])&&d["on"+g]&&!1===d["on"+g].apply(d,c))a.result=!1,a.preventDefault()}catch(f){}if(!a.isPropagationStopped()&&e)o.event.trigger(a,c,e,!0);else if(!a.isDefaultPrevented()){var h,e=a.target,j=g.replace(v,""),l=
o.nodeName(e,"a")&&"click"===j,m=o.event.special[j]||{};if((!m._default||!1===m._default.call(d,a))&&!l&&(!e||!e.nodeName||!o.noData[e.nodeName.toLowerCase()])){try{e[j]&&((h=e["on"+j])&&(e["on"+j]=null),o.event.triggered=!0,e[j]())}catch(n){}h&&(e["on"+j]=h);o.event.triggered=!1}}},handle:function(a){var c,d,e,g;d=[];var f=o.makeArray(arguments),a=f[0]=o.event.fix(a||k.event);a.currentTarget=this;c=0>a.type.indexOf(".")&&!a.exclusive;c||(e=a.type.split("."),a.type=e.shift(),d=e.slice(0).sort(),e=
RegExp("(^|\\.)"+d.join("\\.(?:.*\\.)?")+"(\\.|$)"));a.namespace=a.namespace||d.join(".");g=o.data(this,this.nodeType?"events":"__events__");"function"===typeof g&&(g=g.events);d=(g||{})[a.type];if(g&&d){d=d.slice(0);g=0;for(var h=d.length;g<h;g++){var j=d[g];if(c||e.test(j.namespace))if(a.handler=j.handler,a.data=j.data,a.handleObj=j,j=j.handler.apply(this,f),j!==b&&(a.result=j,!1===j&&(a.preventDefault(),a.stopPropagation())),a.isImmediatePropagationStopped())break}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[o.expando])return a;for(var c=a,a=o.Event(c),d=this.props.length,e;d;)e=this.props[--d],a[e]=c[e];a.target||(a.target=a.srcElement||s);3===a.target.nodeType&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);null==a.pageX&&null!=a.clientX&&(c=s.documentElement,d=s.body,a.pageX=a.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0),a.pageY=a.clientY+(c&&c.scrollTop||
d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0));if(null==a.which&&(null!=a.charCode||null!=a.keyCode))a.which=null!=a.charCode?a.charCode:a.keyCode;!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&a.button!==b&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);return a},guid:1E8,proxy:o.proxy,special:{ready:{setup:o.bindReady,teardown:o.noop},live:{add:function(a){o.event.add(this,g(a.origType,a.selector),o.extend({},a,{handler:f,guid:a.handler.guid}))},remove:function(a){o.event.remove(this,
g(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,c){o.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}}};o.removeEvent=s.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};o.Event=function(a){if(!this.preventDefault)return new o.Event(a);a&&a.type?(this.originalEvent=a,this.type=a.type):this.type=a;this.timeStamp=o.now();
this[o.expando]=!0};o.Event.prototype={preventDefault:function(){this.isDefaultPrevented=c;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=c;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=c;this.stopPropagation()},isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d};var I=function(a){var b=
a.relatedTarget;try{for(;b&&b!==this;)b=b.parentNode;b!==this&&(a.type=a.data,o.event.handle.apply(this,arguments))}catch(c){}},E=function(a){a.type=a.data;o.event.handle.apply(this,arguments)};o.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){o.event.special[a]={setup:function(c){o.event.add(this,b,c&&c.selector?E:I,a)},teardown:function(a){o.event.remove(this,b,a&&a.selector?E:I)}}});o.support.submitBubbles||(o.event.special.submit={setup:function(){if("form"!==this.nodeName.toLowerCase())o.event.add(this,
"click.specialSubmit",function(a){var c=a.target,d=c.type;if(("submit"===d||"image"===d)&&o(c).closest("form").length)return a.liveFired=b,e("submit",this,arguments)}),o.event.add(this,"keypress.specialSubmit",function(a){var c=a.target,d=c.type;if(("text"===d||"password"===d)&&o(c).closest("form").length&&13===a.keyCode)return a.liveFired=b,e("submit",this,arguments)});else return!1},teardown:function(){o.event.remove(this,".specialSubmit")}});if(!o.support.changeBubbles){var N,P=function(a){var b=
a.type,c=a.value;if(b==="radio"||b==="checkbox")c=a.checked;else if(b==="select-multiple")c=a.selectedIndex>-1?o.map(a.options,function(a){return a.selected}).join("-"):"";else if(a.nodeName.toLowerCase()==="select")c=a.selectedIndex;return c},K=function(a,c){var d=a.target,e,g;if(F.test(d.nodeName)&&!d.readOnly){e=o.data(d,"_change_data");g=P(d);(a.type!=="focusout"||d.type!=="radio")&&o.data(d,"_change_data",g);if(!(e===b||g===e))if(e!=null||g){a.type="change";a.liveFired=b;return o.event.trigger(a,
c,d)}}};o.event.special.change={filters:{focusout:K,beforedeactivate:K,click:function(a){var b=a.target,c=b.type;if(c==="radio"||c==="checkbox"||b.nodeName.toLowerCase()==="select")return K.call(this,a)},keydown:function(a){var b=a.target,c=b.type;if(a.keyCode===13&&b.nodeName.toLowerCase()!=="textarea"||a.keyCode===32&&(c==="checkbox"||c==="radio")||c==="select-multiple")return K.call(this,a)},beforeactivate:function(a){a=a.target;o.data(a,"_change_data",P(a))}},setup:function(){if(this.type==="file")return false;
for(var a in N)o.event.add(this,a+".specialChange",N[a]);return F.test(this.nodeName)},teardown:function(){o.event.remove(this,".specialChange");return F.test(this.nodeName)}};N=o.event.special.change.filters;N.focus=N.beforeactivate}s.addEventListener&&o.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){a=o.event.fix(a);a.type=b;return o.event.trigger(a,null,a.target)}o.event.special[b]={setup:function(){J[b]++===0&&s.addEventListener(a,c,true)},teardown:function(){--J[b]===0&&s.removeEventListener(a,
c,true)}}});o.each(["bind","one"],function(a,c){o.fn[c]=function(a,d,e){if(typeof a==="object"){for(var g in a)this[c](g,d,a[g],e);return this}if(o.isFunction(d)||d===false){e=d;d=b}var f=c==="one"?o.proxy(e,function(a){o(this).unbind(a,f);return e.apply(this,arguments)}):e;if(a==="unload"&&c!=="one")this.one(a,d,e);else{g=0;for(var h=this.length;g<h;g++)o.event.add(this[g],a,f,d)}return this}});o.fn.extend({unbind:function(a,b){if(typeof a==="object"&&!a.preventDefault)for(var c in a)this.unbind(c,
a[c]);else{c=0;for(var d=this.length;c<d;c++)o.event.remove(this[c],a,b)}return this},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,b,c){return arguments.length===0?this.unbind("live"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){o.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0]){var c=o.Event(a);c.preventDefault();c.stopPropagation();o.event.trigger(c,b,this[0]);return c.result}},toggle:function(a){for(var b=arguments,c=
1;c<b.length;)o.proxy(a,b[c++]);return this.click(o.proxy(a,function(d){var e=(o.data(this,"lastToggle"+a.guid)||0)%c;o.data(this,"lastToggle"+a.guid,e+1);d.preventDefault();return b[e].apply(this,arguments)||false}))},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var T={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};o.each(["live","die"],function(a,c){o.fn[c]=function(a,d,e,f){var h,j=0,l,m,n=f||this.selector,f=f?this:o(this.context);if(typeof a===
"object"&&!a.preventDefault){for(h in a)f[c](h,d,a[h],n);return this}if(o.isFunction(d)){e=d;d=b}for(a=(a||"").split(" ");(h=a[j++])!=null;){l=v.exec(h);m="";if(l){m=l[0];h=h.replace(v,"")}if(h==="hover")a.push("mouseenter"+m,"mouseleave"+m);else{l=h;if(h==="focus"||h==="blur"){a.push(T[h]+m);h=h+m}else h=(T[h]||h)+m;if(c==="live"){m=0;for(var p=f.length;m<p;m++)o.event.add(f[m],"live."+g(h,n),{data:d,selector:n,handler:e,origType:h,origHandler:e,preType:l})}else f.unbind("live."+g(h,n),e)}}return this}});
o.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){o.fn[b]=function(a,c){if(c==null){c=a;a=null}return arguments.length>0?this.bind(b,a,c):this.trigger(b)};o.attrFn&&(o.attrFn[b]=true)});k.attachEvent&&!k.addEventListener&&o(k).bind("unload",function(){for(var a in o.cache)if(o.cache[a].handle)try{o.event.remove(o.cache[a].handle.elem)}catch(b){}});
(function(){function a(b,c,d,e,g,f){for(var g=0,h=e.length;g<h;g++){var j=e[g];if(j){for(var l=false,j=j[b];j;){if(j.sizcache===d){l=e[j.sizset];break}if(j.nodeType===1&&!f){j.sizcache=d;j.sizset=g}if(j.nodeName.toLowerCase()===c){l=j;break}j=j[b]}e[g]=l}}}function c(a,b,d,e,g,f){for(var g=0,h=e.length;g<h;g++){var l=e[g];if(l){for(var m=false,l=l[a];l;){if(l.sizcache===d){m=e[l.sizset];break}if(l.nodeType===1){if(!f){l.sizcache=d;l.sizset=g}if(typeof b!=="string"){if(l===b){m=true;break}}else if(j.filter(b,
[l]).length>0){m=l;break}}l=l[a]}e[g]=m}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,g=Object.prototype.toString,f=false,h=true;[0,0].sort(function(){h=false;return 0});var j=function(a,b,c,e){var c=c||[],f=b=b||s;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return c;var h,n,p,o,r,k=true,G=j.isXML(b),t=[],U=a;do{d.exec("");if(h=d.exec(U)){U=h[3];t.push(h[1]);if(h[2]){o=h[3];
break}}}while(h);if(t.length>1&&m.exec(a))if(t.length===2&&l.relative[t[0]])n=u(t[0]+t[1],b);else for(n=l.relative[t[0]]?[b]:j(t.shift(),b);t.length;){a=t.shift();l.relative[a]&&(a=a+t.shift());n=u(a,n)}else{if(!e&&t.length>1&&b.nodeType===9&&!G&&l.match.ID.test(t[0])&&!l.match.ID.test(t[t.length-1])){h=j.find(t.shift(),b,G);b=h.expr?j.filter(h.expr,h.set)[0]:h.set[0]}if(b){h=e?{expr:t.pop(),set:q(e)}:j.find(t.pop(),t.length===1&&(t[0]==="~"||t[0]==="+")&&b.parentNode?b.parentNode:b,G);n=h.expr?j.filter(h.expr,
h.set):h.set;for(t.length>0?p=q(n):k=false;t.length;){h=r=t.pop();l.relative[r]?h=t.pop():r="";h==null&&(h=b);l.relative[r](p,h,G)}}else p=[]}p||(p=n);p||j.error(r||a);if(g.call(p)==="[object Array]")if(k)if(b&&b.nodeType===1)for(a=0;p[a]!=null;a++)p[a]&&(p[a]===true||p[a].nodeType===1&&j.contains(b,p[a]))&&c.push(n[a]);else for(a=0;p[a]!=null;a++)p[a]&&p[a].nodeType===1&&c.push(n[a]);else c.push.apply(c,p);else q(p,c);if(o){j(o,f,c,e);j.uniqueSort(c)}return c};j.uniqueSort=function(a){if(k){f=h;
a.sort(k);if(f)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};j.matches=function(a,b){return j(a,null,null,b)};j.matchesSelector=function(a,b){return j(b,null,null,[a]).length>0};j.find=function(a,b,c){var d;if(!a)return[];for(var e=0,g=l.order.length;e<g;e++){var f,h=l.order[e];if(f=l.leftMatch[h].exec(a)){var j=f[1];f.splice(1,1);if(j.substr(j.length-1)!=="\\"){f[1]=(f[1]||"").replace(/\\/g,"");d=l.find[h](f,b,c);if(d!=null){a=a.replace(l.match[h],"");break}}}}d||(d=b.getElementsByTagName("*"));
return{set:d,expr:a}};j.filter=function(a,c,d,e){for(var g,f,h=a,m=[],n=c,p=c&&c[0]&&j.isXML(c[0]);a&&c.length;){for(var o in l.filter)if((g=l.leftMatch[o].exec(a))!=null&&g[2]){var q,r,s=l.filter[o];r=g[1];f=false;g.splice(1,1);if(r.substr(r.length-1)!=="\\"){n===m&&(m=[]);if(l.preFilter[o])if(g=l.preFilter[o](g,n,d,m,e,p)){if(g===true)continue}else f=q=true;if(g)for(var k=0;(r=n[k])!=null;k++)if(r){q=s(r,g,k,n);var G=e^!!q;if(d&&q!=null)G?f=true:n[k]=false;else if(G){m.push(r);f=true}}if(q!==b){d||
(n=m);a=a.replace(l.match[o],"");if(!f)return[];break}}}if(a===h)if(f==null)j.error(a);else break;h=a}return n};j.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var l=j.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var c=typeof b==="string",d=c&&!/\W/.test(b),c=c&&!d;d&&(b=b.toLowerCase());for(var d=0,e=a.length,g;d<e;d++)if(g=a[d]){for(;(g=g.previousSibling)&&g.nodeType!==1;);a[d]=c||g&&g.nodeName.toLowerCase()===
b?g||false:g===b}c&&j.filter(b,a,true)},">":function(a,b){var c,d=typeof b==="string",e=0,g=a.length;if(d&&!/\W/.test(b))for(b=b.toLowerCase();e<g;e++){if(c=a[e]){c=c.parentNode;a[e]=c.nodeName.toLowerCase()===b?c:false}}else{for(;e<g;e++)(c=a[e])&&(a[e]=d?c.parentNode:c.parentNode===b);d&&j.filter(b,a,true)}},"":function(b,d,g){var f,h=e++,j=c;if(typeof d==="string"&&!/\W/.test(d)){f=d=d.toLowerCase();j=a}j("parentNode",d,h,b,f,g)},"~":function(b,d,g){var f,h=e++,j=c;if(typeof d==="string"&&!/\W/.test(d)){f=
d=d.toLowerCase();j=a}j("previousSibling",d,h,b,f,g)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var c=[],d=b.getElementsByName(a[1]),e=0,g=d.length;e<g;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,g){a=" "+a[1].replace(/\\/g,
"")+" ";if(g)return a;for(var g=0,f;(f=b[g])!=null;g++)f&&(e^(f.className&&(" "+f.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0)?c||d.push(f):c&&(b[g]=false));return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=e++;return a},ATTR:function(a,b,c,d,e,g){b=
a[1].replace(/\\/g,"");!g&&l.attrMap[b]&&(a[1]=l.attrMap[b]);a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,e,g){if(a[1]==="not")if((d.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=j(a[3],null,null,b);else{a=j.filter(a[3],b,c,1^g);c||e.push.apply(e,a);return false}else if(l.match.POS.test(a[0])||l.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){a.parentNode.selectedIndex;return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!j(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===
a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,
b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],g=l.filters[e];if(g)return g(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||j.getText([a])||"").indexOf(b[3])>=0;if(e==="not"){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return false;return true}j.error("Syntax error, unrecognized expression: "+e)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===
1)return false;if(c==="first")return true;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":var c=b[2],e=b[3];if(c===1&&e===0)return true;var g=b[0],f=a.parentNode;if(f&&(f.sizcache!==g||!a.nodeIndex)){for(var h=0,d=f.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++h;f.sizcache=g}d=a.nodeIndex-e;return c===0?d===0:d%c===0&&d/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===
1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],c=l.attrHandle[c]?l.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),d=c+"",e=b[2],g=b[4];return c==null?e==="!=":e==="="?d===g:e==="*="?d.indexOf(g)>=0:e==="~="?(" "+d+" ").indexOf(g)>=0:!g?d&&c!==false:e==="!="?d!==g:e==="^="?d.indexOf(g)===0:e==="$="?d.substr(d.length-g.length)===g:e==="|="?d===g||d.substr(0,g.length+1)===g+"-":false},POS:function(a,
b,c,d){var e=l.setFilters[b[2]];if(e)return e(a,c,b,d)}}},m=l.match.POS,n=function(a,b){return"\\"+(b-0+1)},p;for(p in l.match){l.match[p]=RegExp(l.match[p].source+/(?![^\[]*\])(?![^\(]*\))/.source);l.leftMatch[p]=RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[p].source.replace(/\\(\d+)/g,n))}var q=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(s.documentElement.childNodes,0)[0].nodeType}catch(r){q=function(a,b){var c=0,d=b||[];
if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length==="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var k,G;if(s.documentElement.compareDocumentPosition)k=function(a,b){if(a===b){f=true;return 0}return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1};else{k=function(a,b){var c,d,e=[],g=[];c=a.parentNode;d=b.parentNode;var h=c;if(a===b){f=true;return 0}if(c===
d)return G(a,b);if(c){if(!d)return 1}else return-1;for(;h;){e.unshift(h);h=h.parentNode}for(h=d;h;){g.unshift(h);h=h.parentNode}c=e.length;d=g.length;for(h=0;h<c&&h<d;h++)if(e[h]!==g[h])return G(e[h],g[h]);return h===c?G(a,g[h],-1):G(e[h],b,1)};G=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1}}j.getText=function(a){for(var b="",c,d=0;a[d];d++){c=a[d];c.nodeType===3||c.nodeType===4?b=b+c.nodeValue:c.nodeType!==8&&(b=b+j.getText(c.childNodes))}return b};
(function(){var a=s.createElement("div"),c="script"+(new Date).getTime(),d=s.documentElement;a.innerHTML="<a name='"+c+"'/>";d.insertBefore(a,d.firstChild);if(s.getElementById(c)){l.find.ID=function(a,c,d){if(typeof c.getElementById!=="undefined"&&!d)return(c=c.getElementById(a[1]))?c.id===a[1]||typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id").nodeValue===a[1]?[c]:b:[]};l.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===
1&&c&&c.nodeValue===b}}d.removeChild(a);d=a=null})();(function(){var a=s.createElement("div");a.appendChild(s.createComment(""));if(a.getElementsByTagName("*").length>0)l.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var d=[],e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")l.attrHandle.href=function(a){return a.getAttribute("href",
2)};a=null})();s.querySelectorAll&&function(){var a=j,b=s.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){j=function(b,c,d,e){c=c||s;b=b.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!e&&!j.isXML(c))if(c.nodeType===9)try{return q(c.querySelectorAll(b),d)}catch(g){}else if(c.nodeType===1&&c.nodeName.toLowerCase()!=="object"){var f=c.getAttribute("id"),h=f||"__sizzle__";f||c.setAttribute("id",h);try{return q(c.querySelectorAll("#"+
h+" "+b),d)}catch(l){}finally{f||c.removeAttribute("id")}}return a(b,c,d,e)};for(var c in a)j[c]=a[c];b=null}}();(function(){var a=s.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector,c=false;try{b.call(s.documentElement,"[test!='']:sizzle")}catch(d){c=true}if(b)j.matchesSelector=function(a,d){d=d.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!j.isXML(a))try{if(c||!l.match.PSEUDO.test(d)&&!/!=/.test(d))return b.call(a,d)}catch(e){}return j(d,null,
null,[a]).length>0}})();(function(){var a=s.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){l.order.splice(1,0,"CLASS");l.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=="undefined"&&!c)return b.getElementsByClassName(a[1])};a=null}}})();j.contains=s.documentElement.contains?function(a,b){return a!==b&&(a.contains?
a.contains(b):true)}:s.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return false};j.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var u=function(a,b){for(var c,d=[],e="",g=b.nodeType?[b]:b;c=l.match.PSEUDO.exec(a);){e=e+c[0];a=a.replace(l.match.PSEUDO,"")}a=l.relative[a]?a+"*":a;c=0;for(var f=g.length;c<f;c++)j(a,g[c],d);return j.filter(e,d)};o.find=j;o.expr=j.selectors;o.expr[":"]=o.expr.filters;
o.unique=j.uniqueSort;o.text=j.getText;o.isXMLDoc=j.isXML;o.contains=j.contains})();var Q=/Until$/,V=/^(?:parents|prevUntil|prevAll)/,R=/,/,X=/^.[^:#\[\.,]*$/,Y=Array.prototype.slice,G=o.expr.match.POS;o.fn.extend({find:function(a){for(var b=this.pushStack("","find",a),c=0,d=0,e=this.length;d<e;d++){c=b.length;o.find(a,this[d],b);if(d>0)for(var g=c;g<b.length;g++)for(var f=0;f<c;f++)if(b[f]===b[g]){b.splice(g--,1);break}}return b},has:function(a){var b=o(a);return this.filter(function(){for(var a=
0,c=b.length;a<c;a++)if(o.contains(this,b[a]))return true})},not:function(a){return this.pushStack(h(this,a,false),"not",a)},filter:function(a){return this.pushStack(h(this,a,true),"filter",a)},is:function(a){return!!a&&o.filter(a,this).length>0},closest:function(a,b){var c=[],d,e,g=this[0];if(o.isArray(a)){var f,h={},j=1;if(g&&a.length){d=0;for(e=a.length;d<e;d++){f=a[d];h[f]||(h[f]=o.expr.match.POS.test(f)?o(f,b||this.context):f)}for(;g&&g.ownerDocument&&g!==b;){for(f in h){d=h[f];(d.jquery?d.index(g)>
-1:o(g).is(d))&&c.push({selector:f,elem:g,level:j})}g=g.parentNode;j++}}return c}f=G.test(a)?o(a,b||this.context):null;d=0;for(e=this.length;d<e;d++)for(g=this[d];g;)if(f?f.index(g)>-1:o.find.matchesSelector(g,a)){c.push(g);break}else{g=g.parentNode;if(!g||!g.ownerDocument||g===b)break}c=c.length>1?o.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){return!a||typeof a==="string"?o.inArray(this[0],a?o(a):this.parent().children()):o.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=
typeof a==="string"?o(a,b||this.context):o.makeArray(a),d=o.merge(this.get(),c);return this.pushStack(!c[0]||!c[0].parentNode||c[0].parentNode.nodeType===11||!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11?d:o.unique(d))},andSelf:function(){return this.add(this.prevObject)}});o.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return o.dir(a,"parentNode")},parentsUntil:function(a,b,c){return o.dir(a,"parentNode",c)},next:function(a){return o.nth(a,
2,"nextSibling")},prev:function(a){return o.nth(a,2,"previousSibling")},nextAll:function(a){return o.dir(a,"nextSibling")},prevAll:function(a){return o.dir(a,"previousSibling")},nextUntil:function(a,b,c){return o.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return o.dir(a,"previousSibling",c)},siblings:function(a){return o.sibling(a.parentNode.firstChild,a)},children:function(a){return o.sibling(a.firstChild)},contents:function(a){return o.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:
o.makeArray(a.childNodes)}},function(a,b){o.fn[a]=function(c,d){var e=o.map(this,b,c);Q.test(a)||(d=c);d&&typeof d==="string"&&(e=o.filter(d,e));e=this.length>1?o.unique(e):e;if((this.length>1||R.test(d))&&V.test(a))e=e.reverse();return this.pushStack(e,a,Y.call(arguments).join(","))}});o.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?o.find.matchesSelector(b[0],a)?[b[0]]:[]:o.find.matches(a,b)},dir:function(a,c,d){for(var e=[],a=a[c];a&&a.nodeType!==9&&(d===b||a.nodeType!==
1||!o(a).is(d));){a.nodeType===1&&e.push(a);a=a[c]}return e},nth:function(a,b,c){for(var b=b||1,d=0;a;a=a[c])if(a.nodeType===1&&++d===b)break;return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var U=/ jQuery\d+="(?:\d+|null)"/g,W=/^\s+/,$=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,ga=/<([\w:]+)/,sa=/<tbody/i,ta=/<|&#?\w+;/,ha=/<(?:script|object|embed|option|style)/i,ia=/checked\s*(?:[^=]|=\s*.checked.)/i,ua=/\=([^="'>\s]+\/)>/g,
S={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};S.optgroup=S.option;S.tbody=S.tfoot=S.colgroup=S.caption=S.thead;S.th=S.td;o.support.htmlSerialize||(S._default=[1,"div<div>","</div>"]);o.fn.extend({text:function(a){return o.isFunction(a)?
this.each(function(b){var c=o(this);c.text(a.call(this,b,c.text()))}):typeof a!=="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(a)):o.text(this)},wrapAll:function(a){if(o.isFunction(a))return this.each(function(b){o(this).wrapAll(a.call(this,b))});if(this[0]){var b=o(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},
wrapInner:function(a){return o.isFunction(a)?this.each(function(b){o(this).wrapInner(a.call(this,b))}):this.each(function(){var b=o(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){o(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){o.nodeName(this,"body")||o(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=o(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=
this.pushStack(this,"after",arguments);a.push.apply(a,o(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||o.filter(a,[d]).length){if(!b&&d.nodeType===1){o.cleanData(d.getElementsByTagName("*"));o.cleanData([d])}d.parentNode&&d.parentNode.removeChild(d)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&o.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a){var b=
this.map(function(){if(!o.support.noCloneEvent&&!o.isXMLDoc(this)){var a=this.outerHTML,b=this.ownerDocument;if(!a){a=b.createElement("div");a.appendChild(this.cloneNode(true));a=a.innerHTML}return o.clean([a.replace(U,"").replace(ua,'="$1">').replace(W,"")],b)[0]}return this.cloneNode(true)});if(a===true){j(this,b);j(this.find("*"),b.find("*"))}return b},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(U,""):null;if(typeof a==="string"&&!ha.test(a)&&(o.support.leadingWhitespace||
!W.test(a))&&!S[(ga.exec(a)||["",""])[1].toLowerCase()]){a=a.replace($,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)if(this[c].nodeType===1){o.cleanData(this[c].getElementsByTagName("*"));this[c].innerHTML=a}}catch(e){this.empty().append(a)}}else o.isFunction(a)?this.each(function(b){var c=o(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(o.isFunction(a))return this.each(function(b){var c=o(this),d=c.html();
c.replaceWith(a.call(this,b,d))});typeof a!=="string"&&(a=o(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;o(this).remove();b?o(b).before(a):o(c).append(a)})}return this.pushStack(o(o.isFunction(a)?a():a),"replaceWith",a)},detach:function(a){return this.remove(a,true)},domManip:function(a,c,d){var e,g,f,h=a[0],j=[];if(!o.support.checkClone&&arguments.length===3&&typeof h==="string"&&ia.test(h))return this.each(function(){o(this).domManip(a,c,d,true)});if(o.isFunction(h))return this.each(function(e){var g=
o(this);a[0]=h.call(this,e,c?g.html():b);g.domManip(a,c,d)});if(this[0]){e=h&&h.parentNode;e=o.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:o.buildFragment(a,this,j);f=e.fragment;if(g=f.childNodes.length===1?f=f.firstChild:f.firstChild){c=c&&o.nodeName(g,"tr");g=0;for(var m=this.length;g<m;g++)d.call(c?o.nodeName(this[g],"table")?this[g].getElementsByTagName("tbody")[0]||this[g].appendChild(this[g].ownerDocument.createElement("tbody")):this[g]:this[g],g>0||
e.cacheable||this.length>1?f.cloneNode(true):f)}j.length&&o.each(j,l)}return this}});o.buildFragment=function(a,b,c){var d,e,g,b=b&&b[0]?b[0].ownerDocument||b[0]:s;if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&b===s&&!ha.test(a[0])&&(o.support.checkClone||!ia.test(a[0]))){e=true;(g=o.fragments[a[0]])&&g!==1&&(d=g)}if(!d){d=b.createDocumentFragment();o.clean(a,b,d,c)}e&&(o.fragments[a[0]]=g?d:1);return{fragment:d,cacheable:e}};o.fragments={};o.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){o.fn[a]=function(c){var d=[],c=o(c),e=this.length===1&&this[0].parentNode;if(e&&e.nodeType===11&&e.childNodes.length===1&&c.length===1){c[b](this[0]);return this}for(var e=0,g=c.length;e<g;e++){var f=(e>0?this.clone(true):this).get();o(c[e])[b](f);d=d.concat(f)}return this.pushStack(d,a,c.selector)}});o.extend({clean:function(a,b,c,d){b=b||s;typeof b.createElement==="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||
s);for(var e=[],g=0,f;(f=a[g])!=null;g++){typeof f==="number"&&(f=f+"");if(f){if(typeof f==="string"&&!ta.test(f))f=b.createTextNode(f);else if(typeof f==="string"){f=f.replace($,"<$1></$2>");var h=(ga.exec(f)||["",""])[1].toLowerCase(),j=S[h]||S._default,l=j[0],m=b.createElement("div");for(m.innerHTML=j[1]+f+j[2];l--;)m=m.lastChild;if(!o.support.tbody){l=sa.test(f);h=h==="table"&&!l?m.firstChild&&m.firstChild.childNodes:j[1]==="<table>"&&!l?m.childNodes:[];for(j=h.length-1;j>=0;--j)o.nodeName(h[j],
"tbody")&&!h[j].childNodes.length&&h[j].parentNode.removeChild(h[j])}!o.support.leadingWhitespace&&W.test(f)&&m.insertBefore(b.createTextNode(W.exec(f)[0]),m.firstChild);f=m.childNodes}f.nodeType?e.push(f):e=o.merge(e,f)}}if(c)for(g=0;e[g];g++)if(d&&o.nodeName(e[g],"script")&&(!e[g].type||e[g].type.toLowerCase()==="text/javascript"))d.push(e[g].parentNode?e[g].parentNode.removeChild(e[g]):e[g]);else{e[g].nodeType===1&&e.splice.apply(e,[g+1,0].concat(o.makeArray(e[g].getElementsByTagName("script"))));
c.appendChild(e[g])}return e},cleanData:function(a){for(var b,c,d=o.cache,e=o.event.special,g=o.support.deleteExpando,f=0,h;(h=a[f])!=null;f++)if(!h.nodeName||!o.noData[h.nodeName.toLowerCase()])if(c=h[o.expando]){if((b=d[c])&&b.events)for(var j in b.events)e[j]?o.event.remove(h,j):o.removeEvent(h,j,b.handle);g?delete h[o.expando]:h.removeAttribute&&h.removeAttribute(o.expando);delete d[c]}}});var ja=/alpha\([^)]*\)/i,va=/opacity=([^)]*)/,wa=/-([a-z])/ig,xa=/([A-Z])/g,ka=/^-?\d+(?:px)?$/i,ya=/^-?\d/,
za={position:"absolute",visibility:"hidden",display:"block"},pa=["Left","Right"],qa=["Top","Bottom"],aa,la,ba,Aa=function(a,b){return b.toUpperCase()};o.fn.css=function(a,c){return arguments.length===2&&c===b?this:o.access(this,a,c,true,function(a,c,d){return d!==b?o.style(a,c,d):o.css(a,c)})};o.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=aa(a,"opacity","opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0},cssProps:{"float":o.support.cssFloat?
"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var g,f=o.camelCase(c),h=a.style,j=o.cssHooks[f],c=o.cssProps[f]||f;if(d!==b){if(!(typeof d==="number"&&isNaN(d)||d==null)){typeof d==="number"&&!o.cssNumber[f]&&(d=d+"px");if(!j||!("set"in j)||(d=j.set(a,d))!==b)try{h[c]=d}catch(l){}}}else return j&&"get"in j&&(g=j.get(a,false,e))!==b?g:h[c]}},css:function(a,c,d){var e,g=o.camelCase(c),f=o.cssHooks[g],c=o.cssProps[g]||g;if(f&&"get"in f&&(e=f.get(a,
true,d))!==b)return e;if(aa)return aa(a,c,g)},swap:function(a,b,c){var d={},e;for(e in b){d[e]=a.style[e];a.style[e]=b[e]}c.call(a);for(e in b)a.style[e]=d[e]},camelCase:function(a){return a.replace(wa,Aa)}});o.curCSS=o.css;o.each(["height","width"],function(a,b){o.cssHooks[b]={get:function(a,c,d){var e;if(c){a.offsetWidth!==0?e=m(a,b,d):o.swap(a,za,function(){e=m(a,b,d)});if(e<=0){e=aa(a,b,b);e==="0px"&&ba&&(e=ba(a,b,b));if(e!=null)return e===""||e==="auto"?"0px":e}if(e<0||e==null){e=a.style[b];
return e===""||e==="auto"?"0px":e}return typeof e==="string"?e:e+"px"}},set:function(a,b){if(ka.test(b)){b=parseFloat(b);if(b>=0)return b+"px"}else return b}}});o.support.opacity||(o.cssHooks.opacity={get:function(a,b){return va.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style;c.zoom=1;var d=o.isNaN(b)?"":"alpha(opacity="+b*100+")",e=c.filter||"";c.filter=ja.test(e)?e.replace(ja,d):c.filter+" "+d}});s.defaultView&&
s.defaultView.getComputedStyle&&(la=function(a,c,d){var e,d=d.replace(xa,"-$1").toLowerCase();if(!(c=a.ownerDocument.defaultView))return b;if(c=c.getComputedStyle(a,null)){e=c.getPropertyValue(d);e===""&&!o.contains(a.ownerDocument.documentElement,a)&&(e=o.style(a,d))}return e});s.documentElement.currentStyle&&(ba=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],g=a.style;if(!ka.test(e)&&ya.test(e)){c=g.left;d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;g.left=b==="fontSize"?
"1em":e||0;e=g.pixelLeft+"px";g.left=c;a.runtimeStyle.left=d}return e===""?"auto":e});aa=la||ba;o.expr&&o.expr.filters&&(o.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!o.support.reliableHiddenOffsets&&(a.style.display||o.css(a,"display"))==="none"},o.expr.filters.visible=function(a){return!o.expr.filters.hidden(a)});var Ba=o.now(),Ca=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Da=/^(?:select|textarea)/i,Ea=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Fa=/^(?:GET|HEAD)$/,ra=/\[\]$/,Z=/\=\?(&|$)/,ea=/\?/,Ga=/([?&])_=[^&]*/,Ha=/^(\w+:)?\/\/([^\/?#]+)/,Ia=/%20/g,Ja=/#.*$/,ma=o.fn.load;o.fn.extend({load:function(a,b,c){if(typeof a!=="string"&&ma)return ma.apply(this,arguments);if(!this.length)return this;var d=a.indexOf(" ");if(d>=0)var e=a.slice(d,a.length),a=a.slice(0,d);d="GET";if(b)if(o.isFunction(b)){c=b;b=null}else if(typeof b==="object"){b=o.param(b,o.ajaxSettings.traditional);d="POST"}var g=this;o.ajax({url:a,type:d,dataType:"jquery-mobile-1.0",
data:b,complete:function(a,b){if(b==="success"||b==="notmodified")g.html(e?o("<div>").append(a.responseText.replace(Ca,"")).find(e):a.responseText);c&&g.each(c,[a.responseText,b,a])}});return this},serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?o.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Da.test(this.nodeName)||Ea.test(this.type))}).map(function(a,b){var c=
o(this).val();return c==null?null:o.isArray(c)?o.map(c,function(a){return{name:b.name,value:a}}):{name:b.name,value:c}}).get()}});o.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){o.fn[b]=function(a){return this.bind(b,a)}});o.extend({get:function(a,b,c,d){if(o.isFunction(b)){d=d||c;c=b;b=null}return o.ajax({type:"GET",url:a,data:b,success:c,dataType:d})},getScript:function(a,b){return o.get(a,null,b,"script")},getJSON:function(a,b,c){return o.get(a,
b,c,"json")},post:function(a,b,c,d){if(o.isFunction(b)){d=d||c;c=b;b={}}return o.ajax({type:"POST",url:a,data:b,success:c,dataType:d})},ajaxSetup:function(a){o.extend(o.ajaxSettings,a)},ajaxSettings:{url:location.href,global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,xhr:function(){return new k.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/jquery-mobile-1.0",script:"text/javascript, application/javascript",json:"application/json, text/javascript",
text:"text/plain",_default:"*/*"}},ajax:function(a){var c=o.extend(true,{},o.ajaxSettings,a),d,e,g,f=c.type.toUpperCase(),h=Fa.test(f);c.url=c.url.replace(Ja,"");c.context=a&&a.context!=null?a.context:c;if(c.data&&c.processData&&typeof c.data!=="string")c.data=o.param(c.data,c.traditional);if(c.dataType==="jsonp"){if(f==="GET"){if(!Z.test(c.url))c.url=c.url+((ea.test(c.url)?"&":"?")+(c.jsonp||"callback")+"=?")}else if(!c.data||!Z.test(c.data))c.data=(c.data?c.data+"&":"")+(c.jsonp||"callback")+"=?";
c.dataType="json"}if(c.dataType==="json"&&(c.data&&Z.test(c.data)||Z.test(c.url))){d=c.jsonpCallback||"jsonp"+Ba++;if(c.data)c.data=(c.data+"").replace(Z,"="+d+"$1");c.url=c.url.replace(Z,"="+d+"$1");c.dataType="script";var j=k[d];k[d]=function(a){if(o.isFunction(j))j(a);else{k[d]=b;try{delete k[d]}catch(f){}}g=a;o.handleSuccess(c,G,e,g);o.handleComplete(c,G,e,g);n&&n.removeChild(p)}}if(c.dataType==="script"&&c.cache===null)c.cache=false;if(c.cache===false&&h){var l=o.now(),m=c.url.replace(Ga,"$1_="+
l);c.url=m+(m===c.url?(ea.test(c.url)?"&":"?")+"_="+l:"")}if(c.data&&h)c.url=c.url+((ea.test(c.url)?"&":"?")+c.data);c.global&&o.active++===0&&o.event.trigger("ajaxStart");l=(l=Ha.exec(c.url))&&(l[1]&&l[1].toLowerCase()!==location.protocol||l[2].toLowerCase()!==location.host);if(c.dataType==="script"&&f==="GET"&&l){var n=s.getElementsByTagName("head")[0]||s.documentElement,p=s.createElement("script");if(c.scriptCharset)p.charset=c.scriptCharset;p.src=c.url;if(!d){var q=false;p.onload=p.onreadystatechange=
function(){if(!q&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){q=true;o.handleSuccess(c,G,e,g);o.handleComplete(c,G,e,g);p.onload=p.onreadystatechange=null;n&&p.parentNode&&n.removeChild(p)}}}n.insertBefore(p,n.firstChild);return b}var r=false,G=c.xhr();if(G){c.username?G.open(f,c.url,c.async,c.username,c.password):G.open(f,c.url,c.async);try{(c.data!=null&&!h||a&&a.contentType)&&G.setRequestHeader("Content-Type",c.contentType);if(c.ifModified){o.lastModified[c.url]&&
G.setRequestHeader("If-Modified-Since",o.lastModified[c.url]);o.etag[c.url]&&G.setRequestHeader("If-None-Match",o.etag[c.url])}l||G.setRequestHeader("X-Requested-With","XMLHttpRequest");G.setRequestHeader("Accept",c.dataType&&c.accepts[c.dataType]?c.accepts[c.dataType]+", */*; q=0.01":c.accepts._default)}catch(u){}if(c.beforeSend&&c.beforeSend.call(c.context,G,c)===false){c.global&&o.active--===1&&o.event.trigger("ajaxStop");G.abort();return false}c.global&&o.triggerGlobal(c,"ajaxSend",[G,c]);var t=
G.onreadystatechange=function(a){if(!G||G.readyState===0||a==="abort"){r||o.handleComplete(c,G,e,g);r=true;if(G)G.onreadystatechange=o.noop}else if(!r&&G&&(G.readyState===4||a==="timeout")){r=true;G.onreadystatechange=o.noop;e=a==="timeout"?"timeout":!o.httpSuccess(G)?"error":c.ifModified&&o.httpNotModified(G,c.url)?"notmodified":"success";var b;if(e==="success")try{g=o.httpData(G,c.dataType,c)}catch(f){e="parsererror";b=f}e==="success"||e==="notmodified"?d||o.handleSuccess(c,G,e,g):o.handleError(c,
G,e,b);d||o.handleComplete(c,G,e,g);a==="timeout"&&G.abort();c.async&&(G=null)}};try{var U=G.abort;G.abort=function(){G&&Function.prototype.call.call(U,G);t("abort")}}catch(w){}c.async&&c.timeout>0&&setTimeout(function(){G&&!r&&t("timeout")},c.timeout);try{G.send(h||c.data==null?null:c.data)}catch(z){o.handleError(c,G,null,z);o.handleComplete(c,G,e,g)}c.async||t();return G}},param:function(a,c){var d=[],e=function(a,b){b=o.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};
if(c===b)c=o.ajaxSettings.traditional;if(o.isArray(a)||a.jquery)o.each(a,function(){e(this.name,this.value)});else for(var g in a)n(g,a[g],c,e);return d.join("&").replace(Ia,"+")}});o.extend({active:0,lastModified:{},etag:{},handleError:function(a,b,c,d){a.error&&a.error.call(a.context,b,c,d);a.global&&o.triggerGlobal(a,"ajaxError",[b,a,d])},handleSuccess:function(a,b,c,d){a.success&&a.success.call(a.context,d,c,b);a.global&&o.triggerGlobal(a,"ajaxSuccess",[b,a])},handleComplete:function(a,b,c){a.complete&&
a.complete.call(a.context,b,c);a.global&&o.triggerGlobal(a,"ajaxComplete",[b,a]);a.global&&o.active--===1&&o.event.trigger("ajaxStop")},triggerGlobal:function(a,b,c){(a.context&&a.context.url==null?o(a.context):o.event).trigger(b,c)},httpSuccess:function(a){try{return!a.status&&location.protocol==="file:"||a.status>=200&&a.status<300||a.status===304||a.status===1223}catch(b){}return false},httpNotModified:function(a,b){var c=a.getResponseHeader("Last-Modified"),d=a.getResponseHeader("Etag");c&&(o.lastModified[b]=
c);d&&(o.etag[b]=d);return a.status===304},httpData:function(a,b,c){var d=a.getResponseHeader("content-type")||"",e=b==="xml"||!b&&d.indexOf("xml")>=0,a=e?a.responseXML:a.responseText;e&&a.documentElement.nodeName==="parsererror"&&o.error("parsererror");c&&c.dataFilter&&(a=c.dataFilter(a,b));typeof a==="string"&&(b==="json"||!b&&d.indexOf("json")>=0?a=o.parseJSON(a):(b==="script"||!b&&d.indexOf("javascript")>=0)&&o.globalEval(a));return a}});k.ActiveXObject&&(o.ajaxSettings.xhr=function(){if(k.location.protocol!==
"file:")try{return new k.XMLHttpRequest}catch(a){}try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}});o.support.ajax=!!o.ajaxSettings.xhr();var da={},Ka=/^(?:toggle|show|hide)$/,La=/^([+\-]=)?([\d+.\-]+)(.*)$/,ca,fa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];o.fn.extend({show:function(a,b,c){if(a||a===0)return this.animate(p("show",3),a,b,c);for(var c=0,d=this.length;c<d;c++){a=this[c];
b=a.style.display;if(!o.data(a,"olddisplay")&&b==="none")b=a.style.display="";b===""&&o.css(a,"display")==="none"&&o.data(a,"olddisplay",q(a.nodeName))}for(c=0;c<d;c++){a=this[c];b=a.style.display;if(b===""||b==="none")a.style.display=o.data(a,"olddisplay")||""}return this},hide:function(a,b,c){if(a||a===0)return this.animate(p("hide",3),a,b,c);a=0;for(b=this.length;a<b;a++){c=o.css(this[a],"display");c!=="none"&&o.data(this[a],"olddisplay",c)}for(a=0;a<b;a++)this[a].style.display="none";return this},
_toggle:o.fn.toggle,toggle:function(a,b,c){var d=typeof a==="boolean";o.isFunction(a)&&o.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:o(this).is(":hidden");o(this)[b?"show":"hide"]()}):this.animate(p("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=o.speed(b,c,d);return o.isEmptyObject(a)?this.each(e.complete):this[e.queue===
false?"each":"queue"](function(){var b=o.extend({},e),c,d=this.nodeType===1,g=d&&o(this).is(":hidden"),f=this;for(c in a){var h=o.camelCase(c);if(c!==h){a[h]=a[c];delete a[c];c=h}if(a[c]==="hide"&&g||a[c]==="show"&&!g)return b.complete.call(this);if(d&&(c==="height"||c==="width")){b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(o.css(this,"display")==="inline"&&o.css(this,"float")==="none")if(o.support.inlineBlockNeedsLayout)if(q(this.nodeName)==="inline")this.style.display=
"inline-block";else{this.style.display="inline";this.style.zoom=1}else this.style.display="inline-block"}if(o.isArray(a[c])){(b.specialEasing=b.specialEasing||{})[c]=a[c][1];a[c]=a[c][0]}}if(b.overflow!=null)this.style.overflow="hidden";b.curAnim=o.extend({},a);o.each(a,function(c,d){var e=new o.fx(f,b,c);if(Ka.test(d))e[d==="toggle"?g?"show":"hide":d](a);else{var h=La.exec(d),j=e.cur()||0;if(h){var l=parseFloat(h[2]),m=h[3]||"px";if(m!=="px"){o.style(f,c,(l||1)+m);j=(l||1)/e.cur()*j;o.style(f,c,
j+m)}h[1]&&(l=(h[1]==="-="?-1:1)*l+j);e.custom(j,l,m)}else e.custom(j,d,"")}});return true})},stop:function(a,b){var c=o.timers;a&&this.queue([]);this.each(function(){for(var a=c.length-1;a>=0;a--)if(c[a].elem===this){if(b)c[a](true);c.splice(a,1)}});b||this.dequeue();return this}});o.each({slideDown:p("show",1),slideUp:p("hide",1),slideToggle:p("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){o.fn[a]=function(a,c,d){return this.animate(b,a,
c,d)}});o.extend({speed:function(a,b,c){var d=a&&typeof a==="object"?o.extend({},a):{complete:c||!c&&b||o.isFunction(a)&&a,duration:a,easing:c&&b||b&&!o.isFunction(b)&&b};d.duration=o.fx.off?0:typeof d.duration==="number"?d.duration:d.duration in o.fx.speeds?o.fx.speeds[d.duration]:o.fx.speeds._default;d.old=d.complete;d.complete=function(){d.queue!==false&&o(this).dequeue();o.isFunction(d.old)&&d.old.call(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*
Math.PI)/2+0.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;if(!b.orig)b.orig={}}});o.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(o.fx.step[this.prop]||o.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a=parseFloat(o.css(this.elem,this.prop));return a&&a>-1E4?a:0},custom:function(a,b,c){function d(a){return e.step(a)}
var e=this,g=o.fx;this.startTime=o.now();this.start=a;this.end=b;this.unit=c||this.unit||"px";this.now=this.start;this.pos=this.state=0;d.elem=this.elem;d()&&(o.timers.push(d)&&!ca)&&(ca=setInterval(g.tick,g.interval))},show:function(){this.options.orig[this.prop]=o.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());o(this.elem).show()},hide:function(){this.options.orig[this.prop]=o.style(this.elem,this.prop);this.options.hide=true;
this.custom(this.cur(),0)},step:function(a){var b=o.now(),c=true;if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var d in this.options.curAnim)this.options.curAnim[d]!==true&&(c=false);if(c){if(this.options.overflow!=null&&!o.support.shrinkWrapBlocks){var e=this.elem,g=this.options;o.each(["","X","Y"],function(a,b){e.style["overflow"+b]=g.overflow[a]})}this.options.hide&&o(this.elem).hide();if(this.options.hide||
this.options.show)for(var f in this.options.curAnim)o.style(this.elem,f,this.options.orig[f]);this.options.complete.call(this.elem)}return false}a=b-this.startTime;this.state=a/this.options.duration;b=this.options.easing||(o.easing.swing?"swing":"linear");this.pos=o.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||b](this.state,a,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();return true}};o.extend(o.fx,{tick:function(){for(var a=
o.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||o.fx.stop()},interval:13,stop:function(){clearInterval(ca);ca=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){o.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit:a.elem[a.prop]=a.now}}});o.expr&&o.expr.filters&&(o.expr.filters.animated=function(a){return o.grep(o.timers,function(b){return a===
b.elem}).length});var Ma=/^t(?:able|d|h)$/i,na=/^(?:body|html)$/i;o.fn.offset="getBoundingClientRect"in s.documentElement?function(a){var b=this[0],c;if(a)return this.each(function(b){o.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return o.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!o.contains(g,b))return c||{top:0,left:0};b=e.body;e=r(e);return{top:c.top+(e.pageYOffset||o.support.boxModel&&
g.scrollTop||b.scrollTop)-(g.clientTop||b.clientTop||0),left:c.left+(e.pageXOffset||o.support.boxModel&&g.scrollLeft||b.scrollLeft)-(g.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(b){o.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return o.offset.bodyOffset(b);o.offset.initialize();var c,d=b.offsetParent,e=b.ownerDocument,g=e.documentElement,f=e.body;c=(e=e.defaultView)?e.getComputedStyle(b,null):b.currentStyle;
for(var h=b.offsetTop,j=b.offsetLeft;(b=b.parentNode)&&b!==f&&b!==g;){if(o.offset.supportsFixedPosition&&c.position==="fixed")break;c=e?e.getComputedStyle(b,null):b.currentStyle;h=h-b.scrollTop;j=j-b.scrollLeft;if(b===d){h=h+b.offsetTop;j=j+b.offsetLeft;if(o.offset.doesNotAddBorder&&(!o.offset.doesAddBorderForTableAndCells||!Ma.test(b.nodeName))){h=h+(parseFloat(c.borderTopWidth)||0);j=j+(parseFloat(c.borderLeftWidth)||0)}d=b.offsetParent}if(o.offset.subtractsBorderForOverflowNotVisible&&c.overflow!==
"visible"){h=h+(parseFloat(c.borderTopWidth)||0);j=j+(parseFloat(c.borderLeftWidth)||0)}}if(c.position==="relative"||c.position==="static"){h=h+f.offsetTop;j=j+f.offsetLeft}if(o.offset.supportsFixedPosition&&c.position==="fixed"){h=h+Math.max(g.scrollTop,f.scrollTop);j=j+Math.max(g.scrollLeft,f.scrollLeft)}return{top:h,left:j}};o.offset={initialize:function(){var a=s.body,b=s.createElement("div"),c,d,e,g=parseFloat(o.css(a,"marginTop"))||0;o.extend(b.style,{position:"absolute",top:0,left:0,margin:0,
border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);c=b.firstChild;d=c.firstChild;e=c.nextSibling.firstChild.firstChild;this.doesNotAddBorder=d.offsetTop!==5;this.doesAddBorderForTableAndCells=
e.offsetTop===5;d.style.position="fixed";d.style.top="20px";this.supportsFixedPosition=d.offsetTop===20||d.offsetTop===15;d.style.position=d.style.top="";c.style.overflow="hidden";c.style.position="relative";this.subtractsBorderForOverflowNotVisible=d.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==g;a.removeChild(b);o.offset.initialize=o.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;o.offset.initialize();if(o.offset.doesNotIncludeMarginInBodyOffset){b=b+(parseFloat(o.css(a,
"marginTop"))||0);c=c+(parseFloat(o.css(a,"marginLeft"))||0)}return{top:b,left:c}},setOffset:function(a,b,c){var d=o.css(a,"position");if(d==="static")a.style.position="relative";var e=o(a),g=e.offset(),f=o.css(a,"top"),h=o.css(a,"left"),j=d==="absolute"&&o.inArray("auto",[f,h])>-1,d={},l={};j&&(l=e.position());f=j?l.top:parseInt(f,10)||0;h=j?l.left:parseInt(h,10)||0;o.isFunction(b)&&(b=b.call(a,c,g));if(b.top!=null)d.top=b.top-g.top+f;if(b.left!=null)d.left=b.left-g.left+h;"using"in b?b.using.call(a,
d):e.css(d)}};o.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=na.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top=c.top-(parseFloat(o.css(a,"marginTop"))||0);c.left=c.left-(parseFloat(o.css(a,"marginLeft"))||0);d.top=d.top+(parseFloat(o.css(b[0],"borderTopWidth"))||0);d.left=d.left+(parseFloat(o.css(b[0],"borderLeftWidth"))||0);return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent||s.body;a&&!na.test(a.nodeName)&&o.css(a,"position")==="static";)a=a.offsetParent;return a})}});o.each(["Left","Top"],function(a,c){var d="scroll"+c;o.fn[d]=function(c){var e=this[0],g;if(!e)return null;if(c!==b)return this.each(function(){(g=r(this))?g.scrollTo(!a?c:o(g).scrollLeft(),a?c:o(g).scrollTop()):this[d]=c});return(g=r(e))?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:o.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}});o.each(["Height","Width"],
function(a,c){var d=c.toLowerCase();o.fn["inner"+c]=function(){return this[0]?parseFloat(o.css(this[0],d,"padding")):null};o.fn["outer"+c]=function(a){return this[0]?parseFloat(o.css(this[0],d,a?"margin":"border")):null};o.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(o.isFunction(a))return this.each(function(b){var c=o(this);c[d](a.call(this,b,c[d]()))});if(o.isWindow(e))return e.document.compatMode==="CSS1Compat"&&e.document.documentElement["client"+c]||e.document.body["client"+
c];if(e.nodeType===9)return Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]);if(a===b){var e=o.css(e,d),g=parseFloat(e);return o.isNaN(g)?e:g}return this.css(d,typeof a==="string"?a:a+"px")}})})(window);jQ4=jQuery.noConflict(!0);
(function(k){(function(b){b.fn.extend({actual:function(a,d){if(!this[a])throw'$.actual => The jQuery method "'+a+'" you called does not exist';var c=b.extend({absolute:!1,clone:!1,includeMargin:!1},d),e=this.eq(0),f,g;if(!0===c.clone)f=function(){e=e.clone().attr("style","position: absolute !important; top: -1000 !important; ").appendTo("body")},g=function(){e.remove()};else{var h=[],j="",l;f=function(){l=e.parents().andSelf().filter(":hidden");j+="visibility: hidden !important; display: block !important; ";
!0===c.absolute&&(j+="position: absolute !important; ");l.each(function(){var a=b(this);h.push(a.attr("style"));a.attr("style",j)})};g=function(){l.each(function(a){var c=b(this),a=h[a];void 0===a?c.removeAttr("style"):c.attr("style",a)})}}f();f=/(outer)/g.test(a)?e[a](c.includeMargin):e[a]();g();return f}})})(k);(function(b){function a(a){var b=[],c={multiplier:0,offset:0};"even"===a?a="2n":"odd"===a?a="2n+1":/^\d*$/.test(a)&&(a="0n+"+a);b=e.exec(a);null!==b&&(c.multiplier=b[1]-0,c.offset=b[2]-0);
return c}function d(a){var c,d,e=[],g=0,f=[];b.each(a,function(a,b){var h=0,j=0,k=b.rowSpan||1,w=b.colSpan||1;b.parentNode!==c&&(c=b.parentNode,c.parentNode!==d&&(d=c.parentNode,e=[]),g=0,void 0===e[c.rowIndex]&&(e[c.rowIndex]=[]));for(h=0;h<e[c.rowIndex].length+1;h+=1)if(void 0===e[c.rowIndex][h]){g=h;break}f[a]=g;for(h=c.rowIndex;h<c.rowIndex+k;h+=1){void 0===e[h]&&(e[h]=[]);for(j=g;j<g+w;j+=1)e[h][j]=!0}});return f}function c(a,b,c){a=f[c]-(g.offset-1);return 0===g.multiplier?0===a:0===a%g.multiplier&&
0<=a/g.multiplier}var e=/([\+\-]?\d*)[nN]([\+\-]?\d*)/,f,g,h=k.expr.filter.PSEUDO;b.extend(k.fn,{nthCol:function(e){g=a(e);f=d(this);return b(this).filter(function(a){return c(this,void 0,a)})}});b.extend(k.expr.match,{COLUMN:/:nth-col\((even|odd|[\dnN\+\-]*)\)(?![\^\[]*\])(?![\^\(]*\))/});b.extend(k.expr.leftMatch,{COLUMN:/(^(?:.|\r|\n)*?):nth-col\((even|odd|[\dnN\+\-]*)\)(?![\^\[]*\])(?![\^\(]*\))/});b.extend(k.expr.preFilter,{COLUMN:function(b,c){g=a(b[1]);f=d(c);return b}});b.extend(k.expr.filter,
{PSEUDO:function(a,b,c,d){if("nth-col"!==b[1])return h(a,b,c,d)}});b.extend(k.expr.filter,{COLUMN:c})})(k);(function(){k.each({getSelection:function(){var b=this.jquery?this[0]:this;return("selectionStart"in b&&function(){var a=b.selectionEnd-b.selectionStart;return{start:b.selectionStart,end:b.selectionEnd,length:a,text:b.value.substr(b.selectionStart,a)}}||document.selection&&function(){b.focus();var a=document.selection.createRange();if(null==a)return{start:0,end:b.value.length,length:0};var d=
b.createTextRange(),c=d.duplicate();d.moveToBookmark(a.getBookmark());c.setEndPoint("EndToStart",d);return{start:c.text.length,end:c.text.length+a.text.length,length:a.text.length,text:a.text}}||function(){return{start:0,end:b.value.length,length:0}})()},replaceSelection:function(b){var a=this.jquery?this[0]:this,d=b||"";return("selectionStart"in a&&function(){a.value=a.value.substr(0,a.selectionStart)+d+a.value.substr(a.selectionEnd,a.value.length);return this}||document.selection&&function(){a.focus();
document.selection.createRange().text=d;return this}||function(){a.value+=d;return this})()}},function(b){k.fn[b]=this})})();(function(b){b.toJSON=function(a){if("object"==typeof JSON&&JSON.stringify)return JSON.stringify(a);var d=typeof a;if(null===a)return"null";if("undefined"!=d){if("number"==d||"boolean"==d)return a+"";if("string"==d)return b.quoteString(a);if("object"==d){if("function"==typeof a.toJSON)return b.toJSON(a.toJSON());if(a.constructor===Date){var f=a.getUTCMonth()+1;10>f&&(f="0"+
f);var g=a.getUTCDate();10>g&&(g="0"+g);var d=a.getUTCFullYear(),h=a.getUTCHours();10>h&&(h="0"+h);var j=a.getUTCMinutes();10>j&&(j="0"+j);var l=a.getUTCSeconds();10>l&&(l="0"+l);a=a.getUTCMilliseconds();100>a&&(a="0"+a);10>a&&(a="0"+a);return'"'+d+"-"+f+"-"+g+"T"+h+":"+j+":"+l+"."+a+'Z"'}if(a.constructor===Array){f=[];for(g=0;g<a.length;g++)f.push(b.toJSON(a[g])||"null");return"["+f.join(",")+"]"}f=[];for(g in a){d=typeof g;if("number"==d)d='"'+g+'"';else if("string"==d)d=b.quoteString(g);else continue;
"function"!=typeof a[g]&&(h=b.toJSON(a[g]),f.push(d+":"+h))}return"{"+f.join(", ")+"}"}}};b.evalJSON=function(a){return"object"==typeof JSON&&JSON.parse?JSON.parse(a):eval("("+a+")")};b.secureEvalJSON=function(a){if("object"==typeof JSON&&JSON.parse)return JSON.parse(a);var b;b=a.replace(/\\["\\\/bfnrtu]/g,"@");b=b.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");b=b.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(b))return eval("("+a+")");throw new SyntaxError("Error parsing JSON, source is not valid.");
};b.quoteString=function(b){return b.match(a)?'"'+b.replace(a,function(a){var b=d[a];if("string"===typeof b)return b;b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"':'"'+b+'"'};var a=/["\\\x00-\x1f\x7f-\x9f]/g,d={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}})(k);(function(b,a){function d(){}function c(a){z=[a]}function e(a,b,c){return a&&a.apply(b.context||b,c)}function f(f){function C(b){!T++&&a(function(){Q();J&&(B[E]={s:[b]});
H&&(b=H.apply(f,[b]));e(f.success,f,[b,k]);e(F,f,[f,k])},0)}function v(b){!T++&&a(function(){Q();J&&b!=t&&(B[E]=b);e(f.error,f,[f,b]);e(F,f,[f,b])},0)}var f=b.extend({},A,f),F=f.complete,H=f.dataFilter,L=f.callbackParameter,O=f.callback,M=f.cache,J=f.pageCache,I=f.charset,E=f.url,N=f.data,P=f.timeout,K,T=0,Q=d;f.abort=function(){!T++&&Q()};if(!1===e(f.beforeSend,f,[f])||T)return f;E=E||j;N=N?"string"==typeof N?N:b.param(N,f.traditional):j;E+=N?(/[?]/.test(E)?"&":"?")+N:j;L&&(E+=(/[?]/.test(E)?"&":
"?")+encodeURIComponent(L)+"=?");!M&&!J&&(E+=(/[?]/.test(E)?"&":"?")+"_"+(new Date).getTime()+"=");E=E.replace(/=\?(&|$)/,"="+O+"$1");J&&(K=B[E])?K.s?C(K.s[0]):v(K):a(function(e,f,j){if(!T){j=0<P&&a(function(){v(t)},P);Q=function(){j&&clearTimeout(j);e[r]=e[n]=e[q]=e[p]=null;x[s](e);f&&x[s](f)};window[O]=c;e=b(o)[0];e.id=m+y++;I&&(e[h]=I);var k=function(a){(e[n]||d)();a=z;z=void 0;a?C(a[0]):v(l)};w.msie?(e.event=n,e.htmlFor=e.id,e[r]=function(){/loaded|complete/.test(e.readyState)&&k()}):(e[p]=e[q]=
k,w.opera?(f=b(o)[0]).text="jQuery('#"+e.id+"')[0]."+p+"()":e[g]=g);e.src=E;x.insertBefore(e,x.firstChild);f&&x.insertBefore(f,x.firstChild)}},0);return f}var g="async",h="charset",j="",l="error",m="_jqjsp",n="onclick",p="on"+l,q="onload",r="onreadystatechange",s="removeChild",o="<script/>",k="success",t="timeout",w=b.browser,x=b("head")[0]||document.documentElement,B={},y=0,z,A={callback:m,url:location.href};f.setup=function(a){b.extend(A,a)};b.jsonp=f})(k,setTimeout);(function(b){b.extend(b.fn,
{textAlign:function(a){var d=b(this),c=0,e=0;if("start"===a||"end"===a||"left"===a||"right"===a||"justify"===a||"center"===a)return d.css({textAlign:a});if(1===a.length){var f=[];d.each(function(){var d=b(this),g=d.text(),h;0===b(this).children().length&&(-1!==g.indexOf(a)?(h=b("<span>"+g.slice(0,g.indexOf(a))+"</span>"),g=b("<span>"+g.slice(g.indexOf(a))+"</span>")):(h=b("<span>"+g+"</span>"),g=b("<span/>")),h.css({display:"inline-block",textAlign:"right"}),g.css({display:"inline-block",textAlign:"left"}),
b(this).empty().append(h).append(g),c=Math.max(c,h.width())+1,e=Math.max(e,g.width()),f.push(d))});for(var g=0;g<f.length;g++){var h=f[g].children(),j=b(h[0]),h=b(h[1]);j.width(c);h.width(e)}}return d}})})(k);(function(b){function a(a,c,d,e){e={data:e||0===e||!1===e?e:c?c.data:{},_wrap:c?c._wrap:null,tmpl:null,parent:c||null,nodes:[],calls:j,nest:l,wrap:m,html:n,update:p};a&&b.extend(e,a,{nodes:[],parent:c});d&&(e.tmpl=d,e._ctnt=e._ctnt||e.tmpl(b,e),e.key=++x,(y.length?k:o)[x]=e);return e}function d(a,
e,g){var f,g=g?b.map(g,function(b){return"string"===typeof b?a.key?b.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+r+'="'+a.key+'" $2'):b:d(b,a,b._ctnt)}):a;if(e)return g;g=g.join("");g.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(a,d,e,g){f=b(e).get();h(f);d&&(f=c(d).concat(f));g&&(f=f.concat(c(g)))});return f?f:c(g)}function c(a){var c=document.createElement("div");c.innerHTML=a;return b.makeArray(c.childNodes)}function e(a){return new Function("jQuery","$item",
"var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+b.trim(a).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(a,c,d,e,f,h,j){a=b.tmpl.tag[d];if(!a)throw"Unknown template tag: "+d;d=a._default||[];h&&!/\w$/.test(f)&&(f+=h,h="");f?(f=g(f),j=j?","+g(j)+")":h?")":"",j=h?-1<f.indexOf(".")?f+g(h):"("+f+").call($item"+j:f,h=h?j:"(typeof("+
f+")==='function'?("+f+").call($item):("+f+"))"):h=j=d.$1||"null";e=g(e);return"');"+a[c?"close":"open"].split("$notnull_1").join(f?"typeof("+f+")!=='undefined' && ("+f+")!=null":"true").split("$1a").join(h).split("$1").join(j).split("$2").join(e||d.$2||"")+"__.push('"})+"');}return __;")}function f(a,c){a._wrap=d(a,!0,b.isArray(c)?c:[s.test(c)?c:b(c).html()]).join("")}function g(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function h(c){function d(c){function g(b){b+=e;l=h[b]=h[b]||
a(l,o[l.parent.key+e]||l.parent)}var f,j=c,l,m;if(m=c.getAttribute(r)){for(;j.parentNode&&1===(j=j.parentNode).nodeType&&!(f=j.getAttribute(r)););if(f!==m){j=j.parentNode?11===j.nodeType?0:j.getAttribute(r)||0:0;if(!(l=o[m]))l=k[m],l=a(l,o[j]||k[j]),l.key=++x,o[x]=l;B&&g(m)}c.removeAttribute(r)}else if(B&&(l=b.data(c,"tmplItem")))g(l.key),o[l.key]=l,j=(j=b.data(c.parentNode,"tmplItem"))?j.key:0;if(l){for(f=l;f&&f.key!=j;)f.nodes.push(c),f=f.parent;delete l._ctnt;delete l._wrap;b.data(c,"tmplItem",
l)}}var e="_"+B,g,f,h={},j,l,m;j=0;for(l=c.length;j<l;j++)if(1===(g=c[j]).nodeType){f=g.getElementsByTagName("*");for(m=f.length-1;0<=m;m--)d(f[m]);d(g)}}function j(a,b,c,d){if(!a)return y.pop();y.push({_:a,tmpl:b,item:this,data:c,options:d})}function l(a,c,d){return b.tmpl(b.template(a),c,d,this)}function m(a,c){var d=a.options||{};d.wrapped=c;return b.tmpl(b.template(a.tmpl),a.data,d,a.item)}function n(a,c){var d=this._wrap;return b.map(b(b.isArray(d)?d.join(""):d).filter(a||"*"),function(a){if(c)a=
a.innerText||a.textContent;else{var b;if(!(b=a.outerHTML))b=document.createElement("div"),b.appendChild(a.cloneNode(!0)),b=b.innerHTML;a=b}return a})}function p(){var a=this.nodes;b.tmpl(null,null,null,this).insertBefore(a[0]);b(a).remove()}var q=b.fn.domManip,r="_tmplitem",s=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,o={},k={},t,w={key:0,data:{}},x=0,B=0,y=[];b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){b.fn[a]=function(d){var e=
[],d=b(d),g,f,h;g=1===this.length&&this[0].parentNode;t=o||{};if(g&&11===g.nodeType&&1===g.childNodes.length&&1===d.length)d[c](this[0]),e=this;else{f=0;for(h=d.length;f<h;f++)B=f,g=(0<f?this.clone(!0):this).get(),b(d[f])[c](g),e=e.concat(g);B=0;e=this.pushStack(e,a,d.selector)}d=t;t=null;b.tmpl.complete(d);return e}});b.fn.extend({tmpl:function(a,c,d){return b.tmpl(this[0],a,c,d)},tmplItem:function(){return b.tmplItem(this[0])},template:function(a){return b.template(a,this[0])},domManip:function(a,
c,d,e){if(a[0]&&b.isArray(a[0])){for(var g=b.makeArray(arguments),f=a[0],h=f.length,j=0,l;j<h&&!(l=b.data(f[j++],"tmplItem")););l&&B&&(g[2]=function(a){b.tmpl.afterManip(this,a,d)});q.apply(this,g)}else q.apply(this,arguments);B=0;t||b.tmpl.complete(o);return this}});b.extend({tmpl:function(c,e,g,h){var j=!h;if(j)h=w,c=b.template[c]||b.template(null,c),k={};else if(!c)return c=h.tmpl,o[h.key]=h,h.nodes=[],h.wrapped&&f(h,h.wrapped),b(d(h,null,h.tmpl(b,h)));if(!c)return[];"function"===typeof e&&(e=
e.call(h||{}));g&&g.wrapped&&f(g,g.wrapped);e=b.isArray(e)?b.map(e,function(b){return b?a(g,h,c,b):null}):[a(g,h,c,e)];return j?b(d(h,null,e)):e},tmplItem:function(a){var c;for(a instanceof b&&(a=a[0]);a&&1===a.nodeType&&!(c=b.data(a,"tmplItem"))&&(a=a.parentNode););return c||w},template:function(a,c){return c?("string"===typeof c?c=e(c):c instanceof b&&(c=c[0]||{}),c.nodeType&&(c=b.data(c,"tmpl")||b.data(c,"tmpl",e(c.innerHTML))),"string"===typeof a?b.template[a]=c:c):a?"string"!==typeof a?b.template(null,
a):b.template[a]||b.template(null,s.test(a)?a:b(a)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});b.extend(b.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",
close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){o={}},afterManip:function(a,c,d){var e=11===c.nodeType?b.makeArray(c.childNodes):1===c.nodeType?[c]:[];d.call(a,c);h(e);B++}})})(k);(function(){function b(){return function(){}}function a(a){return function(){return this[a]}}
function d(a){return function(){return a}}function c(a,b,d){if("string"===typeof a){0===a.indexOf("#")&&(a=a.slice(1));if(c.va[a])return c.va[a];a=c.u(a)}if(!a||!a.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return a.player||new c.Player(a,b,d)}function e(a){a.t("vjs-lock-showing")}function f(a,b,d,e){if(d!==z)return a.a.style[b]=-1!==(""+d).indexOf("%")||-1!==(""+d).indexOf("px")?d:"auto"===d?"":d+"px",e||a.k("resize"),a;if(!a.a)return 0;d=a.a.style[b];e=d.indexOf("px");
return-1!==e?parseInt(d.slice(0,e),10):parseInt(a.a["offset"+c.Z(b)],10)}function g(a,b){var d,e,g,f;d=a.a;e=c.cd(d);f=g=d.offsetWidth;d=a.handle;if(a.h.Gd)return f=e.top,e=b.changedTouches?b.changedTouches[0].pageY:b.pageY,d&&(d=d.u().offsetHeight,f+=d/2,g-=d),Math.max(0,Math.min(1,(f-e+g)/g));g=e.left;e=b.changedTouches?b.changedTouches[0].pageX:b.pageX;d&&(d=d.u().offsetWidth,g+=d/2,f-=d);return Math.max(0,Math.min(1,(e-g)/f))}function h(a,b){a.Y(b);b.d("click",c.bind(a,function(){e(this)}))}function j(a){a.na=
A;a.ua.n("vjs-lock-showing");a.a.setAttribute("aria-pressed",A);a.L&&0<a.L.length&&a.L[0].u().focus()}function l(a){a.na=C;e(a.ua);a.a.setAttribute("aria-pressed",C)}function m(a){var b={sources:[],tracks:[]};c.l.B(b,c.wb(a));if(a.hasChildNodes()){var d,e,g,f,a=a.childNodes;g=0;for(f=a.length;g<f;g++)d=a[g],e=d.nodeName.toLowerCase(),"source"===e?b.sources.push(c.wb(d)):"track"===e&&b.tracks.push(c.wb(d))}return b}function n(a,b,d){a.i&&(a.aa=C,a.i.dispose(),a.Cb&&(a.Cb=C,clearInterval(a.Ta)),a.Db&&
p(a),a.i=C);"Html5"!==b&&a.M&&(c.g.gc(a.M),a.M=D);a.xa=b;a.aa=C;var e=c.l.B({source:d,parentEl:a.a},a.h[b.toLowerCase()]);d&&(d.src==a.v.src&&0<a.v.currentTime&&(e.startTime=a.v.currentTime),a.v.src=d.src);a.i=new window.videojs[b](a,e);a.i.I(function(){this.c.za();if(!this.m.progressEvents){var a=this.c;a.Cb=A;a.Ta=setInterval(c.bind(a,function(){this.v.mb<this.buffered().end(0)?this.k("progress"):1==this.bufferedPercent()&&(clearInterval(this.Ta),this.k("progress"))}),500);a.i.U("progress",function(){this.m.progressEvents=
A;var a=this.c;a.Cb=C;clearInterval(a.Ta)})}this.m.timeupdateEvents||(a=this.c,a.Db=A,a.d("play",a.Cc),a.d("pause",a.wa),a.i.U("timeupdate",function(){this.m.timeupdateEvents=A;p(this.c)}))})}function p(a){a.Db=C;a.wa();a.o("play",a.Cc);a.o("pause",a.wa)}function q(a,b,d){if(a.i&&!a.i.aa)a.i.I(function(){this[b](d)});else try{a.i[b](d)}catch(e){throw c.log(e),e;}}function r(a,b){if(a.i&&a.i.aa)try{return a.i[b]()}catch(d){throw a.i[b]===z?c.log("Video.js: "+b+" method not defined for "+a.xa+" playback technology.",
d):"TypeError"==d.name?(c.log("Video.js: "+b+" unavailable on "+a.xa+" playback technology element.",d),a.i.aa=C):c.log(d),d;}}function s(a){a.gd=C;c.o(document,"keydown",a.jc);document.documentElement.style.overflow=a.Zc;c.t(document.body,"vjs-full-window");a.k("exitFullWindow")}function o(){var a=c.media.Xa[N];return function(){throw Error('The "'+a+"\" method is not available on the playback technology's API");}}function k(){var a=V[R],b=a.charAt(0).toUpperCase()+a.slice(1);Q["set"+b]=function(b){return this.a.vjs_setProperty(a,
b)}}function t(a){Q[a]=function(){return this.a.vjs_getProperty(a)}}function w(a,b,c){for(var d=a.ya,e=0,g=d.length,f,h;e<g;e++)f=d[e],f.id()===b?(f.show(),h=f):c&&f.H()==c&&0<f.mode()&&f.disable();(b=h?h.H():c?c:C)&&a.k(b+"trackchange")}function x(a){0===a.ha&&a.load();0===a.ga&&(a.c.d("timeupdate",c.bind(a,a.update,a.R)),a.c.d("ended",c.bind(a,a.reset,a.R)),("captions"===a.A||"subtitles"===a.A)&&a.c.fa("textTrackDisplay").Y(a))}function B(a){var b=a.split(":"),a=0,c,d,e;3==b.length?(c=b[0],d=b[1],
b=b[2]):(c=0,d=b[0],b=b[1]);b=b.split(/\s+/);b=b.splice(0,1)[0];b=b.split(/\.|,/);e=parseFloat(b[1]);b=b[0];a+=3600*parseFloat(c);a+=60*parseFloat(d);a+=parseFloat(b);e&&(a+=e/1E3);return a}function y(a,b){var c=a.split("."),d=Y;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&b!==z?d[e]=b:d=d[e]?d[e]:d[e]={}}var z=void 0,A=!0,D=null,C=!1,v;document.createElement("video");document.createElement("audio");document.createElement("track");var F=c;window.Wd=
window.Xd=c;c.Rb="4.5";c.Fc="https:"==document.location.protocol?"https://":"http://";c.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{}},notSupportedMessage:'Sorry, no compatible source and playback technology were found for this video. Try using another browser like <a href="http://bit.ly/ccMUEC">Chrome</a> or download the latest <a href="http://adobe.ly/mwfN1">Adobe Flash Player</a>.'};
"GENERATED_CDN_VSN"!==c.Rb&&(F.options.flash.swf=c.Fc+"vjs.zencdn.net/"+c.Rb+"/video-js.swf");c.va={};"function"===typeof define&&define.amd?define([],function(){return F}):"object"===typeof exports&&"object"===typeof module&&(module.exports=F);c.ka=c.CoreObject=b();c.ka.extend=function(a){var d,e,a=a||{};d=a.init||a.j||this.prototype.init||this.prototype.j||b();e=function(){d.apply(this,arguments)};e.prototype=c.l.create(this.prototype);e.prototype.constructor=e;e.extend=c.ka.extend;e.create=c.ka.create;
for(var g in a)a.hasOwnProperty(g)&&(e.prototype[g]=a[g]);return e};c.ka.create=function(){var a=c.l.create(this.prototype);this.apply(a,arguments);return a};c.d=function(a,b,d){var e=c.getData(a);e.z||(e.z={});e.z[b]||(e.z[b]=[]);d.s||(d.s=c.s++);e.z[b].push(d);e.V||(e.disabled=C,e.V=function(b){if(!e.disabled){var b=c.ic(b),d=e.z[b.type];if(d)for(var d=d.slice(0),g=0,f=d.length;g<f&&!b.pc();g++)d[g].call(a,b)}});1==e.z[b].length&&(document.addEventListener?a.addEventListener(b,e.V,C):document.attachEvent&&
a.attachEvent("on"+b,e.V))};c.o=function(a,b,d){if(c.mc(a)){var e=c.getData(a);if(e.z)if(b){var g=e.z[b];if(g){if(d){if(d.s)for(e=0;e<g.length;e++)g[e].s===d.s&&g.splice(e--,1)}else e.z[b]=[];c.ec(a,b)}}else for(g in e.z)b=g,e.z[b]=[],c.ec(a,b)}};c.ec=function(a,b){var d=c.getData(a);0===d.z[b].length&&(delete d.z[b],document.removeEventListener?a.removeEventListener(b,d.V,C):document.detachEvent&&a.detachEvent("on"+b,d.V));c.zb(d.z)&&(delete d.z,delete d.V,delete d.disabled);c.zb(d)&&c.uc(a)};c.ic=
function(a){function b(){return A}function c(){return C}if(!a||!a.Ab){var d=a||window.event,a={},e;for(e in d)"layerX"!==e&&"layerY"!==e&&"keyboardEvent.keyLocation"!==e&&("returnValue"==e&&d.preventDefault||(a[e]=d[e]));a.target||(a.target=a.srcElement||document);a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;a.preventDefault=function(){d.preventDefault&&d.preventDefault();a.returnValue=C;a.fd=b;a.defaultPrevented=A};a.fd=c;a.defaultPrevented=C;a.stopPropagation=function(){d.stopPropagation&&
d.stopPropagation();a.cancelBubble=A;a.Ab=b};a.Ab=c;a.stopImmediatePropagation=function(){d.stopImmediatePropagation&&d.stopImmediatePropagation();a.pc=b;a.stopPropagation()};a.pc=c;if(a.clientX!=D){e=document.documentElement;var g=document.body;a.pageX=a.clientX+(e&&e.scrollLeft||g&&g.scrollLeft||0)-(e&&e.clientLeft||g&&g.clientLeft||0);a.pageY=a.clientY+(e&&e.scrollTop||g&&g.scrollTop||0)-(e&&e.clientTop||g&&g.clientTop||0)}a.which=a.charCode||a.keyCode;a.button!=D&&(a.button=a.button&1?0:a.button&
4?1:a.button&2?2:0)}return a};c.k=function(a,b){var d=c.mc(a)?c.getData(a):{},e=a.parentNode||a.ownerDocument;"string"===typeof b&&(b={type:b,target:a});b=c.ic(b);d.V&&d.V.call(a,b);if(e&&!b.Ab()&&b.bubbles!==C)c.k(e,b);else if(!e&&!b.defaultPrevented&&(d=c.getData(b.target),b.target[b.type])){d.disabled=A;if("function"===typeof b.target[b.type])b.target[b.type]();d.disabled=C}return!b.defaultPrevented};c.U=function(a,b,d){function e(){c.o(a,b,e);d.apply(this,arguments)}e.s=d.s=d.s||c.s++;c.d(a,b,
e)};var H=Object.prototype.hasOwnProperty;c.e=function(a,b){var c,d;c=document.createElement(a||"div");for(d in b)H.call(b,d)&&(-1!==d.indexOf("aria-")||"role"==d?c.setAttribute(d,b[d]):c[d]=b[d]);return c};c.Z=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};c.l={};c.l.create=Object.create||function(a){function b(){}b.prototype=a;return new b};c.l.ra=function(a,b,c){for(var d in a)H.call(a,d)&&b.call(c||this,d,a[d])};c.l.B=function(a,b){if(!b)return a;for(var c in b)H.call(b,c)&&(a[c]=b[c]);
return a};c.l.Wc=function(a,b){var d,e,g,a=c.l.copy(a);for(d in b)H.call(b,d)&&(e=a[d],g=b[d],a[d]=c.l.Na(e)&&c.l.Na(g)?c.l.Wc(e,g):b[d]);return a};c.l.copy=function(a){return c.l.B({},a)};c.l.Na=function(a){return!!a&&"object"===typeof a&&"[object Object]"===a.toString()&&a.constructor===Object};c.bind=function(a,b,d){function e(){return b.apply(a,arguments)}b.s||(b.s=c.s++);e.s=d?d+"_"+b.s:b.s;return e};c.pa={};c.s=1;c.expando="vdata"+(new Date).getTime();c.getData=function(a){var b=a[c.expando];
b||(b=a[c.expando]=c.s++,c.pa[b]={});return c.pa[b]};c.mc=function(a){a=a[c.expando];return!(!a||c.zb(c.pa[a]))};c.uc=function(a){var b=a[c.expando];if(b){delete c.pa[b];try{delete a[c.expando]}catch(d){a.removeAttribute?a.removeAttribute(c.expando):a[c.expando]=D}}};c.zb=function(a){for(var b in a)if(a[b]!==D)return C;return A};c.n=function(a,b){-1==(" "+a.className+" ").indexOf(" "+b+" ")&&(a.className=""===a.className?b:a.className+" "+b)};c.t=function(a,b){var c,d;if(-1!=a.className.indexOf(b)){c=
a.className.split(" ");for(d=c.length-1;0<=d;d--)c[d]===b&&c.splice(d,1);a.className=c.join(" ")}};c.F=c.e("video");c.J=navigator.userAgent;c.Kc=/iPhone/i.test(c.J);c.Jc=/iPad/i.test(c.J);c.Lc=/iPod/i.test(c.J);c.Ic=c.Kc||c.Jc||c.Lc;var L=c,O=c.J.match(/OS (\d+)_/i);L.Kd=O&&O[1]?O[1]:z;c.Hc=/Android/i.test(c.J);var L=c,O=c.J.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),M,J;O?(M=O[1]&&parseFloat(O[1]),J=O[2]&&parseFloat(O[2]),v=M&&J?parseFloat(O[1]+"."+O[2]):M?M:D):v=D;L.Qb=v;c.Mc=c.Hc&&/webkit/i.test(c.J)&&
2.3>c.Qb;c.Ub=/Firefox/i.test(c.J);c.Ld=/Chrome/i.test(c.J);c.$b=!!("ontouchstart"in window||window.Gc&&document instanceof window.Gc);c.wb=function(a){var b,c,d,e;b={};if(a&&a.attributes&&0<a.attributes.length){c=a.attributes;for(var g=c.length-1;0<=g;g--){d=c[g].name;e=c[g].value;if("boolean"===typeof a[d]||-1!==",autoplay,controls,loop,muted,default,".indexOf(","+d+","))e=e!==D?A:C;b[d]=e}}return b};c.Pd=function(a,b){var c="";document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,
"").getPropertyValue(b):a.currentStyle&&(c=a["client"+b.substr(0,1).toUpperCase()+b.substr(1)]+"px");return c};c.yb=function(a,b){b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a)};c.Nb={};c.u=function(a){0===a.indexOf("#")&&(a=a.slice(1));return document.getElementById(a)};c.ta=function(a,b){var b=b||a,c=Math.floor(a%60),d=Math.floor(a/60%60),e=Math.floor(a/3600),g=Math.floor(b/60%60),f=Math.floor(b/3600);if(isNaN(a)||Infinity===a)e=d=c="-";e=0<e||0<f?e+":":"";return e+(((e||10<=g)&&10>
d?"0"+d:d)+":")+(10>c?"0"+c:c)};c.Sc=function(){document.body.focus();document.onselectstart=d(C)};c.Ed=function(){document.onselectstart=d(A)};c.trim=function(a){return(a+"").replace(/^\s+|\s+$/g,"")};c.round=function(a,b){b||(b=0);return Math.round(a*Math.pow(10,b))/Math.pow(10,b)};c.sb=function(a,b){return{length:1,start:function(){return a},end:function(){return b}}};c.get=function(a,b,c){var d,e;"undefined"===typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw Error("This browser does not support XMLHttpRequest.");
});e=new XMLHttpRequest;try{e.open("GET",a)}catch(g){c(g)}d=0===a.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===a.indexOf("http");e.onreadystatechange=function(){4===e.readyState&&(200===e.status||d&&0===e.status?b(e.responseText):c&&c())};try{e.send()}catch(f){c&&c(f)}};c.wd=function(a){try{var b=window.localStorage||C;b&&(b.volume=a)}catch(d){22==d.code||1014==d.code?c.log("LocalStorage Full (VideoJS)",d):18==d.code?c.log("LocalStorage not allowed (VideoJS)",d):c.log("LocalStorage Error (VideoJS)",
d)}};c.kc=function(a){a.match(/^https?:\/\//)||(a=c.e("div",{innerHTML:'<a href="'+a+'">x</a>'}).firstChild.href);return a};c.log=function(){c.log.history=c.log.history||[];c.log.history.push(arguments);window.console&&window.console.log(Array.prototype.slice.call(arguments))};c.cd=function(a){var b,d;a.getBoundingClientRect&&a.parentNode&&(b=a.getBoundingClientRect());if(!b)return{left:0,top:0};a=document.documentElement;d=document.body;return{left:c.round(b.left+(window.pageXOffset||d.scrollLeft)-
(a.clientLeft||d.clientLeft||0)),top:c.round(b.top+(window.pageYOffset||d.scrollTop)-(a.clientTop||d.clientTop||0))}};c.ja={};c.ja.Eb=function(a,b){var d,e,g,a=c.l.copy(a);for(d in b)b.hasOwnProperty(d)&&(e=a[d],g=b[d],a[d]=c.l.Na(e)&&c.l.Na(g)?c.ja.Eb(e,g):b[d]);return a};c.b=c.ka.extend({j:function(a,b,d){this.c=a;this.h=c.l.copy(this.h);b=this.options(b);this.R=b.id||(b.el&&b.el.id?b.el.id:a.id()+"_component_"+c.s++);this.ld=b.name||D;this.a=b.el||this.e();this.K=[];this.Ja={};this.Ka={};this.nc();
this.I(d);if(b.vc!==C){var e,g;e=c.bind(this.C(),this.C().reportUserActivity);this.d("touchstart",function(){e();clearInterval(g);g=setInterval(e,250)});a=function(){e();clearInterval(g)};this.d("touchmove",e);this.d("touchend",a);this.d("touchcancel",a)}}});v=c.b.prototype;v.dispose=function(){this.k({type:"dispose",bubbles:C});if(this.K)for(var a=this.K.length-1;0<=a;a--)this.K[a].dispose&&this.K[a].dispose();this.Ka=this.Ja=this.K=D;this.o();this.a.parentNode&&this.a.parentNode.removeChild(this.a);
c.uc(this.a);this.a=D};v.c=A;v.C=a("c");v.options=function(a){return a===z?this.h:this.h=c.ja.Eb(this.h,a)};v.e=function(a,b){return c.e(a,b)};v.u=a("a");v.La=function(){return this.G||this.a};v.id=a("R");v.name=a("ld");v.children=a("K");v.ed=function(a){return this.Ja[a]};v.fa=function(a){return this.Ka[a]};v.Y=function(a,b){var d,e;"string"===typeof a?(e=a,b=b||{},d=b.componentClass||c.Z(e),b.name=e,d=new window.videojs[d](this.c||this,b)):d=a;this.K.push(d);"function"===typeof d.id&&(this.Ja[d.id()]=
d);(e=e||d.name&&d.name())&&(this.Ka[e]=d);"function"===typeof d.el&&d.el()&&this.La().appendChild(d.el());return d};v.removeChild=function(a){"string"===typeof a&&(a=this.fa(a));if(a&&this.K){for(var b=C,c=this.K.length-1;0<=c;c--)if(this.K[c]===a){b=A;this.K.splice(c,1);break}b&&(this.Ja[a.id]=D,this.Ka[a.name]=D,(b=a.u())&&b.parentNode===this.La()&&this.La().removeChild(a.u()))}};v.nc=function(){var a=this.h;if(a&&a.children){var b=this;c.l.ra(a.children,function(a,c){c!==C&&!c.loadEvent&&(b[a]=
b.Y(a,c))})}};v.Q=d("");v.d=function(a,b){c.d(this.a,a,c.bind(this,b));return this};v.o=function(a,b){c.o(this.a,a,b);return this};v.U=function(a,b){c.U(this.a,a,c.bind(this,b));return this};v.k=function(a,b){c.k(this.a,a,b);return this};v.I=function(a){a&&(this.aa?a.call(this):(this.Ua===z&&(this.Ua=[]),this.Ua.push(a)));return this};v.za=function(){this.aa=A;var a=this.Ua;if(a&&0<a.length){for(var b=0,c=a.length;b<c;b++)a[b].call(this);this.Ua=[];this.k("ready")}};v.n=function(a){c.n(this.a,a);
return this};v.t=function(a){c.t(this.a,a);return this};v.show=function(){this.a.style.display="block";return this};v.D=function(){this.a.style.display="none";return this};v.disable=function(){this.D();this.show=b()};v.width=function(a,b){return f(this,"width",a,b)};v.height=function(a,b){return f(this,"height",a,b)};v.Yc=function(a,b){return this.width(a,A).height(b)};c.q=c.b.extend({j:function(a,b){c.b.call(this,a,b);var d=C;this.d("touchstart",function(a){a.preventDefault();d=A});this.d("touchmove",
function(){d=C});var e=this;this.d("touchend",function(a){d&&e.p(a);a.preventDefault()});this.d("click",this.p);this.d("focus",this.Qa);this.d("blur",this.Pa)}});v=c.q.prototype;v.e=function(a,b){b=c.l.B({className:this.Q(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+(this.oa||"Need Text")+"</span></div>",role:"button","aria-live":"polite",tabIndex:0},b);return c.b.prototype.e.call(this,a,b)};v.Q=function(){return"vjs-control "+c.b.prototype.Q.call(this)};v.p=b();
v.Qa=function(){c.d(document,"keyup",c.bind(this,this.ba))};v.ba=function(a){if(32==a.which||13==a.which)a.preventDefault(),this.p()};v.Pa=function(){c.o(document,"keyup",c.bind(this,this.ba))};c.O=c.b.extend({j:function(a,b){c.b.call(this,a,b);this.Rc=this.fa(this.h.barName);this.handle=this.fa(this.h.handleName);a.d(this.sc,c.bind(this,this.update));this.d("mousedown",this.Ra);this.d("touchstart",this.Ra);this.d("focus",this.Qa);this.d("blur",this.Pa);this.d("click",this.p);this.c.d("controlsvisible",
c.bind(this,this.update));a.I(c.bind(this,this.update));this.P={}}});v=c.O.prototype;v.e=function(a,b){b=b||{};b.className+=" vjs-slider";b=c.l.B({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},b);return c.b.prototype.e.call(this,a,b)};v.Ra=function(a){a.preventDefault();c.Sc();this.P.move=c.bind(this,this.Gb);this.P.end=c.bind(this,this.Hb);c.d(document,"mousemove",this.P.move);c.d(document,"mouseup",this.P.end);c.d(document,"touchmove",this.P.move);c.d(document,
"touchend",this.P.end);this.Gb(a)};v.Hb=function(){c.Ed();c.o(document,"mousemove",this.P.move,C);c.o(document,"mouseup",this.P.end,C);c.o(document,"touchmove",this.P.move,C);c.o(document,"touchend",this.P.end,C);this.update()};v.update=function(){if(this.a){var a,b=this.xb(),d=this.handle,e=this.Rc;isNaN(b)&&(b=0);a=b;if(d){a=this.a.offsetWidth;var g=d.u().offsetWidth;a=g?g/a:0;b*=1-a;a=b+a/2;d.u().style.left=c.round(100*b,2)+"%"}e.u().style.width=c.round(100*a,2)+"%"}};v.Qa=function(){c.d(document,
"keyup",c.bind(this,this.ba))};v.ba=function(a){37==a.which?(a.preventDefault(),this.yc()):39==a.which&&(a.preventDefault(),this.zc())};v.Pa=function(){c.o(document,"keyup",c.bind(this,this.ba))};v.p=function(a){a.stopImmediatePropagation();a.preventDefault()};c.W=c.b.extend();c.W.prototype.defaultValue=0;c.W.prototype.e=function(a,b){b=b||{};b.className+=" vjs-slider-handle";b=c.l.B({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},b);return c.b.prototype.e.call(this,"div",
b)};c.la=c.b.extend();c.la.prototype.e=function(){var a=this.options().Uc||"ul";this.G=c.e(a,{className:"vjs-menu-content"});a=c.b.prototype.e.call(this,"div",{append:this.G,className:"vjs-menu"});a.appendChild(this.G);c.d(a,"click",function(a){a.preventDefault();a.stopImmediatePropagation()});return a};c.N=c.q.extend({j:function(a,b){c.q.call(this,a,b);this.selected(b.selected)}});c.N.prototype.e=function(a,b){return c.q.prototype.e.call(this,"li",c.l.B({className:"vjs-menu-item",innerHTML:this.h.label},
b))};c.N.prototype.p=function(){this.selected(A)};c.N.prototype.selected=function(a){a?(this.n("vjs-selected"),this.a.setAttribute("aria-selected",A)):(this.t("vjs-selected"),this.a.setAttribute("aria-selected",C))};c.S=c.q.extend({j:function(a,b){c.q.call(this,a,b);this.ua=this.Ma();this.Y(this.ua);this.L&&0===this.L.length&&this.D();this.d("keyup",this.ba);this.a.setAttribute("aria-haspopup",A);this.a.setAttribute("role","button")}});v=c.S.prototype;v.na=C;v.Ma=function(){var a=new c.la(this.c);
this.options().title&&a.u().appendChild(c.e("li",{className:"vjs-menu-title",innerHTML:c.Z(this.A),Cd:-1}));if(this.L=this.createItems())for(var b=0;b<this.L.length;b++)h(a,this.L[b]);return a};v.qa=b();v.Q=function(){return this.className+" vjs-menu-button "+c.q.prototype.Q.call(this)};v.Qa=b();v.Pa=b();v.p=function(){this.U("mouseout",c.bind(this,function(){e(this.ua);this.a.blur()}));this.na?l(this):j(this)};v.ba=function(a){a.preventDefault();32==a.which||13==a.which?this.na?l(this):j(this):27==
a.which&&this.na&&l(this)};c.Player=c.b.extend({j:function(a,b,d){this.M=a;a.id=a.id||"vjs_video_"+c.s++;b=c.l.B(m(a),b);this.v={};this.tc=b.poster;this.rb=b.controls;a.controls=C;b.vc=C;c.b.call(this,this,b,d);this.controls()?this.n("vjs-controls-enabled"):this.n("vjs-controls-disabled");this.U("play",function(a){c.k(this.a,{type:"firstplay",target:this.a})||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())});this.d("ended",this.md);this.d("play",this.Jb);this.d("firstplay",this.nd);
this.d("pause",this.Ib);this.d("progress",this.pd);this.d("durationchange",this.qc);this.d("error",this.Fb);this.d("fullscreenchange",this.od);c.va[this.R]=this;b.plugins&&c.l.ra(b.plugins,function(a,b){this[a](b)},this);var e,g,f,h;e=c.bind(this,this.reportUserActivity);this.d("mousedown",function(){e();clearInterval(g);g=setInterval(e,250)});this.d("mousemove",e);this.d("mouseup",function(){e();clearInterval(g)});this.d("keydown",e);this.d("keyup",e);f=setInterval(c.bind(this,function(){this.ia&&
(this.ia=C,this.userActive(A),clearTimeout(h),h=setTimeout(c.bind(this,function(){this.ia||this.userActive(C)}),2E3))}),250);this.d("dispose",function(){clearInterval(f);clearTimeout(h)})}});v=c.Player.prototype;v.h=c.options;v.dispose=function(){this.k("dispose");this.o("dispose");c.va[this.R]=D;this.M&&this.M.player&&(this.M.player=D);this.a&&this.a.player&&(this.a.player=D);clearInterval(this.Ta);this.wa();this.i&&this.i.dispose();c.b.prototype.dispose.call(this)};v.e=function(){var a=this.a=c.b.prototype.e.call(this,
"div"),b=this.M;b.removeAttribute("width");b.removeAttribute("height");if(b.hasChildNodes()){var d,e,g,f,h;d=b.childNodes;e=d.length;for(h=[];e--;)g=d[e],f=g.nodeName.toLowerCase(),"track"===f&&h.push(g);for(d=0;d<h.length;d++)b.removeChild(h[d])}a.id=b.id;a.className=b.className;b.id+="_html5_api";b.className="vjs-tech";b.player=a.player=this;this.n("vjs-paused");this.width(this.h.width,A);this.height(this.h.height,A);b.parentNode&&b.parentNode.insertBefore(a,b);c.yb(b,a);return a};v.Cc=function(){this.fc&&
this.wa();this.fc=setInterval(c.bind(this,function(){this.k("timeupdate")}),250)};v.wa=function(){clearInterval(this.fc)};v.Jb=function(){c.t(this.a,"vjs-paused");c.n(this.a,"vjs-playing")};v.nd=function(){this.h.starttime&&this.currentTime(this.h.starttime);this.n("vjs-has-started")};v.Ib=function(){c.t(this.a,"vjs-playing");c.n(this.a,"vjs-paused")};v.pd=function(){1==this.bufferedPercent()&&this.k("loadedalldata")};v.md=function(){this.h.loop&&(this.currentTime(0),this.play())};v.qc=function(){var a=
r(this,"duration");a&&this.duration(a)};v.od=function(){this.isFullScreen()?this.n("vjs-fullscreen"):this.t("vjs-fullscreen")};v.Fb=function(a){c.log("Video Error",a)};v.play=function(){q(this,"play");return this};v.pause=function(){q(this,"pause");return this};v.paused=function(){return r(this,"paused")===C?C:A};v.currentTime=function(a){return a!==z?(q(this,"setCurrentTime",a),this.Db&&this.k("timeupdate"),this):this.v.currentTime=r(this,"currentTime")||0};v.duration=function(a){if(a!==z)return this.v.duration=
parseFloat(a),this;this.v.duration===z&&this.qc();return this.v.duration||0};v.buffered=function(){var a=r(this,"buffered"),b=a.length-1,d=this.v.mb=this.v.mb||0;a&&0<=b&&a.end(b)!==d&&(d=a.end(b),this.v.mb=d);return c.sb(0,d)};v.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0};v.volume=function(a){if(a!==z)return a=Math.max(0,Math.min(1,parseFloat(a))),this.v.volume=a,q(this,"setVolume",a),c.wd(a),this;a=parseFloat(r(this,"volume"));return isNaN(a)?1:a};
v.muted=function(a){return a!==z?(q(this,"setMuted",a),this):r(this,"muted")||C};v.Wa=function(){return r(this,"supportsFullScreen")||C};v.oc=C;v.isFullScreen=function(a){return a!==z?(this.oc=a,this):this.oc};v.requestFullScreen=function(){var a=c.Nb.requestFullScreen;this.isFullScreen(A);a?(c.d(document,a.ub,c.bind(this,function(b){this.isFullScreen(document[a.isFullScreen]);this.isFullScreen()===C&&c.o(document,a.ub,arguments.callee);this.k("fullscreenchange")})),this.a[a.wc]()):this.i.Wa()?q(this,
"enterFullScreen"):(this.gd=A,this.Zc=document.documentElement.style.overflow,c.d(document,"keydown",c.bind(this,this.jc)),document.documentElement.style.overflow="hidden",c.n(document.body,"vjs-full-window"),this.k("enterFullWindow"),this.k("fullscreenchange"));return this};v.cancelFullScreen=function(){var a=c.Nb.requestFullScreen;this.isFullScreen(C);if(a)document[a.ob]();else this.i.Wa()?q(this,"exitFullScreen"):(s(this),this.k("fullscreenchange"));return this};v.jc=function(a){27===a.keyCode&&
(this.isFullScreen()===A?this.cancelFullScreen():s(this))};v.src=function(a){if(a===z)return r(this,"src");if(a instanceof Array){var b;a:{b=a;for(var d=0,e=this.h.techOrder;d<e.length;d++){var g=c.Z(e[d]),f=window.videojs[g];if(f.isSupported())for(var h=0,j=b;h<j.length;h++){var l=j[h];if(f.canPlaySource(l)){b={source:l,i:g};break a}}}b=C}b?(a=b.source,b=b.i,b==this.xa?this.src(a):n(this,b,a)):(this.a.appendChild(c.e("p",{innerHTML:this.options().notSupportedMessage})),this.za())}else a instanceof
Object?window.videojs[this.xa].canPlaySource(a)?this.src(a.src):this.src([a]):(this.v.src=a,this.aa?(q(this,"src",a),"auto"==this.h.preload&&this.load(),this.h.autoplay&&this.play()):this.I(function(){this.src(a)}));return this};v.load=function(){q(this,"load");return this};v.currentSrc=function(){return r(this,"currentSrc")||this.v.src||""};v.Sa=function(a){return a!==z?(q(this,"setPreload",a),this.h.preload=a,this):r(this,"preload")};v.autoplay=function(a){return a!==z?(q(this,"setAutoplay",a),
this.h.autoplay=a,this):r(this,"autoplay")};v.loop=function(a){return a!==z?(q(this,"setLoop",a),this.h.loop=a,this):r(this,"loop")};v.poster=function(a){if(a===z)return this.tc;this.tc=a;q(this,"setPoster",a);this.k("posterchange")};v.controls=function(a){return a!==z?(a=!!a,this.rb!==a&&((this.rb=a)?(this.t("vjs-controls-disabled"),this.n("vjs-controls-enabled"),this.k("controlsenabled")):(this.t("vjs-controls-enabled"),this.n("vjs-controls-disabled"),this.k("controlsdisabled"))),this):this.rb};
c.Player.prototype.Pb;v=c.Player.prototype;v.usingNativeControls=function(a){return a!==z?(a=!!a,this.Pb!==a&&((this.Pb=a)?(this.n("vjs-using-native-controls"),this.k("usingnativecontrols")):(this.t("vjs-using-native-controls"),this.k("usingcustomcontrols"))),this):this.Pb};v.error=function(){return r(this,"error")};v.ended=function(){return r(this,"ended")};v.seeking=function(){return r(this,"seeking")};v.ia=A;v.reportUserActivity=function(){this.ia=A};v.Ob=A;v.userActive=function(a){return a!==
z?(a=!!a,a!==this.Ob&&((this.Ob=a)?(this.ia=A,this.t("vjs-user-inactive"),this.n("vjs-user-active"),this.k("useractive")):(this.ia=C,this.i&&this.i.U("mousemove",function(a){a.stopPropagation();a.preventDefault()}),this.t("vjs-user-active"),this.n("vjs-user-inactive"),this.k("userinactive"))),this):this.Ob};var I;M=document.createElement("div");v={};M.Md!==z?(v.wc="requestFullscreen",v.ob="exitFullscreen",v.ub="fullscreenchange",v.isFullScreen="fullScreen"):(document.mozCancelFullScreen?(I="moz",
v.isFullScreen=I+"FullScreen"):(I="webkit",v.isFullScreen=I+"IsFullScreen"),M[I+"RequestFullScreen"]&&(v.wc=I+"RequestFullScreen",v.ob=I+"CancelFullScreen"),v.ub=I+"fullscreenchange");document[v.ob]&&(c.Nb.requestFullScreen=v);c.Da=c.b.extend();c.Da.prototype.h={Rd:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{}}};c.Da.prototype.e=function(){return c.e("div",{className:"vjs-control-bar"})};
c.Xb=c.q.extend({j:function(a,b){c.q.call(this,a,b);a.d("play",c.bind(this,this.Jb));a.d("pause",c.bind(this,this.Ib))}});v=c.Xb.prototype;v.oa="Play";v.Q=function(){return"vjs-play-control "+c.q.prototype.Q.call(this)};v.p=function(){this.c.paused()?this.c.play():this.c.pause()};v.Jb=function(){c.t(this.a,"vjs-paused");c.n(this.a,"vjs-playing");this.a.children[0].children[0].innerHTML="Pause"};v.Ib=function(){c.t(this.a,"vjs-playing");c.n(this.a,"vjs-paused");this.a.children[0].children[0].innerHTML=
"Play"};c.$a=c.b.extend({j:function(a,b){c.b.call(this,a,b);a.d("timeupdate",c.bind(this,this.da))}});c.$a.prototype.e=function(){var a=c.b.prototype.e.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});this.G=c.e("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"});a.appendChild(this.G);return a};c.$a.prototype.da=function(){var a=this.c.Va?this.c.v.currentTime:this.c.currentTime();this.G.innerHTML=
'<span class="vjs-control-text">Current Time </span>'+c.ta(a,this.c.duration())};c.ab=c.b.extend({j:function(a,b){c.b.call(this,a,b);a.d("timeupdate",c.bind(this,this.da))}});c.ab.prototype.e=function(){var a=c.b.prototype.e.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});this.G=c.e("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"});a.appendChild(this.G);return a};c.ab.prototype.da=function(){var a=
this.c.duration();a&&(this.G.innerHTML='<span class="vjs-control-text">Duration Time </span>'+c.ta(a))};c.bc=c.b.extend({j:function(a,b){c.b.call(this,a,b)}});c.bc.prototype.e=function(){return c.b.prototype.e.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})};c.gb=c.b.extend({j:function(a,b){c.b.call(this,a,b);a.d("timeupdate",c.bind(this,this.da))}});c.gb.prototype.e=function(){var a=c.b.prototype.e.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});
this.G=c.e("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"});a.appendChild(this.G);return a};c.gb.prototype.da=function(){this.c.duration()&&(this.G.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+c.ta(this.c.duration()-this.c.currentTime()))};c.Ea=c.q.extend({j:function(a,b){c.q.call(this,a,b)}});c.Ea.prototype.oa="Fullscreen";c.Ea.prototype.Q=function(){return"vjs-fullscreen-control "+c.q.prototype.Q.call(this)};
c.Ea.prototype.p=function(){this.c.isFullScreen()?(this.c.cancelFullScreen(),this.a.children[0].children[0].innerHTML="Fullscreen"):(this.c.requestFullScreen(),this.a.children[0].children[0].innerHTML="Non-Fullscreen")};c.fb=c.b.extend({j:function(a,b){c.b.call(this,a,b)}});c.fb.prototype.h={children:{seekBar:{}}};c.fb.prototype.e=function(){return c.b.prototype.e.call(this,"div",{className:"vjs-progress-control vjs-control"})};c.Yb=c.O.extend({j:function(a,b){c.O.call(this,a,b);a.d("timeupdate",
c.bind(this,this.Aa));a.I(c.bind(this,this.Aa))}});v=c.Yb.prototype;v.h={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"};v.sc="timeupdate";v.e=function(){return c.O.prototype.e.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})};v.Aa=function(){var a=this.c.Va?this.c.v.currentTime:this.c.currentTime();this.a.setAttribute("aria-valuenow",c.round(100*this.xb(),2));this.a.setAttribute("aria-valuetext",
c.ta(a,this.c.duration()))};v.xb=function(){return this.c.currentTime()/this.c.duration()};v.Ra=function(a){c.O.prototype.Ra.call(this,a);this.c.Va=A;this.Hd=!this.c.paused();this.c.pause()};v.Gb=function(a){a=g(this,a)*this.c.duration();a==this.c.duration()&&(a-=0.1);this.c.currentTime(a)};v.Hb=function(a){c.O.prototype.Hb.call(this,a);this.c.Va=C;this.Hd&&this.c.play()};v.zc=function(){this.c.currentTime(this.c.currentTime()+5)};v.yc=function(){this.c.currentTime(this.c.currentTime()-5)};c.cb=c.b.extend({j:function(a,
b){c.b.call(this,a,b);a.d("progress",c.bind(this,this.update))}});c.cb.prototype.e=function(){return c.b.prototype.e.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})};c.cb.prototype.update=function(){this.a.style&&(this.a.style.width=c.round(100*this.c.bufferedPercent(),2)+"%")};c.Wb=c.b.extend({j:function(a,b){c.b.call(this,a,b)}});c.Wb.prototype.e=function(){return c.b.prototype.e.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})};
c.Ga=c.W.extend({j:function(a,b){c.W.call(this,a,b);a.d("timeupdate",c.bind(this,this.da))}});c.Ga.prototype.defaultValue="00:00";c.Ga.prototype.e=function(){return c.W.prototype.e.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})};c.Ga.prototype.da=function(){var a=this.c.Va?this.c.v.currentTime:this.c.currentTime();this.a.innerHTML='<span class="vjs-control-text">'+c.ta(a,this.c.duration())+"</span>"};c.ib=c.b.extend({j:function(a,b){c.b.call(this,a,b);a.i&&a.i.m&&a.i.m.volumeControl===
C&&this.n("vjs-hidden");a.d("loadstart",c.bind(this,function(){a.i.m&&a.i.m.volumeControl===C?this.n("vjs-hidden"):this.t("vjs-hidden")}))}});c.ib.prototype.h={children:{volumeBar:{}}};c.ib.prototype.e=function(){return c.b.prototype.e.call(this,"div",{className:"vjs-volume-control vjs-control"})};c.hb=c.O.extend({j:function(a,b){c.O.call(this,a,b);a.d("volumechange",c.bind(this,this.Aa));a.I(c.bind(this,this.Aa));setTimeout(c.bind(this,this.update),0)}});v=c.hb.prototype;v.Aa=function(){this.a.setAttribute("aria-valuenow",
c.round(100*this.c.volume(),2));this.a.setAttribute("aria-valuetext",c.round(100*this.c.volume(),2)+"%")};v.h={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"};v.sc="volumechange";v.e=function(){return c.O.prototype.e.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})};v.Gb=function(a){this.c.muted()&&this.c.muted(C);this.c.volume(g(this,a))};v.xb=function(){return this.c.muted()?0:this.c.volume()};v.zc=function(){this.c.volume(this.c.volume()+
0.1)};v.yc=function(){this.c.volume(this.c.volume()-0.1)};c.cc=c.b.extend({j:function(a,b){c.b.call(this,a,b)}});c.cc.prototype.e=function(){return c.b.prototype.e.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})};c.jb=c.W.extend();c.jb.prototype.defaultValue="00:00";c.jb.prototype.e=function(){return c.W.prototype.e.call(this,"div",{className:"vjs-volume-handle"})};c.ea=c.q.extend({j:function(a,b){c.q.call(this,a,b);a.d("volumechange",c.bind(this,
this.update));a.i&&a.i.m&&a.i.m.volumeControl===C&&this.n("vjs-hidden");a.d("loadstart",c.bind(this,function(){a.i.m&&a.i.m.volumeControl===C?this.n("vjs-hidden"):this.t("vjs-hidden")}))}});c.ea.prototype.e=function(){return c.q.prototype.e.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};c.ea.prototype.p=function(){this.c.muted(this.c.muted()?C:A)};c.ea.prototype.update=function(){var a=this.c.volume(),b=3;0===a||this.c.muted()?
b=0:0.33>a?b=1:0.67>a&&(b=2);this.c.muted()?"Unmute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.a.children[0].children[0].innerHTML&&(this.a.children[0].children[0].innerHTML="Mute");for(a=0;4>a;a++)c.t(this.a,"vjs-vol-"+a);c.n(this.a,"vjs-vol-"+b)};c.ma=c.S.extend({j:function(a,b){c.S.call(this,a,b);a.d("volumechange",c.bind(this,this.update));a.i&&a.i.m&&a.i.m.Dc===C&&this.n("vjs-hidden");a.d("loadstart",c.bind(this,function(){a.i.m&&
a.i.m.Dc===C?this.n("vjs-hidden"):this.t("vjs-hidden")}));this.n("vjs-menu-button")}});c.ma.prototype.Ma=function(){var a=new c.la(this.c,{Uc:"div"}),b=new c.hb(this.c,c.l.B({Gd:A},this.h.Yd));a.Y(b);return a};c.ma.prototype.p=function(){c.ea.prototype.p.call(this);c.S.prototype.p.call(this)};c.ma.prototype.e=function(){return c.q.prototype.e.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})};c.ma.prototype.update=
c.ea.prototype.update;c.Fa=c.q.extend({j:function(a,b){c.q.call(this,a,b);a.poster()&&this.src(a.poster());(!a.poster()||!a.controls())&&this.D();a.d("posterchange",c.bind(this,function(){this.src(a.poster())}));a.d("play",c.bind(this,this.D))}});var E="backgroundSize"in c.F.style;c.Fa.prototype.e=function(){var a=c.e("div",{className:"vjs-poster",tabIndex:-1});E||a.appendChild(c.e("img"));return a};c.Fa.prototype.src=function(a){var b=this.u();a!==z&&(E?b.style.backgroundImage='url("'+a+'")':b.firstChild.src=
a)};c.Fa.prototype.p=function(){this.C().controls()&&this.c.play()};c.Vb=c.b.extend({j:function(a,b){c.b.call(this,a,b);a.d("canplay",c.bind(this,this.D));a.d("canplaythrough",c.bind(this,this.D));a.d("playing",c.bind(this,this.D));a.d("seeking",c.bind(this,this.show));a.d("seeked",c.bind(this,this.D));a.d("error",c.bind(this,this.show));a.d("ended",c.bind(this,this.D));a.d("waiting",c.bind(this,this.show))}});c.Vb.prototype.e=function(){return c.b.prototype.e.call(this,"div",{className:"vjs-loading-spinner"})};
c.Ya=c.q.extend();c.Ya.prototype.e=function(){return c.q.prototype.e.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})};c.Ya.prototype.p=function(){this.c.play()};c.r=c.b.extend({j:function(a,b,d){b=b||{};b.vc=C;c.b.call(this,a,b,d);var e,g;g=this;e=this.C();a=function(){if(e.controls()&&!e.usingNativeControls()){var a;g.d("mousedown",g.p);g.d("touchstart",function(b){b.preventDefault();a=this.c.userActive()});g.d("touchmove",
function(){a&&this.C().reportUserActivity()});var b,c,d,f;b=0;g.d("touchstart",function(){b=(new Date).getTime();d=A});f=function(){d=C};g.d("touchmove",f);g.d("touchleave",f);g.d("touchcancel",f);g.d("touchend",function(){d===A&&(c=(new Date).getTime()-b,250>c&&this.k("tap"))});g.d("tap",g.qd)}};b=c.bind(g,g.td);this.I(a);e.d("controlsenabled",a);e.d("controlsdisabled",b)}});v=c.r.prototype;v.td=function(){this.o("tap");this.o("touchstart");this.o("touchmove");this.o("touchleave");this.o("touchcancel");
this.o("touchend");this.o("click");this.o("mousedown")};v.p=function(a){0===a.button&&this.C().controls()&&(this.C().paused()?this.C().play():this.C().pause())};v.qd=function(){this.C().userActive(!this.C().userActive())};v.Lb=b();v.m={volumeControl:A,fullscreenResize:C,progressEvents:C,timeupdateEvents:C};c.media={};c.media.Xa="play pause paused currentTime setCurrentTime duration buffered volume setVolume muted setMuted width height supportsFullScreen enterFullScreen src load currentSrc preload setPreload autoplay setAutoplay loop setLoop error networkState readyState seeking initialTime startOffsetTime played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks defaultPlaybackRate playbackRate mediaGroup controller controls defaultMuted".split(" ");
for(var N=c.media.Xa.length-1;0<=N;N--)c.r.prototype[c.media.Xa[N]]=o();c.g=c.r.extend({j:function(a,b,d){this.m.volumeControl=c.g.Tc();this.m.movingMediaElementInDOM=!c.Ic;this.m.fullscreenResize=A;c.r.call(this,a,b,d);for(d=c.g.bb.length-1;0<=d;d--)c.d(this.a,c.g.bb[d],c.bind(this.c,this.ad));(b=b.source)&&this.a.currentSrc===b.src&&0<this.a.networkState?a.k("loadstart"):b&&(this.a.src=b.src);if(c.$b&&a.options().nativeControlsForTouch!==C){var e,g,f,h;e=this;g=this.C();b=g.controls();e.a.controls=
!!b;f=function(){e.a.controls=A};h=function(){e.a.controls=C};g.d("controlsenabled",f);g.d("controlsdisabled",h);b=function(){g.o("controlsenabled",f);g.o("controlsdisabled",h)};e.d("dispose",b);g.d("usingcustomcontrols",b);g.usingNativeControls(A)}a.I(function(){this.M&&this.h.autoplay&&this.paused()&&(delete this.M.poster,this.play())});this.za()}});v=c.g.prototype;v.dispose=function(){c.r.prototype.dispose.call(this)};v.e=function(){var a=this.c,b=a.M,d;if(!b||this.m.movingMediaElementInDOM===
C)b?(d=b.cloneNode(C),c.g.gc(b),b=d,a.M=D):b=c.e("video",{id:a.id()+"_html5_api",className:"vjs-tech"}),b.player=a,c.yb(b,a.u());d=["autoplay","preload","loop","muted"];for(var e=d.length-1;0<=e;e--){var g=d[e];a.h[g]!==D&&(b[g]=a.h[g])}return b};v.ad=function(a){this.k(a);a.stopPropagation()};v.play=function(){this.a.play()};v.pause=function(){this.a.pause()};v.paused=function(){return this.a.paused};v.currentTime=function(){return this.a.currentTime};v.vd=function(a){try{this.a.currentTime=a}catch(b){c.log(b,
"Video is not ready. (Video.js)")}};v.duration=function(){return this.a.duration||0};v.buffered=function(){return this.a.buffered};v.volume=function(){return this.a.volume};v.Ad=function(a){this.a.volume=a};v.muted=function(){return this.a.muted};v.yd=function(a){this.a.muted=a};v.width=function(){return this.a.offsetWidth};v.height=function(){return this.a.offsetHeight};v.Wa=function(){return"function"==typeof this.a.webkitEnterFullScreen&&(/Android/.test(c.J)||!/Chrome|Mac OS X 10.5/.test(c.J))?
A:C};v.hc=function(){var a=this.a;a.paused&&a.networkState<=a.Jd?(this.a.play(),setTimeout(function(){a.pause();a.webkitEnterFullScreen()},0)):a.webkitEnterFullScreen()};v.bd=function(){this.a.webkitExitFullScreen()};v.src=function(a){this.a.src=a};v.load=function(){this.a.load()};v.currentSrc=function(){return this.a.currentSrc};v.poster=function(){return this.a.poster};v.Lb=function(a){this.a.poster=a};v.Sa=function(){return this.a.Sa};v.zd=function(a){this.a.Sa=a};v.autoplay=function(){return this.a.autoplay};
v.ud=function(a){this.a.autoplay=a};v.controls=function(){return this.a.controls};v.loop=function(){return this.a.loop};v.xd=function(a){this.a.loop=a};v.error=function(){return this.a.error};v.seeking=function(){return this.a.seeking};v.ended=function(){return this.a.ended};c.g.isSupported=function(){try{c.F.volume=0.5}catch(a){return C}return!!c.F.canPlayType};c.g.nb=function(a){try{return!!c.F.canPlayType(a.type)}catch(b){return""}};c.g.Tc=function(){var a=c.F.volume;c.F.volume=a/2+0.1;return a!==
c.F.volume};var P,K=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,T=/^video\/mp4/i;c.g.rc=function(){4<=c.Qb&&(P||(P=c.F.constructor.prototype.canPlayType),c.F.constructor.prototype.canPlayType=function(a){return a&&K.test(a)?"maybe":P.call(this,a)});c.Mc&&(P||(P=c.F.constructor.prototype.canPlayType),c.F.constructor.prototype.canPlayType=function(a){return a&&T.test(a)?"maybe":P.call(this,a)})};c.g.Fd=function(){var a=c.F.constructor.prototype.canPlayType;c.F.constructor.prototype.canPlayType=P;P=
D;return a};c.g.rc();c.g.bb="loadstart suspend abort error emptied stalled loadedmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate progress play pause ratechange volumechange".split(" ");c.g.gc=function(a){if(a){a.player=D;for(a.parentNode&&a.parentNode.removeChild(a);a.hasChildNodes();)a.removeChild(a.firstChild);a.removeAttribute("src");if("function"===typeof a.load)try{a.load()}catch(b){}}};c.f=c.r.extend({j:function(a,b,d){c.r.call(this,
a,b,d);var e=b.source,d=b.parentEl,g=this.a=c.e("div",{id:a.id()+"_temp_flash"}),f=a.id()+"_flash_api",a=a.h,h=c.l.B({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:a.autoplay,preload:a.Sa,loop:a.loop,muted:a.muted},b.flashVars),j=c.l.B({wmode:"opaque",bgcolor:"#000000"},b.params),l=c.l.B({id:f,name:f,"class":"vjs-tech"},b.attributes),m;e&&(e.type&&c.f.jd(e.type)?(a=c.f.Ac(e.src),h.rtmpConnection=encodeURIComponent(a.qb),
h.rtmpStream=encodeURIComponent(a.Mb)):h.src=encodeURIComponent(c.kc(e.src)));this.setCurrentTime=function(a){m=a;this.a.vjs_setProperty("currentTime",a)};this.currentTime=function(){return this.seeking()?m:this.a.vjs_getProperty("currentTime")};c.yb(g,d);b.startTime&&this.I(function(){this.load();this.play();this.currentTime(b.startTime)});c.Ub&&this.I(function(){c.d(this.u(),"mousemove",c.bind(this,function(){this.C().k({type:"mousemove",bubbles:C})}))});if(b.iFrameMode===A&&!c.Ub){var n=c.e("iframe",
{id:f+"_iframe",name:f+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,frameBorder:0});h.readyFunction="ready";h.eventProxyFunction="events";h.errorEventProxyFunction="errors";c.d(n,"load",c.bind(this,function(){var a,d=n.contentWindow;a=n.contentDocument?n.contentDocument:n.contentWindow.document;a.write(c.f.lc(b.swf,h,j,l));d.player=this.c;d.ready=c.bind(this.c,function(b){var d=this.i;d.a=a.getElementById(b);c.f.pb(d)});d.events=c.bind(this.c,function(a,b){this&&"flash"===
this.xa&&this.k(b)});d.errors=c.bind(this.c,function(a,b){c.log("Flash Error",b)})}));g.parentNode.replaceChild(n,g)}else c.f.$c(b.swf,g,h,j,l)}});v=c.f.prototype;v.dispose=function(){c.r.prototype.dispose.call(this)};v.play=function(){this.a.vjs_play()};v.pause=function(){this.a.vjs_pause()};v.src=function(a){if(a===z)return this.currentSrc();c.f.hd(a)?(a=c.f.Ac(a),this.Td(a.qb),this.Ud(a.Mb)):(a=c.kc(a),this.a.vjs_src(a));if(this.c.autoplay()){var b=this;setTimeout(function(){b.play()},0)}};v.currentSrc=
function(){var a=this.a.vjs_getProperty("currentSrc");if(a==D){var b=this.rtmpConnection(),d=this.rtmpStream();b&&d&&(a=c.f.Bd(b,d))}return a};v.load=function(){this.a.vjs_load()};v.poster=function(){this.a.vjs_getProperty("poster")};v.Lb=b();v.buffered=function(){return c.sb(0,this.a.vjs_getProperty("buffered"))};v.Wa=d(C);v.hc=d(C);var Q=c.f.prototype,V="rtmpConnection rtmpStream preload defaultPlaybackRate playbackRate autoplay loop mediaGroup controller controls volume muted defaultMuted".split(" ");
I="error networkState readyState seeking initialTime duration startOffsetTime paused played seekable ended videoTracks audioTracks videoWidth videoHeight textTracks".split(" ");var R;for(R=0;R<V.length;R++)t(V[R]),k();for(R=0;R<I.length;R++)t(I[R]);c.f.isSupported=function(){return 10<=c.f.version()[0]};c.f.nb=function(a){if(!a.type)return"";a=a.type.replace(/;.*/,"").toLowerCase();if(a in c.f.dd||a in c.f.Bc)return"maybe"};c.f.dd={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"};
c.f.Bc={"rtmp/mp4":"MP4","rtmp/flv":"FLV"};c.f.onReady=function(a){var a=c.u(a),b=a.player||a.parentNode.player,d=b.i;a.player=b;d.a=a;c.f.pb(d)};c.f.pb=function(a){a.u().vjs_getProperty?a.za():setTimeout(function(){c.f.pb(a)},50)};c.f.onEvent=function(a,b){c.u(a).player.k(b)};c.f.onError=function(a,b){c.u(a).player.k("error");c.log("Flash Error",b,a)};c.f.version=function(){var a="0,0,0";try{a=(new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(b){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&
(a=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(c){}}return a.split(",")};c.f.$c=function(a,b,d,e,g){a=c.f.lc(a,d,e,g);a=c.e("div",{innerHTML:a}).childNodes[0];d=b.parentNode;b.parentNode.replaceChild(a,b);var f=d.childNodes[0];setTimeout(function(){f.style.display="block"},1E3)};c.f.lc=function(a,b,d,e){var g="",f="",h="";b&&c.l.ra(b,function(a,b){g+=a+"="+b+"&amp;"});d=c.l.B({movie:a,flashvars:g,allowScriptAccess:"always",
allowNetworking:"all"},d);c.l.ra(d,function(a,b){f+='<param name="'+a+'" value="'+b+'" />'});e=c.l.B({data:a,width:"100%",height:"100%"},e);c.l.ra(e,function(a,b){h+=a+'="'+b+'" '});return'<object type="application/x-shockwave-flash"'+h+">"+f+"</object>"};c.f.Bd=function(a,b){return a+"&"+b};c.f.Ac=function(a){var b={qb:"",Mb:""};if(!a)return b;var c=a.indexOf("&"),d;-1!==c?d=c+1:(c=d=a.lastIndexOf("/")+1,0===c&&(c=d=a.length));b.qb=a.substring(0,c);b.Mb=a.substring(d,a.length);return b};c.f.jd=function(a){return a in
c.f.Bc};c.f.Oc=/^rtmp[set]?:\/\//i;c.f.hd=function(a){return c.f.Oc.test(a)};c.Nc=c.b.extend({j:function(a,b,d){c.b.call(this,a,b,d);if(!a.h.sources||0===a.h.sources.length){b=0;for(d=a.h.techOrder;b<d.length;b++){var e=c.Z(d[b]),g=window.videojs[e];if(g&&g.isSupported()){n(a,e);break}}}else a.src(a.h.sources)}});c.Player.prototype.textTracks=function(){return this.ya=this.ya||[]};c.w=c.b.extend({j:function(a,b){c.b.call(this,a,b);this.R=b.id||"vjs_"+b.kind+"_"+b.language+"_"+c.s++;this.xc=b.src;
this.Xc=b["default"]||b.dflt;this.Dd=b.title;this.Qd=b.srclang;this.kd=b.label;this.$=[];this.kb=[];this.ga=this.ha=0;this.c.d("fullscreenchange",c.bind(this,this.Qc))}});v=c.w.prototype;v.H=a("A");v.src=a("xc");v.tb=a("Xc");v.title=a("Dd");v.label=a("kd");v.Vc=a("$");v.Pc=a("kb");v.readyState=a("ha");v.mode=a("ga");v.Qc=function(){this.a.style.fontSize=this.c.isFullScreen()?140*(screen.width/this.c.width())+"%":""};v.e=function(){return c.b.prototype.e.call(this,"div",{className:"vjs-"+this.A+" vjs-text-track"})};
v.show=function(){x(this);this.ga=2;c.b.prototype.show.call(this)};v.D=function(){x(this);this.ga=1;c.b.prototype.D.call(this)};v.disable=function(){2==this.ga&&this.D();this.c.o("timeupdate",c.bind(this,this.update,this.R));this.c.o("ended",c.bind(this,this.reset,this.R));this.reset();this.c.fa("textTrackDisplay").removeChild(this);this.ga=0};v.load=function(){0===this.ha&&(this.ha=1,c.get(this.xc,c.bind(this,this.rd),c.bind(this,this.Fb)))};v.Fb=function(a){this.error=a;this.ha=3;this.k("error")};
v.rd=function(a){for(var b,d,a=a.split("\n"),e="",g=1,f=a.length;g<f;g++)if(e=c.trim(a[g])){-1==e.indexOf("--\>")?(b=e,e=c.trim(a[++g])):b=this.$.length;b={id:b,index:this.$.length};d=e.split(" --\> ");b.startTime=B(d[0]);b.sa=B(d[1]);for(d=[];a[++g]&&(e=c.trim(a[g]));)d.push(e);b.text=d.join("<br/>");this.$.push(b)}this.ha=2;this.k("loaded")};v.update=function(){if(0<this.$.length){var a=this.c.currentTime();if(this.Kb===z||a<this.Kb||this.Oa<=a){var b=this.$,c=this.c.duration(),d=0,e=C,g=[],f,h,
j,l;for(a>=this.Oa||this.Oa===z?l=this.vb!==z?this.vb:0:(e=A,l=this.Bb!==z?this.Bb:b.length-1);;){j=b[l];if(j.sa<=a)d=Math.max(d,j.sa),j.Ia&&(j.Ia=C);else if(a<j.startTime){if(c=Math.min(c,j.startTime),j.Ia&&(j.Ia=C),!e)break}else e?(g.splice(0,0,j),h===z&&(h=l),f=l):(g.push(j),f===z&&(f=l),h=l),c=Math.min(c,j.sa),d=Math.max(d,j.startTime),j.Ia=A;if(e)if(0===l)break;else l--;else if(l===b.length-1)break;else l++}this.kb=g;this.Oa=c;this.Kb=d;this.vb=f;this.Bb=h;a=this.kb;b="";c=0;for(d=a.length;c<
d;c++)b+='<span class="vjs-tt-cue">'+a[c].text+"</span>";this.a.innerHTML=b;this.k("cuechange")}}};v.reset=function(){this.Oa=0;this.Kb=this.c.duration();this.Bb=this.vb=0};c.Sb=c.w.extend();c.Sb.prototype.A="captions";c.Zb=c.w.extend();c.Zb.prototype.A="subtitles";c.Tb=c.w.extend();c.Tb.prototype.A="chapters";c.ac=c.b.extend({j:function(a,b,d){c.b.call(this,a,b,d);if(a.h.tracks&&0<a.h.tracks.length)for(var b=this.c,a=a.h.tracks,e,d=0;d<a.length;d++){e=a[d];var g=b,f=e.kind,h=e.label,j=e.language,
l=e;e=g.ya=g.ya||[];l=l||{};l.kind=f;l.label=h;l.language=j;f=c.Z(f||"subtitles");g=new window.videojs[f+"Track"](g,l);e.push(g)}}});c.ac.prototype.e=function(){return c.b.prototype.e.call(this,"div",{className:"vjs-text-track-display"})};c.X=c.N.extend({j:function(a,b){var d=this.ca=b.track;b.label=d.label();b.selected=d.tb();c.N.call(this,a,b);this.c.d(d.H()+"trackchange",c.bind(this,this.update))}});c.X.prototype.p=function(){c.N.prototype.p.call(this);w(this.c,this.ca.R,this.ca.H())};c.X.prototype.update=
function(){this.selected(2==this.ca.mode())};c.eb=c.X.extend({j:function(a,b){b.track={H:function(){return b.kind},C:a,label:function(){return b.kind+" off"},tb:d(C),mode:d(C)};c.X.call(this,a,b);this.selected(A)}});c.eb.prototype.p=function(){c.X.prototype.p.call(this);w(this.c,this.ca.R,this.ca.H())};c.eb.prototype.update=function(){for(var a=this.c.textTracks(),b=0,c=a.length,d,e=A;b<c;b++)d=a[b],d.H()==this.ca.H()&&2==d.mode()&&(e=C);this.selected(e)};c.T=c.S.extend({j:function(a,b){c.S.call(this,
a,b);1>=this.L.length&&this.D()}});c.T.prototype.qa=function(){var a=[],b;a.push(new c.eb(this.c,{kind:this.A}));for(var d=0;d<this.c.textTracks().length;d++)b=this.c.textTracks()[d],b.H()===this.A&&a.push(new c.X(this.c,{track:b}));return a};c.Ba=c.T.extend({j:function(a,b,d){c.T.call(this,a,b,d);this.a.setAttribute("aria-label","Captions Menu")}});c.Ba.prototype.A="captions";c.Ba.prototype.oa="Captions";c.Ba.prototype.className="vjs-captions-button";c.Ha=c.T.extend({j:function(a,b,d){c.T.call(this,
a,b,d);this.a.setAttribute("aria-label","Subtitles Menu")}});c.Ha.prototype.A="subtitles";c.Ha.prototype.oa="Subtitles";c.Ha.prototype.className="vjs-subtitles-button";c.Ca=c.T.extend({j:function(a,b,d){c.T.call(this,a,b,d);this.a.setAttribute("aria-label","Chapters Menu")}});v=c.Ca.prototype;v.A="chapters";v.oa="Chapters";v.className="vjs-chapters-button";v.qa=function(){for(var a=[],b,d=0;d<this.c.textTracks().length;d++)b=this.c.textTracks()[d],b.H()===this.A&&a.push(new c.X(this.c,{track:b}));
return a};v.Ma=function(){for(var a=this.c.textTracks(),b=0,d=a.length,e,g,f=this.L=[];b<d;b++)if(e=a[b],e.H()==this.A&&e.tb()){if(2>e.readyState()){this.Nd=e;e.d("loaded",c.bind(this,this.Ma));return}g=e;break}a=this.ua=new c.la(this.c);a.a.appendChild(c.e("li",{className:"vjs-menu-title",innerHTML:c.Z(this.A),Cd:-1}));if(g){e=g.$;for(var h,b=0,d=e.length;b<d;b++)h=e[b],h=new c.Za(this.c,{track:g,cue:h}),f.push(h),a.Y(h)}0<this.L.length&&this.show();return a};c.Za=c.N.extend({j:function(a,b){var d=
this.ca=b.track,e=this.cue=b.cue,g=a.currentTime();b.label=e.text;b.selected=e.startTime<=g&&g<e.sa;c.N.call(this,a,b);d.d("cuechange",c.bind(this,this.update))}});c.Za.prototype.p=function(){c.N.prototype.p.call(this);this.c.currentTime(this.cue.startTime);this.update(this.cue.startTime)};c.Za.prototype.update=function(){var a=this.cue,b=this.c.currentTime();this.selected(a.startTime<=b&&b<a.sa)};c.l.B(c.Da.prototype.h.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}});if("undefined"!==
typeof window.JSON&&"function"===window.JSON.parse)c.JSON=window.JSON;else{c.JSON={};var X=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;c.JSON.parse=function(a,b){function c(a,d){var e,g,f=a[d];if(f&&"object"===typeof f)for(e in f)Object.prototype.hasOwnProperty.call(f,e)&&(g=c(f,e),g!==z?f[e]=g:delete f[e]);return b.call(a,d,f)}var d,a=""+a;X.lastIndex=0;X.test(a)&&(a=a.replace(X,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));
if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data");}}c.dc=function(){var a,b,d=document.getElementsByTagName("video");if(d&&0<d.length)for(var e=0,g=d.length;e<g;e++)if((b=d[e])&&b.getAttribute)b.player===z&&(a=b.getAttribute("data-setup"),
a!==D&&(a=c.JSON.parse(a||"{}"),F(b,a)));else{c.lb();break}else c.Ec||c.lb()};c.lb=function(){setTimeout(c.dc,1)};"complete"===document.readyState?c.Ec=A:c.U(window,"load",function(){c.Ec=A});c.lb();c.sd=function(a,b){c.Player.prototype[a]=b};var Y=this;Y.Id=A;y("videojs",c);y("_V_",c);y("videojs.options",c.options);y("videojs.players",c.va);y("videojs.TOUCH_ENABLED",c.$b);y("videojs.cache",c.pa);y("videojs.Component",c.b);c.b.prototype.player=c.b.prototype.C;c.b.prototype.options=c.b.prototype.options;
c.b.prototype.init=c.b.prototype.j;c.b.prototype.dispose=c.b.prototype.dispose;c.b.prototype.createEl=c.b.prototype.e;c.b.prototype.contentEl=c.b.prototype.La;c.b.prototype.el=c.b.prototype.u;c.b.prototype.addChild=c.b.prototype.Y;c.b.prototype.getChild=c.b.prototype.fa;c.b.prototype.getChildById=c.b.prototype.ed;c.b.prototype.children=c.b.prototype.children;c.b.prototype.initChildren=c.b.prototype.nc;c.b.prototype.removeChild=c.b.prototype.removeChild;c.b.prototype.on=c.b.prototype.d;c.b.prototype.off=
c.b.prototype.o;c.b.prototype.one=c.b.prototype.U;c.b.prototype.trigger=c.b.prototype.k;c.b.prototype.triggerReady=c.b.prototype.za;c.b.prototype.show=c.b.prototype.show;c.b.prototype.hide=c.b.prototype.D;c.b.prototype.width=c.b.prototype.width;c.b.prototype.height=c.b.prototype.height;c.b.prototype.dimensions=c.b.prototype.Yc;c.b.prototype.ready=c.b.prototype.I;c.b.prototype.addClass=c.b.prototype.n;c.b.prototype.removeClass=c.b.prototype.t;c.b.prototype.buildCSSClass=c.b.prototype.Q;c.Player.prototype.ended=
c.Player.prototype.ended;y("videojs.MediaLoader",c.Nc);y("videojs.TextTrackDisplay",c.ac);y("videojs.ControlBar",c.Da);y("videojs.Button",c.q);y("videojs.PlayToggle",c.Xb);y("videojs.FullscreenToggle",c.Ea);y("videojs.BigPlayButton",c.Ya);y("videojs.LoadingSpinner",c.Vb);y("videojs.CurrentTimeDisplay",c.$a);y("videojs.DurationDisplay",c.ab);y("videojs.TimeDivider",c.bc);y("videojs.RemainingTimeDisplay",c.gb);y("videojs.Slider",c.O);y("videojs.ProgressControl",c.fb);y("videojs.SeekBar",c.Yb);y("videojs.LoadProgressBar",
c.cb);y("videojs.PlayProgressBar",c.Wb);y("videojs.SeekHandle",c.Ga);y("videojs.VolumeControl",c.ib);y("videojs.VolumeBar",c.hb);y("videojs.VolumeLevel",c.cc);y("videojs.VolumeMenuButton",c.ma);y("videojs.VolumeHandle",c.jb);y("videojs.MuteToggle",c.ea);y("videojs.PosterImage",c.Fa);y("videojs.Menu",c.la);y("videojs.MenuItem",c.N);y("videojs.MenuButton",c.S);c.S.prototype.createItems=c.S.prototype.qa;c.T.prototype.createItems=c.T.prototype.qa;c.Ca.prototype.createItems=c.Ca.prototype.qa;y("videojs.SubtitlesButton",
c.Ha);y("videojs.CaptionsButton",c.Ba);y("videojs.ChaptersButton",c.Ca);y("videojs.MediaTechController",c.r);c.r.prototype.features=c.r.prototype.m;c.r.prototype.m.volumeControl=c.r.prototype.m.Dc;c.r.prototype.m.fullscreenResize=c.r.prototype.m.Od;c.r.prototype.m.progressEvents=c.r.prototype.m.Sd;c.r.prototype.m.timeupdateEvents=c.r.prototype.m.Vd;c.r.prototype.setPoster=c.r.prototype.Lb;y("videojs.Html5",c.g);c.g.Events=c.g.bb;c.g.isSupported=c.g.isSupported;c.g.canPlaySource=c.g.nb;c.g.patchCanPlayType=
c.g.rc;c.g.unpatchCanPlayType=c.g.Fd;c.g.prototype.setCurrentTime=c.g.prototype.vd;c.g.prototype.setVolume=c.g.prototype.Ad;c.g.prototype.setMuted=c.g.prototype.yd;c.g.prototype.setPreload=c.g.prototype.zd;c.g.prototype.setAutoplay=c.g.prototype.ud;c.g.prototype.setLoop=c.g.prototype.xd;c.g.prototype.enterFullScreen=c.g.prototype.hc;c.g.prototype.exitFullScreen=c.g.prototype.bd;y("videojs.Flash",c.f);c.f.isSupported=c.f.isSupported;c.f.canPlaySource=c.f.nb;c.f.onReady=c.f.onReady;y("videojs.TextTrack",
c.w);c.w.prototype.label=c.w.prototype.label;c.w.prototype.kind=c.w.prototype.H;c.w.prototype.mode=c.w.prototype.mode;c.w.prototype.cues=c.w.prototype.Vc;c.w.prototype.activeCues=c.w.prototype.Pc;y("videojs.CaptionsTrack",c.Sb);y("videojs.SubtitlesTrack",c.Zb);y("videojs.ChaptersTrack",c.Tb);y("videojs.autoSetup",c.dc);y("videojs.plugin",c.sd);y("videojs.createTimeRange",c.sb);y("videojs.util",c.ja);c.ja.mergeOptions=c.ja.Eb})();(function(b){b.extend({q4domfactory:new function(){var a={},b={};a.createQdom=
function(b,c,d){c=a.newInstanceByName("qdom").init(c,d);d=a.newInstanceByName("qDoc");d.init(c,b,c);c.root=d;return c};a.registerClass=function(a,c){b[a]=c};a.newInstanceByName=function(a){a=b[a];return void 0===a?null:new a};var c={};a.newSingletonByName=function(b){void 0===c[b]&&(c[b]=a.newInstanceByName(b));return c[b]};return a}})})(k);(function(b){b.extend({q4presenterfactory:new function(){var a={PRESENTER_EVENT_TOGGLE_DIALOG:"__q4_presenter_event_toggle_dialog",PRESENTER_EVENT_MODEL_CHANGED:"__q4_presenter_event_model_changed",
PRESENTER_EVENT_REFRESH_CORRECTNESS:"__q4_presenter_event_refresh_correctness",PRESENTER_EVENT_REFRESH_CLIENT_SELECTION:"__q4_presenter_event_refresh_client_selection"},b={};a.init=function(){};a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};return a}})})(k);(function(b){b.extend({q4viewfactory:new function(){var a={classDictionary:{},registerClass:function(b,c){a.classDictionary[b]=c},newInstanceByName:function(b){b=a.classDictionary[b];if(void 0!==
b)return new b}};return a}})})(k);(function(b){b.q4domfactory.registerClass("clientVariable",function(){var a={},d=null,c=null,e=null,f=[];a.initWithVariableName=function(b,c){d=b;void 0!==c&&(e=c);return a};a.initWithSourceVariableName=function(b){d=b;return a};a.getName=function(){return d};a.setValue=function(a){c=a;g()};a.getValue=function(){return c};a.getInitialValue=function(){return e};a.subscribe=function(a){f.push(a)};var g=function(){b.each(f,function(a,b){b(c)})};return a})})(k);(function(b){b.q4domfactory.registerClass("clientVariableRegistry",
function(){var a={},d=null,c={},e=[];a.initWithCommandBus=function(b){d=b;f();return a};var f=function(){d.addCommandHandler(b.q4appcontroller.COMMAND_PUBLISH_CLIENT_VARIABLE_UPDATE,function(a,b,d){c[b].setValue(d)})};a.createClientVariableWithVariableName=function(a,c){var d=b.q4domfactory.newInstanceByName("clientVariable").initWithVariableName(a,c);g(d);return d};a.createClientVariableWithDependency=function(d,e,f){var m=b.q4domfactory.newInstanceByName("clientVariable").initWithSourceVariableName(d,
e);g(m);var n=[];b.isArray(e)?n=e:n.push(e);var p=null;void 0!==f&&(eval("_transientFunction = "+f),p=_transientFunction);for(d=0;d<n.length;d++)a.getClientVariable(n[d]).subscribe(function(a){var b=a;if(f===void 0)b=a;else{a:{for(var a=n,b=[],d=0;d<a.length;d++){var e=c[a[d]].getValue();if(e===null){a=null;break a}b.push(e)}a=b}if(a===null)return;b=p.apply(a,a)}m.setValue(b)});return m};var g=function(a){c[a.getName()]=a};a.getClientVariable=function(a){return c[a]};a.addClientVariableCreateValueChangedHandler=
function(a,c){var d=b.JavascriptExpressionToolkit.extractSourceVariablesFromJSFunction(a);if(1!==d.length)throw Error('clientVariableRegistry for non-InputVariable type currently only supports inputCalc representing an identity function in the form "function (x) { return x; }"');e.push({variableName:d[0],createValueChangedHandlerFunction:c})};a.attachClientVariableCreateValueChangedHandlers=function(){b.each(e,function(b,c){var d=a.getClientVariable(c.variableName);if(void 0===d)throw Error("Client variable not found in registry: "+
c.variableName);d.subscribe(c.createValueChangedHandlerFunction)})};a.cascadeClientVariableInitialValues=function(){b.each(c,function(a,b){var c=b.getInitialValue();null!==c&&b.setValue(c)})};return a})})(k);(function(b){var a=function(){var a={busName:null,init:function(b){a.busName=b;return a},addCommandHandler:function(c,e){b(a).bind(c,e)},fireCommand:function(c){for(var e=[],f=0;f<arguments.length;f++)0!=f&&e.push(arguments[f]);b(a).triggerHandler(c,e)}};return a};b.extend({commandbus:new function(){return{newInstance:function(){return new a}}}})})(k);
(function(b){b.extend({ArrayToolkit:{min:function(a){return Math.min.apply(Math,a)},max:function(a){return Math.max.apply(Math,a)},match:function(a,b,c){c="undefined"!==typeof c?c:!1;if(a.length!==b.length)return!1;if(0===a.length)return!0;if(c)return a[0]===b[0]&&arguments.callee(a.slice(1),b.slice(1),c);for(var e=!1,f=a[0],g=b.length-1;-1<g;g--)if(f===b[g]){e=!0;b.splice(g,1);break}return e&&arguments.callee(a.slice(1),b,c)},contains:function(a,b){for(var c=a.length-1;-1<c;c--)if(a[c]===b)return!0;
return!1},remove:function(a,b,c){c=a.slice((c||b)+1||a.length);a.length=0>b?a.length+b:b;return a.push.apply(a,c)},rotate:function(a,b){var c=Array.prototype.unshift,e=Array.prototype.splice,f=a.length>>>0;c.apply(a,e.call(a,(b>>0)%f,f))},move:function(a,b,c){if(c>=a.length)for(var e=c-a.length;e--+1;)a.push(void 0);a.splice(c,0,a.splice(b,1)[0])}}})})(k);(function(b){b.extend({BasicMathToolkit:{isNumber:function(a,b){b="undefined"===typeof b?!0:b;return!isNaN(parseFloat(a))&&(b&&!0||isFinite(a))},
epsilonRound:function(a,b){var a=a+1.0E-6,c=Math.pow(10,b);return Math.round(a*c)/c},round:function(a,b){return 0==b?a:Math.round(a/b)*b},serializeCircle:function(a){var d={x:a.getCenterPoint().getX(),y:a.getCenterPoint().getY()},a={x:a.getPointOnCircle().getX(),y:a.getPointOnCircle().getY()};if(isNaN(d.x)||isNaN(d.y)||isNaN(a.x)||isNaN(a.y))return"";var c=[];c.push(b.BasicMathToolkit.serializePoint(d,2));c.push(b.BasicMathToolkit.serializePoint(a,2));return"C:"+c.join("/")},serializePlot:function(a){for(var d=
a.getFunction()[0].getRule(),a=a.getFunction()[0].getViewportInterval(),c=[],e=0;e<a.length;e++){var f=a[e];c.push(b.BasicMathToolkit.serializeInterval({x:f.startValue,y:f.endValue},2))}return"F:"+encodeURIComponent(d)+"/"+c.join("/")},serializeNPointCurve:function(a){for(var a=a.getPoints(),d=[],c=0;c<a.length;c++){var e=a[c];if(isNaN(e.getX())||isNaN(e.getY()))return"";e={x:e.getX(),y:e.getY()};d.push(b.BasicMathToolkit.serializePoint(e,2))}return"NPC:"+d.join("/")},serializeMonotonicArc:function(a){var d=
{x:a.getPoint0().getX(),y:a.getPoint0().getY()},c={x:a.getPoint1().getX(),y:a.getPoint1().getY()};return isNaN(d.x)||isNaN(d.y)||isNaN(c.x)||isNaN(c.y)?"":"MA:"+[b.BasicMathToolkit.serializePoint(d,2),b.BasicMathToolkit.serializePoint(c,2)].sort().join("/")+"/"+a.getConcavity()},serializeInterval:function(a,d){return b.BasicMathToolkit.serializePoint(a,d)},serializePoint:function(a,d){return[b.BasicMathToolkit.roundNumberToDP(a.x,d),b.BasicMathToolkit.roundNumberToDP(a.y,d)].join()},serializeSegment:function(a){if(void 0==
a.getPoint0()||void 0==a.getPoint1())return"";var d={x:a.getPoint0().getX(),y:a.getPoint0().getY()},a={x:a.getPoint1().getX(),y:a.getPoint1().getY()};return isNaN(d.x)||isNaN(d.y)||isNaN(a.x)||isNaN(a.y)?"":"S:"+[b.BasicMathToolkit.serializePoint(d,2),b.BasicMathToolkit.serializePoint(a,2)].sort().join("/")},serializeLine:function(a){var d={x:a.getPoint0().getX(),y:a.getPoint0().getY()},a={x:a.getPoint1().getX(),y:a.getPoint1().getY()};return isNaN(d.x)||isNaN(d.y)||isNaN(a.x)||isNaN(a.y)?"":"L:"+
[b.BasicMathToolkit.serializePoint(d,2),b.BasicMathToolkit.serializePoint(a,2)].sort().join("/")},serializePolygon:function(a){var d=[],c=a.getExteriorCycle();if(0==c.length)return"";for(a=0;a<c.length;a++){if(void 0==c[a])return"";var e={x:c[a].getX(),y:c[a].getY()};if(isNaN(e.x)||isNaN(e.y))return"";d.push(b.BasicMathToolkit.serializePoint(e,2))}for(var f=null,a=0;a<d.length;a++)e=d[a],f?e<f&&(f=e):f=e;for(a=0;a<d.length;a++){e=d[0];if(e===f)break;b.ArrayToolkit.rotate(d,-1)}if(0>b.CoordinateGeometryToolkit.areaOfPolygonWithoutHoles(c,
!0)){c=[];e=d.length;for(a=0;a<e;a++)c[a]=d[-a+(0==a?0:e)];return"P:"+c.join("/")}return"P:"+d.join("/")},roundNumberToDP:function(a,b){var c=""+Math.round(a*Math.pow(10,b))/Math.pow(10,b);for(0>c.indexOf(".")&&(c+=".");c.length-c.indexOf(".")<=b;)c+="0";return c},mod:function(a,b){return 0>a?arguments.callee(a+b,b):a%b},constrain:function(a,d){var c=b.ArrayToolkit.min(d),e=b.ArrayToolkit.max(d);switch(a){case Number.NEGATIVE_INFINITY:return c;case Number.POSITIVE_INFINITY:return e;default:return Math.min(Math.max(a,
c),e)}},contains:function(a,d,c,e){var c="undefined"===typeof c?!0:c,e="undefined"===typeof e?!0:e,f=b.ArrayToolkit.min(d),d=b.ArrayToolkit.max(d);return a>f&&a<d||c&&a==f||e&&a==d},computeScale:function(a,b){var c=a.toString(),e=0;0<=c.indexOf(".")&&(e=c.length-c.indexOf(".")-1);return void 0!==b?Math.min(e,b):e},equal:function(a,d,c){c=b.BasicMathToolkit.isNumber(c)?c:1.0E-6;if(!b.BasicMathToolkit.isNumber(a)||!b.BasicMathToolkit.isNumber(d))return!1;if(!isFinite(a)||!isFinite(d))return a===d;a=
Math.round(a/c);d=Math.round(d/c);return a===d},displaySigFigs:function(a,d,c,e){var f=""+a,g=b.BasicMathToolkit.parseOrder(f),h=b.BasicMathToolkit.parseMantissa(f),f=b.BasicMathToolkit.parseSign(f),j,l=!1;if(0==a||""==h||"0"==h){h="";for(a=0;a<d;a++)h+="0";g=d+c;0>c&&-c>=d&&(l=!0)}else{a=g-h.length-c;j=d-h.length;d=Math.min(j,a);if(0>d){var m=b.BasicMathToolkit.roundNumber(h,-d);m.length>h.length+d&&(g++,a>j&&(m=b.BasicMathToolkit.roundNumber(m,1)));h=m}else if(0<d)for(a=0;a<d;a++)h+="0";if(""==
h||"0"==h)h="0",f=!0,g=1+c,0!=g&&(l=!0)}e=e||20<h.length||21<g||-5>g||0<g-h.length&&0<b.BasicMathToolkit.trailingZeros(h)||l;c="";f||(c+="-");if(e)c+=h.charAt(0),1<h.length&&(c+="."+h.substring(1,h.length)),0!=g-1&&(c+="e"+(g-1));else{e=f="";l=!0;if(0<g)if(h.length>g)f=h.substring(0,g),e=h.substring(g,h.length);else{f=h;l=0!=b.BasicMathToolkit.trailingZeros(h);for(a=0;a<g-h.length;a++)f+="0"}else{for(a=0;a<-g;a++)e+="0";e+=h}c+=(""==f?"0":f)+(l?".":"")+e}return c},trailingZeros:function(a){for(var b=
0,c=a.length-1;0<=c;c--)if("0"==a.charAt(c))b++;else break;return b},parseSign:function(a){for(var b=!0,c=!1,e=!1,f="",g="",h=0,j=0,l=!0,m=0;m<a.length;m++){var n=a.charAt(m);if("1"<=n&&"9">=n)g+=f+n,f="",e=!0,c||(j++,h++),b=!1;else if("0"==n)c?e?(g+=f+n,f=""):h--:(j++,e&&(h++,f+=n)),b=!1;else if(!c&&"."==n)g+=f,f="",c=!0,b=!1;else if("e"==n||"E"==n&&m+1<a.length)m=parseInt(a.substring(m+1,a.length)),h+=m,j+=m,m=a.length;else if(b&&("+"==n||"-"==n))"-"==n&&(l=!l)}return""==g?!0:l},parseMantissa:function(a){for(var b=
!1,c=!1,e="",f="",g="",h=0,j=0,l=0;l<a.length;l++){var m=a.charAt(l);if("1"<=m&&"9">=m)g+=e+m,e="",c=!0,b||(j++,h++);else if("0"==m)b?c?(g+=e+m,e=""):(f+=m,h--):(j++,c?(f+=m,h++,e+=m):f+=m);else if(!b&&"."==m)g+=e,e="",b=!0;else if("e"==m||"E"==m&&l+1<a.length)l=parseInt(a.substring(l+1,a.length)),h+=l,j+=l,l=a.length}return""==g?f:g},parseOrder:function(a){for(var b=!1,c=!1,e="",f="",g=0,h=0,j=0;j<a.length;j++){var l=a.charAt(j);if("1"<=l&&"9">=l)f+=e+l,e="",c=!0,b||(h++,g++);else if("0"==l)b?c?
(f+=e+l,e=""):g--:(h++,c&&(g++,e+=l));else if(!b&&"."==l)f+=e,e="",b=!0;else if("e"==l||"E"==l&&j+1<a.length)j=parseInt(a.substring(j+1,a.length)),g+=j,h+=j,j=a.length}return""==f?h:g},roundNumber:function(a,b){var c=a.length-b-1;if(0>c)return"";if(c>=a.length-1)return a;var e=a.charAt(c+1),f=a.charAt(c),g=!1;if("5"<e)g=!0;else if("5"==e){for(e=c+2;e<a.length;e++)"0"!=a.charAt(e)&&(g=!0);1==f%2&&(g=!0)}for(f="";0<=c;c--)if(e=a.charAt(c),g){var h;if("9"==e)h="0";else{switch(e){case "0":h="1";break;
case "1":h="2";break;case "2":h="3";break;case "3":h="4";break;case "4":h="5";break;case "5":h="6";break;case "6":h="7";break;case "7":h="8";break;case "8":h="9"}g=!1}f=h+f}else f=e+f;g&&(f="1"+f);return f},gaussianEliminationWithPartialPivots:function(a,b){for(var c=a.length,e=a[0].length,f=0,g=0,h,j;f<c&&g<e;){j=f;for(h=f+1;h<c;h++)Math.abs(a[h][g])>Math.abs(a[j][g])&&(j=h);if(0!=a[j][g]){h=a[f];a[f]=a[j];a[j]=h;h=b[f];b[f]=b[j];b[j]=h;h=a[f][g];b[f]/=h;for(j=0;j<e;j++)a[f][j]/=h;for(var l=f+1;l<
c;l++){h=a[l][g];b[l]-=h*b[f];for(j=0;j<e;j++)a[l][j]-=h*a[f][j]}f+=1}g+=1}return[a,b]}}})})(k);(function(b){b.extend({CoordinateGeometryToolkit:{INSIDE:0,LEFT:1,RIGHT:2,BOTTOM:4,TOP:8,VIEWPORT_SLACK:1.0E-6,EDGE_LABEL_SLACK:1.0E-4,computeOutCode:function(a,d,c){var e=this.INSIDE,f=a.x,a=a.y,g=d.y-b.CoordinateGeometryToolkit.VIEWPORT_SLACK,h=c.x+b.CoordinateGeometryToolkit.VIEWPORT_SLACK,c=c.y+b.CoordinateGeometryToolkit.VIEWPORT_SLACK;f<d.x-b.CoordinateGeometryToolkit.VIEWPORT_SLACK?e|=this.LEFT:
f>h&&(e|=this.RIGHT);a<g?e|=this.BOTTOM:a>c&&(e|=this.TOP);return e},clipLine:function(a,b,c,e){for(var f=a.x,g=a.y,h=b.x,j=b.y,l=c.x,m=c.y,n=e.x,p=e.y,a=this.computeOutCode(a,c,e),b=this.computeOutCode(b,c,e),q=!1;;)if(a|b){if(a&b)return null;var r,s,o=a?a:b;o&this.TOP?(r=f+(h-f)*(p-g)/(j-g),s=p):o&this.BOTTOM?(r=f+(h-f)*(m-g)/(j-g),s=m):o&this.RIGHT?(s=g+(j-g)*(n-f)/(h-f),r=n):o&this.LEFT&&(s=g+(j-g)*(l-f)/(h-f),r=l);o==a?(f=r,g=s,a=this.computeOutCode({x:f,y:g},c,e)):(h=r,j=s,b=this.computeOutCode({x:h,
y:j},c,e))}else{q=!0;break}if(q)return[{x:f,y:g},{x:h,y:j}]},clipOutOfBoundsLineToViewport:function(a,d,c,e,f){var g=b.CoordinateGeometryToolkit.extendAlongLine(a,d,2*f),a=b.CoordinateGeometryToolkit.extendAlongLine(d,a,2*f);c.x-=b.CoordinateGeometryToolkit.EDGE_LABEL_SLACK;c.y-=b.CoordinateGeometryToolkit.EDGE_LABEL_SLACK;e.x+=b.CoordinateGeometryToolkit.EDGE_LABEL_SLACK;e.y+=b.CoordinateGeometryToolkit.EDGE_LABEL_SLACK;return b.CoordinateGeometryToolkit.clipLine(g,a,c,e)},extendAlongLine:function(a,
d,c){var e=a.x,f=a.y,g=d.x,h=d.y,a=b.CoordinateGeometryToolkit.distancePointPoint(a,d);return 0==a?null:{x:e+c/a*(g-e),y:f+c/a*(h-f)}},distancePointPoint:function(a,b){var c=b.x-a.x,e=b.y-a.y;return Math.sqrt(c*c+e*e)},anglePointPoint:function(a,d){var c=d.x-a.x,e=d.y-a.y;return b.BasicMathToolkit.mod(0==c?(2*Number(0<e)-1)*Math.PI/2:Math.atan(e/c)+Number(0>c)*Math.PI,2*Math.PI)},equalPointPoint:function(a,b){return a.x==b.x&&a.y==b.y},gradientPointPoint:function(a,b){var c=b.x-a.x,e=b.y-a.y;return 0===
c?Infinity:e/c},xInterceptPointPoint:function(a,d){var c=b.CoordinateGeometryToolkit.gradientPointPoint(a,d),e=a.x,f=a.y;return 0===c?NaN:e-f/c},yInterceptPointPoint:function(a,d){var c=b.CoordinateGeometryToolkit.gradientPointPoint(a,d),e=a.x,f=a.y;return Infinity===c?NaN:f-c*e},areLinesCoincident:function(a,d,c,e,f){return b.BasicMathToolkit.equal((e.y-c.y)*(d.x-a.x)-(e.x-c.x)*(d.y-a.y),0,f)?b.BasicMathToolkit.equal((e.x-c.x)*(a.y-c.y)-(e.y-c.y)*(a.x-c.x),0,f)||b.BasicMathToolkit.equal((d.x-a.x)*
(a.y-c.y)-(d.y-a.y)*(a.x-c.x),0,f):!1},separationPointPoint:function(a,d){return[b.CoordinateGeometryToolkit.distancePointPoint(a,d),{P0:a,P1:d}]},separationLinePoint:function(a,d){var c=d.x,e=d.y,f=a.P0.x,g=a.P0.y,h=a.P1.x,j=a.P1.y,l=((h*(-e+g)+f*(e-j))*(g-j)+c*Math.pow(f-h,2))/(Math.pow(f-h,2)+Math.pow(g-j,2)),c=(g*((c-h)*(f-h)+e*g)-((c-f)*(f-h)+2*e*g)*j+e*Math.pow(j,2))/(Math.pow(f-h,2)+Math.pow(g-j,2));return b.CoordinateGeometryToolkit.separationPointPoint(d,{x:l,y:c})},separationSegmentPoint:function(a,
d){var c=b.CoordinateGeometryToolkit.separationLinePoint(a,d),e=b.CoordinateGeometryToolkit.distancePointPoint(a.P0,a.P1);switch(!0){case b.CoordinateGeometryToolkit.distancePointPoint(a.P0,c[1].P1)>e:return b.CoordinateGeometryToolkit.separationPointPoint(d,a.P1);case b.CoordinateGeometryToolkit.distancePointPoint(a.P1,c[1].P1)>e:return b.CoordinateGeometryToolkit.separationPointPoint(d,a.P0);default:return c}},isPointOnSegment:function(a,d,c){"undefined"===typeof c&&(c=0.001);return b.CoordinateGeometryToolkit.separationSegmentPoint(a,
d)[0]<c},isPointOnLine:function(a,d,c){"undefined"===typeof c&&(c=0.001);return b.CoordinateGeometryToolkit.separationLinePoint(a,d)[0]<c},isPointOnPolygon:function(a,d,c){for(var e=a.length,f=0;f<e;f++)if(b.CoordinateGeometryToolkit.isPointOnSegment({P0:{x:a[f].x,y:a[f].y},P1:{x:a[(f+1)%e].x,y:a[(f+1)%e].y}},d,c))return!0;return!1},intersectionLineLine:function(a,d,c,e,f){var f=b.BasicMathToolkit.isNumber(f)?f:1.0E-6,g=a.P0.x,h=a.P0.y,j=a.P1.x,l=a.P1.y,m=d.P0.x,n=d.P0.y,p=d.P1.x,q=d.P1.y,r=b.BasicMathToolkit.round((q-
n)*(j-g)-(p-m)*(l-h),f);if(0==r)return c&&e?segmentJoin(a,d,f):null;p=((p-m)*(h-n)-(q-n)*(g-m))/r;m=((j-g)*(h-n)-(l-h)*(g-m))/r;switch(!0){case c&&e:if(0>p||1<p||0>m||1<m){c=b.CoordinateGeometryToolkit.separationSegmentPoint(a,d.P0);if(c[0]<f)return d.P0;c=b.CoordinateGeometryToolkit.separationSegmentPoint(a,d.P1);if(c[0]<f)return d.P1;c=b.CoordinateGeometryToolkit.separationSegmentPoint(d,a.P0);if(c[0]<f)return a.P0;c=b.CoordinateGeometryToolkit.separationSegmentPoint(d,a.P1);return c[0]<f?a.P1:
null}break;case c&&!e:if(0>p||1<p)return null;break;case !c&&e:if(0>m||1<m)return null}return{x:g+p*(j-g),y:h+p*(l-h)}},distanceLineLine:function(a,d){var c=b.BasicMathToolkit.round(b.CoordinateGeometryToolkit.gradientPointPoint(a.P0,a.P1),1.0E-6),e=b.BasicMathToolkit.round(b.CoordinateGeometryToolkit.gradientPointPoint(d.P0,d.P1),1.0E-6);return c!==e?NaN:Infinity===c?Math.abs(d.P0.x-a.P0.x):0===c?Math.abs(d.P0.y-a.P0.y):Math.abs(d.P0.y-e*d.P0.x-(a.P0.y-c*a.P0.x))/(Math.pow(c,2)+1)*Math.sqrt(Math.pow(c,
2)+1)},isPointInPolygonWithoutHoles:function(a,d,c){for(var e=d.length,f=!1,g=0;g<e;g++)if(b.CoordinateGeometryToolkit.isPointOnSegment({P0:{x:d[g].x,y:d[g].y},P1:{x:d[(g+1)%e].x,y:d[(g+1)%e].y}},a)){f=!0;break}if(f)return c;c=a.x;a=a.y;e=[];f=[];for(g=0;g<d.length;g++){var h=d[g];e.push(h.x);f.push(h.y)}if(c<Math.min.apply(null,e)||c>Math.max.apply(null,e)||a<Math.min.apply(null,f)||a>Math.max.apply(null,f))return!1;for(var h=!1,d=d.length,g=0,j=d-1;g<d;j=g++)f[g]>a!=f[j]>a&&c<(e[j]-e[g])*(a-f[g])/
(f[j]-f[g])+e[g]&&(h=!h);return h},isPointInPolygon:function(a,d,c){if(!b.CoordinateGeometryToolkit.isPointInPolygonWithoutHoles(a,d[0],c))return!1;for(var e=1;e<d.length;e++)if(b.CoordinateGeometryToolkit.isPointInPolygonWithoutHoles(a,d[e],!c))return!1;return!0},areaOfPolygonWithoutHoles:function(a,b){var c=a.slice();c.push(a[0]);for(var e=c.length,f=0,g=0;g<e;g++)f+=c[g].x*c[(g+1)%e].y-c[(g+1)%e].x*c[g].y;return b?f/2:Math.abs(f/2)},areaOfPolygon:function(a,d){for(var c=b.CoordinateGeometryToolkit.areaOfPolygonWithoutHoles(a[0],
d),e=1;e<a.length;e++)c-=b.CoordinateGeometryToolkit.areaOfPolygonWithoutHoles(a[e],d);return c}}})})(k);(function(b){b.extend({JSONToolkit:{getElements:function(a,b,c){var e=[],f;for(f in a)a.hasOwnProperty(f)&&("object"==typeof a[f]?e=e.concat(arguments.callee(a[f],b,c)):f===b&&a[b]===c&&e.push(a));return e},getElementPair:function(a){var b,c;for(c in a)if(a.hasOwnProperty(c)){b=a[c];break}return{name:c,value:b}},getElementName:function(a){return b.JSONToolkit.getElementPair(a).name},getElementValue:function(a){return b.JSONToolkit.getElementPair(a).value},
getElementAttribute:function(a,d){var c=b.JSONToolkit.getElementValue(a);return null===c||void 0===c?void 0:c["@"+d]},getElementID:function(a){return b.JSONToolkit.getElementAttribute(a,"id")},getElementChildren:function(a){var a=b.JSONToolkit.getElementValue(a),d=a._;if(void 0!==d)return d;d=a.$;if(void 0!==d)return[d];for(var c in a)if(a.hasOwnProperty(c)&&"@"!==c.substr(0,1))return d={},d[c]=a[c],[d];return[]},getElementAttributes:function(a){var a=b.JSONToolkit.getElementValue(a),d={},c;for(c in a)a.hasOwnProperty(c)&&
"@id"!==c&&"@"===c.substr(0,1)&&(d[c]=a[c]);return d},getElementText:function(a){return b.JSONToolkit.getElementValue(a).$},getElementChildIDs:function(a){var a=b.JSONToolkit.getElementChildren(a),d=[],c;for(c in a)if(a.hasOwnProperty(c)){var e=b.JSONToolkit.getElementID(a[c]);d.push(e)}return d},addChild:function(a,d){if(0===b.JSONToolkit.getElementChildren(a).length){var c=b.JSONToolkit.getElementName(d),e=b.JSONToolkit.getElementValue(d);a[c]=e}else a._.push(d)},setAttribute:function(a,b,c){a["@"+
b]=c},extractDelta:function(a,d){var c=function(a,c){var d=b.JSONToolkit.getElementID(a);if(void 0!==d){var e=b.JSONToolkit.getElementPair(c),d={replace:{"@ref":d}};d.replace[e.name]=e.value;return[d]}},e=function(a,c){var d=[],e=b.JSONToolkit.getElementChildIDs(a),g=b.JSONToolkit.getElementChildIDs(c);if(b.ArrayToolkit.match(e,g,!0)){e=b.JSONToolkit.getElementText(a);g=b.JSONToolkit.getElementText(c);if(void 0!==e||void 0!==g)if(void 0===e&&void 0!==g||void 0!==e&&void 0===g||e!==g)return;var e=
b.JSONToolkit.getElementChildren(a),g=b.JSONToolkit.getElementChildren(c),h;for(h in e)if(e.hasOwnProperty(h)){var r=e[h];if(void 0===b.JSONToolkit.getElementID(r))return;for(var s in g)if(g.hasOwnProperty(s)){var o=g[s];if(void 0===b.JSONToolkit.getElementID(o))return;if(b.JSONToolkit.getElementID(r)===b.JSONToolkit.getElementID(o))for(var o=f(r,o),k=o.length-1;-1<k;k--)d.push(o[k])}}return d}},f=function(a,d){var g=b.JSONToolkit.getElementPair(a),f=g.name,g=g.value["@id"];if(void 0===g)return[];
var h=b.JSONToolkit.getElementPair(d),q=h.name,h=h.value["@id"];if(g!==h||g===h&&f!==q)return c(a,d);f=[];q=e(a,d);if(void 0===q)return JSON.stringify(a)===JSON.stringify(b.extend(!0,{},a,d))&&JSON.stringify(d)===JSON.stringify(b.extend(!0,{},d,a))?[]:c(a,d);for(g=q.length-1;-1<g;g--)f.push(q[g]);var r;a:if(g=[],q=b.JSONToolkit.getElementAttributes(a),h=b.JSONToolkit.getElementAttributes(d),b.ObjectToolkit.match(q,h,!1)){for(r in q)if(q.hasOwnProperty(r)){var s=h[r];if(s!==q[r]){var o=b.JSONToolkit.getElementID(a);
if(void 0===o){r=void 0;break a}o={replaceAttributes:{"@ref":o}};o.replaceAttributes[r]=s;g.push(o)}}r=g}else r=void 0;if(void 0===r)return c(a,d);for(g=r.length-1;-1<g;g--)f.push(r[g]);return f},g={qDelta:{"@baseQDocId":1}},h=f(a,d);switch(h.length){case 0:break;case 1:h=b.JSONToolkit.getElementPair(h[0]);g.qDelta[h.name]=h.value;break;default:g.qDelta._=h}return g},applyDelta:function(a,d){for(var c=b.extend(!0,{},a),e=b.JSONToolkit.getElementChildren(d),f=0,g=e.length;f<g;f++){var h=e[f],j=b.JSONToolkit.getElementName(h),
l;if("replaceAttributes"===j){l=b.JSONToolkit.getElementAttribute(h,"ref");l=b.JSONToolkit.getElements(c,"@id",l)[0];var m=b.JSONToolkit.getElementAttributes(h),n;for(n in m)"@ref"!==n&&m.hasOwnProperty(n)&&(l[n]=m[n])}if("replace"===j){l=b.JSONToolkit.getElementAttribute(h,"ref");l=b.JSONToolkit.getElements(c,"@id",l)[0];var h=b.JSONToolkit.getElementChildren(h)[0],p;for(p in l)l.hasOwnProperty(p)&&delete l[p];b.extend(l,b.JSONToolkit.getElementValue(h))}}return c}}})})(k);(function(b){b.extend({JavascriptExpressionToolkit:{extractSourceVariablesFromJSFunction:function(a){var b=
a.substring(a.indexOf("(")+1,a.indexOf(")")),b=b.trim();if(0==b.length)return[];for(var a=[],b=b.split(","),c=0;c<b.length;c++){var e=b[c].trim();a.push(e)}return a}}})})(k);(function(b){b.extend({ObjectToolkit:{count:function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b},match:function(a,d,c){c="undefined"!==typeof c?c:!0;if(b.ObjectToolkit.count(a)!==b.ObjectToolkit.count(d))return!1;for(var e in a)if(a.hasOwnProperty(e)&&(!d.hasOwnProperty(e)||c&&a[e]!==d[e]))return!1;return!0}}})})(k);
(function(b){Object.create=function(a){function b(){}b.prototype=a;return new b};b.extend({log:function(a){"object"===typeof console&&console.log(a)}});b.extend({isHTML5Supported:function(){return b.browser.msie?9<=parseInt(b.browser.version,10):!0}});b.extend({isMobile:function(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("ipad")||-1!==a.indexOf("iphone")||-1!==a.indexOf("android")}});b.extend({stopAllEventPropagation:function(a){a.stopPropagation();a.preventDefault();a.cancelBubble=
!0;return a.returnValue=!1}});b.extend({getJSONP:function(a,d,c,e){d.callback="jsonpCallback";b.jsonp({url:a,data:d,callback:"jsonpCallback",success:c,error:e})}});b.extend({postJSONP:function(a,d,c,e){b.ajax({url:a,data:d,dataType:"jsonp",type:"post",success:c,error:e})}});b.extend({postJSON:function(a,d,c,e){b.ajax({url:a,data:d,dataType:"json",type:"post",success:c,error:e})}});b.extend({evalMetric:function(a){a=parseInt(a,10);isNaN(a)&&(a=0);return a}});b.extend({mouseOffset:function(a){var d=
-1,c=-1;b.isMobile()?(d=Math.floor(a.originalEvent.changedTouches[0].pageX-b(a.target).offset().left),c=Math.floor(a.originalEvent.changedTouches[0].pageY-b(a.target).offset().top)):(d=Math.floor(a.pageX-b(a.target).offset().left),c=Math.floor(a.pageY-b(a.target).offset().top));return{left:d,top:c}}});b.extend({getObjectSize:function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}});b.extend({jsonutil:{getChildren:function(a){if(void 0!==a._)if(b.isArray(a._))for(var d=[],c=0,e=a._.length;c<
e;c++){var f=a._[c],g;for(g in f)f.hasOwnProperty(g)&&d.push({name:g,value:f[g]})}else for(c in d=[],a._)d.push({name:c,value:a._[c]});else if(void 0!==a.$&&b.isArray(a.$)){d=[];c=0;for(e=a.$.length;c<e;c++)for(g in f=a.$[c],f)if("_"==g)for(var h=b.jsonutil.getChildren(f[g]),j=0;j<h.length;j++)d.push({name:h[j].name,value:h[j].value});else f.hasOwnProperty(g)&&d.push({name:g,value:f[g]})}else for(c in d=[],a)a.hasOwnProperty(c)&&"@"!=c.charAt(0)&&d.push({name:c,value:a[c]});return d},getAttributes:function(a){var b=
{},c;for(c in a)if(a.hasOwnProperty(c)&&"@"==c.charAt(0)){var e=c.substring(1);b[e]=a[c]}return b},_getValue:function(a,d,c){if(null!==a&&(a=b.jsonutil.getChildren(a),0!=d.length))for(var e=0,f=a.length;e<f;e++){var g=a[e];if(d[0]==g.name){if(1==d.length)return c?""+g.value:g.value;d.shift();return b.jsonutil._getValue(g.value,d,c)}}},getValueAsString:function(a,d){return b.jsonutil._getValue(a,d,!0)},getValue:function(a,d){return b.jsonutil._getValue(a,d,!1)},iterateChildren:function(a,d){for(var c=
b.jsonutil.getChildren(a),e=0,f=c.length;e<f;e++)d(c[e].name,c[e].value)},executeForChild:function(a,d,c){for(var e=[],a=b.jsonutil.getChildren(a),f=0,g=a.length;f<g;f++){var h=a[f].value;a[f].name==d&&e.push(c(h))}return e},executeForFirstChild:function(a,d,c){for(var a=b.jsonutil.getChildren(a),e=0,f=a.length;e<f;e++){var g=a[e].value;if(a[e].name===d)return c(g)}},executeForFirstChildWithAttributeValue:function(a,d,c,e,f){for(var a=b.jsonutil.getChildren(a),g=0,h=a.length;g<h;g++){var j=a[g].value;
if(a[g].name==d&&j[c]===e)return f(j)}},countChildrenWithAttributeValue:function(a,d,c,e){for(var a=b.jsonutil.getChildren(a),f=0,g=0,h=a.length;g<h;g++){var j=a[g].value;a[g].name==d&&j[c]===e&&f++}return f},getEventCoordsWithRespectToDocument:function(a){var b={};a.targetTouches&&0<a.targetTouches.length&&(a=a.targetTouches[0]);if(a.pageX||a.pageY)b.documentX=a.pageX,b.documentY=a.pageY;else if(a.clientX||a.clientY)b.documentX=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
b.documentY=a.clientY+document.body.scrollTop+document.documentElement.scrollTop;return b},parseCalcValueForChild:function(a){var b={};a?a.hasOwnProperty("calc")?(b.value=a.calc.$,b.expression=a.calc["@expression"]):b.value=a.$:b={};void 0!==b.value&&"string"===typeof b.value&&(b.value=b.value.replace(/\n/g," "));return b},parseNameRef:function(a){if(void 0!=a["@nameRef"])return a["@nameRef"];a=b.jsonutil.getValue(a,["nameRef"]);return void 0==a?void 0:b.jsonutil.parseCalcValueForChild(a).value},
collapseWhitespaces:function(a){a=a.replace(/\n+/g," ");a=a.replace(/\r+/g," ");a=a.replace(/\t+/g," ");return a=a.replace(/\s+/g," ")},removeAllWhitespaces:function(a){a=a.replace(/\n+/g,"");a=a.replace(/\r+/g,"");a=a.replace(/\t+/g,"");return a=a.replace(/\s+/g,"")}}})})(k);(function(b){b.extend({q4versions:new function(){var a={},b=[];a.add=function(a){b.push(a)};a.getAllVersions=function(){return b};return a}})})(k);(function(b){var a=function(){var a={},c=null,e=null,f=null,g=null;a.init=function(b){c=
b;a.bindExternalCommandBus();return a};a.start=function(a){g=a};a.handleRenderActivity=function(a,d,l){e=b.q4domfactory.newInstanceByName("activity").init(d,l,c);f=b.q4presenterfactory.newInstanceByName("activity_presenter")._init(e);f._createView(g);f._createChildPresenters();b.activityAppcontroller.getQ4CommandBus().addCommandHandler(b.q4appcontroller.COMMAND_SEND_RESOLVE_AREA_REQUEST,function(a,d,e){c.fireCommand(b.q4appcontroller.COMMAND_SEND_RESOLVE_AREA_REQUEST,d,e)})};a.handleApplyActivityNodeDelta=
function(a,c){var d=b.activityAppcontroller.getQ4CommandBus();void 0!==c.gradedFeedback&&d.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_APPLY_QDELTA,c.gradedFeedback);void 0!==c.studentAnswer&&d.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_APPLY_QDELTA,c.studentAnswer)};a.handleApplyActivityDelta=function(a,c){for(var d=b.jsonutil.getChildren(c),g=0,f=d.length;g<f;g++){var p=d[g].name,q=d[g].value;if(q["@ref"]===e.getId())e.updateByQDelta(p,q);else{var r=e.getActivityNodeById(q["@ref"]);null!=
r&&void 0!==r.updateByQDelta&&(r.updateByQDelta(p,q),b(e).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED))}}};a.handleShowAnswers=function(){b.activityAppcontroller.getQ4CommandBus().fireCommand(b.q4appcontroller.COMMAND_CONTAINER_SHOW_ANSWERS)};a.handleApplyResolveAreaRequestResponse=function(a,c){b.activityAppcontroller.getQ4CommandBus().fireCommand(b.q4appcontroller.COMMAND_CONTAINER_RECEIVE_AREA_REQUEST_RESPONSE,a,c)};a.bindExternalCommandBus=function(){c.addCommandHandler(b.activityAppcontroller.COMMAND_CONTAINER_APPLY_RESOLVE_AREA_REQUEST_RESPONSE,
function(b,c,e){a.handleApplyResolveAreaRequestResponse(c,e)});c.addCommandHandler(b.activityAppcontroller.COMMAND_CONTAINER_RENDER_ACTIVITY,function(b,c,e){a.handleRenderActivity(b,c,e)});c.addCommandHandler(b.activityAppcontroller.COMMAND_CONTAINER_APPLY_ACTIVITYNODE_DELTA,function(b,c){a.handleApplyActivityNodeDelta(b,c)});c.addCommandHandler(b.activityAppcontroller.COMMAND_CONTAINER_APPLY_ACTIVITY_DELTA,function(b,c){a.handleApplyActivityDelta(b,c)});c.addCommandHandler(b.activityAppcontroller.COMMAND_CONTAINER_SHOW_ANSWERS,
function(b){a.handleShowAnswers(b)})};return a};b.extend({activityAppcontroller:new function(){var b={},c=null,e=null;b.COMMAND_CONTAINER_APPLY_RESOLVE_AREA_REQUEST_RESPONSE="__ccc_apply_area_resolve_area_request_response";b.COMMAND_CONTAINER_RENDER_ACTIVITY="__q4_command_container_render_activity";b.COMMAND_CONTAINER_APPLY_ACTIVITYNODE_DELTA="__q4_command_container_apply_activitynode_delta";b.COMMAND_CONTAINER_APPLY_ACTIVITY_DELTA="__q4_command_container_apply_activity_delta";b.COMMAND_CONTAINER_SHOW_ANSWERS=
"__q4_command_container_show_answers";b.COMMAND_GRADE_STEP="__q4_command_grade_step";b.COMMAND_GOTO_STEP="__q4_command_next_step";b.newInstance=function(){return new a};b.setQ4CommandBus=function(a){c=a};b.getQ4CommandBus=function(){return c};b.setSetupCommandBus=function(a){e=a};b.getSetupCommandBus=function(){return e};return b}})})(k);(function(b){var a=function(){var a={},c=null,e=null,f=null,g=null,h=null;a.init=function(c){e=c;a.bindExternalCommandBus();f=b.commandbus.newInstance().init("q4renderercontroller_commandbus");
a.bindInternalCommandBus();g=b.q4domfactory.newInstanceByName("clientVariableRegistry").initWithCommandBus(f);return a};a.start=function(a){h=b.q4viewfactory.newInstanceByName("root_view");h.init(a);b.q4presenterfactory.newInstanceByName("userMessaging.manager_presenter").init(c,f,c,h);b.q4presenterfactory.newInstanceByName("userMessaging.loading_manager_presenter").init(c,f,c,h)};a.bindExternalCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_CONTAINER_RENDER_QDOC,function(b,c,
e){a.handleRenderQDoc(b,c,e)});e.addCommandHandler(b.q4appcontroller.COMMAND_CONTAINER_GET_CLIENTDELTA,function(b,c){a.handleGetClientDelta(b,c)});e.addCommandHandler(b.q4appcontroller.COMMAND_CONTAINER_APPLY_QDELTA,function(b,c){a.handleApplyQDelta(b,c)});e.addCommandHandler(b.q4appcontroller.COMMAND_CONTAINER_RECEIVE_AREA_REQUEST_RESPONSE,function(b,c,e){a.handleApplyAreaRequestResponse(b,c,e)});e.addCommandHandler(b.q4appcontroller.COMMAND_CONTAINER_APPLY_CLIENTDELTA,function(b,c){a.handleApplyClientDelta(b,
c)});e.addCommandHandler(b.q4appcontroller.COMMAND_CONTAINER_SHOW_ANSWERS,function(b){a.handleShowAnswers(b)});e.addCommandHandler(b.q4appcontroller.COMMAND_DEMO_CHANGE_AMOUNT,function(b){a.handleDemoChangeAmount(b)});e.addCommandHandler(b.q4appcontroller.COMMAND_CONTAINER_APPLY_CANONICAL_QDELTA,function(b,c){a.handleApplyCanonicalQDelta(b,c)});e.addCommandHandler(b.q4appcontroller.COMMAND_CONTAINER_APPLY_CLIENT_QDELTA,function(b,c){a.handleApplyClientQDelta(b,c)});e.addCommandHandler(b.q4appcontroller.COMMAND_CONTAINER_GET_CLIENT_QDELTA,
function(b,c){a.handleGetClientQDelta(b,c)});e.addCommandHandler(b.q4appcontroller.COMMAND_SEND_ANSWER_SUBMISSION_ERROR,function(a,c){f.fireCommand(b.UserMessagingConstants.TYPE_ANSWER_SUBMISSION,c)});e.addCommandHandler(b.q4appcontroller.COMMAND_SEND_AUTHORING_ERROR,function(a,c){f.fireCommand(b.UserMessagingConstants.TYPE_AUTHORING,c)});e.addCommandHandler(b.q4appcontroller.COMMAND_SEND_COMMUNICATION_ERROR,function(a,c){f.fireCommand(b.UserMessagingConstants.TYPE_COMMUNICATION,c)});e.addCommandHandler(b.q4appcontroller.COMMAND_SEND_RUNTIME_ERROR,
function(a,c){f.fireCommand(b.UserMessagingConstants.TYPE_RUNTIME,c)});e.addCommandHandler(b.q4appcontroller.COMMAND_SEND_SHOW_LOADING_MESSAGE,function(){f.fireCommand(b.UserMessagingConstants.TYPE_SHOW_LOADING)});e.addCommandHandler(b.q4appcontroller.COMMAND_SEND_HIDE_LOADING_MESSAGE,function(){f.fireCommand(b.UserMessagingConstants.TYPE_HIDE_LOADING)})};a.bindInternalCommandBus=function(){f.addCommandHandler(b.q4appcontroller.COMMAND_SEND_RESOLVE_AREA_REQUEST,function(a,c,d){e.fireCommand(b.q4appcontroller.COMMAND_SEND_RESOLVE_AREA_REQUEST,
c,d)})};a.handleGetClientQDelta=function(a,d){f.fireCommand(b.q4appcontroller.COMMAND_GET_CLIENT_QDELTA);var e=c.generateClientQDelta();c.clearClientQDeltas();d(c.root.id,e)};a.handleApplyCanonicalQDelta=function(a,b){j(b)};a.handleApplyClientQDelta=function(a,b){j(b.qDelta)};a.handleRenderQDoc=function(a,d,e){c=b.q4domfactory.createQdom(d,e,g);b.q4presenterfactory.newInstanceByName("qdom_presenter").init(c,f,c,h)};a.handleGetClientDelta=function(a,d){f.fireCommand(b.q4appcontroller.COMMAND_GET_CLIENT_DELTA);
d(c.root.id,c.clientDelta);c.clientDelta=[]};a.handleApplyQDelta=function(a,b){j(b)};a.handleApplyAreaRequestResponse=function(a,c,d){f.fireCommand(b.q4appcontroller.COMMAND_RECEIVE_RESOLVE_AREA_RESPONSE,c,d)};a.handleApplyClientDelta=function(a,b){for(var d=0;d<b.length;d++){var e=c.getNodeById(b[d].ref);null!=e&&e.updateByClientDelta(b[d])}};a.handleShowAnswers=function(){f.fireCommand(b.q4appcontroller.COMMAND_PAGE_GRADED)};a.handleDemoChangeAmount=function(){f.fireCommand(b.q4appcontroller.COMMAND_PAGE_GRADED)};
var j=function(a){for(var d=b.jsonutil.getChildren(a),e=0,g=d.length;e<g;e++){var h=d[e].name,j=d[e].value,s=c.getNodeById(j["@ref"]);null!=s&&void 0!==s.beforeInvalidation&&s.beforeInvalidation(h,j)}for(var o=[],d=b.jsonutil.getChildren(a),e=0,g=d.length;e<g;e++)h=d[e].name,j=d[e].value,s=c.getNodeById(j["@ref"]),null!=s&&void 0!==s.updateByQDelta&&(s.updateByQDelta(h,j),-1===b.inArray(s,o)&&o.push(s));for(var k in o)s=o[k],void 0!==s.afterInvalidation&&s.afterInvalidation();f.fireCommand(b.q4appcontroller.COMMAND_TEMP_REFRESH_ALL_GRAPH_VIEWS)};
return a};b.extend({q4appcontroller:new function(){return{COMMAND_CONTAINER_RENDER_QDOC:"__q4_command_container_render_qdoc",COMMAND_CONTAINER_APPLY_QDELTA:"__q4_command_container_apply_qdelta",COMMAND_CONTAINER_APPLY_CLIENTDELTA:"__q4_command_container_apply_client_delta",COMMAND_CONTAINER_GET_CLIENTDELTA:"__q4_command_container_get_client_delta",COMMAND_CONTAINER_SHOW_ANSWERS:"__q4_command_container_show_answers",COMMAND_CONTAINER_RECEIVE_AREA_REQUEST_RESPONSE:"__q4_command_container_apply_area_request_response",
COMMAND_SUBMIT_PAGE:"__q4_command_renderer_submit_page",COMMAND_GET_CLIENT_DELTA:"__q4_command_renderer_get_client_delta",COMMAND_PAGE_GRADED:"__q4_command_renderer_page_graded",COMMAND_TEMP_REFRESH_ALL_GRAPH_VIEWS:"__q4_command_temp_refresh_all_graph_views",COMMAND_CONTAINER_APPLY_CANONICAL_QDELTA:"__q4_command_container_apply_canonical_qdelta",COMMAND_CONTAINER_APPLY_CLIENT_QDELTA:"__q4_command_container_apply_client_qdelta",COMMAND_CONTAINER_GET_CLIENT_QDELTA:"__q4_command_container_get_client_qdelta",
COMMAND_GET_CLIENT_QDELTA:"__q4_command_renderer_get_client_qdelta",COMMAND_SHOW_DIALOG:"__q4_command_renderer_show_dialog",COMMAND_TOGGLE_LOADING:"__q4_command_renderer_toggle_loading",COMMAND_TOGGLE_SYSTEM:"__q4_command_renderer_toggle_system",COMMAND_SEND_ANSWER_SUBMISSION_ERROR:"__q4_command_renderer_send_answer_submission_error",COMMAND_SEND_COMMUNICATION_ERROR:"__q4_command_renderer_send_communication_error",COMMAND_SEND_AUTHORING_ERROR:"_q4_command_renderer_send_authoring_error",COMMAND_SEND_RUNTIME_ERROR:"_q4_command_renderer_send_runtime_error",
COMMAND_SEND_SHOW_LOADING_MESSAGE:"__q4_command_renderer_send_show_loading",COMMAND_SEND_HIDE_LOADING_MESSAGE:"__q4_command_renderer_send_hide_loading",COMMAND_DEMO_CHANGE_AMOUNT:"__q4_command_demo_show_amount",COMMAND_SEND_QDELTA_FEEDBACK:"__q4_command_send_qdelta_feedback",COMMAND_SEND_RESOLVE_AREA_REQUEST:"__q4_command_send_resolve_area_request",COMMAND_RECEIVE_RESOLVE_AREA_RESPONSE:"__q4_command_receive_resolve_area_request",COMMAND_PUBLISH_CLIENT_VARIABLE_UPDATE:"__q4_command_publish_client_variable_update",
newInstance:function(){return new a}}}})})(k);(function(b){b.q4domfactory.registerClass("heaDataTypeCurrency",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f,g,h,j,l,m,n){a.setAllowZero(!0);a.setInputRestrictionsByInputRestrictionsObject(m);var e=b.q4domfactory.newInstanceByName("heaRolesSetter"),m=e.getAlignment(j,l),p=b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT,p=e.alignmentToConstant(m,p);a.initWithCurrencyWithSign(d,c,g,f,p,b.q4domfactory.newInstanceByName("accounting-hea.dollarCurrencyFormat"),
n);a.getCell().setColumnWidthType(h);e.setRoles(a.getCell(),j,l);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("heaDataTypeCurrencyWithoutSymbol",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f,g,h,j,l,m,n){a.setAllowZero(!0);a.setInputRestrictionsByInputRestrictionsObject(m);var e=b.q4domfactory.newInstanceByName("heaRolesSetter"),m=e.getAlignment(j,l),p=b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT,p=e.alignmentToConstant(m,
p);a.initWithNegativeLongNumber(d,c,g,f,p,void 0,n);e.setRoles(a.getCell(),j,l);a.getCell().setColumnWidthType(h);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("heaDataTypePercentage",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f,g,h,j,l,m,n){a.setAllowZero(!0);a.setInputRestrictionsByInputRestrictionsObject(m);var e=b.q4domfactory.newInstanceByName("heaRolesSetter"),m=e.getAlignment(j,l),p=b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT,
p=e.alignmentToConstant(m,p);a.initWithPercentageWithSymbol(d,c,g,f,p,b.q4domfactory.newInstanceByName("accounting-hea.percentageFormat"),n);a.getCell().setColumnWidthType(h);e.setRoles(a.getCell(),j,l);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("heaDataTypePercentageWithoutSymbol",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f,g,h,j,l,m,n){a.setAllowZero(!0);a.setInputRestrictionsByInputRestrictionsObject(m);var e=
b.q4domfactory.newInstanceByName("heaRolesSetter"),m=e.getAlignment(j,l),p=b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT,p=e.alignmentToConstant(m,p);a.initWithPercentage(d,c,g,f,p,b.q4domfactory.newInstanceByName("accounting-hea.noPercentageFormat"),n);a.getCell().setColumnWidthType(h);e.setRoles(a.getCell(),j,l);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("heaDataTypeTextForFixed",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,
c,e,f,g,h,j,l,m,n){var e=b.q4domfactory.newInstanceByName("heaRolesSetter"),p=e.getAlignment(l,m),q=b.TableEntryConstants.TEXT_ALIGNMENT_CENTER,q=e.alignmentToConstant(p,q);a.initWithText(d,c,g,h,f,q,void 0,n);a.getCell().setColumnWidthType(j);e.setRoles(a.getCell(),l,m);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("heaDataTypeTextForFree",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f,g,h,j,l,m,n,p){!a.setPlaceholderByCellRoles(l,
p)&&void 0!==p&&a.setHint(p);var e=b.q4domfactory.newInstanceByName("heaRolesSetter"),p=e.getAlignment(l,m),q=b.TableEntryConstants.TEXT_ALIGNMENT_LEFT,q=e.alignmentToConstant(p,q);a.initWithText(d,c,g,h,f,q,void 0,n);a.getCell().setColumnWidthType(j);e.setRoles(a.getCell(),l,m);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("financialStatement",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="financialStatement";a.parent=null;a.id=null;
var d=!1,c=b.q4domfactory.newInstanceByName("codex").init(),e=null,f=null,g=null,h=null,j={};a._parse=function(c,j,n){a.parent=n;a.id=j["@id"];d="static"===j["@use"];e=b.q4domfactory.newInstanceByName("tableEntryTable").init(!0);f=b.q4domfactory.newInstanceByName("tableEntryTable").init(!1);for(var j=b.jsonutil.getChildren(j),n=0,p=j.length;n<p;n++){var q=j[n].value;switch(j[n].name){case "state":var r=q["@type"];"working"===r&&(g=b.q4domfactory.newInstanceByName("journalState"),g.init(c,q,a));"correct"===
r&&(h=b.q4domfactory.newInstanceByName("journalState"),h.init(c,q,a))}}addJournalRowsToTable(g,e);a.isStatic()||addJournalRowsToTable(h,f);a.isStatic()&&e.setStatic(!0)};a.getTitle=function(){return a.getWorkingStateTableEntryTable().getTableTitle()};a.setFieldIndex=function(a,b){j[a]=b};a.getFieldIndex=function(a){return j[a]};a.isStatic=function(){return d};a.getCorrectState=function(){return h};a.getWorkingState=function(){return g};a.getWorkingStateTableEntryTable=function(){return e};a.getCorrectStateTableEntryTable=
function(){return f};a.getCodexBlank=function(){return c};a.hasPages=function(){return!1};a.updateByQDelta=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("gradableRowEntryTable",function(){return Object.create(b.q4domfactory.newInstanceByName("gradableLedger"))})})(k);(function(b){b.q4domfactory.registerClass("rowEntryCell",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="rowEntryCell";var d=null,c=null,e=null,f=null,g=null,h=null,
j=null,l=b.q4domfactory.newSingletonByName("roleFactory");a._parse=function(p,q,r){d=p;c=q["@id"];h=r;g=r.getRowEntryTable();f="rowEntryState"===r.nodeName?b.jsonutil.getValue(q,["info","dataType","$"]):r.getRowEntryTable().getColumnWidths()[r.getCells().length];b.jsonutil.getValue(q,["info","entryType","$"]);var s=b.jsonutil.getValue(q,["info","dataType","$"]),o=b.jsonutil.getValue(q,["info","placeholder","$"]),k=n(q),t={min:null,max:null,number:null},w=b.jsonutil.getValue(q,["info","inputRestrictions",
"min","$"]);void 0!==w&&(t.min=w);w=b.jsonutil.getValue(q,["info","inputRestrictions","max","$"]);void 0!==w&&(t.max=w);w=b.jsonutil.getValue(q,["info","inputRestrictions","number","value","$"]);void 0!==w&&(t.number=w);w=g.getRoles();f=l.getAttributeValueInRoles(w,"columnWidth_"+f);w=b.jsonutil.getValue(q,["info","codices","nameRef","$"]);w=void 0===w?g.getCodexBlank():d.getNameRef(w);var x=b.jsonutil.getValue(q,["value"]);if(null===x||void 0===x)x={};x["@type"]=q["@type"];var B=g.getRoles();switch(s){case "shortText":case "longText":case "orderedText":e=
"fixed"===x["@type"]?b.q4domfactory.newInstanceByName("heaDataTypeTextForFixed").init(p,x,g,h,"value",w,f,k,B,"RET"):b.q4domfactory.newInstanceByName("heaDataTypeTextForFree").init(p,x,g,h,"value",w,f,k,B,"RET",o);break;case "number":case "currency":case "currencyWithoutSymbol":case "percentage":case "percentageWithoutSymbol":dataTypeInstance=m[s];e=b.q4domfactory.newInstanceByName(dataTypeInstance).init(p,x,g,h,"value",f,k,B,t,"RET");break;default:e=b.q4domfactory.newInstanceByName("heaDataTypeTextForFixed").init(p,
x,g,h,"value",w,f,k,B,"RET")}j=e.getCell();r.isCorrectState()&&j.setShowBorderWhenEmpty(!0);p=j;r=b.jsonutil.getValue(q,["info","prefix","$"]);q=b.jsonutil.getValue(q,["info","suffix","$"]);void 0!==r&&p.setPrefix(r);void 0!==q&&p.setSuffix(q);j.setInterleaved(h.interleave);d.registerNodeById(c,a)};var m={currency:"heaDataTypeCurrency",number:"heaDataTypeCurrency",currencyWithoutSymbol:"heaDataTypeCurrencyWithoutSymbol",percentage:"heaDataTypePercentage",percentageWithoutSymbol:"heaDataTypePercentageWithoutSymbol"},
n=function(a){var c=[],a=b.jsonutil.getValue(a,["info"]);void 0!==a&&b.jsonutil.executeForChild(a,"role",function(a){a=b.jsonutil.getValue(a,["$"]);c.push(a)});return c};a.getTableEntryCell=function(){return j};a.getRowEntryTable=function(){return g};a.updateByQDelta=function(b,c){var d;"replaceAttributes"===b&&(d=c["@part-of-rowGroup"]);d?j.setPartOfRowGroup(!0):j.setPartOfRowGroup(!1);j.isEditable()&&a.getTableEntryCell().getField().updateByQDelta(b,c)};return a})})(k);(function(b){b.q4domfactory.registerClass("rowEntryRow",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="rowEntryRow";a.interleave;var d=null,c=null,e=null,f=!1,g=null,h=null,j=[];a._parse=function(c,m,n){e=c;d=n.getRowEntryTable();h=n.isCorrectState();f="fixed"===m["@type"];g=m["@id"];a.interleave=m["@interleavedRowGroup"];m=b.jsonutil.getChildren(m);m.unshift({name:"cell",value:{"@type":"fixed",value:{$:n.getRows().length+1}}});m.push({name:"cell",value:{"@type":"fixed",value:{$:n.getRows().length+1}}});for(var n=
0,p=m.length;n<p;n++){var q=m[n].value;switch(m[n].name){case "cell":a.parseChildren(c,q,a,"rowEntryCell",j)}}j[0].getTableEntryCell().setShowTransactionCorrectness(!0);e.registerNodeById(g,a)};a.getRowEntryTable=function(){return d};a.isCorrectState=function(){return h};a.getCells=function(){for(var a=[],b=0;b<j.length;b++)a.push(j[b].getTableEntryCell());return a};a.getPageNumber=function(){return 1};a.setTableEntryRow=function(a){c=a;c.setIsFixed(f);void 0!==this._bindTableEntryRow&&this._bindTableEntryRow();
void 0!==this._initTableEntryRow&&this._initTableEntryRow()};a.getTableEntryRow=function(){return c};a.getIsFixed=function(){return f};a.updateByQDelta=function(b,d){var e=d["@rowGroupRejoinder"],g=d["@interleavedRowGroup"];void 0!==g?(a.interleave=g,c.getCell(0).setInterleaved(g)):(a.interleave=void 0,c.getCell(0).setInterleaved(void 0));void 0!==e?(c.setTransactionRejoinder(e),c.setGraded(!0)):c.setTransactionRejoinder(null)};a.afterInvalidation=function(){c.setCorrectAsSubmitted(!1)};return a})})(k);
(function(b){b.q4domfactory.registerClass("rowEntryState",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="rowEntryState";a.id=null;var d=a.parent=null,c=[],e=[],f=!1;a._parse=function(g,f,j){var l;d=j;a.id=f["@id"];a.parent=j;try{l=b.jsonutil.getChildren(f)}catch(m){alert("The working state is blank!")}for(var j=0,n=l.length;j<n;j++){var p=l[j].value;switch(l[j].name){case "title":a.parseChildren(g,p,a,"rowEntryCell",e);break;case "row":a.parseChildren(g,
p,a,"rowEntryRow",c)}}if("correct"===f["@type"])for(g=0;g<e.length;g++)e[g].getTableEntryCell().setEditable(!1);a.parent.getWorkingStateTableEntryTable().setCompanyTitle("NONE");a.parent.getWorkingStateTableEntryTable().setTableTitle("NONE");a.parent.getCorrectStateTableEntryTable().setTableTitle("NONE");a.parent.getWorkingStateTableEntryTable().setPeriodLabel("NONE")};a.getTitles=function(){return e};a.getRows=function(){return c};a.getRowEntryTable=function(){return d};a.isCorrectState=function(){return f};
a.setCorrectState=function(a){f=a};return a})})(k);(function(b){b.q4domfactory.registerClass("rowEntryTable",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="rowEntryTable";a.id=null;var d=!1,c=b.q4domfactory.newInstanceByName("codex").init(),e=null,f=null,g=null,h=null,j=[],l=[" "],m=null;a._parse=function(c,l,n){a.parent=n;a.id=l["@id"];d="static"===l["@use"];m=b.q4domfactory.newInstanceByName("gradableRowEntryTable").init();e=b.q4domfactory.newInstanceByName("rowTableEntryTable").init(!0);
e.setParent(a);f=b.q4domfactory.newInstanceByName("rowTableEntryTable").init(!1);f.setParent(a);for(var l=b.jsonutil.getChildren(l),n=0,k=l.length;n<k;n++){var w=l[n].value;switch(l[n].name){case "info":p(w);break;case "state":var x=w["@type"];"working"===x&&(g=b.q4domfactory.newInstanceByName("rowEntryState"),g.init(c,w,a),e.setTitles(g.getTitles()));"correct"===x&&(h=b.q4domfactory.newInstanceByName("rowEntryState"),h.setCorrectState(!0),h.init(c,w,a),f.setTitles(h.getTitles()))}}j&&0<j.length?
(e.setTableCSSNameOverride(j[j.length-1]),f.setTableCSSNameOverride(j[j.length-1])):(e.setTableCSSNameOverride("defaultRole"),f.setTableCSSNameOverride("defaultRole"));q(e);r(g,e);a.isStatic()||(q(f),r(h,f));a.isStatic()&&e.setStatic(!0);c.registerNodeById(a.id,a)};a.getCodexBlank=function(){return c};a.isStatic=function(){return d};a.getWorkingStateTableEntryTable=function(){return e};a.getCorrectStateTableEntryTable=function(){return f};a.getTitle=function(){return a.getWorkingStateTableEntryTable().getTableTitle()};
a.hasPages=function(){return!1};a.getGradableModel=function(){return m};a.getRoles=function(){return j};a.getColumnWidths=function(){return l};var n=function(a,c){var d=b.jsonutil.getValue(a,["columns"]),d=b.jsonutil.getChildren(d,["_"]),e;for(e in d)c.push(b.jsonutil.getValue(d[e],["value","info","dataType","$"]))},p=function(a){var c=b.jsonutil.getValue(a,["role","$"]);n(a,l);a=b.jsonutil.getChildren(a).filter(function(a){return"role"===a.name?a.name:null});for(c in a){var d=a[c];d&&(d=d.value)&&
j.push(d.$)}},q=function(a){a.setSelectedPageNumber(1);a.setInitialPageNumber(1);var c=b.q4domfactory.newInstanceByName("tableEntryPage").init(1,a);a.addPage(1,c)},r=function(a,b){for(var c=a.getRows(),d=0;d<c.length;d++){var e=c[d].getPageNumber(),g=c[d].getCells(),e=b.getPageByNumber(e).getRows().addRow(g,b,!1,!1);c[d].setTableEntryRow(e)}};a.updateByQDelta=function(a,b){if("replaceAttributes"===a){var c=b["@rejoinder"],d=b["@credits-earned-incremental"],h=b["@credits-possible-incremental"],j=b["@isGraded"],
l=b["@isAttempted"],n=void 0!==b["@credits-earned"]?b["@credits-earned"]:b["@credits-earned-as-checked"],p=void 0!==b["@credits-possible"]?b["@credits-possible"]:b["@credits-possible-as-checked"];void 0!==j&&(m.setGraded(j),e.setGraded(j),f.setGraded(j));void 0!==l&&(m.setAttempted(l),l||(j=g.getRows(),j.forEach(function(a){a=a.getTableEntryRow();a.interleave=void 0;a.getCell(0).setInterleaved(void 0);a.setTransactionRejoinder(null)}),j.forEach(function(a){a.getTableEntryRow().setCorrectAsSubmitted(false)})));
void 0!==d&&void 0!==h&&(m.setCreditsEarned(d),m.setCreditsPossible(h));void 0!==n&&void 0!==p&&(m.setTotalEarned(n),m.setTotalPossible(p));void 0!==c?(m.setRejoinder(c),m.setCorrectAsSubmitted(!1)):m.setRejoinder(null)}};return a})})(k);(function(b){b.q4domfactory.registerClass("rowTableEntryTable",function(){var a=Object.create(b.q4domfactory.newInstanceByName("tableEntryTable"));a.nodeName="rowTableEntryTable";a._parent=null;a._titles=[];a.setParent=function(b){a._parent=b};a.getParent=function(){return a._parent};
a.setTitles=function(b){a._titles=b};a.getTitles=function(){return a._titles};a.init=function(b){a.setContainsWorkingState(b);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("accounting-hea.currencyFormat",function(){var a=Object.create(b.q4domfactory.newInstanceByName("numericEntry.format"));a.minimumDecimalPlace=1;a.decimalCharacter=".";a.thousandsSeparator=",";a.prefix=null;a.suffix=null;a.alwaysPadDecimals=!0;return a})})(k);(function(b){b.q4domfactory.registerClass("accounting-hea.dollarCurrencyFormat",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("accounting.currencyFormat"));a.prefix="$";return a})})(k);(function(b){b.q4domfactory.registerClass("accounting-hea.negativeCurrencyFormat",function(){var a=Object.create(b.q4domfactory.newInstanceByName("accounting.currencyFormat"));a.minimumDecimalPlace=1;a.prefix="(";a.suffix=")";a.alwaysPadDecimals=!0;return a})})(k);(function(b){b.q4domfactory.registerClass("accounting-hea.negativeCurrencyFormatWithCurrencySign",function(){var a=
Object.create(b.q4domfactory.newInstanceByName("accounting.currencyFormat"));a.minimumDecimalPlace=2;a.prefix="$(";a.suffix=")";a.alwaysPadDecimals=!0;return a})})(k);(function(b){b.q4domfactory.registerClass("accounting-hea.negativeCurrencyFormatWithPercentage",function(){var a=Object.create(b.q4domfactory.newInstanceByName("accounting.currencyFormat"));a.minimumDecimalPlace=1;a.prefix="(";a.suffix=")%";a.alwaysPadDecimals=!0;return a})})(k);(function(b){b.q4domfactory.registerClass("accounting-hea.noPercentageFormat",
function(){return Object.create(b.q4domfactory.newInstanceByName("accounting-hea.currencyFormat"))})})(k);(function(b){b.q4domfactory.registerClass("accounting-hea.percentageFormat",function(){var a=Object.create(b.q4domfactory.newInstanceByName("accounting-hea.currencyFormat"));a.suffix="%";return a})})(k);(function(b){b.q4domfactory.registerClass("heaRolesSetter",function(){var a={},d=b.q4domfactory.newSingletonByName("roleFactory");a.alignmentToConstant=function(a,d){"LEFT_ALIGN"===a?d=b.TableEntryConstants.TEXT_ALIGNMENT_LEFT:
"CENTER_ALIGN"===a?d=b.TableEntryConstants.TEXT_ALIGNMENT_CENTER:"RIGHT_ALIGN"===a&&(d=b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT);return d};a.getAlignment=function(a,b){if(0!==a.length)for(var f in a)if("accountTitle"===a[f]||"sectionTitle"===a[f]||"sectionDescription"===a[f]||"rollUpTitle"===a[f]||"grandNetTotalTitle"===a[f]||"amountDescription"===a[f]||"rollUpDescription"===a[f]||"companyName"===a[f]||"periodLabel"===a[f]||"columnHeader"===a[f]||"statementTitle"===a[f])return d.getAttributeValueInRoles(b,
a[f])};a.setRoles=function(a,b,f){for(var g in b)switch(b[g]){case "accountTitle_2":case "accountTitle_3":case "accountTitle_4":case "contraAccountTitle":case "contraAccountTitle_2":case "contraAccountTitle_3":case "contraAccountTitle_4":case "additionAccountTitle":case "additionAccountTitle_2":case "additionAccountTitle_3":case "additionAccountTitle_4":case "sectionTitle_2":case "sectionTitle_3":case "sectionTitle_4":case "sectionDescription_2":case "sectionDescription_3":case "sectionDescription_4":case "rollUpTitle_2":case "rollUpTitle_3":case "rollUpTitle_4":case "amountDescription_2":case "amountDescription_3":case "amountDescription_4":case "contraAmountDescription":case "contraAmountDescription_2":case "contraAmountDescription_3":case "contraAmountDescription_4":case "additionAmountDescription":case "additionAmountDescription_2":case "additionAmountDescription_3":case "additionAmountDescription_4":case "rollUpDescription_2":case "rollUpDescription_3":case "rollUpDescription_4":var h=
d.getAttributeValueInRoles(f,b[g]);a.setIndented(!0);a.setIndentLevel(h);a.setShowIndentWhenEmpty(!1);break;case "lastAmountInRollUp":case "lastPercentageInRollUp":a.setShowBorderWhenEmpty(!1);a.setBottomSingleBorder(!0);break;case "grandNetTotal":case "grandNetTotalPercentage":a.setShowBorderWhenEmpty(!1);a.setBottomDoubleBorder(!0);break;case "columnHeader":case "companyName":case "periodLabel":case "statementTitle":a.setHasBold()}};return a})})(k);(function(b){b.q4domfactory.registerClass("accounting-debug",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="accounting-debug";a.parent=null;a.id=null;a.title=null;a.header=null;a.subheaders=[];a.contents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].name,h=c[e].value;switch(g){case "title":a.title=b.q4domfactory.newInstanceByName("containerTitle");a.title.init(d,h,a);break;case "header":a.header=b.q4domfactory.newInstanceByName("containerHeader");
a.header.init(d,h,a);break;case "subheader":a.parseChildren(d,h,a,"containerSubheader",a.subheaders);break;default:a.parseChildren(d,h,a,g,a.contents)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("accountsPayableLedger",function(){var a=Object.create(b.q4domfactory.newInstanceByName("ledger")),d=a._parse;a._parse=function(b,e,f){a.setLedgerTitle("ACCOUNTS PAYABLE LEDGER");d(b,e,f)};return a})})(k);(function(b){b.q4domfactory.registerClass("accountsPayableLedgerAccount",function(){var a=
Object.create(b.q4domfactory.newInstanceByName("ledgerAccount")),d=a._parse;a._parse=function(c,e,f){d(c,e,f);c=a.getLedgerAccountNumber()+": "+a.getLedgerAccountTitle();a.getTableEntryTable().setTableCSSNameOverride("AccountsPayableLedger");a.getTableEntryTable().setTableTitle(c);a.setFieldIndex("rowIndexLeft",0);a.setFieldIndex("date",1);a.setFieldIndex("item",2);a.setFieldIndex("postReference",3);a.setFieldIndex("debit",4);a.setFieldIndex("credit",5);a.setFieldIndex("balanceCredit",6);a.setFieldIndex("rowIndexRight",
7);var c=a.getTableEntryTable(),e=[],f=null,g=-1,g=a.getFieldIndex("rowIndexLeft"),f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("");e[g]=f;g=a.getFieldIndex("date");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Date");e[g]=f;g=a.getFieldIndex("item");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Item");e[g]=f;g=a.getFieldIndex("postReference");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
g);f.setTitle("Post. Ref.");e[g]=f;g=a.getFieldIndex("debit");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Debit");e[g]=f;g=a.getFieldIndex("credit");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Credit");e[g]=f;g=a.getFieldIndex("balanceCredit");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Credit Balance");e[g]=f;g=a.getFieldIndex("rowIndexRight");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
g);f.setTitle("");e[g]=f;c.addColumnInfoSet(e)};return a})})(k);(function(b){b.q4domfactory.registerClass("accountsPayableLedgerAccountRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("ledgerRow"));a.nodeName="accountsPayableLedgerAccountRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j;for(var h=b.jsonutil.getChildren(h),j=0,l=h.length;j<l;j++){var m=h[j].name,n=h[j].value;switch(m){case "date":d.date=b.q4domfactory.newInstanceByName("generalJournalDate").init(g,
n,e,a);c[1]=d.date.getCell();break;case "item":d.item=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(g,n,e,a,m,e.getCodexItems());c[2]=d.item.getCell();break;case "postReference":d.postReference=b.q4domfactory.newInstanceByName("journalFormattedText").init(g,n,e,a,m,{maxLength:5,toUpperCase:!0,align:2,allowSpaces:!1});c[3]=d.postReference.getCell();break;case "debit":d.debit=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,n,e,a,m);c[4]=d.debit.getCell();break;case "credit":d.credit=
b.q4domfactory.newInstanceByName("journalLongMoney").init(g,n,e,a,m);c[5]=d.credit.getCell();break;case "creditBalance":d.balanceCredit=b.q4domfactory.newInstanceByName("ledgerLongMoneyBalance").init(g,n,e,a,m),c[6]=d.balanceCredit.getCell()}}h=e.getLedgerAccountRows().length+1;c[0]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[7]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,h).getCell();c[7].setShowRowCorrectness(!0)};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("accountsReceivableLedger",function(){var a=Object.create(b.q4domfactory.newInstanceByName("ledger")),d=a._parse;a._parse=function(b,e,f){a.setLedgerTitle("ACCOUNTS RECEIVABLE LEDGER");d(b,e,f)};return a})})(k);(function(b){b.q4domfactory.registerClass("accountsReceivableLedgerAccount",function(){var a=Object.create(b.q4domfactory.newInstanceByName("ledgerAccount")),
d=a._parse;a._parse=function(c,e,f){d(c,e,f);c=a.getLedgerAccountNumber()+": "+a.getLedgerAccountTitle();a.getTableEntryTable().setTableCSSNameOverride("AccountsReceivableLedger");a.getTableEntryTable().setTableTitle(c);a.setFieldIndex("rowIndexLeft",0);a.setFieldIndex("date",1);a.setFieldIndex("item",2);a.setFieldIndex("postReference",3);a.setFieldIndex("debit",4);a.setFieldIndex("credit",5);a.setFieldIndex("balanceDebit",6);a.setFieldIndex("rowIndexRight",7);var c=a.getTableEntryTable(),e=[],f=
null,g=-1,g=a.getFieldIndex("rowIndexLeft"),f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("");e[g]=f;g=a.getFieldIndex("date");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Date");e[g]=f;g=a.getFieldIndex("item");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Item");e[g]=f;g=a.getFieldIndex("postReference");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Post. Ref.");
e[g]=f;g=a.getFieldIndex("debit");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Debit");e[g]=f;g=a.getFieldIndex("credit");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Credit");e[g]=f;g=a.getFieldIndex("balanceDebit");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Debit Balance");e[g]=f;g=a.getFieldIndex("rowIndexRight");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("");
e[g]=f;c.addColumnInfoSet(e)};return a})})(k);(function(b){b.q4domfactory.registerClass("accountsReceivableLedgerAccountRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("ledgerRow"));a.nodeName="accountsReceivableLedgerAccountRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j;for(var h=b.jsonutil.getChildren(h),j=0,l=h.length;j<l;j++){var m=h[j].name,n=h[j].value;switch(m){case "date":d.date=b.q4domfactory.newInstanceByName("generalJournalDate").init(g,
n,e,a);c[1]=d.date.getCell();break;case "item":d.item=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(g,n,e,a,m,e.getCodexItems());c[2]=d.item.getCell();break;case "postReference":d.postReference=b.q4domfactory.newInstanceByName("journalFormattedText").init(g,n,e,a,m,{maxLength:5,toUpperCase:!0,align:2,allowSpaces:!1});c[3]=d.postReference.getCell();break;case "debit":d.debit=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,n,e,a,m);c[4]=d.debit.getCell();break;case "credit":d.credit=
b.q4domfactory.newInstanceByName("journalLongMoney").init(g,n,e,a,m);c[5]=d.credit.getCell();break;case "debitBalance":d.balanceDebit=b.q4domfactory.newInstanceByName("ledgerLongMoneyBalance").init(g,n,e,a,m),c[6]=d.balanceDebit.getCell()}}h=e.getLedgerAccountRows().length+1;c[0]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[7]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,h).getCell();c[7].setShowRowCorrectness(!0)};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("cashPaymentsJournal",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journal")),d=a._parse;a._parse=function(b,f,g){d(b,f,g);a.getWorkingStateTableEntryTable().setTableTitle("Cash Payments Journal");a.getCorrectStateTableEntryTable().setTableTitle("Cash Payments Journal");c(a.getWorkingStateTableEntryTable());a.isStatic()||c(a.getCorrectStateTableEntryTable())};
var c=function(c){var d=[],g=null,g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,0);g.setTitle("");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,1);g.setTitle("Date");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,2);g.setTitle("Account Title");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,3);g.setTitle("CK. No.");
g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,4);g.setTitle("Post. Ref.");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,5);g.setTitle("General");g.setRowSpan(1);g.setColSpan(2);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,6);g.setTitle("General");g.setRowSpan(0);g.setColSpan(0);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
7);g.setTitle("Accounts Payable Debit");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,8);g.setTitle("Purchases Discount Credit");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,9);g.setTitle("Cash Credit");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,10);g.setTitle("");g.setRowSpan(2);g.setColSpan(1);d.push(g);c.addColumnInfoSet(d);
var d=[],h=0,g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Debit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h++]=g;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Credit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h++]=g;c.addColumnInfoSet(d)};return a})})(k);(function(b){b.q4domfactory.registerClass("cashPaymentsJournalRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalTransactionRow"));
a.nodeName="cashPaymentsJournalRow";var d={},c=[],e=a._parse;a._parse=function(f,g,h){e(f,g,h);for(var j=h.parent,l=-1,g=b.jsonutil.getChildren(g),m=0,n=g.length;m<n;m++){var p=g[m].name,q=g[m].value;switch(p){case "pageNumber":l=q.$;break;case "date":d.date=b.q4domfactory.newInstanceByName("journalDate").init(f,q,j,a,p);c[1]=d.date.getCell();break;case "accountTitle":d.accountTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(f,q,j,a,p,j.getCodexAccountNames());c[2]=d.accountTitle.getCell();
break;case "checkNumber":d.checkNumber=b.q4domfactory.newInstanceByName("journalFormattedText").init(f,q,j,a,p,{maxLength:9,toUpperCase:!0,allowSpaces:!1,align:2});c[3]=d.checkNumber.getCell();break;case "postReference":d.postReference=b.q4domfactory.newInstanceByName("journalFormattedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences(),{maxLength:9,align:2});c[4]=d.postReference.getCell();break;case "debit":d.generalDebit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p);c[5]=
d.generalDebit.getCell();break;case "credit":d.generalCredit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p);c[6]=d.generalCredit.getCell();break;case "accountsPayableDebit":d.accountsPayableDebit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p);c[7]=d.accountsPayableDebit.getCell();break;case "purchasesDiscountCredit":d.purchasesDiscountCredit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p);c[8]=d.purchasesDiscountCredit.getCell();break;case "cashCredit":d.cashCredit=
b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p),c[9]=d.cashCredit.getCell()}}h=h.getRowNumber(l);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[10]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[10].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};
return a})})(k);(function(b){b.q4domfactory.registerClass("cashPaymentsJournalTotalsPostReferenceRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="cashPaymentsJournalTotalsPostReferenceRow";var d={},c=[],e=a._parse;a._parse=function(f,g,h){e(f,g,h);var j=h.parent,l=-1;c[1]="";for(var g=b.jsonutil.getChildren(g),m=0,n=g.length;m<n;m++){var p=g[m].name,q=g[m].value;switch(p){case "pageNumber":l=q.$;break;case "debitTotalPostReference":d.debitTotalPostReference=
b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences());c[5]=d.debitTotalPostReference.getCell();break;case "creditTotalPostReference":d.creditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences());c[6]=d.creditTotalPostReference.getCell();break;case "accountsPayableDebitTotalPostReference":d.accountsPayableDebitTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,
q,j,a,p,j.getCodexPostReferences());c[7]=d.accountsPayableDebitTotalPostReference.getCell();break;case "purchasesDiscountCreditTotalPostReference":d.purchasesDiscountCreditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences());c[8]=d.purchasesDiscountCreditTotalPostReference.getCell();break;case "cashCreditTotalPostReference":d.cashCreditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,
q,j,a,p,j.getCodexPostReferences()),c[9]=d.cashCreditTotalPostReference.getCell()}}h=h.getRowNumber(l);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[1]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[2]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,null).getCell();c[3]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[10]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[10].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};
a._initTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("cashPaymentsJournalTotalsRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="cashPaymentsJournalTotalsRow";var d={},c=[],e=a._parse;a._parse=function(f,g,h){e(f,g,h);for(var j=h.parent,l="broughtForward"===g["@role"]?"journalMoneyTotalBroughtForward":"journalMoneyTotal",m=-1,g=b.jsonutil.getChildren(g),n=0,p=g.length;n<p;n++){var q=g[n].name,r=g[n].value;switch(q){case "pageNumber":m=
r.$;break;case "date":d.date=b.q4domfactory.newInstanceByName("journalDate").init(f,r,j,a,q);c[1]=d.date.getCell();break;case "totalsTitle":d.totalsTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(f,r,j,a,q,j.getCodexTotalsTitle());c[2]=d.totalsTitle.getCell();break;case "debitTotal":d.debitTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[5]=d.debitTotal.getCell();break;case "creditTotal":d.creditTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[6]=d.creditTotal.getCell();
break;case "accountsPayableDebitTotal":d.accountsPayableDebitTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[7]=d.accountsPayableDebitTotal.getCell();break;case "purchasesDiscountCreditTotal":d.purchasesDiscountCreditTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[8]=d.purchasesDiscountCreditTotal.getCell();break;case "cashCreditTotal":d.cashCreditTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q),c[9]=d.cashCreditTotal.getCell()}}h=h.getRowNumber(m);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,
null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[3]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[10]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[10].setShowRowCorrectness(!0)};
a.getCells=function(){return c};a._bindTableEntryRow=function(){};a._initTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("cashReceiptsJournal",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journal")),d=a._parse;a._parse=function(b,f,g){d(b,f,g);a.getWorkingStateTableEntryTable().setTableTitle("Cash Receipts Journal");a.getCorrectStateTableEntryTable().setTableTitle("Cash Receipts Journal");c(a.getWorkingStateTableEntryTable());a.isStatic()||
c(a.getCorrectStateTableEntryTable())};var c=function(c){var d=[],g=null,g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,0);g.setTitle("");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,1);g.setTitle("Date");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,2);g.setTitle("Account Title");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
3);g.setTitle("Doc. No.");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,4);g.setTitle("Post. Ref.");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,5);g.setTitle("General");g.setRowSpan(1);g.setColSpan(2);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,6);g.setTitle("General");g.setRowSpan(0);g.setColSpan(0);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
7);g.setTitle("Accounts Receivable Credit");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,8);g.setTitle("Sales Credit");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,9);g.setTitle("Sales Tax Payable Credit");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,10);g.setTitle("Sales Discount Debit");g.setRowSpan(2);g.setColSpan(1);
d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,11);g.setTitle("Cash Debit");g.setRowSpan(2);g.setColSpan(1);d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,12);g.setTitle("");g.setRowSpan(2);g.setColSpan(1);d.push(g);c.addColumnInfoSet(d);var d=[],h=0,g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Debit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h++]=g;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
h);g.setTitle("Credit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h++]=g;c.addColumnInfoSet(d)};return a})})(k);(function(b){b.q4domfactory.registerClass("cashReceiptsJournalRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalTransactionRow"));a.nodeName="cashReceiptsJournalRow";var d={},c=[],e=a._parse;a._parse=function(f,g,h){e(f,g,h);for(var j=h.parent,l=-1,g=b.jsonutil.getChildren(g),m=0,n=g.length;m<n;m++){var p=g[m].name,q=g[m].value;switch(p){case "pageNumber":l=
q.$;break;case "date":d.date=b.q4domfactory.newInstanceByName("journalDate").init(f,q,j,a,p);c[1]=d.date.getCell();break;case "accountTitle":d.accountTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(f,q,j,a,p,j.getCodexAccountNames());c[2]=d.accountTitle.getCell();break;case "documentNumber":d.documentNumber=b.q4domfactory.newInstanceByName("journalFormattedText").init(f,q,j,a,p,{maxLength:9,toUpperCase:!0,allowSpaces:!1,align:2});c[3]=d.documentNumber.getCell();break;case "postReference":d.postReference=
b.q4domfactory.newInstanceByName("journalFormattedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences(),{maxLength:9,align:2});c[4]=d.postReference.getCell();break;case "debit":d.generalDebit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p);c[5]=d.generalDebit.getCell();break;case "credit":d.generalCredit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p);c[6]=d.generalCredit.getCell();break;case "accountsReceivableCredit":d.accountsReceivableCredit=b.q4domfactory.newInstanceByName("journalMoney").init(f,
q,j,a,p);c[7]=d.accountsReceivableCredit.getCell();break;case "salesCredit":d.salesCredit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p);c[8]=d.salesCredit.getCell();break;case "salesTaxPayableCredit":d.salesTaxPayableCredit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p);c[9]=d.salesTaxPayableCredit.getCell();break;case "salesDiscountDebit":d.salesDiscountDebit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p);c[10]=d.salesDiscountDebit.getCell();
break;case "cashDebit":d.cashDebit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p),c[11]=d.cashDebit.getCell()}}h=h.getRowNumber(l);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[12]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[12].setShowRowCorrectness(!0)};a.getCells=function(){return c};
a._bindTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("cashReceiptsJournalTotalsPostReferenceRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="cashReceiptsJournalTotalsPostReferenceRow";var d={},c=[],e=a._parse;a._parse=function(f,g,h){e(f,g,h);var j=h.parent,l=-1;c[1]="";for(var g=b.jsonutil.getChildren(g),m=0,n=g.length;m<n;m++){var p=g[m].name,q=g[m].value;switch(p){case "pageNumber":l=q.$;break;case "debitTotalPostReference":d.debitTotalPostReference=
b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences());c[5]=d.debitTotalPostReference.getCell();break;case "creditTotalPostReference":d.creditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences());c[6]=d.creditTotalPostReference.getCell();break;case "accountsReceivableCreditTotalPostReference":d.accountsReceivableCreditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,
q,j,a,p,j.getCodexPostReferences());c[7]=d.accountsReceivableCreditTotalPostReference.getCell();break;case "salesCreditTotalPostReference":d.salesCreditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences());c[8]=d.salesCreditTotalPostReference.getCell();break;case "salesTaxPayableCreditTotalPostReference":d.salesTaxPayableCreditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,
q,j,a,p,j.getCodexPostReferences());c[9]=d.salesTaxPayableCreditTotalPostReference.getCell();break;case "salesDiscountDebitTotalPostReference":d.salesDiscountDebitTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences());c[10]=d.salesDiscountDebitTotalPostReference.getCell();break;case "cashDebitTotalPostReference":d.cashDebitTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,
a,p,j.getCodexPostReferences()),c[11]=d.cashDebitTotalPostReference.getCell()}}h=h.getRowNumber(l);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[1]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[2]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,null).getCell();c[3]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[12]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[12].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};
a._initTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("cashReceiptsJournalTotalsRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="cashReceiptsJournalTotalsRow";var d={},c=[],e=a._parse;a._parse=function(f,g,h){e(f,g,h);for(var j=h.parent,l="broughtForward"===g["@role"]?"journalMoneyTotalBroughtForward":"journalMoneyTotal",m=-1,g=b.jsonutil.getChildren(g),n=0,p=g.length;n<p;n++){var q=g[n].name,r=g[n].value;switch(q){case "pageNumber":m=
r.$;break;case "date":d.date=b.q4domfactory.newInstanceByName("journalDate").init(f,r,j,a,q);c[1]=d.date.getCell();break;case "totalsTitle":d.totalsTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(f,r,j,a,q,j.getCodexTotalsTitle());c[2]=d.totalsTitle.getCell();break;case "debitTotal":d.debitTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[5]=d.debitTotal.getCell();break;case "creditTotal":d.creditTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[6]=d.creditTotal.getCell();
break;case "accountsReceivableCreditTotal":d.accountsReceivableCreditTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[7]=d.accountsReceivableCreditTotal.getCell();break;case "salesCreditTotal":d.salesCreditTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[8]=d.salesCreditTotal.getCell();break;case "salesTaxPayableCreditTotal":d.salesTaxPayableCreditTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[9]=d.salesTaxPayableCreditTotal.getCell();break;case "salesDiscountDebitTotal":d.salesDiscountDebitTotal=
b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[10]=d.salesDiscountDebitTotal.getCell();break;case "cashDebitTotal":d.cashDebitTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q),c[11]=d.cashDebitTotal.getCell()}}h=h.getRowNumber(m);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[3]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,null).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[12]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[12].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};a._initTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("generalJournalCredit",function(){var a=
Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f){a.initWithLongNumber(d,c,"credit",f,b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT);return a};a.indicatesCredit=function(){return a.isEditable()?""!==a.getInputModel().getClientNumberString().trim():null!==a.getInitialValue()};return a})})(k);(function(b){b.q4domfactory.registerClass("generalJournalDate",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f){e=e.getCodexDates();
a.initWithText(d,c,"date",e,f,b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT);return a};a.indicatesTransaction=function(){return a.isEditable()?""!==a.getInputModel().getClientString().trim():null!==a.getInitialValue()};return a})})(k);(function(b){b.q4domfactory.registerClass("generalJournal",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journal")),d=null,c=a._parse;a._parse=function(f,g,h){d="OWP_separated_amounts"===g["@tableStructure"]?b.JournalConstants.GJ_TABLE_STRUCTURE_DEBIT_FIRST:
null;d===b.JournalConstants.GJ_TABLE_STRUCTURE_DEBIT_FIRST?(a.setFieldIndex("rowIndexLeft",0),a.setFieldIndex("debit",1),a.setFieldIndex("date",2),a.setFieldIndex("accountTitle",3),a.setFieldIndex("documentNumber",4),a.setFieldIndex("postReference",5)):(a.setFieldIndex("rowIndexLeft",0),a.setFieldIndex("date",1),a.setFieldIndex("accountTitle",2),a.setFieldIndex("documentNumber",3),a.setFieldIndex("postReference",4),a.setFieldIndex("debit",5));a.setFieldIndex("credit",6);a.setFieldIndex("rowIndexRight",
7);c(f,g,h);a.getWorkingStateTableEntryTable().setTableTitle("General Journal");a.getCorrectStateTableEntryTable().setTableTitle("General Journal");d===b.JournalConstants.GJ_TABLE_STRUCTURE_DEBIT_FIRST&&(a.getWorkingStateTableEntryTable().setTableVariant(b.JournalConstants.GJ_TABLE_STRUCTURE_DEBIT_FIRST),a.getCorrectStateTableEntryTable().setTableVariant(b.JournalConstants.GJ_TABLE_STRUCTURE_DEBIT_FIRST));e(a.getWorkingStateTableEntryTable());a.isStatic()||e(a.getCorrectStateTableEntryTable())};var e=
function(c){var d=[],e=null,j=-1,j=a.getFieldIndex("rowIndexLeft"),e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("");d[j]=e;j=a.getFieldIndex("date");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Date");d[j]=e;j=a.getFieldIndex("accountTitle");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Account Title");d[j]=e;j=a.getFieldIndex("documentNumber");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
j);e.setTitle("Doc. No.");d[j]=e;j=a.getFieldIndex("postReference");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Post. Ref.");d[j]=e;j=a.getFieldIndex("debit");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Debit");d[j]=e;j=a.getFieldIndex("credit");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Credit");d[j]=e;j=a.getFieldIndex("rowIndexRight");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
j);e.setTitle("");d[j]=e;c.addColumnInfoSet(d)};return a})})(k);(function(b){b.q4domfactory.registerClass("generalJournalGroupRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="generalJournalGroupRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j.parent;for(var l=-1,h=b.jsonutil.getChildren(h),m=0,n=h.length;m<n;m++){var p=h[m].value;switch(h[m].name){case "pageNumber":l=p.$;break;case "groupTitle":d.groupTitle=b.q4domfactory.newInstanceByName("journalGroupTitle").init(g,
p,e,a),c[e.getFieldIndex("accountTitle")]=d.groupTitle.getCell()}}j=j.getRowNumber(l);c[e.getFieldIndex("rowIndexLeft")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[e.getFieldIndex("date")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("documentNumber")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,null).getCell();c[e.getFieldIndex("postReference")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("credit")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("debit")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("rowIndexRight")]=
b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell()};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("generalJournalRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalTransactionRow"));a.nodeName="generalJournalRow";var d={},c=[],e=null,f=a._parse,g=a._initTableEntryRow;a._parse=function(g,h,j){f(g,h,j);e=j.parent;for(var p=-1,h=b.jsonutil.getChildren(h),q=0,r=
h.length;q<r;q++){var s=h[q].name,o=h[q].value;switch(s){case "pageNumber":p=o.$;break;case "date":d.date=b.q4domfactory.newInstanceByName("generalJournalDate").init(g,o,e,a);c[e.getFieldIndex("date")]=d.date.getCell();break;case "documentNumber":d.documentNumber=b.q4domfactory.newInstanceByName("journalFormattedText").init(g,o,e,a,s,{maxLength:9,toUpperCase:!0,align:2,allowSpaces:!1});c[e.getFieldIndex("documentNumber")]=d.documentNumber.getCell();break;case "accountTitle":d.accountTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(g,
o,e,a,s,e.getCodexAccountNames());c[e.getFieldIndex("accountTitle")]=d.accountTitle.getCell();break;case "postReference":d.postReference=b.q4domfactory.newInstanceByName("journalFormattedTextWithCodex").init(g,o,e,a,s,e.getCodexPostReferences(),{maxLength:9,align:2});c[e.getFieldIndex("postReference")]=d.postReference.getCell();break;case "debit":d.debit=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,o,e,a,s);c[e.getFieldIndex("debit")]=d.debit.getCell();break;case "credit":d.credit=
b.q4domfactory.newInstanceByName("generalJournalCredit").init(g,o,e,a),c[e.getFieldIndex("credit")]=d.credit.getCell()}}j=j.getRowNumber(p);c[e.getFieldIndex("rowIndexLeft")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[e.getFieldIndex("rowIndexLeft")].setShowTransactionCorrectness(!0);c[e.getFieldIndex("rowIndexRight")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,j).getCell();c[e.getFieldIndex("rowIndexRight")].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){b(a.getTableEntryRow()).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,function(){j();b(d.accountTitle.getCell()).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION)})};a._initTableEntryRow=function(){var b=d.date;a.getTableEntryRow().setTopBorder(h(b));j();g()};var h=function(c){if(c.indicatesTransaction())return!0;var c=
a.getTableEntryRow().getRowsArray(),d=b.inArray(a.getTableEntryRow(),c);if(0===d)return!1;for(var e=!0,g=1;g<c[d-1].cells.length-1;g++)null!==c[d-1].cells[g].clientText&&(e=!1);for(var f=!0,g=1;g<c[d].cells.length-1;g++)null!==c[d].cells[g].clientText&&(f=!1);return f&&!e?!0:!1},j=function(){var a=d.accountTitle,b=d.credit.indicatesCredit();a.getCell().setIndented(b)};return a})})(k);(function(b){b.q4domfactory.registerClass("generalLedger",function(){var a=Object.create(b.q4domfactory.newInstanceByName("ledger")),
d=a._parse;a._parse=function(b,e,f){a.setLedgerTitle("GENERAL LEDGER");d(b,e,f)};return a})})(k);(function(b){b.q4domfactory.registerClass("generalLedgerAccount",function(){var a=Object.create(b.q4domfactory.newInstanceByName("ledgerAccount")),d=a._parse;a._parse=function(c,e,f){d(c,e,f);c=a.getLedgerAccountNumber()+": "+a.getLedgerAccountTitle();a.getTableEntryTable().setTableCSSNameOverride("GeneralLedger");a.getTableEntryTable().setTableTitle(c);a.setFieldIndex("rowIndexLeft",0);a.setFieldIndex("date",
1);a.setFieldIndex("item",2);a.setFieldIndex("postReference",3);a.setFieldIndex("debit",4);a.setFieldIndex("credit",5);a.setFieldIndex("balanceDebit",6);a.setFieldIndex("balanceCredit",7);a.setFieldIndex("rowIndexRight",8);var c=a.getTableEntryTable(),e=[],f=null,g=-1,g=a.getFieldIndex("rowIndexLeft"),f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("");f.setRowSpan(2);f.setColSpan(1);e[g]=f;g=a.getFieldIndex("date");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
g);f.setTitle("Date");f.setRowSpan(2);f.setColSpan(1);e[g]=f;g=a.getFieldIndex("item");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Item");f.setRowSpan(2);f.setColSpan(1);e[g]=f;g=a.getFieldIndex("postReference");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Post. Ref.");f.setRowSpan(2);f.setColSpan(1);e[g]=f;g=a.getFieldIndex("debit");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Debit");f.setRowSpan(2);
f.setColSpan(1);e[g]=f;g=a.getFieldIndex("credit");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Credit");f.setRowSpan(2);f.setColSpan(1);e[g]=f;g=a.getFieldIndex("balanceDebit");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Balance");f.setRowSpan(1);f.setColSpan(2);e[g]=f;g=a.getFieldIndex("balanceCredit");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Balance");f.setRowSpan(0);f.setColSpan(0);
e[g]=f;g=a.getFieldIndex("rowIndexRight");f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("");f.setRowSpan(2);f.setColSpan(1);e[g]=f;c.addColumnInfoSet(e);e=[];g=0;f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Debit");f.setRowSpan(1);f.setColSpan(1);f.setSecondHeaderRow(!0);e[g++]=f;f=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,g);f.setTitle("Credit");f.setRowSpan(1);f.setColSpan(1);f.setSecondHeaderRow(!0);e[g++]=
f;c.addColumnInfoSet(e)};return a})})(k);(function(b){b.q4domfactory.registerClass("generalLedgerAccountRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("ledgerRow"));a.nodeName="generalLedgerAccountRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j;for(var h=b.jsonutil.getChildren(h),j=0,l=h.length;j<l;j++){var m=h[j].name,n=h[j].value;switch(m){case "date":d.date=b.q4domfactory.newInstanceByName("generalJournalDate").init(g,n,e,a);c[1]=d.date.getCell();
break;case "item":d.item=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(g,n,e,a,m,e.getCodexItems());c[2]=d.item.getCell();break;case "postReference":d.postReference=b.q4domfactory.newInstanceByName("journalFormattedText").init(g,n,e,a,m,{maxLength:5,toUpperCase:!0,align:2,allowSpaces:!1});c[3]=d.postReference.getCell();break;case "debit":d.debit=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,n,e,a,m);c[4]=d.debit.getCell();break;case "credit":d.credit=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,
n,e,a,m);c[5]=d.credit.getCell();break;case "debitBalance":d.balanceDebit=b.q4domfactory.newInstanceByName("ledgerLongMoneyTotal").init(g,n,e,a,m);c[6]=d.balanceDebit.getCell();break;case "creditBalance":d.balanceCredit=b.q4domfactory.newInstanceByName("ledgerLongMoneyTotal").init(g,n,e,a,m),c[7]=d.balanceCredit.getCell()}}h=e.getLedgerAccountRows().length+1;c[0]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[8]=b.q4domfactory.newInstanceByName("journalField").init(g,
null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[8].setShowRowCorrectness(!0)};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("journalDate",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f,g){e=e.getCodexDates();a.initWithText(d,c,g,e,f,b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalField",function(){var a={},
d=null,c=null,e=null,f=null,g=!0,h=!1,j=!1,l=null,m=null,n=null,p=null,q=null,r=!1,s=b.TableEntryConstants.TEXT_ALIGNMENT_LEFT,o=-1,k=void 0,t=null,w=null,x=null,B=null,y=null,z="ARET";a.init=function(r,t,w,z,A,B,y,x,I,E){d=r;c=t;q=w;k=E;f=z;e=A;g=B;l=y;s=x;if(f===b.TableEntryConstants.COLUMN_TYPE_NUMBER)o=6;else if(f===b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER||f===b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER||f===b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN)o=7;else if(f===
b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE||f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL)o=3;h&&j&&(l=b.TextEntryConstants.CHECKMARK);m=b.q4domfactory.newInstanceByName("tableEntryCell").initWithText(f,B,l,x);m.setCodex(n);p=D();m.setInputModel(p);void 0!==I?m.setField(I):m.setField(a);null===c||void 0===c||d.registerNodeById(c,a);return a};a.initWithText=function(a,c,d,e,g,f,h,j){j&&(z=j);n=e;return A(a,b.TableEntryConstants.COLUMN_TYPE_TEXT,c,d,g,f,h)};a.initWithLongNumber=function(a,
c,d,e,g,f,h){h&&(z=h);return A(a,b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER,c,d,e,g,void 0,f)};a.initWithNegativeLongNumber=function(a,c,d,e,g,f,h){h&&(z=h);return A(a,b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER,c,d,e,g,void 0,f)};a.initWithNumber=function(a,c,d,e,g,f,h){h&&(z=h);return A(a,b.TableEntryConstants.COLUMN_TYPE_NUMBER,c,d,e,g,void 0,f)};a.initWithPercentage=function(a,c,d,e,g,f,h){h&&(z=h);return A(a,b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE,c,d,e,g,void 0,f)};a.initWithPercentageWithSymbol=
function(a,c,d,e,g,f,h){h&&(z=h);return A(a,b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL,c,d,e,g,void 0,f)};a.initWithCurrencyWithSign=function(a,c,d,e,g,f,h){h&&(z=h);return A(a,b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN,c,d,e,g,void 0,f)};var A=function(c,d,e,g,f,l,m,n){var p="fixed"!==e["@type"]&&"groupTitle"!==g,o=e["@id"];(h=void 0!==e["@checked"])&&(j=!0===e["@checked"]);e=b.jsonutil.getValueAsString(e,["$"]);e=void 0===e?null:a.formatStaticNumber(d,p,e,n);return a.init(c,
o,g,d,f,p,e,l,m,n)};a.formatStaticNumber=function(a,c,d,e){if((a===b.TableEntryConstants.COLUMN_TYPE_NUMBER||a===b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER||a===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE||a===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL||a===b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN||a===b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER)&&!c){c=null;f=a;var g=parseFloat(d);NaN!==g&&0>g?f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE?c=b.q4domfactory.newInstanceByName("accounting-hea.negativeCurrencyFormat"):
f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL?c=b.q4domfactory.newInstanceByName("accounting-hea.negativeCurrencyFormatWithPercentage"):f===b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN?c=b.q4domfactory.newInstanceByName("accounting-hea.negativeCurrencyFormatWithCurrencySign"):a===b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER&&(c=b.q4domfactory.newInstanceByName("accounting.negativeCurrencyFormat")):c=void 0===e?b.q4domfactory.newInstanceByName("accounting.currencyFormat"):
e;return b.q4presenterfactory.newInstanceByName("presenter.common.formatters.NumericEntry").initWithFormats(d,c,null,null).format()}return d};a.getTextAlignment=function(){return s};a.getCell=function(){return m};a.getCodex=function(){if(f===b.TableEntryConstants.COLUMN_TYPE_TEXT&&null===n)throw Error("Journal field: codex cannot be null for text field");return n};a.isEditable=function(){return g};var D=function(){if(!g)return null;if(f===b.TableEntryConstants.COLUMN_TYPE_NUMBER||f===b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER||
f===b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER||f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE||f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL||f===b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN){var c=l,d=null,d=f===b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER?b.q4domfactory.newInstanceByName("standaloneNegativeNumericEntry").initWithInitialValue(c):f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE?b.q4domfactory.newInstanceByName("standaloneNegativeNumericEntry").initWithInitialValue(c):
f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL?b.q4domfactory.newInstanceByName("standaloneNegativeNumericEntry").initWithInitialValue(c):f===b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN?b.q4domfactory.newInstanceByName("standaloneNegativeNumericEntry").initWithInitialValue(c):b.q4domfactory.newInstanceByName("standaloneNumericEntry").initWithInitialValue(c);d.toolType=z;d.placesBeforeDecimal=o;d.placesAfterDecimal=2;if(f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE||f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL)d.placesAfterDecimal=
1;r||d.restrictedNumbers.push(0);d.formats[b.NumericEntryConstants.FORMAT_DEFAULT]=b.q4domfactory.newInstanceByName("accounting.currencyFormat");f===b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER?d.formats[b.NumericEntryConstants.FORMAT_NEGATIVE]=b.q4domfactory.newInstanceByName("accounting.negativeCurrencyFormat"):f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE?d.formats[b.NumericEntryConstants.FORMAT_NEGATIVE]=b.q4domfactory.newInstanceByName("accounting-hea.negativeCurrencyFormat"):f===
b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL?d.formats[b.NumericEntryConstants.FORMAT_NEGATIVE]=b.q4domfactory.newInstanceByName("accounting-hea.negativeCurrencyFormatWithPercentage"):f===b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN&&(d.formats[b.NumericEntryConstants.FORMAT_NEGATIVE]=b.q4domfactory.newInstanceByName("accounting-hea.negativeCurrencyFormatWithCurrencySign"));void 0!==k&&(d.formats[b.NumericEntryConstants.FORMAT_DEFAULT]=k);d.setTextAlignment(s);f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE&&
(d.additionalPadding=!0);null!==t&&(d.min=parseInt(t));null!==w&&(d.max=parseInt(w));null!==x&&-1===b.inArray(x,d.restrictedNumbers)&&d.restrictedNumbers.push(x);return d}if(f===b.TableEntryConstants.COLUMN_TYPE_TEXT)return c=l,d=a.getCodex(),c=b.q4domfactory.newInstanceByName("standaloneTextEntry").initWithCodex(d,c),c.toolType=z,c.setTextAlignment(s),c.setCheckmarkSupported(h),c.setChecked(j),null!==B&&(c.placeholder=B),null!==y&&(c.hint=y),c};a.getInputModel=function(){return p};a.getInitialValue=
function(){return l};a.setAllowZero=function(a){r=a};a.setInputRestrictionsByInputRestrictionsObject=function(a){t=a.min;w=a.max;x=a.number};a.setPlaceholderByCellRoles=function(a,c){return void 0!==c&&(-1!==b.inArray("sectionDescription",a)||-1!==b.inArray("sectionTitle",a)||-1!==b.inArray("periodLabel",a))?(B=c,!0):!1};a.setHint=function(a){y=a};a.getClientInput=function(){if(f===b.TableEntryConstants.COLUMN_TYPE_NUMBER||f===b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER||f===b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER||
f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE||f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL||f===b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN)return a.getInputModel().getClientNumberString();if(f===b.TableEntryConstants.COLUMN_TYPE_TEXT)return a.getInputModel().getClientString()};a.setClientInput=function(c){if(null!==a.getInputModel()){var d="";void 0!==c&&(d=""+c);if(f===b.TableEntryConstants.COLUMN_TYPE_NUMBER||f===b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER||f===b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER||
f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE||f===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL||f===b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN)a.getInputModel().setClientEntry(d),a.getInputModel().clientEntry=d,a.getInputModel().setClientNumberString(d);f===b.TableEntryConstants.COLUMN_TYPE_TEXT&&a.getInputModel().setClientString(d);b(a.getInputModel()).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION);"rowEntryState"!==e.nodeName&&b(e.getTableEntryRow()).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED)}};
a.getCanonicalState=function(){if(null===a.getInputModel())return null;var d=a.getInitialValue(),e={};e[q]={"@id":c};e[q]["@type"]=g?"free":"fixed";h?(e[q]["@checked"]=j,null!==d&&d!==b.TextEntryConstants.CHECKMARK&&(e[q].$=d)):null!==d&&(e[q].$=d);return e};a.getClientState=function(){if(null===a.getInputModel())return null;var d=""===a.getClientInput()?null:a.getClientInput(),e={};e[q]={"@id":c};e[q]["@type"]=g?"free":"fixed";h?d===b.TextEntryConstants.CHECKMARK?e[q]["@checked"]=!0:(e[q]["@checked"]=
!1,null!==d&&(e[q].$=d)):null!==d&&(e[q].$=d);return e};a.updateByQDelta=function(c,d){var e=void 0,g=void 0,f=void 0,h=void 0,j=void 0;"replace"===c&&(e=d[q].$,g=d[q]["@rejoinder"],f=d[q]["@credits-earned"],h=d[q]["@credits-possible"],j=d["@checked"]);"replaceAttributes"===c&&(g=d["@rejoinder"],f=d["@credits-earned"],h=d["@credits-possible"],j=d["@checked"]);void 0!==j&&(j?a.setClientInput(b.TextEntryConstants.CHECKMARK):a.setClientInput(void 0));void 0!==e&&a.setClientInput(e);void 0!==f&&void 0!==
h&&(m.setCreditsEarned(parseFloat(f)),m.setCreditsPossible(parseFloat(h)));void 0!==g&&null!==g&&(m.setRejoinder(g),m.setCorrectAsSubmitted(!1))};return a})})(k);(function(b){b.q4domfactory.registerClass("journalFormattedText",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalText")),d=a.init;a.init=function(b,e,f,g,h,j){d(b,e,f,g,h);if(null!==a.getInputModel())for(var l in j)switch(l){case "maxLength":a.getInputModel().setMaxLength(j[l]);break;case "toUpperCase":a.getInputModel().setToUpperCase(j[l]);
break;case "align":a.getInputModel().setTextAlignment(j[l]);break;case "allowSpaces":a.getInputModel().allowSpaces=j[l]}return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalFormattedTextWithCodex",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalTextWithCodex")),d=a.init;a.init=function(b,e,f,g,h,j,l){d(b,e,f,g,h,j);if(null!==a.getInputModel())for(var m in l)switch(m){case "maxLength":a.getInputModel().setMaxLength(l[m]);break;case "toUpperCase":a.getInputModel().setToUpperCase(l[m]);
break;case "align":a.getInputModel().setTextAlignment(l[m])}return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalGroupTitle",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f){e=e.getCodexBlank();a.initWithText(d,c,"groupTitle",e,f,b.TableEntryConstants.TEXT_ALIGNMENT_CENTER);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("ledgerLongMoneyTotal",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalLongMoney")),
d=a.init;a.init=function(b,e,f,g,h){a.setAllowZero(!0);d(b,e,f,g,h);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalLongMoney",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f,g){a.initWithLongNumber(d,c,g,f,b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("ledgerLongMoneyBalance",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));
a.init=function(d,c,e,f,g){a.setAllowZero(!0);a.initWithNegativeLongNumber(d,c,g,f,b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("worksheetLongMoneyDifference",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalLongMoney")),d=a.init;a.init=function(b,e,f,g,h){a.setAllowZero(!0);d(b,e,f,g,h);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalLongMoneyTotal",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalLongMoney")),
d=a.init;a.init=function(b,e,f,g,h){a.setAllowZero(!0);d(b,e,f,g,h);a.getCell().setBottomDoubleBorder(!0);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalMoney",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f,g){a.initWithNumber(d,c,g,f,b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalMoneyTotal",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField")),
d=a.initWithNumber;a.init=function(c,e,f,g,h){a.setAllowZero(!0);d(c,e,h,g,b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT);a.getCell().setBottomDoubleBorder(!0);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalMoneyTotalBroughtForward",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalMoneyTotal")),d=a.init;a.init=function(b,e,f,g,h){d(b,e,f,g,h);a.getCell().setBottomDoubleBorder(!1);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalParenthesizedTextWithCodex",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalTextWithCodex")),d=a.init;a.init=function(c,e,f,g,h,j){d(c,e,f,g,h,j);null!==a.getInputModel()&&(a.getInputModel().setParenthesized(!0),a.getInputModel().setTextAlignment(b.TableEntryConstants.TEXT_ALIGNMENT_CENTER));a.getCell().setParenthesized(!0);a.getCell().setTextAlignment(b.TableEntryConstants.TEXT_ALIGNMENT_CENTER);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalText",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));
a.init=function(d,c,e,f,g){e=e.getCodexBlank();a.initWithText(d,c,g,e,f,b.TableEntryConstants.TEXT_ALIGNMENT_LEFT);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("journalTextWithCodex",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalField"));a.init=function(d,c,e,f,g,h){a.initWithText(d,c,g,h,f,b.TableEntryConstants.TEXT_ALIGNMENT_LEFT);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("worksheetLongMoneyBalanceTotal",function(){var a=
Object.create(b.q4domfactory.newInstanceByName("journalLongMoney")),d=a.init;a.init=function(b,e,f,g,h){a.setAllowZero(!0);d(b,e,f,g,h);a.getCell().setBottomDoubleBorder(!0);a.getCell().setTopSingleBorder(!0);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("worksheetLongMoneySubtotal",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalLongMoney")),d=a.init;a.init=function(b,e,f,g,h){a.setAllowZero(!0);d(b,e,f,g,h);a.getCell().setTopSingleBorder(!0);return a};
return a})})(k);(function(b){b.q4domfactory.registerClass("journal",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="journal";a.parent=null;a.id=null;var d=!1,c=null,e=null,f=null,g=null,h=b.q4domfactory.newInstanceByName("codex").init(),j=b.q4domfactory.newInstanceByName("accountingCodexDates").init(),l=null,m=null,n=null,p=null,q=[],r=[],s=["Brought Forward","Totals","Total","Carried Forward"],o=["Brought Forward","Total","Carried Forward"],k={activePageNumber:-1,
pageNumbers:[]},t={};a._parse=function(h,j,l){a.parent=l;a.id=j["@id"];d="static"===j["@use"];c=b.q4domfactory.newInstanceByName("tableEntryTable").init(!0);e=b.q4domfactory.newInstanceByName("tableEntryTable").init(!1);var l=c,m=e;l.setPartnerTable(m);m.setPartnerTable(l);j=b.jsonutil.getChildren(j);l=0;for(m=j.length;l<m;l++){var n=j[l].value;switch(j[l].name){case "info":w(n);break;case "state":var p=n["@type"];"working"===p&&(f=b.q4domfactory.newInstanceByName("journalState"),f.init(h,n,a));"correct"===
p&&(g=b.q4domfactory.newInstanceByName("journalState"),g.init(h,n,a))}}B(c,k);y(f,c);a.isStatic()||(B(e,k),y(g,e));a.isStatic()&&c.setStatic(!0)};a.getTitle=function(){return a.getWorkingStateTableEntryTable().getTableTitle()};a.setFieldIndex=function(a,b){t[a]=b};a.getFieldIndex=function(a){return t[a]};a.isStatic=function(){return d};a.getCorrectState=function(){return g};a.getWorkingState=function(){return f};a.getCodexAccountNames=function(){return l};a.getCodexPostReferences=function(){return m};
a.getCodexTotalsTitle=function(){return n};a.getCodexPurchasesTotalsTitle=function(){return p};a.getPagesInfo=function(){return k};var w=function(a){var c=b.jsonutil.getValue(a,["COA","accounts"]);b.jsonutil.executeForChild(c,"account",function(a){x(a)});k.activePageNumber=b.jsonutil.getValue(a,["pages","activePageNumber","$"]);a=b.jsonutil.getValue(a,["pages"]);try{b.jsonutil.executeForChild(a,"page",function(a){b.jsonutil.executeForChild(a,"pageNumber",function(a){k.pageNumbers.push(a.$)})})}catch(d){alert("There was an error parsing the pages.  Could be caused by a blank working state.Check to ensure years are internally consistent.")}l=
b.q4domfactory.newInstanceByName("codex").initWithArray(q);m=b.q4domfactory.newInstanceByName("codex").initWithArray(r);n=b.q4domfactory.newInstanceByName("codex").initWithArray(s);p=b.q4domfactory.newInstanceByName("codex").initWithArray(o)},x=function(a,c,d){var e=b.jsonutil.getValueAsString(a,["displayName","$"]),g=b.jsonutil.getValueAsString(a,["accountNumber","$"]),f=a["@isControlAccount"],h=a["@function"],e=b.jsonutil.collapseWhitespaces(""+e),g=b.jsonutil.collapseWhitespaces(""+g);void 0!==
e&&q.push(e);void 0!==g&&r.push(g);!1===f&&(!0===c&&void 0===h)&&r.push(""+d+"/"+g);b.jsonutil.executeForChild(a,"account",function(a){x(a,f,g)})};a.getWorkingStateTableEntryTable=function(){return c};a.getCorrectStateTableEntryTable=function(){return e};a.getCodexBlank=function(){return h};a.getCodexDates=function(){return j};a.hasPages=function(){return!0};var B=function(a,c){a.setSelectedPageNumber(c.activePageNumber);a.setInitialPageNumber(c.activePageNumber);for(var d=0;d<c.pageNumbers.length;d++){var e=
c.pageNumbers[d],g=b.q4domfactory.newInstanceByName("tableEntryPage").init(e,a);a.addPage(e,g)}},y=function(a,b){for(var c=a.getRows(),d=0;d<c.length;d++){var e=c[d].getPageNumber(),g=c[d].getCells(),f="generalJournalGroupRow"===c[d].nodeName?!0:!1,e=b.getPageByNumber(e).getRows().addRow(g,b,!1,f);c[d].setTableEntryRow(e)}};a.updateByQDelta=function(a,b){if("replaceAttributes"===a){var d=b["@rejoinder"],e=b["@credits-earned-incremental"],g=b["@credits-possible-incremental"],f=b["@credits-earned"],
h=b["@credits-possible"],j=b["@isAttempted"];void 0!==j&&c.setAttempted(j);void 0!==e&&void 0!==g&&(c.setCreditsEarned(e),c.setCreditsPossible(g));void 0!==f&&void 0!==h&&(c.setTotalEarned(f),c.setTotalPossible(h));void 0!==d&&(c.setRejoinder(d),c.setCorrectAsSubmitted(!1))}};return a})})(k);(function(b){b.q4domfactory.registerClass("journalRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="journalRow";var d=a.id=null,c=null,e=null,f=-1,g=null,h=!1,j=-1,
l=-1,m=!1;a._parse=function(e,g,h){d=e;c=h;m="fixed"===g["@type"];a.id=g["@id"];e=b.jsonutil.getChildren(g);g=0;for(h=e.length;g<h;g++){var j=e[g].value;switch(e[g].name){case "pageNumber":f=j.$}}d.registerNodeById(a.id,a)};a.getIsFixed=function(){return m};a.getCells=function(){throw Error("journalRow.getCells must be implemented by children");};a.setTableEntryRow=function(a){e=a;e.setIsFixed(m);void 0!==this._bindTableEntryRow&&this._bindTableEntryRow();void 0!==this._initTableEntryRow&&this._initTableEntryRow()};
a.getTableEntryRow=function(){return e};a.updateByQDelta=function(a,b){if("replaceAttributes"===a){var c=b["@rejoinder"],d=b["@credits-earned"],f=b["@credits-possible"];void 0!==d&&void 0!==f&&(d=parseFloat(d),f=parseFloat(f),e.setCreditsEarned(d),e.setCreditsPossible(f));void 0!==c&&(e.setRejoinder(c),e.setCorrectAsSubmitted(!1));var c=b["@transactionRejoinder"],f=b["@transactionBoundary"],d=b["@transactionCreditsEarnedIncremental"],m=b["@transactionCreditsPossibleIncremental"];void 0!==c&&(g=c);
void 0!==f&&(h=f,!0===h&&e.setTopBorder(!0));void 0!==d&&(j=d);void 0!==m&&(l=m)}};a.getPageNumber=function(){return f};a.afterInvalidation=function(){if(null!==g)for(var b=c.getRows(),d=0,e=-1,h=0;h<b.length;h++){if(b[h].id===a.id)if(h===b.length-1&&b[h].isTransactionBoundary())n(1);else{e=f;continue}if(-1!==e&&(d++,h===b.length-1&&!b[h].isTransactionBoundary()&&d++,e!==b[h].getPageNumber()||b[h].isTransactionBoundary()||h===b.length-1)){n(d);break}}};a.isTransactionBoundary=function(){return h};
var n=function(a){e.setTransactionRejoinder(g);e.setTransactionRowCount(a);e.setTransactionCreditsEarned(j);e.setTransactionCreditsPossible(l);b(e).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};return a})})(k);(function(b){b.q4domfactory.registerClass("journalState",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="journalState";a.id=null;a.parent=null;var d=-1,c=0,e=null,f=[];a._parse=function(c,d,j){e=j;a.id=d["@id"];a.parent=
j;try{var l=b.jsonutil.getChildren(d)}catch(m){alert("The working state is blank!")}d=0;for(j=l.length;d<j;d++)a.parseChildren(c,l[d].value,a,l[d].name,f)};a.getRows=function(){return f};a.getGeneralJournal=function(){return e};a.getRowNumber=function(b){b!==d&&(c=a.getRows().length,d=b);return a.getRows().length+1-c};return a})})(k);(function(b){b.q4domfactory.registerClass("journalTransactionRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="journalTransactionRow";
a._initTableEntryRow=function(){a.getTableEntryRow().setCanDrawTopBorder(!0)};return a})})(k);(function(b){b.q4domfactory.registerClass("gradableLedger",function(){var a={},d=!1,c=null,e=null,f=-1,g=-1,h=-1,j=-1,l=!0,m={};a.init=function(){return a};a.getBinder=function(){return m};a.setGraded=function(a){d=a};a.isGraded=function(){return d};a.setRejoinder=function(a){c=a};a.getRejoinder=function(){return c};a.setCorrectAsSubmitted=function(c){e=c;b(a.getBinder()).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};
a.isCorrectAsSubmitted=function(){return e};a.setCreditsEarned=function(a){f=a};a.getCreditsEarned=function(){return f};a.setCreditsPossible=function(a){g=a};a.getCreditsPossible=function(){return g};a.setTotalEarned=function(a){h=a};a.getTotalEarned=function(){return h};a.setTotalPossible=function(a){j=a};a.getTotalPossible=function(){return j};a.setAttempted=function(a){l=a};a.isAttempted=function(){return l};a.updateByQDelta=function(b,c){if("replaceAttributes"===b){var d=c["@rejoinder"],e=c["@credits-earned-incremental"],
g=c["@credits-possible-incremental"],f=c["@credits-earned"],h=c["@credits-possible"],j=c["@isAttempted"];void 0!==j&&a.setAttempted(j);void 0!==e&&void 0!==g&&(a.setCreditsEarned(e),a.setCreditsPossible(g));void 0!==f&&void 0!==h&&(a.setTotalEarned(f),a.setTotalPossible(h));void 0!==d&&(a.setRejoinder(d),a.setCorrectAsSubmitted(!1))}};return a})})(k);(function(b){b.q4domfactory.registerClass("ledger",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="ledger";
a.parent=null;a.id=null;var d=!1,c=b.q4domfactory.newInstanceByName("codex").init(),e=b.q4domfactory.newInstanceByName("accountingCodexDates").init(),f=b.q4domfactory.newInstanceByName("accountingCodexLedgerItems").init(),g=[],h=[],j=null,l=null;a._parse=function(c,e){j=b.q4domfactory.newInstanceByName("gradableLedger").init();a.id=e["@id"];d="static"===e["@use"];for(var f=b.jsonutil.getChildren(e),l=0,s=f.length;l<s;l++){var o=f[l].value;switch(f[l].name){case "state":b.q4domfactory.newInstanceByName("ledgerState").init(c,
o,a)}}m(g);m(h)};a.getTitle=function(){return l};a.getGradableModel=function(){return j};a.setLedgerTitle=function(a){l=a};a.getWorkingStateLedgerAccounts=function(){return g};a.getCorrectStateLedgerAccounts=function(){return h};a.getCodexDates=function(){return e};a.getCodexBlank=function(){return c};a.getCodexItems=function(){return f};a.isStatic=function(){return d};a.hasPages=function(){return!1};var m=function(a){a.sort(function(a,b){return a.getLedgerAccountNumber()-b.getLedgerAccountNumber()})};
a.updateByQDelta=function(b,c){a.getGradableModel().updateByQDelta(b,c)};return a})})(k);(function(b){b.q4domfactory.registerClass("ledgerAccount",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journal"));a.nodeName="ledgerAccount";a.parent=null;var d=a.id=null,c=[],e=null,f=null;a._parse=function(g,h,j){a.parent=j;a.id=h["@id"];var l=j.parent.isStatic(),j=j.isWorkingState();d=b.q4domfactory.newInstanceByName("tableEntryTable").init(j);d.setShowPages(!1);for(var h=b.jsonutil.getChildren(h),
j=0,m=h.length;j<m;j++){var n=h[j].name,p=h[j].value;switch(n){case "info":for(var n=b.jsonutil.getChildren(p),p=0,q=n.length;p<q;p++){var r=n[p].value;switch(n[p].name){case "accountTitle":e=r.$;break;case "accountNumber":f=r.$}}break;default:a.parseChildren(g,p,a,n,c)}}d.setAccountHeader(f,e);g=d;h=b.q4domfactory.newInstanceByName("tableEntryAccountPage").init(101,g);g.setSelectedPageNumber(101);g.setInitialPageNumber(101);g.addPage(101,h);g=d;for(h=0;h<c.length;h++)j=c[h],m=j.getCells(),m=g.getPageByNumber(101).getRows().addRow(m,
g,!1,!1),j.setTableEntryRow(m);l&&d.setStatic(!0)};a.getCodexDates=function(){return a.parent.parent.getCodexDates()};a.getCodexBlank=function(){return a.parent.parent.getCodexBlank()};a.getCodexItems=function(){return a.parent.parent.getCodexItems()};a.getTableEntryTable=function(){return d};a.getLedgerAccountRows=function(){return c};a.getLedgerAccountTitle=function(){return e};a.getLedgerAccountNumber=function(){return f};a.getRows=function(){return c};a.updateByQDelta=function(a,b){if("replaceAttributes"===
a){var c=b["@rejoinder"],e=b["@credits-earned-incremental"],f=b["@credits-possible-incremental"];void 0!==e&&void 0!==f&&(d.setCreditsEarned(e),d.setCreditsPossible(f));void 0!==c&&(d.setRejoinder(c),d.setCorrectAsSubmitted(!1))}};return a})})(k);(function(b){b.q4domfactory.registerClass("ledgerRow",function(){return Object.create(b.q4domfactory.newInstanceByName("journalRow"))})})(k);(function(b){b.q4domfactory.registerClass("ledgerState",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.parent=null;var d=!1;a._parse=function(c,e,f){a.parent=f;var g=null;"working"===e["@type"]?(g=f.getWorkingStateLedgerAccounts(),d=!0):g=f.getCorrectStateLedgerAccounts();for(var e=b.jsonutil.getChildren(e),f=0,h=e.length;f<h;f++)a.parseChildren(c,e[f].value,a,e[f].name,g)};a.isWorkingState=function(){return d};return a})})(k);(function(b){b.q4domfactory.registerClass("multicolumnJournal",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journal")),d=null,c=a._parse;a._parse=function(f,
g,h){d="OWP_separated_amounts"===g["@tableStructure"]?b.JournalConstants.MCJ_TABLE_STRUCTURE_CASH_FIRST:null;d===b.JournalConstants.MCJ_TABLE_STRUCTURE_CASH_FIRST?(a.setFieldIndex("rowIndexLeft",0),a.setFieldIndex("rowIndexLeftRowSpan",2),a.setFieldIndex("rowIndexLeftColSpan",1),a.setFieldIndex("cashDebit",1),a.setFieldIndex("cashDebitRowSpan",1),a.setFieldIndex("cashDebitColSpan",2),a.setFieldIndex("cashCredit",2),a.setFieldIndex("cashCreditRowSpan",0),a.setFieldIndex("cashCreditColSpan",0),a.setFieldIndex("date",
3),a.setFieldIndex("dateRowSpan",2),a.setFieldIndex("dateColSpan",1),a.setFieldIndex("accountTitle",4),a.setFieldIndex("accountTitleRowSpan",2),a.setFieldIndex("accountTitleColSpan",1),a.setFieldIndex("documentNumber",5),a.setFieldIndex("documentNumberRowSpan",2),a.setFieldIndex("documentNumberColSpan",1),a.setFieldIndex("postReference",6),a.setFieldIndex("postReferenceRowSpan",2),a.setFieldIndex("postReferenceColSpan",1),a.setFieldIndex("generalDebit",7),a.setFieldIndex("generalDebitRowSpan",1),
a.setFieldIndex("generalDebitColSpan",2),a.setFieldIndex("generalCredit",8),a.setFieldIndex("generalCreditRowSpan",0),a.setFieldIndex("generalCreditColSpan",0),a.setFieldIndex("salesCredit",9),a.setFieldIndex("salesCreditRowSpan",2),a.setFieldIndex("salesCreditColSpan",1)):(a.setFieldIndex("rowIndexLeft",0),a.setFieldIndex("rowIndexLeftRowSpan",2),a.setFieldIndex("rowIndexLeftColSpan",1),a.setFieldIndex("date",1),a.setFieldIndex("dateRowSpan",2),a.setFieldIndex("dateColSpan",1),a.setFieldIndex("accountTitle",
2),a.setFieldIndex("accountTitleRowSpan",2),a.setFieldIndex("accountTitleColSpan",1),a.setFieldIndex("documentNumber",3),a.setFieldIndex("documentNumberRowSpan",2),a.setFieldIndex("documentNumberColSpan",1),a.setFieldIndex("postReference",4),a.setFieldIndex("postReferenceRowSpan",2),a.setFieldIndex("postReferenceColSpan",1),a.setFieldIndex("generalDebit",5),a.setFieldIndex("generalDebitRowSpan",1),a.setFieldIndex("generalDebitColSpan",2),a.setFieldIndex("generalCredit",6),a.setFieldIndex("generalCreditRowSpan",
0),a.setFieldIndex("generalCreditColSpan",0),a.setFieldIndex("salesCredit",7),a.setFieldIndex("salesCreditRowSpan",2),a.setFieldIndex("salesCreditColSpan",1),a.setFieldIndex("cashDebit",8),a.setFieldIndex("cashDebitRowSpan",1),a.setFieldIndex("cashDebitColSpan",2),a.setFieldIndex("cashCredit",9),a.setFieldIndex("cashCreditRowSpan",0),a.setFieldIndex("cashCreditColSpan",0));a.setFieldIndex("rowIndexRight",10);a.setFieldIndex("rowIndexRightRowSpan",2);a.setFieldIndex("rowIndexRightColSpan",1);c(f,g,
h);a.getWorkingStateTableEntryTable().setTableTitle("Journal");a.getCorrectStateTableEntryTable().setTableTitle("Journal");d===b.JournalConstants.MCJ_TABLE_STRUCTURE_CASH_FIRST&&(a.getWorkingStateTableEntryTable().setTableVariant(b.JournalConstants.MCJ_TABLE_STRUCTURE_CASH_FIRST),a.getCorrectStateTableEntryTable().setTableVariant(b.JournalConstants.MCJ_TABLE_STRUCTURE_CASH_FIRST));e(a.getWorkingStateTableEntryTable());a.isStatic()||e(a.getCorrectStateTableEntryTable())};var e=function(c){var d=[],
e=null,j=-1,j=a.getFieldIndex("rowIndexLeft"),e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("");e.setRowSpan(a.getFieldIndex("rowIndexLeftRowSpan"));e.setColSpan(a.getFieldIndex("rowIndexLeftColSpan"));d[j]=e;j=a.getFieldIndex("date");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Date");e.setRowSpan(a.getFieldIndex("dateRowSpan"));e.setColSpan(a.getFieldIndex("dateColSpan"));d[j]=e;j=a.getFieldIndex("accountTitle");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
j);e.setTitle("Account Title");e.setRowSpan(a.getFieldIndex("accountTitleRowSpan"));e.setColSpan(a.getFieldIndex("accountTitleColSpan"));d[j]=e;j=a.getFieldIndex("documentNumber");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Doc. No.");e.setRowSpan(a.getFieldIndex("documentNumberRowSpan"));e.setColSpan(a.getFieldIndex("documentNumberColSpan"));d[j]=e;j=a.getFieldIndex("postReference");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Post. Ref.");
e.setRowSpan(a.getFieldIndex("postReferenceRowSpan"));e.setColSpan(a.getFieldIndex("postReferenceColSpan"));d[j]=e;j=a.getFieldIndex("generalDebit");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("General");e.setRowSpan(a.getFieldIndex("generalDebitRowSpan"));e.setColSpan(a.getFieldIndex("generalDebitColSpan"));d[j]=e;j=a.getFieldIndex("generalCredit");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("General");e.setRowSpan(a.getFieldIndex("generalCreditRowSpan"));
e.setColSpan(a.getFieldIndex("generalCreditColSpan"));d[j]=e;j=a.getFieldIndex("salesCredit");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Sales Credit");e.setRowSpan(a.getFieldIndex("salesCreditRowSpan"));e.setColSpan(a.getFieldIndex("salesCreditColSpan"));d[j]=e;j=a.getFieldIndex("cashDebit");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Cash");e.setRowSpan(a.getFieldIndex("cashDebitRowSpan"));e.setColSpan(a.getFieldIndex("cashDebitColSpan"));
d[j]=e;j=a.getFieldIndex("cashCredit");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Cash");e.setRowSpan(a.getFieldIndex("cashCreditRowSpan"));e.setColSpan(a.getFieldIndex("cashCreditColSpan"));d[j]=e;j=a.getFieldIndex("rowIndexRight");e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("");e.setRowSpan(a.getFieldIndex("rowIndexRightRowSpan"));e.setColSpan(a.getFieldIndex("rowIndexRightColSpan"));d[j]=e;c.addColumnInfoSet(d);d=[];j=0;
e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Debit");e.setRowSpan(1);e.setColSpan(1);e.setSecondHeaderRow(!0);d[j++]=e;e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Credit");e.setRowSpan(1);e.setColSpan(1);e.setSecondHeaderRow(!0);d[j++]=e;e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Debit");e.setRowSpan(1);e.setColSpan(1);e.setSecondHeaderRow(!0);d[j++]=e;e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
j);e.setTitle("Credit");e.setRowSpan(1);e.setColSpan(1);e.setSecondHeaderRow(!0);d[j++]=e;c.addColumnInfoSet(d)};return a})})(k);(function(b){b.q4domfactory.registerClass("multicolumnJournalGroupRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="multicolumnJournalGroupRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j.parent;for(var l=-1,h=b.jsonutil.getChildren(h),m=0,n=h.length;m<n;m++){var p=h[m].value;switch(h[m].name){case "pageNumber":l=
p.$;break;case "groupTitle":d.groupTitle=b.q4domfactory.newInstanceByName("journalGroupTitle").init(g,p,e,a),c[e.getFieldIndex("accountTitle")]=d.groupTitle.getCell()}}j=j.getRowNumber(l);c[e.getFieldIndex("rowIndexLeft")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[e.getFieldIndex("date")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("documentNumber")]=
b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("postReference")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("generalDebit")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("generalCredit")]=b.q4domfactory.newInstanceByName("journalField").init(g,
null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("salesCredit")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("cashDebit")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("cashCredit")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,null).getCell();c[e.getFieldIndex("rowIndexRight")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell()};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("multicolumnJournalRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalTransactionRow"));a.nodeName="multicolumnJournalRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j.parent;for(var l=
-1,h=b.jsonutil.getChildren(h),m=0,n=h.length;m<n;m++){var p=h[m].name,q=h[m].value;switch(p){case "pageNumber":l=q.$;break;case "date":d.date=b.q4domfactory.newInstanceByName("journalDate").init(g,q,e,a,p);c[e.getFieldIndex("date")]=d.date.getCell();break;case "accountTitle":d.accountTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(g,q,e,a,p,e.getCodexAccountNames());c[e.getFieldIndex("accountTitle")]=d.accountTitle.getCell();break;case "documentNumber":d.documentNumber=b.q4domfactory.newInstanceByName("journalFormattedText").init(g,
q,e,a,p,{maxLength:9,toUpperCase:!0,align:2,allowSpaces:!1});c[e.getFieldIndex("documentNumber")]=d.documentNumber.getCell();break;case "postReference":d.postReference=b.q4domfactory.newInstanceByName("journalFormattedTextWithCodex").init(g,q,e,a,p,e.getCodexPostReferences(),{maxLength:9,align:2});c[e.getFieldIndex("postReference")]=d.postReference.getCell();break;case "debit":d.generalDebit=b.q4domfactory.newInstanceByName("journalMoney").init(g,q,e,a,p);c[e.getFieldIndex("generalDebit")]=d.generalDebit.getCell();
break;case "credit":d.generalCredit=b.q4domfactory.newInstanceByName("journalMoney").init(g,q,e,a,p);c[e.getFieldIndex("generalCredit")]=d.generalCredit.getCell();break;case "salesCredit":d.salesCredit=b.q4domfactory.newInstanceByName("journalMoney").init(g,q,e,a,p);c[e.getFieldIndex("salesCredit")]=d.salesCredit.getCell();break;case "cashDebit":d.cashDebit=b.q4domfactory.newInstanceByName("journalMoney").init(g,q,e,a,p);c[e.getFieldIndex("cashDebit")]=d.cashDebit.getCell();break;case "cashCredit":d.cashCredit=
b.q4domfactory.newInstanceByName("journalMoney").init(g,q,e,a,p),c[e.getFieldIndex("cashCredit")]=d.cashCredit.getCell()}}j=j.getRowNumber(l);c[e.getFieldIndex("rowIndexLeft")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[e.getFieldIndex("rowIndexLeft")].setShowTransactionCorrectness(!0);c[e.getFieldIndex("rowIndexRight")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,j).getCell();c[e.getFieldIndex("rowIndexRight")].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("multicolumnJournalTotalsPostReferenceRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="multicolumnJournalTotalsPostReferenceRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j.parent;var l=-1;c[1]="";for(var h=b.jsonutil.getChildren(h),
m=0,n=h.length;m<n;m++){var p=h[m].name,q=h[m].value;switch(p){case "pageNumber":l=q.$;break;case "debitTotalPostReference":d.debitTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(g,q,e,a,p,e.getCodexPostReferences());c[e.getFieldIndex("generalDebit")]=d.debitTotalPostReference.getCell();break;case "creditTotalPostReference":d.creditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(g,q,e,a,p,e.getCodexPostReferences());
c[e.getFieldIndex("generalCredit")]=d.creditTotalPostReference.getCell();break;case "salesCreditTotalPostReference":d.salesCreditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(g,q,e,a,p,e.getCodexPostReferences());c[e.getFieldIndex("salesCredit")]=d.salesCreditTotalPostReference.getCell();break;case "cashDebitTotalPostReference":d.cashDebitTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(g,q,e,a,p,e.getCodexPostReferences());
c[e.getFieldIndex("cashDebit")]=d.cashDebitTotalPostReference.getCell();break;case "cashCreditTotalPostReference":d.cashCreditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(g,q,e,a,p,e.getCodexPostReferences()),c[e.getFieldIndex("cashCredit")]=d.cashCreditTotalPostReference.getCell()}}j=j.getRowNumber(l);c[e.getFieldIndex("rowIndexLeft")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();
c[e.getFieldIndex("rowIndexLeft")].setShowTransactionCorrectness(!0);c[e.getFieldIndex("date")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("accountTitle")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("documentNumber")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,null).getCell();c[e.getFieldIndex("postReference")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[e.getFieldIndex("rowIndexRight")]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[e.getFieldIndex("rowIndexRight")].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};a._initTableEntryRow=function(){};
return a})})(k);(function(b){b.q4domfactory.registerClass("multicolumnJournalTotalsRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="multicolumnJournalTotalsRow";var d={},c=[],e=null,f=a._parse;a._parse=function(h,j,l){f(h,j,l);e=l.parent;for(var m="broughtForward"===j["@role"],n=m?"journalMoneyTotalBroughtForward":"journalMoneyTotal",p=-1,j=b.jsonutil.getChildren(j),q=0,r=j.length;q<r;q++){var s=j[q].name,o=j[q].value;switch(s){case "pageNumber":p=o.$;
break;case "date":d.date=b.q4domfactory.newInstanceByName("journalDate").init(h,o,e,a,s);c[e.getFieldIndex("date")]=d.date.getCell();g(m,"date");break;case "totalsTitle":d.totalsTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(h,o,e,a,s,e.getCodexTotalsTitle());c[e.getFieldIndex("accountTitle")]=d.totalsTitle.getCell();g(m,"accountTitle");break;case "debitTotal":d.debitTotal=b.q4domfactory.newInstanceByName(n).init(h,o,e,a,s);c[e.getFieldIndex("generalDebit")]=d.debitTotal.getCell();
g(m,"generalDebit");break;case "creditTotal":d.creditTotal=b.q4domfactory.newInstanceByName(n).init(h,o,e,a,s);c[e.getFieldIndex("generalCredit")]=d.creditTotal.getCell();g(m,"generalCredit");break;case "salesCreditTotal":d.salesCreditTotal=b.q4domfactory.newInstanceByName(n).init(h,o,e,a,s);c[e.getFieldIndex("salesCredit")]=d.salesCreditTotal.getCell();g(m,"salesCredit");break;case "cashDebitTotal":d.cashDebitTotal=b.q4domfactory.newInstanceByName(n).init(h,o,e,a,s);c[e.getFieldIndex("cashDebit")]=
d.cashDebitTotal.getCell();g(m,"cashDebit");break;case "cashCreditTotal":d.cashCreditTotal=b.q4domfactory.newInstanceByName(n).init(h,o,e,a,s),c[e.getFieldIndex("cashCredit")]=d.cashCreditTotal.getCell(),g(m,"cashCredit")}}l=l.getRowNumber(p);c[e.getFieldIndex("rowIndexLeft")]=b.q4domfactory.newInstanceByName("journalField").init(h,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,l).getCell();c[e.getFieldIndex("rowIndexLeft")].setShowTransactionCorrectness(!0);c[e.getFieldIndex("documentNumber")]=
b.q4domfactory.newInstanceByName("journalField").init(h,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();g(m,"documentNumber");c[e.getFieldIndex("postReference")]=b.q4domfactory.newInstanceByName("journalField").init(h,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();g(m,"postReference");c[e.getFieldIndex("rowIndexRight")]=b.q4domfactory.newInstanceByName("journalField").init(h,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,l).getCell();c[e.getFieldIndex("rowIndexRight")].setShowRowCorrectness(!0)};
var g=function(a,b){a||c[e.getFieldIndex(b)].setTopSingleBorder(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};a._initTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("purchasesJournal",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journal")),d=a._parse;a._parse=function(b,f,g){d(b,f,g);a.getWorkingStateTableEntryTable().setTableTitle("Purchases Journal");a.getCorrectStateTableEntryTable().setTableTitle("Purchases Journal");
c(a.getWorkingStateTableEntryTable());a.isStatic()||c(a.getCorrectStateTableEntryTable())};var c=function(c){var d=[],g=null,g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,0);g.setTitle("");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,1);g.setTitle("Date");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,2);g.setTitle("Account Credited");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,3);g.setTitle("Purch. No.");
d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,4);g.setTitle("Post. Ref.");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,5);g.setTitle("Purchases DR. Accts. Pay. CR.");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,6);g.setTitle("");d.push(g);c.addColumnInfoSet(d)};return a})})(k);(function(b){b.q4domfactory.registerClass("purchasesJournalRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalTransactionRow"));
a.nodeName="purchasesJournalRow";var d={},c=[],e=a._parse;a._parse=function(f,g,h){e(f,g,h);for(var j=h.parent,l=-1,g=b.jsonutil.getChildren(g),m=0,n=g.length;m<n;m++){var p=g[m].name,q=g[m].value;switch(p){case "pageNumber":l=q.$;break;case "date":d.date=b.q4domfactory.newInstanceByName("journalDate").init(f,q,j,a,p);c[1]=d.date.getCell();break;case "accountTitle":d.accountTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(f,q,j,a,p,j.getCodexAccountNames());c[2]=d.accountTitle.getCell();
break;case "purchaseNumber":d.purchaseNumber=b.q4domfactory.newInstanceByName("journalFormattedText").init(f,q,j,a,p,{maxLength:9,align:2,allowSpaces:!1});c[3]=d.purchaseNumber.getCell();break;case "postReference":d.postReference=b.q4domfactory.newInstanceByName("journalFormattedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences(),{maxLength:9,align:2});c[4]=d.postReference.getCell();break;case "purchasesDebitAndAccountsPayableCredit":d.purchasesDebitAndAccountsPayableCredit=b.q4domfactory.newInstanceByName("journalMoney").init(f,
q,j,a,p),c[5]=d.purchasesDebitAndAccountsPayableCredit.getCell()}}h=h.getRowNumber(l);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[6]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[6].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("purchasesJournalTotalsPostReferenceRow",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="purchasesJournalTotalsPostReferenceRow";var d={},c=[],e=a._parse;a._parse=function(f,g,h){e(f,g,h);var j=h.parent,l=-1;c[1]="";for(var g=b.jsonutil.getChildren(g),m=0,n=g.length;m<n;m++){var p=g[m].value;switch(g[m].name){case "pageNumber":l=p.$;break;case "purchasesDebitAndAccountsPayableCreditTotalPostReference":var q=p._[0].postReference,r=p._[1].postReference;d.postReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,
q,j,a,"postReference",j.getCodexPostReferences());c[5]=d.postReference.getCell();f.registerNodeById(p["@id"],d.postReference);d.postReference2=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,r,j,a,"postReference",j.getCodexPostReferences());c[6]=d.postReference2.getCell();c[6].setSpanPreviousCell(!0)}}h=h.getRowNumber(l);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);
c[1]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[2]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[3]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,null).getCell();c[7]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[7].setShowRowCorrectness(!0);c[7].setTrueColumnIndex(6)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};a._initTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("purchasesJournalTotalsRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="purchasesJournalTotalsRow";
var d={},c=[],e=a._parse;a._parse=function(f,g,h){e(f,g,h);for(var j=h.parent,l="broughtForward"===g["@role"]?"journalMoneyTotalBroughtForward":"journalMoneyTotal",m=-1,g=b.jsonutil.getChildren(g),n=0,p=g.length;n<p;n++){var q=g[n].name,r=g[n].value;switch(q){case "pageNumber":m=r.$;break;case "date":d.date=b.q4domfactory.newInstanceByName("journalDate").init(f,r,j,a,q);c[1]=d.date.getCell();break;case "totalsTitle":d.totalsTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(f,r,j,
a,q,j.getCodexPurchasesTotalsTitle());c[2]=d.totalsTitle.getCell();break;case "purchasesDebitAndAccountsPayableCreditTotal":d.debitTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q),c[5]=d.debitTotal.getCell()}}h=h.getRowNumber(m);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[3]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,null).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[6]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[6].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};a._initTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("salesJournal",function(){var a=
Object.create(b.q4domfactory.newInstanceByName("journal")),d=a._parse;a._parse=function(b,f,g){d(b,f,g);a.getWorkingStateTableEntryTable().setTableTitle("Sales Journal");a.getCorrectStateTableEntryTable().setTableTitle("Sales Journal");c(a.getWorkingStateTableEntryTable());a.isStatic()||c(a.getCorrectStateTableEntryTable())};var c=function(c){var d=[],g=null,g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,0);g.setTitle("");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
1);g.setTitle("Date");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,2);g.setTitle("Account Debited");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,3);g.setTitle("Sale No.");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,4);g.setTitle("Post. Ref.");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,5);g.setTitle("Accounts Receivable Debit");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
6);g.setTitle("Sales Credit");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,7);g.setTitle("Sales Tax Payable Credit");d.push(g);g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,8);g.setTitle("");d.push(g);c.addColumnInfoSet(d)};return a})})(k);(function(b){b.q4domfactory.registerClass("salesJournalRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalTransactionRow"));a.nodeName="salesJournalRow";var d={},c=[],e=a._parse;a._parse=
function(f,g,h){e(f,g,h);for(var j=h.parent,l=-1,g=b.jsonutil.getChildren(g),m=0,n=g.length;m<n;m++){var p=g[m].name,q=g[m].value;switch(p){case "pageNumber":l=q.$;break;case "date":d.date=b.q4domfactory.newInstanceByName("journalDate").init(f,q,j,a,p);c[1]=d.date.getCell();break;case "accountTitle":d.accountTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(f,q,j,a,p,j.getCodexAccountNames());c[2]=d.accountTitle.getCell();break;case "saleNumber":d.saleNumber=b.q4domfactory.newInstanceByName("journalFormattedText").init(f,
q,j,a,p,{maxLength:9,align:2,allowSpaces:!1});c[3]=d.saleNumber.getCell();break;case "postReference":d.postReference=b.q4domfactory.newInstanceByName("journalFormattedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences(),{maxLength:9,align:2});c[4]=d.postReference.getCell();break;case "accountsReceivableDebit":d.accountsReceivableDebit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p);c[5]=d.accountsReceivableDebit.getCell();break;case "salesCredit":d.salesCredit=b.q4domfactory.newInstanceByName("journalMoney").init(f,
q,j,a,p);c[6]=d.salesCredit.getCell();break;case "salesTaxPayableCredit":d.salesTaxPayableCredit=b.q4domfactory.newInstanceByName("journalMoney").init(f,q,j,a,p),c[7]=d.salesTaxPayableCredit.getCell()}}h=h.getRowNumber(l);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[8]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,
!1,h).getCell();c[8].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("salesJournalTotalsPostReferenceRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="salesJournalTotalsPostReferenceRow";var d={},c=[],e=a._parse;a._parse=function(f,g,h){e(f,g,h);var j=h.parent,l=-1;c[1]="";for(var g=b.jsonutil.getChildren(g),m=0,n=g.length;m<n;m++){var p=g[m].name,q=
g[m].value;switch(p){case "pageNumber":l=q.$;break;case "accountsReceivableDebitTotalPostReference":d.accountsReceivableDebitTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences());c[5]=d.accountsReceivableDebitTotalPostReference.getCell();break;case "salesCreditTotalPostReference":d.salesCreditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences());
c[6]=d.salesCreditTotalPostReference.getCell();break;case "salesTaxPayableCreditTotalPostReference":d.salesTaxPayableCreditTotalPostReference=b.q4domfactory.newInstanceByName("journalParenthesizedTextWithCodex").init(f,q,j,a,p,j.getCodexPostReferences()),c[7]=d.salesTaxPayableCreditTotalPostReference.getCell()}}h=h.getRowNumber(l);c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[1]=
b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[2]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[3]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,
null).getCell();c[8]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[8].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};a._initTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("salesJournalTotalsRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="salesJournalTotalsRow";var d={},c=[],e=a._parse;a._parse=
function(f,g,h){e(f,g,h);for(var j=h.parent,l="broughtForward"===g["@role"]?"journalMoneyTotalBroughtForward":"journalMoneyTotal",m=-1,g=b.jsonutil.getChildren(g),n=0,p=g.length;n<p;n++){var q=g[n].name,r=g[n].value;switch(q){case "pageNumber":m=r.$;break;case "date":d.date=b.q4domfactory.newInstanceByName("journalDate").init(f,r,j,a,q);c[1]=d.date.getCell();break;case "totalsTitle":d.totalsTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(f,r,j,a,q,j.getCodexTotalsTitle());c[2]=
d.totalsTitle.getCell();break;case "accountsReceivableDebitTotal":d.accountsReceivableDebitTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[5]=d.accountsReceivableDebitTotal.getCell();break;case "salesCreditTotal":d.salesCreditTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q);c[6]=d.salesCreditTotal.getCell();break;case "salesTaxPayableCreditTotal":d.salesTaxPayableCreditTotal=b.q4domfactory.newInstanceByName(l).init(f,r,j,a,q),c[7]=d.salesTaxPayableCreditTotal.getCell()}}h=h.getRowNumber(m);
c[0]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,h).getCell();c[0].setShowTransactionCorrectness(!0);c[3]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[8]=b.q4domfactory.newInstanceByName("journalField").init(f,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,h).getCell();c[8].setShowRowCorrectness(!0)};a.getCells=function(){return c};a._bindTableEntryRow=function(){};a._initTableEntryRow=function(){};return a})})(k);(function(b){b.q4domfactory.registerClass("accountingCodexDates",function(){var a=Object.create(b.q4domfactory.newInstanceByName("codex")),d=a.init;a.init=function(){d();a.addEntry("01");a.addEntry("02");a.addEntry("03");a.addEntry("04");a.addEntry("05");a.addEntry("06");a.addEntry("07");a.addEntry("08");a.addEntry("09");a.addEntry("1");
a.addEntry("2");a.addEntry("3");a.addEntry("4");a.addEntry("5");a.addEntry("6");a.addEntry("7");a.addEntry("8");a.addEntry("9");a.addEntry("10");a.addEntry("11");a.addEntry("12");a.addEntry("13");a.addEntry("14");a.addEntry("15");a.addEntry("16");a.addEntry("17");a.addEntry("18");a.addEntry("19");a.addEntry("20");a.addEntry("21");a.addEntry("22");a.addEntry("23");a.addEntry("24");a.addEntry("25");a.addEntry("26");a.addEntry("27");a.addEntry("28");a.addEntry("29");a.addEntry("30");a.addEntry("31");
a.addEntry("Jan. 01");a.addEntry("Jan. 02");a.addEntry("Jan. 03");a.addEntry("Jan. 04");a.addEntry("Jan. 05");a.addEntry("Jan. 06");a.addEntry("Jan. 07");a.addEntry("Jan. 08");a.addEntry("Jan. 09");a.addEntry("Jan. 1");a.addEntry("Jan. 2");a.addEntry("Jan. 3");a.addEntry("Jan. 4");a.addEntry("Jan. 5");a.addEntry("Jan. 6");a.addEntry("Jan. 7");a.addEntry("Jan. 8");a.addEntry("Jan. 9");a.addEntry("Jan. 10");a.addEntry("Jan. 11");a.addEntry("Jan. 12");a.addEntry("Jan. 13");a.addEntry("Jan. 14");a.addEntry("Jan. 15");
a.addEntry("Jan. 16");a.addEntry("Jan. 17");a.addEntry("Jan. 18");a.addEntry("Jan. 19");a.addEntry("Jan. 20");a.addEntry("Jan. 21");a.addEntry("Jan. 22");a.addEntry("Jan. 23");a.addEntry("Jan. 24");a.addEntry("Jan. 25");a.addEntry("Jan. 26");a.addEntry("Jan. 27");a.addEntry("Jan. 28");a.addEntry("Jan. 29");a.addEntry("Jan. 30");a.addEntry("Jan. 31");a.addEntry("Feb. 01");a.addEntry("Feb. 02");a.addEntry("Feb. 03");a.addEntry("Feb. 04");a.addEntry("Feb. 05");a.addEntry("Feb. 06");a.addEntry("Feb. 07");
a.addEntry("Feb. 08");a.addEntry("Feb. 09");a.addEntry("Feb. 1");a.addEntry("Feb. 2");a.addEntry("Feb. 3");a.addEntry("Feb. 4");a.addEntry("Feb. 5");a.addEntry("Feb. 6");a.addEntry("Feb. 7");a.addEntry("Feb. 8");a.addEntry("Feb. 9");a.addEntry("Feb. 10");a.addEntry("Feb. 11");a.addEntry("Feb. 12");a.addEntry("Feb. 13");a.addEntry("Feb. 14");a.addEntry("Feb. 15");a.addEntry("Feb. 16");a.addEntry("Feb. 17");a.addEntry("Feb. 18");a.addEntry("Feb. 19");a.addEntry("Feb. 20");a.addEntry("Feb. 21");a.addEntry("Feb. 22");
a.addEntry("Feb. 23");a.addEntry("Feb. 24");a.addEntry("Feb. 25");a.addEntry("Feb. 26");a.addEntry("Feb. 27");a.addEntry("Feb. 28");a.addEntry("Feb. 29");a.addEntry("Mar. 01");a.addEntry("Mar. 02");a.addEntry("Mar. 03");a.addEntry("Mar. 04");a.addEntry("Mar. 05");a.addEntry("Mar. 06");a.addEntry("Mar. 07");a.addEntry("Mar. 08");a.addEntry("Mar. 09");a.addEntry("Mar. 1");a.addEntry("Mar. 2");a.addEntry("Mar. 3");a.addEntry("Mar. 4");a.addEntry("Mar. 5");a.addEntry("Mar. 6");a.addEntry("Mar. 7");a.addEntry("Mar. 8");
a.addEntry("Mar. 9");a.addEntry("Mar. 10");a.addEntry("Mar. 11");a.addEntry("Mar. 12");a.addEntry("Mar. 13");a.addEntry("Mar. 14");a.addEntry("Mar. 15");a.addEntry("Mar. 16");a.addEntry("Mar. 17");a.addEntry("Mar. 18");a.addEntry("Mar. 19");a.addEntry("Mar. 20");a.addEntry("Mar. 21");a.addEntry("Mar. 22");a.addEntry("Mar. 23");a.addEntry("Mar. 24");a.addEntry("Mar. 25");a.addEntry("Mar. 26");a.addEntry("Mar. 27");a.addEntry("Mar. 28");a.addEntry("Mar. 29");a.addEntry("Mar. 30");a.addEntry("Mar. 31");
a.addEntry("Apr. 01");a.addEntry("Apr. 02");a.addEntry("Apr. 03");a.addEntry("Apr. 04");a.addEntry("Apr. 05");a.addEntry("Apr. 06");a.addEntry("Apr. 07");a.addEntry("Apr. 08");a.addEntry("Apr. 09");a.addEntry("Apr. 1");a.addEntry("Apr. 2");a.addEntry("Apr. 3");a.addEntry("Apr. 4");a.addEntry("Apr. 5");a.addEntry("Apr. 6");a.addEntry("Apr. 7");a.addEntry("Apr. 8");a.addEntry("Apr. 9");a.addEntry("Apr. 10");a.addEntry("Apr. 11");a.addEntry("Apr. 12");a.addEntry("Apr. 13");a.addEntry("Apr. 14");a.addEntry("Apr. 15");
a.addEntry("Apr. 16");a.addEntry("Apr. 17");a.addEntry("Apr. 18");a.addEntry("Apr. 19");a.addEntry("Apr. 20");a.addEntry("Apr. 21");a.addEntry("Apr. 22");a.addEntry("Apr. 23");a.addEntry("Apr. 24");a.addEntry("Apr. 25");a.addEntry("Apr. 26");a.addEntry("Apr. 27");a.addEntry("Apr. 28");a.addEntry("Apr. 29");a.addEntry("Apr. 30");a.addEntry("May 01");a.addEntry("May 02");a.addEntry("May 03");a.addEntry("May 04");a.addEntry("May 05");a.addEntry("May 06");a.addEntry("May 07");a.addEntry("May 08");a.addEntry("May 09");
a.addEntry("May 1");a.addEntry("May 2");a.addEntry("May 3");a.addEntry("May 4");a.addEntry("May 5");a.addEntry("May 6");a.addEntry("May 7");a.addEntry("May 8");a.addEntry("May 9");a.addEntry("May 10");a.addEntry("May 11");a.addEntry("May 12");a.addEntry("May 13");a.addEntry("May 14");a.addEntry("May 15");a.addEntry("May 16");a.addEntry("May 17");a.addEntry("May 18");a.addEntry("May 19");a.addEntry("May 20");a.addEntry("May 21");a.addEntry("May 22");a.addEntry("May 23");a.addEntry("May 24");a.addEntry("May 25");
a.addEntry("May 26");a.addEntry("May 27");a.addEntry("May 28");a.addEntry("May 29");a.addEntry("May 30");a.addEntry("May 31");a.addEntry("Jun. 01");a.addEntry("Jun. 02");a.addEntry("Jun. 03");a.addEntry("Jun. 04");a.addEntry("Jun. 05");a.addEntry("Jun. 06");a.addEntry("Jun. 07");a.addEntry("Jun. 08");a.addEntry("Jun. 09");a.addEntry("Jun. 1");a.addEntry("Jun. 2");a.addEntry("Jun. 3");a.addEntry("Jun. 4");a.addEntry("Jun. 5");a.addEntry("Jun. 6");a.addEntry("Jun. 7");a.addEntry("Jun. 8");a.addEntry("Jun. 9");
a.addEntry("Jun. 10");a.addEntry("Jun. 11");a.addEntry("Jun. 12");a.addEntry("Jun. 13");a.addEntry("Jun. 14");a.addEntry("Jun. 15");a.addEntry("Jun. 16");a.addEntry("Jun. 17");a.addEntry("Jun. 18");a.addEntry("Jun. 19");a.addEntry("Jun. 20");a.addEntry("Jun. 21");a.addEntry("Jun. 22");a.addEntry("Jun. 23");a.addEntry("Jun. 24");a.addEntry("Jun. 25");a.addEntry("Jun. 26");a.addEntry("Jun. 27");a.addEntry("Jun. 28");a.addEntry("Jun. 29");a.addEntry("Jun. 30");a.addEntry("Jul. 01");a.addEntry("Jul. 02");
a.addEntry("Jul. 03");a.addEntry("Jul. 04");a.addEntry("Jul. 05");a.addEntry("Jul. 06");a.addEntry("Jul. 07");a.addEntry("Jul. 08");a.addEntry("Jul. 09");a.addEntry("Jul. 1");a.addEntry("Jul. 2");a.addEntry("Jul. 3");a.addEntry("Jul. 4");a.addEntry("Jul. 5");a.addEntry("Jul. 6");a.addEntry("Jul. 7");a.addEntry("Jul. 8");a.addEntry("Jul. 9");a.addEntry("Jul. 10");a.addEntry("Jul. 11");a.addEntry("Jul. 12");a.addEntry("Jul. 13");a.addEntry("Jul. 14");a.addEntry("Jul. 15");a.addEntry("Jul. 16");a.addEntry("Jul. 17");
a.addEntry("Jul. 18");a.addEntry("Jul. 19");a.addEntry("Jul. 20");a.addEntry("Jul. 21");a.addEntry("Jul. 22");a.addEntry("Jul. 23");a.addEntry("Jul. 24");a.addEntry("Jul. 25");a.addEntry("Jul. 26");a.addEntry("Jul. 27");a.addEntry("Jul. 28");a.addEntry("Jul. 29");a.addEntry("Jul. 30");a.addEntry("Jul. 31");a.addEntry("Aug. 01");a.addEntry("Aug. 02");a.addEntry("Aug. 03");a.addEntry("Aug. 04");a.addEntry("Aug. 05");a.addEntry("Aug. 06");a.addEntry("Aug. 07");a.addEntry("Aug. 08");a.addEntry("Aug. 09");
a.addEntry("Aug. 1");a.addEntry("Aug. 2");a.addEntry("Aug. 3");a.addEntry("Aug. 4");a.addEntry("Aug. 5");a.addEntry("Aug. 6");a.addEntry("Aug. 7");a.addEntry("Aug. 8");a.addEntry("Aug. 9");a.addEntry("Aug. 10");a.addEntry("Aug. 11");a.addEntry("Aug. 12");a.addEntry("Aug. 13");a.addEntry("Aug. 14");a.addEntry("Aug. 15");a.addEntry("Aug. 16");a.addEntry("Aug. 17");a.addEntry("Aug. 18");a.addEntry("Aug. 19");a.addEntry("Aug. 20");a.addEntry("Aug. 21");a.addEntry("Aug. 22");a.addEntry("Aug. 23");a.addEntry("Aug. 24");
a.addEntry("Aug. 25");a.addEntry("Aug. 26");a.addEntry("Aug. 27");a.addEntry("Aug. 28");a.addEntry("Aug. 29");a.addEntry("Aug. 30");a.addEntry("Aug. 31");a.addEntry("Sep. 01");a.addEntry("Sep. 02");a.addEntry("Sep. 03");a.addEntry("Sep. 04");a.addEntry("Sep. 05");a.addEntry("Sep. 06");a.addEntry("Sep. 07");a.addEntry("Sep. 08");a.addEntry("Sep. 09");a.addEntry("Sep. 1");a.addEntry("Sep. 2");a.addEntry("Sep. 3");a.addEntry("Sep. 4");a.addEntry("Sep. 5");a.addEntry("Sep. 6");a.addEntry("Sep. 7");a.addEntry("Sep. 8");
a.addEntry("Sep. 9");a.addEntry("Sep. 10");a.addEntry("Sep. 11");a.addEntry("Sep. 12");a.addEntry("Sep. 13");a.addEntry("Sep. 14");a.addEntry("Sep. 15");a.addEntry("Sep. 16");a.addEntry("Sep. 17");a.addEntry("Sep. 18");a.addEntry("Sep. 19");a.addEntry("Sep. 20");a.addEntry("Sep. 21");a.addEntry("Sep. 22");a.addEntry("Sep. 23");a.addEntry("Sep. 24");a.addEntry("Sep. 25");a.addEntry("Sep. 26");a.addEntry("Sep. 27");a.addEntry("Sep. 28");a.addEntry("Sep. 29");a.addEntry("Sep. 30");a.addEntry("Oct. 01");
a.addEntry("Oct. 02");a.addEntry("Oct. 03");a.addEntry("Oct. 04");a.addEntry("Oct. 05");a.addEntry("Oct. 06");a.addEntry("Oct. 07");a.addEntry("Oct. 08");a.addEntry("Oct. 09");a.addEntry("Oct. 1");a.addEntry("Oct. 2");a.addEntry("Oct. 3");a.addEntry("Oct. 4");a.addEntry("Oct. 5");a.addEntry("Oct. 6");a.addEntry("Oct. 7");a.addEntry("Oct. 8");a.addEntry("Oct. 9");a.addEntry("Oct. 10");a.addEntry("Oct. 11");a.addEntry("Oct. 12");a.addEntry("Oct. 13");a.addEntry("Oct. 14");a.addEntry("Oct. 15");a.addEntry("Oct. 16");
a.addEntry("Oct. 17");a.addEntry("Oct. 18");a.addEntry("Oct. 19");a.addEntry("Oct. 20");a.addEntry("Oct. 21");a.addEntry("Oct. 22");a.addEntry("Oct. 23");a.addEntry("Oct. 24");a.addEntry("Oct. 25");a.addEntry("Oct. 26");a.addEntry("Oct. 27");a.addEntry("Oct. 28");a.addEntry("Oct. 29");a.addEntry("Oct. 30");a.addEntry("Oct. 31");a.addEntry("Nov. 01");a.addEntry("Nov. 02");a.addEntry("Nov. 03");a.addEntry("Nov. 04");a.addEntry("Nov. 05");a.addEntry("Nov. 06");a.addEntry("Nov. 07");a.addEntry("Nov. 08");
a.addEntry("Nov. 09");a.addEntry("Nov. 1");a.addEntry("Nov. 2");a.addEntry("Nov. 3");a.addEntry("Nov. 4");a.addEntry("Nov. 5");a.addEntry("Nov. 6");a.addEntry("Nov. 7");a.addEntry("Nov. 8");a.addEntry("Nov. 9");a.addEntry("Nov. 10");a.addEntry("Nov. 11");a.addEntry("Nov. 12");a.addEntry("Nov. 13");a.addEntry("Nov. 14");a.addEntry("Nov. 15");a.addEntry("Nov. 16");a.addEntry("Nov. 17");a.addEntry("Nov. 18");a.addEntry("Nov. 19");a.addEntry("Nov. 20");a.addEntry("Nov. 21");a.addEntry("Nov. 22");a.addEntry("Nov. 23");
a.addEntry("Nov. 24");a.addEntry("Nov. 25");a.addEntry("Nov. 26");a.addEntry("Nov. 27");a.addEntry("Nov. 28");a.addEntry("Nov. 29");a.addEntry("Nov. 30");a.addEntry("Dec. 01");a.addEntry("Dec. 02");a.addEntry("Dec. 03");a.addEntry("Dec. 04");a.addEntry("Dec. 05");a.addEntry("Dec. 06");a.addEntry("Dec. 07");a.addEntry("Dec. 08");a.addEntry("Dec. 09");a.addEntry("Dec. 1");a.addEntry("Dec. 2");a.addEntry("Dec. 3");a.addEntry("Dec. 4");a.addEntry("Dec. 5");a.addEntry("Dec. 6");a.addEntry("Dec. 7");a.addEntry("Dec. 8");
a.addEntry("Dec. 9");a.addEntry("Dec. 10");a.addEntry("Dec. 11");a.addEntry("Dec. 12");a.addEntry("Dec. 13");a.addEntry("Dec. 14");a.addEntry("Dec. 15");a.addEntry("Dec. 16");a.addEntry("Dec. 17");a.addEntry("Dec. 18");a.addEntry("Dec. 19");a.addEntry("Dec. 20");a.addEntry("Dec. 21");a.addEntry("Dec. 22");a.addEntry("Dec. 23");a.addEntry("Dec. 24");a.addEntry("Dec. 25");a.addEntry("Dec. 26");a.addEntry("Dec. 27");a.addEntry("Dec. 28");a.addEntry("Dec. 29");a.addEntry("Dec. 30");a.addEntry("Dec. 31");
return a};return a})})(k);(function(b){b.q4domfactory.registerClass("accountingCodexLedgerItems",function(){var a=Object.create(b.q4domfactory.newInstanceByName("codex")),d=a.init;a.init=function(){d();a.addEntry("Balance");return a};return a})})(k);(function(b){b.q4domfactory.registerClass("accountingCodexWorksheetNetTitles",function(){var a=Object.create(b.q4domfactory.newInstanceByName("codex")),d=a.init;a.init=function(){d();a.addEntry("Net Income");a.addEntry("Net Loss");return a};return a})})(k);
(function(b){b.extend({JournalConstants:new function(){return{GJ_TABLE_STRUCTURE_DEBIT_FIRST:"debit_first",MCJ_TABLE_STRUCTURE_CASH_FIRST:"cash_first"}}})})(k);(function(b){b.q4domfactory.registerClass("accounting.currencyFormat",function(){var a=Object.create(b.q4domfactory.newInstanceByName("numericEntry.format"));a.minimumDecimalPlace=2;a.decimalCharacter=".";a.thousandsSeparator=",";a.prefix=null;a.suffix=null;a.alwaysPadDecimals=!0;return a})})(k);(function(b){b.q4domfactory.registerClass("accounting.negativeCurrencyFormat",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("accounting.currencyFormat"));a.prefix="(";a.suffix=")";return a})})(k);(function(b){b.q4domfactory.registerClass("tableEntryAccountPage",function(){var a=Object.create(b.q4domfactory.newInstanceByName("tableEntryPage")),d=a.init;a.init=function(b,e){d(b,e);return a};a.getHeaderPrefix=function(){return"ACCT"};return a})})(k);(function(b){b.q4domfactory.registerClass("tableEntryColumnInfo",function(){var a={},b=null,c="",e=1,f=1,g=!1;
a.init=function(c){b=c;return a};a.getTable=function(){return b};a.setTitle=function(a){c=a};a.getTitle=function(){return c};a.setRowSpan=function(a){e=a};a.getRowSpan=function(){return e};a.setColSpan=function(a){f=a};a.getColSpan=function(){return f};a.setSecondHeaderRow=function(a){g=a};a.isSecondHeaderRow=function(){return g};return a})})(k);(function(b){b.extend({TableEntryConstants:new function(){return{COLUMN_TYPE_TEXT:1,COLUMN_TYPE_NUMBER:2,COLUMN_TYPE_LONG_NUMBER:3,COLUMN_TYPE_NEGATIVE_LONG_NUMBER:4,
COLUMN_TYPE_PERCENTAGE:5,COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL:6,COLUMN_TYPE_CURRENCY_WITH_SIGN:7,TEXT_ALIGNMENT_LEFT:0,TEXT_ALIGNMENT_RIGHT:1,TEXT_ALIGNMENT_CENTER:2,PRESENTER_EVENT_CELL_DATA_REFRESH:"presenter_event_cell_data_refresh",VIEW_ACTION_SHOW_REJOINDER:"show_rejoinder"}}})})(k);(function(b){b.q4domfactory.registerClass("tableEntryPage",function(){var a={},d=-1,c=null,e=null;a.init=function(f,g){d=f;c=g;e=b.q4domfactory.newInstanceByName("tableEntryRows").initWithTable(c,a);return a};a.getPageNumber=
function(){return d};a.getTable=function(){return c};a.getRows=function(){return e};a.getHeaderPrefix=function(){return"PAGE"};return a})})(k);(function(b){b.q4domfactory.registerClass("tableEntryRows",function(){var a={},d=[],c=null;a.initWithTable=function(b,d){c=d;return a};a.addRow=function(c,f,g,h){f=b.q4domfactory.newInstanceByName("tableEntryRow").initWithCellArray(c,a,d.length,f);d.push(f);f.setTopBorder(g);f.setBottomBorder(h);for(g=0;g<c.length;g++)c[g].setRow(f);return f};a.getRow=function(a){return d[a]};
a.getPage=function(){return c};a.getRowsArray=function(){return d};a.getLength=function(){return d.length};return a})})(k);(function(b){b.q4domfactory.registerClass("tableEntryCell",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="tableEntryCell";a.parent=null;var d=a.clientText=null,c=null,e=-1,f=!1,g=null,h=!1,j=null,l=!1,m=!1,n=!1,p=!1,q=!0,r=!0,s=!1,o=!1,k=-1,t=null,w=null,x=void 0,B=!1,y=!1,z=!0,A=null,D=-1,C=-1,v=!1,F=!1,H=-1;a.initWithParent=function(b){a.parent=
b;return a};a.initWithText=function(b,c,d,h){e=b;f=c;g=h;null!==d&&(a.clientText=""+d);return a};a.setShowTransactionCorrectness=function(a){F=a};a.isShowTransactionCorrectness=function(){return F};a.setShowRowCorrectness=function(a){v=a};a.isShowRowCorrectness=function(){return v};a.setParenthesized=function(a){s=a};a.isParenthesized=function(){return s};a.setInterleaved=function(a){x=a};a.getInterleaved=function(){return x};a.setTextAlignment=function(a){g=a};a.getTextAlignment=function(){return g};
a.setHasBold=function(){h=!0};a.getHasBold=function(){return h};a.setColumnWidthType=function(a){j=a};a.getColumnWidthType=function(){return j};a.setSpanPreviousCell=function(a){l=a};a.isSpanPreviousCell=function(){return l};a.isEditable=function(){return f};a.setEditable=function(a){f=a};a.getType=function(){return e};a.setRow=function(a){c=a};a.getRow=function(){return c};a.setCodex=function(a){d=a};a.getCodex=function(){return d};a.setInputModel=function(a){t=a};a.getInputModel=function(){return t};
a.setField=function(a){w=a};a.getField=function(){return w};a.setSuffix=function(b){a.clientText+=b;null!==a.getInputModel()&&a.getInputModel().setSuffix(b)};a.setPrefix=function(b){a.clientText=b+a.clientText;null!==a.getInputModel()&&a.getInputModel().setPrefix(b)};a.getCanonicalState=function(){var b=a.getField();if(null!==b&&void 0!==b.getCanonicalState)return b.getCanonicalState()};a.getClientState=function(){var b=a.getField();if(null!==b&&void 0!==b.getClientState)return b.getClientState()};
a.setCorrectAsSubmitted=function(c){z=c;b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a.isCorrectAsSubmitted=function(){return z};a.setGraded=function(a){y=a};a.isGraded=function(){return y};a.setRejoinder=function(a){A=a};a.getRejoinder=function(){return A};a.setCreditsEarned=function(a){D=a};a.getCreditsEarned=function(){return D};a.setCreditsPossible=function(a){C=a};a.getCreditsPossible=function(){return C};a.setIndented=function(a){o=a};a.isIndented=function(){return o};
a.setIndentLevel=function(a){k=a};a.getIndentLevel=function(){return k};a.setBottomDoubleBorder=function(a){m=a};a.hasBottomDoubleBorder=function(){return m};a.setBottomSingleBorder=function(a){p=a};a.hasBottomSingleBorder=function(){return p};a.setShowBorderWhenEmpty=function(a){q=a};a.getShowBorderWhenEmpty=function(){return q};a.setShowIndentWhenEmpty=function(a){r=a};a.getShowIndentWhenEmpty=function(){return r};a.setTopSingleBorder=function(a){n=a};a.hasTopSingleBorder=function(){return n};a.setTrueColumnIndex=
function(a){H=a};a.getTrueColumnIndex=function(){return H};a.setPartOfRowGroup=function(a){B=a};a.getPartOfRowGroup=function(){return B};a.hasClientText=function(){if(a.isEditable()){if(null===a.getInputModel()||""===a.getInputModel().getClientString().trim())return!1}else if(null===a.clientText||""===a.clientText.trim())return!1;return!0};return a})})(k);(function(b){b.q4domfactory.registerClass("tableEntryRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName=
"tableEntryRow";a.id=null;a.cells=[];a.rowIndex=-1;var d=null,c=null,e=!1,f=!1,g=!1,h=!1,j=!0,l=-1,m=-1,n=null,p=null,q=null,r=-1,s=-1,o=!1,k=!1;a.initWithParent=function(b){a.parent=b;return a};a.initWithCellArray=function(b,e,g,f){a.cells=b;a.rowIndex=g;c=e;d=f;for(b=0;b<a.cells.length;b++)if(a.cells[b].isEditable()){k=!0;break}return a};a.isEditable=function(){return k};a.getTable=function(){return d};a.getPage=function(){return c.getPage()};a.getRowsArray=function(){return c.getRowsArray()};a.setTopBorder=
function(a){f=a};a.canDrawTopBorder=function(){return e};a.setCanDrawTopBorder=function(a){e=a};a.hasTopBorder=function(){return f};a.setBottomBorder=function(a){g=a};a.hasBottomBorder=function(){return g};a.setIsFixed=function(a){o=a};a.getIsFixed=function(){return o};a.getCell=function(b){return a.cells[b]};a.setGraded=function(a){h=a};a.isGraded=function(){return h};a.setCorrectAsSubmitted=function(c){j=c;b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a.isCorrectAsSubmitted=
function(){return j};a.setCreditsEarned=function(a){l=a};a.getCreditsEarned=function(){return l};a.setCreditsPossible=function(a){m=a};a.getCreditsPossible=function(){return m};a.setRejoinder=function(a){n=a};a.getRejoinder=function(){return n};a.setTransactionRejoinder=function(a){p=a};a.getTransactionRejoinder=function(){return p};a.setTransactionRowCount=function(a){q=a};a.getTransactionRowCount=function(){return q};a.setTransactionCreditsEarned=function(a){r=a};a.getTransactionCreditsEarned=function(){return r};
a.setTransactionCreditsPossible=function(a){s=a};a.getTransactionCreditsPossible=function(){return s};return a})})(k);(function(b){b.q4domfactory.registerClass("tableEntryTable",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="tableEntryTable";a.id=null;a.header=null;a.colInfos=[];var d=!1,c=!1,e=!1,f=null,g=null,h=null,j=-1,l=-1,m=[],n={},p=!0,q=null,r=!1,s=null,o=-1,k=-1,t=-1,w=-1,x=null,B=!0,y=null,z=null,A=null,D=null;a.init=function(b){c=b;return a};
a.setContainsWorkingState=function(a){c=a};a.setCompanyTitle=function(a){A=a};a.setPeriodLabel=function(a){D=a};a.hasWorksheetHeading=function(){return null!==A};a.getCompanyTitle=function(){return A};a.getPeriodLabel=function(){return D};a.setAccountHeader=function(a,b){z=a;y=b};a.hasAccountHeader=function(){return null!==y};a.getAccountHeaderNumber=function(){return z};a.getAccountHeaderTitle=function(){return y};a.setGraded=function(a){d=a};a.isGraded=function(){return d};a.containsWorkingState=
function(){return c};a.setStatic=function(a){e=a};a.isStatic=function(){return e};a.getPageByNumber=function(a){return n[a]};a.addPage=function(a,b){m.push(b);n[a]=b};a.isShowPages=function(){return p};a.setShowPages=function(a){p=a};a.getPages=function(){return m};a.addColumnInfoSet=function(b){a.colInfos.push(b)};a.getColumnCount=function(){return a.colInfos[0].length};a.setTableCSSNameOverride=function(a){f=a};a.getTableCSSNameOverride=function(){return f};a.setTableTitle=function(a){g=a};a.getTableTitle=
function(){return g};a.setTableVariant=function(a){h=a};a.getTableVariant=function(){return h};a.setSelectedPageNumber=function(c){j=c;b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED)};a.getSelectedPageNumber=function(){return j};a.setInitialPageNumber=function(a){l=a};a.getInitialPageNumber=function(){return l};a.setPartnerTable=function(a){q=a};a.getPartnerTable=function(){return q};a.setGraded=function(a){r=a};a.isGraded=function(){return r};a.setCorrectAsSubmitted=function(c){s=
c;b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a.isCorrectAsSubmitted=function(){return s};a.setCreditsEarned=function(a){o=a};a.getCreditsEarned=function(){return o};a.setCreditsPossible=function(a){k=a};a.getCreditsPossible=function(){return k};a.setTotalEarned=function(a){t=a};a.getTotalEarned=function(){return t};a.setTotalPossible=function(a){w=a};a.getTotalPossible=function(){return w};a.setRejoinder=function(a){x=a};a.getRejoinder=function(){return x};a.setAttempted=
function(a){B=a};a.isAttempted=function(){return B};return a})})(k);(function(b){b.q4domfactory.registerClass("trialBalanceStatement",function(){var a=Object.create(b.q4domfactory.newInstanceByName("worksheetBase")),d=null,c=a._parse;a._parse=function(f,g,h){c(f,g,h);d=b.jsonutil.getValue(g,["info","statementTitle","$"]);a.setGroupTitle(d);a.getWorkingStateTableEntryTable().setTableTitle("Trial Balance");a.getCorrectStateTableEntryTable().setTableTitle("Trial Balance");e(a.getWorkingStateTableEntryTable());
a.isStatic()||e(a.getCorrectStateTableEntryTable())};a.getTitle=function(){return"Trial Balance"};var e=function(c){var d=[],e=null,j=0,e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("");d[j]=e;j=1;e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Account Title");d[j]=e;j=2;e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("Debit");d[j]=e;j=3;e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
j);e.setTitle("Credit");d[j]=e;j=4;e=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,j);e.setTitle("");d[j]=e;c.addColumnInfoSet(d)};return a})})(k);(function(b){b.q4domfactory.registerClass("trialBalanceStatementRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="trialBalanceStatementRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j.parent;for(var h=b.jsonutil.getChildren(h),l=0,m=h.length;l<m;l++){var n=h[l].name,
p=h[l].value;switch(n){case "accountTitle":d.accountTitle=b.q4domfactory.newInstanceByName("journalText").init(g,p,e,a,n);c[1]=d.accountTitle.getCell();break;case "debitTrialBalance":d.debitTrialBalance=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,p,e,a,n);c[2]=d.debitTrialBalance.getCell();break;case "creditTrialBalance":d.creditTrialBalance=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,p,e,a,n),c[3]=d.creditTrialBalance.getCell()}}j=j.getRows().length+1;c[0]=b.q4domfactory.newInstanceByName("journalField").init(g,
null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[4].setShowRowCorrectness(!0)};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("trialBalanceStatementTotalsRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="trialBalanceStatementTotalsRow";var d={},c=[],e=null,f=a._parse;
a._parse=function(g,h,j){f(g,h,j);e=j.parent;for(var h=b.jsonutil.getChildren(h),l=0,m=h.length;l<m;l++){var n=h[l].name,p=h[l].value;switch(n){case "totalsTitle":d.totalsTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(g,p,e,a,n,e.getCodexTotalsTitle());c[1]=d.totalsTitle.getCell();break;case "debitTrialBalanceTotal":d.debitTrialBalanceTotal=b.q4domfactory.newInstanceByName("worksheetLongMoneyBalanceTotal").init(g,p,e,a,n);c[2]=d.debitTrialBalanceTotal.getCell();break;case "creditTrialBalanceTotal":d.creditTrialBalanceTotal=
b.q4domfactory.newInstanceByName("worksheetLongMoneyBalanceTotal").init(g,p,e,a,n),c[3]=d.creditTrialBalanceTotal.getCell()}}j=j.getRows().length+1;c[0]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[4].setShowRowCorrectness(!0)};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("gradableWorksheet",
function(){return Object.create(b.q4domfactory.newInstanceByName("gradableLedger"))})})(k);(function(b){b.q4domfactory.registerClass("worksheet",function(){var a=Object.create(b.q4domfactory.newInstanceByName("worksheetBase")),d=a._parse;a._parse=function(b,f,g){d(b,f,g);a.setGroupTitle("Work Sheet");a.getWorkingStateTableEntryTable().setTableTitle("Work Sheet");a.getCorrectStateTableEntryTable().setTableTitle("Work Sheet");c(a.getWorkingStateTableEntryTable());a.isStatic()||c(a.getCorrectStateTableEntryTable())};
a.getTitle=function(){return"Work Sheet"};var c=function(c){var d=[],g=null,h=0,g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("");g.setRowSpan(2);g.setColSpan(1);d[h]=g;h=1;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Account Title");g.setRowSpan(2);g.setColSpan(1);d[h]=g;h=2;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Trial Balance");g.setRowSpan(1);g.setColSpan(2);d[h]=g;h=3;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
h);g.setTitle("Adjustments");g.setRowSpan(1);g.setColSpan(2);d[h]=g;h=4;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Income Statement");g.setRowSpan(1);g.setColSpan(2);d[h]=g;h=5;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Balance Sheet");g.setRowSpan(1);g.setColSpan(2);d[h]=g;h=6;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("");g.setRowSpan(2);g.setColSpan(1);d[h]=g;c.addColumnInfoSet(d);d=
[];h=0;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Debit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h]=g;h=1;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Credit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h]=g;h=2;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Debit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h]=g;h=3;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,
h);g.setTitle("Credit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h]=g;h=4;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Debit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h]=g;h=5;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Credit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h]=g;h=6;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Debit");g.setRowSpan(1);
g.setColSpan(1);g.setSecondHeaderRow(!0);d[h]=g;h=7;g=b.q4domfactory.newInstanceByName("tableEntryColumnInfo").init(a,h);g.setTitle("Credit");g.setRowSpan(1);g.setColSpan(1);g.setSecondHeaderRow(!0);d[h]=g;c.addColumnInfoSet(d)};return a})})(k);(function(b){b.q4domfactory.registerClass("worksheetBase",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="worksheetBase";a.parent=null;a.id=null;var d=!1,c=null,e=null,f=null,g=null,h=b.q4domfactory.newInstanceByName("codex").init(),
j=b.q4domfactory.newInstanceByName("accountingCodexWorksheetNetTitles").init(),l=null,m=null,n=null,p=null,q=null,r=["Totals"];a._parse=function(h,j){a.id=j["@id"];l=b.q4domfactory.newInstanceByName("gradableWorksheet").init();d="static"===j["@use"];c=b.q4domfactory.newInstanceByName("tableEntryTable").init(!0);e=b.q4domfactory.newInstanceByName("tableEntryTable").init(!1);for(var m=b.jsonutil.getChildren(j),k=0,B=m.length;k<B;k++){var y=m[k].value;switch(m[k].name){case "info":n=b.jsonutil.getValue(y,
["companyTitle","$"]);p=b.jsonutil.getValue(y,["periodLabel","$"]);break;case "state":var z=y["@type"];"working"===z&&(f=b.q4domfactory.newInstanceByName("worksheetState"),f.init(h,y,a));"correct"===z&&(g=b.q4domfactory.newInstanceByName("worksheetState"),g.init(h,y,a))}}a.isStatic()&&c.setStatic(!0);a.getWorkingStateTableEntryTable().setCompanyTitle(n);a.getWorkingStateTableEntryTable().setPeriodLabel(p);s(c);o(f,c);a.isStatic()||(s(e),o(g,e));q=b.q4domfactory.newInstanceByName("codex").initWithArray(r)};
a.getCodexTotalsTitle=function(){return q};a.setGroupTitle=function(a){m=a};a.getGroupTitle=function(){return m};a.getCodexBlank=function(){return h};a.getGradableModel=function(){return l};a.getCodexNetTitles=function(){return j};a.isStatic=function(){return d};a.hasPages=function(){return!1};a.getWorkingStateTableEntryTable=function(){return c};a.getCorrectStateTableEntryTable=function(){return e};var s=function(a){var c=b.q4domfactory.newInstanceByName("tableEntryAccountPage").init(101,a);a.setSelectedPageNumber(101);
a.setInitialPageNumber(101);a.addPage(101,c)},o=function(a,b){for(var c=a.getRows(),d=0;d<c.length;d++){var e=c[d].getCells(),e=b.getPageByNumber(101).getRows().addRow(e,b,!1,!1);c[d].setTableEntryRow(e)}};a.updateByQDelta=function(a,b){if("replaceAttributes"===a){var c=b["@rejoinder"],d=b["@credits-earned-incremental"],e=b["@credits-possible-incremental"],g=b["@credits-earned"],f=b["@credits-possible"],h=b["@isAttempted"];void 0!==h&&l.setAttempted(h);void 0!==d&&void 0!==e&&(l.setCreditsEarned(d),
l.setCreditsPossible(e));void 0!==g&&void 0!==f&&(l.setTotalEarned(g),l.setTotalPossible(f));void 0!==c&&(l.setRejoinder(c),l.setCorrectAsSubmitted(!1))}};return a})})(k);(function(b){b.q4domfactory.registerClass("worksheetGrandTotalsRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="worksheetGrandTotalsRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j.parent;for(var h=b.jsonutil.getChildren(h),l=0,m=h.length;l<m;l++){var n=h[l].name,
p=h[l].value;switch(n){case "incomeStatementDebitGrandTotal":d.incomeStatementDebitGrandTotal=b.q4domfactory.newInstanceByName("worksheetLongMoneyBalanceTotal").init(g,p,e,a,n);c[6]=d.incomeStatementDebitGrandTotal.getCell();break;case "incomeStatementCreditGrandTotal":d.incomeStatementCreditGrandTotal=b.q4domfactory.newInstanceByName("worksheetLongMoneyBalanceTotal").init(g,p,e,a,n);c[7]=d.incomeStatementCreditGrandTotal.getCell();break;case "balanceSheetDebitGrandTotal":d.balanceSheetDebitGrandTotal=
b.q4domfactory.newInstanceByName("worksheetLongMoneyBalanceTotal").init(g,p,e,a,n);c[8]=d.balanceSheetDebitGrandTotal.getCell();break;case "balanceSheetCreditGrandTotal":d.balanceSheetCreditGrandTotal=b.q4domfactory.newInstanceByName("worksheetLongMoneyBalanceTotal").init(g,p,e,a,n),c[9]=d.balanceSheetCreditGrandTotal.getCell()}}j=j.getRows().length+1;c[0]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[1]=b.q4domfactory.newInstanceByName("journalField").init(g,
null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[2]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[3]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[5]=b.q4domfactory.newInstanceByName("journalField").init(g,
null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[10]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[10].setShowRowCorrectness(!0)};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("worksheetNetRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="worksheetNetRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,
j){f(g,h,j);e=j.parent;for(var h=b.jsonutil.getChildren(h),l=0,m=h.length;l<m;l++){var n=h[l].name,p=h[l].value;switch(n){case "netTitle":d.netTitle=b.q4domfactory.newInstanceByName("journalTextWithCodex").init(g,p,e,a,n,e.getCodexNetTitles());c[1]=d.netTitle.getCell();break;case "netIncome":d.netIncome=b.q4domfactory.newInstanceByName("worksheetLongMoneyDifference").init(g,p,e,a,n);c[6]=d.netIncome.getCell();break;case "netLoss":d.netLoss=b.q4domfactory.newInstanceByName("worksheetLongMoneyDifference").init(g,
p,e,a,n);c[7]=d.netLoss.getCell();break;case "netLossExtension":d.netLossExtension=b.q4domfactory.newInstanceByName("worksheetLongMoneyDifference").init(g,p,e,a,n);c[8]=d.netLossExtension.getCell();break;case "netIncomeExtension":d.netIncomeExtension=b.q4domfactory.newInstanceByName("worksheetLongMoneyDifference").init(g,p,e,a,n),c[9]=d.netIncomeExtension.getCell()}}j=j.getRows().length+1;c[0]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,j).getCell();c[2]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[3]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[4]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[5]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,null).getCell();c[10]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[10].setShowRowCorrectness(!0)};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("worksheetRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="worksheetRow";var d={},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j.parent;for(var h=b.jsonutil.getChildren(h),
l=0,m=h.length;l<m;l++){var n=h[l].name,p=h[l].value;switch(n){case "accountTitle":d.accountTitle=b.q4domfactory.newInstanceByName("journalText").init(g,p,e,a,n);c[1]=d.accountTitle.getCell();break;case "debitTrialBalance":d.debitTrialBalance=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,p,e,a,n);c[2]=d.debitTrialBalance.getCell();break;case "creditTrialBalance":d.creditTrialBalance=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,p,e,a,n);c[3]=d.creditTrialBalance.getCell();
break;case "adjustmentDebit":d.adjustmentDebit=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,p,e,a,n);c[4]=d.adjustmentDebit.getCell();break;case "adjustmentCredit":d.adjustmentCredit=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,p,e,a,n);c[5]=d.adjustmentCredit.getCell();break;case "incomeStatementDebit":d.incomeStatementDebit=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,p,e,a,n);c[6]=d.incomeStatementDebit.getCell();break;case "incomeStatementCredit":d.incomeStatementCredit=
b.q4domfactory.newInstanceByName("journalLongMoney").init(g,p,e,a,n);c[7]=d.incomeStatementCredit.getCell();break;case "balanceSheetDebit":d.balanceSheetDebit=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,p,e,a,n);c[8]=d.balanceSheetDebit.getCell();break;case "balanceSheetCredit":d.balanceSheetCredit=b.q4domfactory.newInstanceByName("journalLongMoney").init(g,p,e,a,n),c[9]=d.balanceSheetCredit.getCell()}}j=j.getRows().length+1;c[0]=b.q4domfactory.newInstanceByName("journalField").init(g,
null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[10]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[10].setShowRowCorrectness(!0)};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("worksheetState",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="worksheetState";a.id=null;a.parent=null;var d=-1,c=0,e=[];a._parse=function(c,
d,h){a.id=d["@id"];a.parent=h;try{var j=b.jsonutil.getChildren(d)}catch(l){alert("The working state is blank!")}d=0;for(h=j.length;d<h;d++)a.parseChildren(c,j[d].value,a,j[d].name,e)};a.getRows=function(){return e};a.getRowNumber=function(b){b!==d&&(c=a.getRows().length,d=b);return a.getRows().length+1-c};return a})})(k);(function(b){b.q4domfactory.registerClass("worksheetTotalsRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("journalRow"));a.nodeName="worksheetTotalsRow";var d=
{},c=[],e=null,f=a._parse;a._parse=function(g,h,j){f(g,h,j);e=j.parent;for(var h=b.jsonutil.getChildren(h),l=0,m=h.length;l<m;l++){var n=h[l].name,p=h[l].value;switch(n){case "debitTrialBalanceTotal":d.debitTrialBalanceTotal=b.q4domfactory.newInstanceByName("worksheetLongMoneyBalanceTotal").init(g,p,e,a,n);c[2]=d.debitTrialBalanceTotal.getCell();break;case "creditTrialBalanceTotal":d.creditTrialBalanceTotal=b.q4domfactory.newInstanceByName("worksheetLongMoneyBalanceTotal").init(g,p,e,a,n);c[3]=d.creditTrialBalanceTotal.getCell();
break;case "adjustmentDebitTotal":d.adjustmentDebitTotal=b.q4domfactory.newInstanceByName("worksheetLongMoneyBalanceTotal").init(g,p,e,a,n);c[4]=d.adjustmentDebitTotal.getCell();break;case "adjustmentCreditTotal":d.adjustmentCreditTotal=b.q4domfactory.newInstanceByName("worksheetLongMoneyBalanceTotal").init(g,p,e,a,n);c[5]=d.adjustmentCreditTotal.getCell();break;case "incomeStatementDebitSubtotal":d.incomeStatementDebitSubtotal=b.q4domfactory.newInstanceByName("worksheetLongMoneySubtotal").init(g,
p,e,a,n);c[6]=d.incomeStatementDebitSubtotal.getCell();break;case "incomeStatementCreditSubtotal":d.incomeStatementCreditSubtotal=b.q4domfactory.newInstanceByName("worksheetLongMoneySubtotal").init(g,p,e,a,n);c[7]=d.incomeStatementCreditSubtotal.getCell();break;case "balanceSheetDebitSubtotal":d.balanceSheetDebitSubtotal=b.q4domfactory.newInstanceByName("worksheetLongMoneySubtotal").init(g,p,e,a,n);c[8]=d.balanceSheetDebitSubtotal.getCell();break;case "balanceSheetCreditSubtotal":d.balanceSheetCreditSubtotal=
b.q4domfactory.newInstanceByName("worksheetLongMoneySubtotal").init(g,p,e,a,n),c[9]=d.balanceSheetCreditSubtotal.getCell()}}j=j.getRows().length+1;c[0]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,j).getCell();c[1]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,a,!1,null).getCell();c[10]=b.q4domfactory.newInstanceByName("journalField").init(g,null,null,b.TableEntryConstants.COLUMN_TYPE_TEXT,
a,!1,j).getCell();c[10].setShowRowCorrectness(!0)};a.getCells=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("base_model",function(){var a={},d=null,c=null;a.init=function(a,b,c){d=a;this._parse(a,b,c);a.registerNode(this)};a.getBinder=function(){return a};a.parseChildren=function(a,c,d,h,j){if("$"==h)if(b.isArray(c))for(var l in c){var m=c[l],n=b.q4domfactory.newInstanceByName(h);null!=n&&(n.init(a,m,d),j.push(n))}else n=b.q4domfactory.newInstanceByName("static-string"),
n.init(a,c,d),j.push(n);else if(b.isArray(c))for(l in c)m=c[l],n=b.q4domfactory.newInstanceByName(h),null!=n&&(n.init(a,m,d),j.push(n));else n=b.q4domfactory.newInstanceByName(h),null!=n&&(n.init(a,c,d),j.push(n))};a.updateByQDelta=function(){};a.updateByClientDelta=function(){};a.getClientDelta=function(){return[]};a.getValueWithDefault=function(a,b){return null==a||void 0===a?b:a};a.getClientQDelta=function(){if(void 0!==this.getClientState&&void 0!==this.getCanonicalState){var a=this.getClientState(),
c=this.getCanonicalState();if(null===a&&null===c)return null;a=b.JSONToolkit.extractDelta(c,a);return void 0!==a.qDelta.replace?{replace:a.qDelta.replace}:void 0!==a.qDelta.replaceAttributes?{replaceAttributes:a.qDelta.replaceAttributes}:null}return null};a.createClientVariableWithVariableName=function(a,b){void 0!==a&&(c=d.getClientVariableRegistry().createClientVariableWithVariableName(a,b))};a.createClientVariableWithDependency=function(a,b,g){void 0!==a&&void 0!==b&&(c=d.getClientVariableRegistry().createClientVariableWithDependency(a,
b,g))};a.getClientVariable=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("chart",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="chart";a.id=null;a.name="";a.chartType=null;a.field=null;a.nameField=null;a.chartData=null;a.parent=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.name=c["@name"];d=b.jsonutil.getChildren(c);a.chartType=d[0].value.$;a.field=d[1].value.pieSeries["@field"];a.nameField=d[1].value.pieSeries["@nameField"];
d=b.jsonutil.getChildren(d[2].value.dataSet);a.chartData=[];for(c=0;c<d.length;c++)"data"===d[c].name&&(a.chartData[c]={},e=b.jsonutil.getChildren(d[c].value),a.chartData[c].field=e[0].value["@key"]===a.field?e[0].value.$:e[1].value.$,a.chartData[c].nameField=e[1].value["@key"]===a.nameField?e[1].value.$:e[0].value.$)};return a})})(k);(function(b){b.q4domfactory.registerClass("inputVariable",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="inputVariable";
a._parse=function(d,c,e){a.parent=e;for(var d=null,e=[],f=void 0,g=!1,c=b.jsonutil.getChildren(c),h=0,j=c.length;h<j;h++){var l=c[h].value;switch(c[h].name){case "name":d=l.$;break;case "value":for(var l=b.jsonutil.getChildren(l),m=0,n=l.length;m<n;m++){var p=l[m].name,q=l[m].value;if("inputEntryRef"===p)e.push(q.$);else if("inputCalc"===p){var f=q.$,p=e,q=b.JavascriptExpressionToolkit.extractSourceVariablesFromJSFunction(f),r=void 0;for(r in q)p.push(q[r])}else"$"===p&&(f=q,g=!0)}}}g?a.createClientVariableWithVariableName(d,
f):a.createClientVariableWithDependency(d,e,f)};return a})})(k);(function(b){b.q4domfactory.registerClass("inputVariables",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="inputVariables";a.parent=null;a.inputVariables=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "inputVariable":a.parseChildren(d,g,a,"inputVariable",a.inputVariables)}}d.getClientVariableRegistry().attachClientVariableCreateValueChangedHandlers()};
return a})})(k);(function(b){b.q4domfactory.registerClass("calcXml",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="calcXml";a.parent=null;a.id=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("containerHeader",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="containerHeader";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("containerSubheader",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="containerSubheader";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=
c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("containerTitle",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="containerTitle";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("exhibit",function(){var a=
Object.create(b.q4domfactory.newInstanceByName("base_model")),d=["resourceContainer","slideShow"],c=["journal","ledger","worksheetBase"];a.nodeName="exhibit";a.parent=null;a.id=null;a.title=null;a.header=null;a.subheaders=[];a.contents=[];a.styled=!0;a.noMargin=!1;a._parse=function(e,f,g){a.parent=g;a.id=f["@id"];for(var f=b.jsonutil.getChildren(f),g=0,h=f.length;g<h;g++){var j=f[g].name,l=f[g].value;switch(j){case "title":a.title=b.q4domfactory.newInstanceByName("containerTitle");a.title.init(e,
l,a);break;case "header":a.header=b.q4domfactory.newInstanceByName("containerHeader");a.header.init(e,l,a);break;case "subheader":a.parseChildren(e,l,a,"containerSubheader",a.subheaders);break;default:a.parseChildren(e,l,a,j,a.contents)}}1===a.contents.length&&-1!==b.inArray(a.contents[0].nodeName,d)&&(a.styled=!1);1===a.contents.length&&-1!==b.inArray(a.contents[0].nodeName,c)&&(a.noMargin=!0)};a.containsTable=function(){for(var b=!1,c,d=0;d<a.contents.length;d++)if(c=a.contents[d].nodeName,"table"===
c||"marginalTable"===c){b=!0;break}return b};return a})})(k);(function(b){b.q4domfactory.registerClass("fraction",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="fraction";a.parent=null;a.id=null;a._parse=function(b,c,e){a.parent=e;a.id=c["@id"]};return a})})(k);(function(b){b.q4domfactory.registerClass("instructions",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="instructions";a.parent=null;a.id=null;a.contents=
[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("paragraph",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="paragraph";a.parent=null;a.id=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;if(!c)return a;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,
c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("parallelExposition",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="parallelExposition";a.parent=null;a.id=null;a.containers=[];var d=null;a._parse=function(c,e,f){a.parent=f;a.id=e["@id"];f=b.jsonutil.getValue(e,["info","helpUrl","$"]);void 0!==f&&(d=f);e=b.jsonutil.getChildren(e);for(f=0;f<e.length;f++)if("containers"===e[f].name)for(var g=b.jsonutil.getChildren(e[f].value),
h=0,j=g.length;h<j;h++){var l=g[h].name,m=g[h].value;switch(l){case "container":a.parseChildren(c,m,a,"parallelExpositionContainer",a.containers);break;case "info":break;default:throw new ("parallelExposition._parse: children of name "+l+" not yet implemented");}}};a.getHelpUrl=function(){return d};return a})})(k);(function(b){b.q4domfactory.registerClass("parallelExpositionContainer",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="parallelExpositionContainer";
a.parent=null;a.id=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];c=b.jsonutil.getChildren(c);for(e=0;e<c.length;e++){var f=c[e].name,g=c[e].value;switch(f){case "exhibit":for(var f=b.jsonutil.getChildren(g),g=0,h=f.length;g<h;g++)a.parseChildren(d,f[g].value,a,f[g].name,a.contents);break;default:throw new ("parallelExpositionContainer._parse: children of name "+f+" not yet implemented");}}};return a})})(k);(function(b){b.q4domfactory.registerClass("prompt",function(){var a=
Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="prompt";a.parent=null;a.id=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("task",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="task";a.parent=null;a.id=null;a.contents=[];a.weight=-1;a.correctnessNumerator=
-1;a.correctnessDenominator=-1;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.weight=void 0!==c["@weight"]?c["@weight"]:1;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};a.updateByQDelta=function(d,c){"replaceAttributes"==d&&(void 0!==c["@correctness-denominator"]&&(a.correctnessDenominator=c["@correctness-denominator"]),void 0!==c["@correctness-numerator"]&&(a.correctnessNumerator=c["@correctness-numerator"]),b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS))};
a.getScorePercentage=function(){return 0<a.correctnessDenominator?b.BasicMathToolkit.round(a.correctnessNumerator/a.correctnessDenominator,0.01):0};a.getScoreNumerator=function(){return a.correctnessNumerator/a.correctnessDenominator};a.getScoreDenominator=function(){return a.correctnessDenominator/a.correctnessDenominator};a.containsTable=function(){for(var b=!1,c,e=0;e<a.contents.length;e++)if(c=a.contents[e].nodeName,"table"===c||"marginalTable"===c){b=!0;break}return b};return a})})(k);(function(b){b.q4domfactory.registerClass("calc",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="calc";a.parent=null;a.id=null;a.expression=null;a.type=null;a.contents=[];a._parseChild=function(a,c,e){if("string"===typeof a||"number"===typeof a||"boolean"===typeof a||void 0!=a.$){var f=b.q4domfactory.newInstanceByName("static-string");f.init(c,a,e);e.contents.push(f)}else for(var a=b.jsonutil.getChildren(a),g=0,h=a.length;g<h;g++){var j=a[g].value,f=b.q4domfactory.newInstanceByName(a[g].name);null!=f&&
(f.init(c,j,e),e.contents.push(f))}};a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.expression=c["@expression"];a.type=c["@type"];e=c.$;if(b.isArray(e))for(var f in e)a._parseChild(e[f],d,a);else e?a._parseChild(e,d,a):a._parseChild(c,d,a)};return a})})(k);(function(b){b.q4domfactory.registerClass("contentGroup",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="contentGroup";a.parent=null;a.role=[];a.type=null;a.header=null;a.subheaders=[];a.contents=
[];a._parse=function(d,c,e){a.parent=e;var f,g,h,e=b.jsonutil.getValue(c,["info"]),j=b.jsonutil.getChildren(e),e=0;for(f=j.length;e<f;e++)switch(g=j[e].name,h=j[e].value,g){case "role":a.role.push(h.$);break;case "type":a.type=h.$}c=b.jsonutil.getValue(c,["content"]);c=b.jsonutil.getChildren(c);e=0;for(f=c.length;e<f;e++)switch(g=c[e].name,h=c[e].value,g){case "header":a.header=b.q4domfactory.newInstanceByName("contentGroupHeader");a.header.init(d,h,a);break;case "subheader":a.parseChildren(d,h,a,
"contentGroupSubheader",a.subheaders);break;default:a.parseChildren(d,h,a,g,a.contents)}};return a})})(k);(function(b){b.q4domfactory.registerClass("contentGroupHeader",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="contentGroupHeader";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("contentGroupSubheader",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="contentGroupSubheader";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("downloadLink",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="downloadLink";a.parent=null;a.id=null;a.href=null;
a.role=null;a.contents=[];a.style=null;a.type=null;a.contentRoles=[];a.cueContent=null;a.newSchemaIndicator=!1;a._parseChild=function(a,c,e){if("string"===typeof a||"number"===typeof a||void 0!=a.$){var f=b.q4domfactory.newInstanceByName("static-string");f.init(c,a,e);e.contents.push(f)}else for(var a=b.jsonutil.getChildren(a),g=0,h=a.length;g<h;g++){var f=a[g].name,j=a[g].value;"$"===f?(f=b.q4domfactory.newInstanceByName("hyperlink"),j={$:j}):f=b.q4domfactory.newInstanceByName(f);null!=f&&(f.init(c,
j,e),e.contents.push(f))}};a._parse=function(d,c,e){a.newSchemaIndicator=!0;a.parent=e;if(c)if(a.id=c["@id"],a.role=c["@role"],a.href=c["@href"],a.href)if(e=c.$,b.isArray(e))for(var f in e)c=e[f],a._parseChild(c,d,a);else e?a._parseChild(e,d,a):a._parseChild(c,d,a);else{a.parent=e;d=b.jsonutil.getChildren(c);f=0;for(e=d.length;f<e;f++){var g=d[f].name,c=d[f].value;switch(g){case "cue":a.cueContent=c.$;break;case "url":a.href=c.$;break;case "info":for(object in g=null,null!==c&&(g=c._),g)g[object].type&&
(a.type=g[object].type.$),g[object].role&&a.contentRoles.push(g[object].role.$)}}}else c=b.q4domfactory.newInstanceByName("static-string"),c.init(d," ",a),a.contents.push(c)};return a})})(k);(function(b){b.q4domfactory.registerClass("ebookLink",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="ebookLink";a.parent=null;a.id=null;a.role=null;a.contents=[];a.style=null;a.type=null;a.contentRoles=[];a.cueContent=null;a.href=null;a._parse=function(d,c,e){a.parent=
e;a.parent=e;a.id=c["@id"];d=b.jsonutil.getChildren(c);c=0;for(e=d.length;c<e;c++){var f=d[c].value;switch(d[c].name){case "cue":a.cueContent=f.$;break;case "uri":a.href=f.$;break;case "info":var g=null;null!==f&&(g=f._);for(object in g)g[object].type&&(a.type=g[object].type.$),g[object].role&&a.contentRoles.push(g[object].role.$)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("errorText",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="errorText";
a.parent=null;a.id=null;a.expression=null;a.string=null;a._parse=function(b,c,e){a.parent=e;a.id=c["@id"];a.expression=c["@expression"];a.string=c.$};return a})})(k);(function(b){b.q4domfactory.registerClass("hyperlink",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="hyperlink";a.parent=null;a.id=null;a.href=null;a.role=null;a.contents=[];a.style=null;a.type=null;a.contentRoles=[];a.cueContent=null;a.newSchemaIndicator=!1;a._parseChild=function(a,c,e){if("string"===
typeof a||"number"===typeof a||void 0!=a.$){var f=b.q4domfactory.newInstanceByName("static-string");f.init(c,a,e);e.contents.push(f)}else for(var a=b.jsonutil.getChildren(a),g=0,h=a.length;g<h;g++){var f=a[g].name,j=a[g].value;"$"===f?(f=b.q4domfactory.newInstanceByName("hyperlink"),j={$:j}):f=b.q4domfactory.newInstanceByName(f);null!=f&&(f.init(c,j,e),e.contents.push(f))}};a._parse=function(d,c,e){a.parent=e;if(c)if(a.id=c["@id"],a.role=c["@role"],a.href=c["@href"],a.href)if(e=c.$,b.isArray(e))for(var f in e)c=
e[f],a._parseChild(c,d,a);else e?a._parseChild(e,d,a):a._parseChild(c,d,a);else{a.parent=e;a.newSchemaIndicator=!0;d=b.jsonutil.getChildren(c);f=0;for(e=d.length;f<e;f++){var g=d[f].name,c=d[f].value;switch(g){case "cue":a.cueContent=c.$;break;case "url":a.href=c.$;break;case "info":for(object in g=null,null!==c&&(g=c._),g)g[object].type&&(a.type=g[object].type.$),g[object].role&&a.contentRoles.push(g[object].role.$)}}}else c=b.q4domfactory.newInstanceByName("static-string"),c.init(d," ",a),a.contents.push(c)};
return a})})(k);(function(b){b.q4domfactory.registerClass("image",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="image";a.id=null;a.ascent=0;a.descent=0;a.height=0;a.width=0;a.url=null;a.description=null;a.parent=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.ascent=b.jsonutil.getValue(c,["ascent","$"]);a.descent=b.jsonutil.getValue(c,["descent","$"]);a.width=b.jsonutil.getValue(c,["size","width","$"]);a.height=b.jsonutil.getValue(c,["size","height",
"$"]);a.url=b.jsonutil.getValue(c,["url","$"]);void 0===a.url&&(a.url=b.jsonutil.getValue(c,["url","variable-string","$"]));void 0===a.url&&(a.url=b.jsonutil.getValue(c,["url","calc","$"]));a.description=b.jsonutil.getValue(c,["description","$"])};return a})})(k);(function(b){b.q4domfactory.registerClass("moreInfo",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="moreInfo";a.keyTerm=null;a.role=[];a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=
e;for(var e=c._[0].info,c=b.jsonutil.getChildren(c),f=0,g=c.length;f<g;f++){var h=c[f].value;switch(c[f].name){case "content":for(var h=b.jsonutil.getChildren(h),j=0;j<h.length;j++)a.parseChildren(d,h[j].value,a,h[j].name,a.contents);break;case "info":for(var l in e._)e._[l].cue&&(a.keyTerm=e._[l].cue.$),e._[l].role&&a.role.push(e._[l].role.$)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("previewHeader",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="previewHeader";a.parent=null;a.id=null;a.contents=[];a._parseChild=function(a,c,e){if(a)if("string"===typeof a||"number"===typeof a||"boolean"===typeof a||void 0!=a.$){var f=b.q4domfactory.newInstanceByName("static-string");f.init(c,a,e);e.contents.push(f)}else for(var a=b.jsonutil.getChildren(a),g=0,h=a.length;g<h;g++){var j=a[g].value,f=b.q4domfactory.newInstanceByName(a[g].name);null!=f&&(f.init(c,j,e),e.contents.push(f))}};a._parse=function(d,c,e){a.parent=e;e=c?c.$:null;if(b.isArray(e))for(var f in e)a._parseChild(e[f],
d,a);else e?a._parseChild(e,d,a):a._parseChild(c,d,a)};return a})})(k);(function(b){b.q4domfactory.registerClass("static-string",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="static-string";a.string=null;a.parent=null;a._parse=function(b,c,e){a.parent=e;a.string=void 0!==c.$?c.$:c;a.string=(""+a.string).replace(/^ /,"&nbsp;")};return a})})(k);(function(b){b.q4domfactory.registerClass("subvalue",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="subvalue";a.content=[];a.string=null;a.parent=null;a.index=null;a._parse=function(d,c,e){a.parent=e;if(void 0!==c.$)a.string=(""+c.$).replace(/^ /,"&nbsp;");else if("string"===typeof c)a.string=(""+c).replace(/^ /,"&nbsp;");else for(var c=b.jsonutil.getChildren(c),f=0,g=c.length;f<g;f++)a.parseChildren(d,c[f].value,e,c[f].name,a.content)};return a})})(k);(function(b){b.q4domfactory.registerClass("text",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName=
"text";a.parent=null;a.id=null;a.role=null;a.contents=[];a.style=null;a._parseChild=function(a,c,e){if("string"===typeof a||"number"===typeof a||void 0!=a.$){var f=b.q4domfactory.newInstanceByName("static-string");f.init(c,a,e);e.contents.push(f)}else for(var a=b.jsonutil.getChildren(a),g=0,h=a.length;g<h;g++){var f=a[g].name,j=a[g].value;"$"===f?(f=b.q4domfactory.newInstanceByName("text"),j={$:j}):f=b.q4domfactory.newInstanceByName(f);null!=f&&(f.init(c,j,e),e.contents.push(f))}};a._parse=function(d,
c,e){a.parent=e;if(c)if(a.id=c["@id"],a.role=c["@role"],e=c.$,b.isArray(e))for(var f in e)a._parseChild(e[f],d,a);else e?a._parseChild(e,d,a):a._parseChild(c,d,a);else c=b.q4domfactory.newInstanceByName("static-string"),c.init(d," ",a),a.contents.push(c)};return a})})(k);(function(b){b.q4domfactory.registerClass("variable-content",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="variable-content";a.parent=null;a.id=null;a.expression=null;a.contents=[];a._parse=
function(d,c,e){a.parent=e;a.id=c["@id"];a.expression=c["@expression"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("variable-string",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="variable-string";a.parent=null;a.id=null;a.expression=null;a.string=null;a._parse=function(b,c,e){a.parent=e;a.id=c["@id"];a.expression=c["@expression"];
a.string=c.$};return a})})(k);(function(b){b.q4domfactory.registerClass("dataTable",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="dataTable";a.parent=null;a.id=null;a.columns=null;a.rows=[];a.renderingStyle=null;a.rowHeaders=[];a.currentRowHeaderPosition=0;a.maxRowHeaders=0;a.middleRowHeaderCount=0;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.renderingStyle=void 0!==c["@renderingStyle"]?c["@renderingStyle"]:null;for(var c=b.jsonutil.getChildren(c),
e=0,f=c.length;e<f;e++){var g=c[e].name,h=c[e].value;switch(g){case "columns":a.columns=b.q4domfactory.newInstanceByName(g);a.columns.init(d,h,a);break;case "row":a.currentRowHeaderPosition=0,a.parseChildren(d,h,a,g,a.rows)}}for(d=0;d<a.rows.length;d++){c=a.rows[d];e=0==d;f=d==a.rows.length-1;c.isFirstRow=e;c.isLastRow=f;for(g=0;g<c.cells.length;g++){var h=0==g,j=g==c.cells.length-1;c.cells[g].isFirstRow=e;c.cells[g].isLastRow=f;c.cells[g].isFirstColumn=h;c.cells[g].isLastColumn=j;e&&!h&&c.cells[g].isRowHeader&&
a.maxRowHeaders--}}a.columns&&1<a.maxRowHeaders&&(a.columns.columns[0].headers[0].colspan+=a.maxRowHeaders-1)};a.getRowHeader=function(b){return 0<a.rowHeaders.length?a.rowHeaders[b]:null};a.setRowHeader=function(b){a.rowHeaders[a.currentRowHeaderPosition]=b;a.currentRowHeaderPosition++;a.maxRowHeaders=Math.max(a.currentRowHeaderPosition,a.maxRowHeaders)};a.passRowHeader=function(){a.rowHeaders[a.currentRowHeaderPosition].rowspan++;a.currentRowHeaderPosition++};return a})})(k);(function(b){b.q4domfactory.registerClass("cell",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="cell";a.parent=null;a.id=null;a.contents=[];a.column=null;a.isFirstRow=!1;a.isLastRow=!1;a.isFirstColumn=!1;a.isLastColumn=!1;a.isRowHeader=!1;a.idmColorMarker=null;a._parse=function(d,c,e){a.parent=e;if(null!=c){a.id=c["@id"];a.idmColorMarker=void 0!==c["@idmColorMarker"]?c["@idmColorMarker"]:null;for(var c=b.jsonutil.getChildren(c),f=0,g=c.length;f<g;f++){var h=c[f].name,j=c[f].value;switch(h){case "header":h=
b.q4domfactory.newInstanceByName("header");h._parse(d,j,a);null==e.parent.getRowHeader(e.parent.currentRowHeaderPosition)||!(h.getHeaderName()==e.parent.getRowHeader(e.parent.currentRowHeaderPosition).getHeaderName()&&h.span)?(a.contents.push(h),e.parent.setRowHeader(h),a.isRowHeader=!0):e.parent.passRowHeader();break;case "unitsHeader":h=a.contents[a.contents.length-1];j=b.jsonutil.parseCalcValueForChild(j).value;h.headerUnits=j;break;default:a.parseChildren(d,j,a,h,a.contents)}}}};return a})})(k);
(function(b){b.q4domfactory.registerClass("column",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="column";a.parent=null;a.id=null;a.headers=[];a.columnFormats=[];a.renderingStyle=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.renderingStyle=void 0!==c["@columnFormat"]?c["@columnFormat"]:null;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].name,h=c[e].value;switch(g){case "header":a.parseChildren(d,h,a,g,a.headers);break;
case "columnFormat":a.parseChildren(d,h,a,"dataTableColumnFormat",a.columnFormats);break;case "unitsHeader":g=a.headers[a.headers.length-1],h=b.jsonutil.parseCalcValueForChild(h).value,g.headerUnits=h}}};a.getOptions=function(){var d={};b.each(a.columnFormats,function(a,b){var f=b.getOptions();for(key in f)d[key]=f[key]});return d};a.getStyles=function(){var d=[];b.each(a.columnFormats,function(a,b){var f=b.getStyles();d=d.concat(f)});return d};return a})})(k);(function(b){b.q4domfactory.registerClass("dataTableColumnFormat",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="dataTableColumnFormat";a.parent=null;a.id=null;a.format=null;a.options={};a._parse=function(d,c,e){a.format=c["@format"];a.parent=e;d=b.jsonutil.getChildren(c);c=0;for(e=d.length;c<e;c++)a.options[d[c].name]=d[c].value.$};a.getOptions=function(){var b={};b[a.format]=a.options;return b};a.getStyles=function(){var d=[];switch(a.format){case "marginal":d.push(b.StyleRepository.TYPE_MARGINAL);break;case "rowHeader":d.push(b.StyleRepository.TYPE_ALIGN_LEFT);
d.push(b.StyleRepository.TYPE_BOLD);break;case "number":d.push(b.StyleRepository.TYPE_ALIGN_RIGHT);break;case "longText":d.push(b.StyleRepository.TYPE_ALIGN_LEFT);break;case "shortText":d.push(b.StyleRepository.TYPE_ALIGN_CENTER);break;case "orderedText":d.push(b.StyleRepository.TYPE_ALIGN_LEFT);break;case "graphic":d.push(b.StyleRepository.TYPE_ALIGN_CENTER);break;case "leftSideMathEquation":d.push(b.StyleRepository.TYPE_ALIGN_RIGHT);break;case "rightSideMathEquation":d.push(b.StyleRepository.TYPE_ALIGN_LEFT);
break;case "mathOperator":d.push(b.StyleRepository.TYPE_ALIGN_CENTER)}return d};return a})})(k);(function(b){b.q4domfactory.registerClass("header",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="header";a.parent=null;a.id=null;a.contents=[];a.colspan=1;a.rowspan=1;a.span=!1;a.processed=!1;a.isFirstRow=!1;a.isLastRow=!1;a.isFirstColumn=!1;a.isLastColumn=!1;a.headerUnits=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.span=c["@span"];for(var c=b.jsonutil.getChildren(c),
e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};a.getHeaderName=function(){for(var b="",c=0;c<a.contents.length;c++)"undefined"!==typeof a.contents[c].string?b+=a.contents[c].string:"undefined"!==typeof a.contents[c].expression&&(b+=a.contents[c].expression);return b};return a})})(k);(function(b){b.q4domfactory.registerClass("columns",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="columns";a.parent=null;a.id=null;a.type="dataTable";
a.columns=[];a.rows=[];a.headerRowCount=0;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].name,h=c[e].value;switch(g){case "column":a.parseChildren(d,h,a,g,a.columns)}}for(d=0;d<a.columns.length;d++)a.headerRowCount=Math.max(a.headerRowCount,a.columns[d].headers.length);d=a.columns;for(c=0;c<d.length;c++)if(e=d[c],0==e.headers.length)f=b.q4domfactory.newInstanceByName("header"),f.parent=e,f.rowspan=a.headerRowCount,e.headers.push(f);
else{for(f=0;f<e.headers.length;f++)if(g=e.headers[f],!g.processed)for(h=c+1;h<d.length;h++){var j=d[h].headers[f];if(void 0===j)break;for(var l="",m=0;m<g.contents.length;m++)"undefined"!==typeof g.contents[m].string?l+=g.contents[m].string:"undefined"!==typeof g.contents[m].expression&&(l+=g.contents[m].expression);for(var m="",n=0;n<j.contents.length;n++)"undefined"!==typeof j.contents[n].string?m+=j.contents[n].string:"undefined"!==typeof j.contents[n].expression&&(m+=j.contents[n].expression);
if(l==m&&g.span)g.colspan++,j.processed=!0;else break}e.headers.length<a.headerRowCount&&(e.headers[e.headers.length-1].rowspan=a.headerRowCount-e.headers.length+1)}for(d=0;d<a.headerRowCount;d++){c=b.q4domfactory.newInstanceByName("dataTableHeaderRow");for(e=0;e<a.columns.length;e++)f=a.columns[e].headers[d],void 0!==f&&!f.processed&&c.addHeader(f);a.rows.push(c)}for(d=0;d<a.rows.length;d++){c=a.rows[d].headers;e=0==d;f=d==a.rows.length-1;for(g=0;g<c.length;g++)h=0==g,j=g==c.length-1,c[g].isFirstRow=
e,c[g].isLastRow=f,c[g].isFirstColumn=h,c[g].isLastColumn=j}};return a})})(k);(function(b){b.q4domfactory.registerClass("dataTableHeaderRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="dataTableHeaderRow";a.parent=null;a.id=null;a.headers=[];a._parse=function(){};a.addHeader=function(b){a.headers.push(b)};return a})})(k);(function(b){b.q4domfactory.registerClass("row",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName=
"row";a.parent=null;a.id=null;a.cells=[];a.isFirstRow=!1;a.isLastRow=!1;a.rowRole=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.rowRole=c["@rowRole"];for(var c=b.jsonutil.getChildren(c),f=0,g=c.length;f<g;f++){var h=c[f].name,j=c[f].value;switch(h){case "cell":null!=j&&j.length&&0<j.length?a.parseChildren(d,{_:j},a,h,a.cells):a.parseChildren(d,j,a,h,a.cells)}}for(d=0;d<a.cells.length;d++)a.cells[d].column=e.columns.columns[d]};return a})})(k);(function(b){var a=[];b.q4domfactory.registerClass("dialogue",
function(){var d=Object.create(b.q4domfactory.newInstanceByName("base_model"));d.nodeName="dialogue";d.parent=null;d.id=null;d.statements=[];d._parse=function(a,e,f){d.parent=f;d.id=e["@id"];b.jsonutil.iterateChildren(e,function(b,e){switch(b){case "statement":d.parseChildren(a,e,d,"dialogueStatement",d.statements)}})};d.getColor=function(c){if(void 0===a[c]){var d=b.getObjectSize(a);a[c]={name:c,index:d}}return a[c].index};return d})})(k);(function(b){b.q4domfactory.registerClass("dialoguePerson",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="dialoguePerson";a.parent=null;a.id=null;a.name=null;a.image=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];b.jsonutil.iterateChildren(c,function(c,d){switch(c){case "name":a.name=b.jsonutil.parseCalcValueForChild(d).value;break;case "image":var e=b.jsonutil.getValue(d,["url"]);a.image=b.jsonutil.parseCalcValueForChild(e).value}})};return a})})(k);(function(b){b.q4domfactory.registerClass("dialogueStatement",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="dialogueStatement";a.parent=null;a.id=null;a.persons=[];a.contents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];b.jsonutil.iterateChildren(c,function(b,c){switch(b){case "person":a.parseChildren(d,c,a,"dialoguePerson",a.persons);break;default:a.parseChildren(d,c,a,b,a.contents)}})};return a})})(k);(function(b){b.q4domfactory.registerClass("newspaper",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="newspaper";a.parent=null;a.id=null;a.title=null;a.date=null;a.story=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];var f=b.jsonutil.getValue(c,["title"]),e=b.jsonutil.getValue(c,["date"]),f=b.jsonutil.parseCalcValueForChild(f).value,e=b.jsonutil.parseCalcValueForChild(e).value;a.title=void 0===f?null:f;a.date=void 0===e?null:e;b.jsonutil.iterateChildren(c,function(c,e){switch(c){case "story":a.story=b.q4domfactory.newInstanceByName("newspaperStory"),a.story.init(d,e,a)}})};return a})})(k);
(function(b){b.q4domfactory.registerClass("newspaperStory",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="newspaperStory";a.parent=null;a.id=null;a.headline=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];e=b.jsonutil.getValue(c,["headline"]);e=b.jsonutil.parseCalcValueForChild(e).value;a.headline=void 0===e?null:e;b.jsonutil.iterateChildren(c,function(c,e){switch(c){case "body":b.jsonutil.iterateChildren(e,function(b,c){a.parseChildren(d,
c,a,b,a.contents)})}})};return a})})(k);(function(b){b.q4domfactory.registerClass("notecard",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="notecard";a.parent=null;a.id=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];b.jsonutil.iterateChildren(c,function(b,c){a.parseChildren(d,c,a,b,a.contents)})};return a})})(k);(function(b){b.q4domfactory.registerClass("time",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="time";a.parent=null;a.id=null;a.given=!1;a.dates=[];a.itemContents=[];a.EVENT_ARROW_NONE=0;a.EVENT_ARROW_SOLID=1;a.EVENT_ARROW_OPEN=2;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.given=c["@isGiven"];b.jsonutil.iterateChildren(c,function(b,c){switch(b){case "date":null!==c&&a.parseChildren(d,c,a,"timelineDate",a.dates);break;default:a.parseChildren(d,c,a,b,a.itemContents)}})};a.getEventArrowType=function(){return 0===a.itemContents.length?a.EVENT_ARROW_NONE:a.given?a.EVENT_ARROW_OPEN:
a.EVENT_ARROW_SOLID};return a})})(k);(function(b){b.q4domfactory.registerClass("timeline",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="timeline";a.parent=null;a.id=null;a.times=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];b.jsonutil.iterateChildren(c,function(b,c){a.parseChildren(d,c,a,b,a.times)})};return a})})(k);(function(b){b.q4domfactory.registerClass("timelineDate",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="timelineDate";a.parent=null;a.id=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];b.jsonutil.iterateChildren(c,function(b,c){a.parseChildren(d,c,a,b,a.contents)})};return a})})(k);(function(b){b.q4domfactory.registerClass("infoGraphicSpriteInfo",function(){var a={},b=-1,c=null,e=null,f=null;a.init=function(g,h,j,l){b=g;c=parseInt(h.substring(1),16);e=j;f=l;return a};a.getIndex=function(){return b};a.getRgb24BitInt=function(){return c};a.getName=function(){return e};
a.getDescription=function(){return f};return a})})(k);(function(b){b.q4domfactory.registerClass("infoGraphicSpriteInfoLookup",function(){var a={},b={};a.init=function(){return a};a.addSpriteInfo=function(a){b[a.getRgb24BitInt()]=a};a.getSpriteInfoByRgb24BitInt=function(a){a=b[a];return void 0===a?null:a};return a})})(k);(function(b){b.q4domfactory.registerClass("infoGraphicV1",function(){var a={nodeName:"infoGraphicV1"},d=null,c=null,e=null,f=null;a.init=function(g){d=b.jsonutil.getValue(g,["hitMask",
"$"]);c=b.jsonutil.getValue(g,["baseImageUrl","$"]);e=b.jsonutil.getValue(g,["spritesUrl","$"]);f=b.q4domfactory.newInstanceByName("infoGraphicSpriteInfoLookup").init();g=b.jsonutil.getValue(g,["spritesInfo"]);b.jsonutil.iterateChildren(g,function(a,c){switch(a){case "sprite":var d=c["@name"],e=c["@description"],g=c["@hitColor"],p=c["@index"],d=b.q4domfactory.newInstanceByName("infoGraphicSpriteInfo").init(p,g,d,e);f.addSpriteInfo(d)}});return a};a.getHitMask=function(){return d};a.getBaseImageUrl=
function(){return c};a.getSpritesUrl=function(){return e};a.getSpriteInfoLookup=function(){return f};return a})})(k);(function(b){b.q4domfactory.registerClass("labeler",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="labeler";a.parent=null;a.id=null;a._parse=function(b,c,e){a.parent=e;a.id=c["@id"]};return a})})(k);(function(b){b.q4domfactory.registerClass("spriteMapper",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName=
"spriteMapper";a.parent=null;a.id=null;a.hitMask=null;a.imageUrl=null;a.spriteUrl=null;a.isV0=!1;var d=[],c=null;a._parse=function(e,f,g){a.parent=g;a.id=f["@id"];if(1===f["@version"]&&"infoGraphic"===f["@type"])c=b.q4domfactory.newInstanceByName("infoGraphicV1").init(f);else if(g=f["@allowSelection"],void 0!==g&&(a.allowSelection=g),a.isV0=0===f["@version"],a.isV0)a.hitMask=b.jsonutil.getValue(f,["hitMask","$"]),a.imageUrl=b.jsonutil.getValue(f,["imageUrl","$"]),a.spriteUrl=b.jsonutil.getValue(f,
["spriteUrl","$"]);else for(var f=b.jsonutil.getChildren(f),g=0,h=f.length;g<h;g++){var j=f[g].value;switch(f[g].name){case "sprites":for(var j=b.jsonutil.getChildren(j),l=0,m=j.length;l<m;l++)a.parseChildren(e,j[l].value,a,"spriteMapperSprite",d)}}};a.hasCustomModel=function(){return null!==c};a.getCustomModel=function(){return c};a.getHitMask=function(){return d[0].hitMask};a.getImageUrl=function(){return d[0].imageUrl};a.getSpriteUrl=function(){return d[0].spriteUrl};a.hasSpriteUrlGroup=function(){return d[0].hasSpriteUrlGroup()};
a.getSpriteUrlGroup=function(){return d[0].getSpriteUrlGroup()};a.getPalette=function(){return d[0].getPalette()};a.getRegions=function(){return d[0].regions[0]};a.getCategorySelection=function(){return d[0].getCategorySelection()};a.isCategorySelectionSelected=function(a,b){return d[0].getCategorySelection()[a][b].selected};a.setCategorySelectionSelected=function(a,b){d[0].setCategorySelectionSelected(a,b)};return a})})(k);(function(b){b.q4domfactory.registerClass("spriteMapperPalette",function(){var a=
Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="spriteMapperPalette";a.parent=null;a.id=null;var d=-1,c=[];a._parse=function(d,f,g){a.parent=g;a.id=f["@id"];a.allowSelection=f["@allowSelection"];for(var f=b.jsonutil.getChildren(f),g=0,h=f.length;g<h;g++){var j=f[g].value;switch(f[g].name){case "item":a.parseChildren(d,j,a,"spriteMapperPaletteItem",c)}}};a.getItems=function(){return c};a.setSelectedIndex=function(c){d=c;b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED)};
a.getSelectedIndex=function(){return d};return a})})(k);(function(b){b.q4domfactory.registerClass("spriteMapperPaletteItem",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="spriteMapperPaletteItem";a.parent=null;a.id=null;a.label=null;a.index=-1;a.color=null;a._parse=function(b,c,e){a.parent=e;a.label=c["@label"];a.index=c["@index"];a.color=c["@color"]};return a})})(k);(function(b){b.q4domfactory.registerClass("spriteMapperRegion",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="spriteMapperRegion";a.parent=null;a.id=null;a.index=-1;a.name=null;a.display=null;a.selected=!1;a._parse=function(b,c,e){a.parent=e;a.id=c["@id"];a.index=c["@index"];a.name=c["@name"];a.display=c["@display"];e.addRegion(a)};return a})})(k);(function(b){b.q4domfactory.registerClass("spriteMapperRegions",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="spriteMapperRegions";a.parent=null;a.id=null;var d=[];a._parse=function(c,d,f){a.parent=f;a.id=
d["@id"];b.jsonutil.executeForChild(d,"region",function(b){a.parseChildren(c,b,a,"spriteMapperRegion",[])})};a.addRegion=function(a){d[a.index]=a};a.getAllRegions=function(){return d};return a})})(k);(function(b){b.q4domfactory.registerClass("spriteMapperSprite",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="spriteMapperSprite";a.parent=null;a.id=null;a.hitMask=null;a.imageUrl=null;a.spriteUrl=null;a.spriteUrlGroup=[];a.palettes=[];a.regions=[];var d=[];
a._parse=function(c,f,g){a.parent=g;a.hitMask=b.jsonutil.getValue(f,["hitMask","$"]);a.imageUrl=b.jsonutil.getValue(f,["imageUrl","$"]);g=b.jsonutil.getValue(f,["spriteUrlGroup"]);void 0!==g?a.parseChildren(c,g,a,"spriteMapperSpriteUrlGroup",a.spriteUrlGroup):a.spriteUrl=b.jsonutil.getValue(f,["spriteUrl","$"]);g=b.jsonutil.getValue(f,["categories","palette"]);void 0!==g&&a.parseChildren(c,g,a,"spriteMapperPalette",a.palettes);f=b.jsonutil.getValue(f,["categories","regions"]);void 0!==f&&a.parseChildren(c,
f,a,"spriteMapperRegions",a.regions);c=a.getPalette().getItems();for(f=0;f<c.length;f++){g=[];d[f]=g;for(var h=a.regions[0].getAllRegions(),j=0;j<h.length;j++){var l=h[j];void 0!==l&&(g[l.index]={index:l.index,name:l.name,display:l.display,selected:l.selected})}}};a.isCategorySelectionSelected=function(a,b){return d[a][b].selected};a.setCategorySelectionSelected=function(e,f){a.isCategorySelectionSelected(e,f)?c(f):(c(f),d[e][f].selected=!0,b(a.getCategorySelection()).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,
[e,f]))};var c=function(c){for(var f=0;f<d.length;f++)d[f][c].selected=!1,b(a.getCategorySelection()).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,[f,c])};a.getCategorySelection=function(){return d};a.getPalette=function(){return 0===a.palettes.length?null:a.palettes[0]};a.hasSpriteUrlGroup=function(){return 0<a.spriteUrlGroup.length};a.getSpriteUrlGroup=function(){return a.spriteUrlGroup[0]};return a})})(k);(function(b){b.q4domfactory.registerClass("spriteMapperSpriteUrlGroup",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="spriteMapperSpriteUrlGroup";a.parent=null;a.id=null;var d=[];a._parse=function(c,e,f){a.parent=f;b.jsonutil.executeForChild(e,"category",function(a){b.jsonutil.executeForChild(a,"spriteUrl",function(a){var c=b.jsonutil.getValue(a,["$"]),e=a["@offsetX"],g=a["@offsetY"],f=a["@spriteWidth"],p=a["@spriteHeight"],q=b.q4domfactory.newInstanceByName("spriteMapperSpriteUrl").init(c,e,g,f,p);b.jsonutil.executeForChild(a,
"svg",function(a){q.addSpriteSVG(a.$)});d.push(q)})})};a.getSpriteUrl=function(a){return d[a].getSpriteUrl()};a.getSpriteSVGs=function(a){return d[a].getSpriteSVGs()};a.hasOffset=function(a){return d[a].hasOffset()};a.getOffsetX=function(a){return d[a].getOffsetX()};a.getOffsetY=function(a){return d[a].getOffsetY()};a.getSpriteWidth=function(a){return d[a].getSpriteWidth()};a.getSpriteHeight=function(a){return d[a].getSpriteHeight()};a.getSpriteCount=function(){return d.length};return a})})(k);(function(b){b.q4domfactory.registerClass("spriteMapperSpriteUrl",
function(){var a={},b=null,c=[],e=void 0,f=void 0,g=void 0,h=void 0;a.init=function(c,l,m,n,p){b=c;e=l;f=m;g=n;h=p;return a};a.getSpriteUrl=function(){return b};a.hasOffset=function(){return void 0!==e};a.getOffsetX=function(){return e};a.getOffsetY=function(){return f};a.getSpriteWidth=function(){return g};a.getSpriteHeight=function(){return h};a.addSpriteSVG=function(a){c.push(a)};a.getSpriteSVGs=function(){return c};return a})})(k);(function(b){b.q4domfactory.registerClass("list",function(){var a=
Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="list";a.parent=null;a.id=null;a.header=null;a.items=[];a.subheaders=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "header":a.header=b.q4domfactory.newInstanceByName("listHeader");a.header.init(d,g,a);break;case "subheader":a.parseChildren(d,g,a,"listSubheader",a.subheaders);break;case "item":a.parseChildren(d,g,a,"listItem",
a.items)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("listHeader",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="listHeader";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("listItem",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="listItem";a.parent=null;a.label=null;a.contents=[];a.sublist=null;a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].name,h=c[e].value;switch(g){case "label":a.label=b.q4domfactory.newInstanceByName("listLabel");a.label.init(d,h,a);break;case "list":a.sublist=b.q4domfactory.newInstanceByName("list");a.sublist.init(d,h,a);break;default:a.parseChildren(d,h,a,g,a.contents)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("listLabel",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="listLabel";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("listSubheader",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="listSubheader";a.parent=null;a.contents=[];a._parse=function(d,
c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("proofs",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="proofs";a.parent=null;a.id=null;a._parse=function(b,c,e){a.parent=e};a.updateByQDelta=function(){};a.updateModel=function(){};a.getCanonicalState=function(){return _canonicalState};a.getClientState=function(){return _clientState};
a.setClientState=function(){};a.getCorrectState=function(){return _correctState};return a})})(k);(function(b){b.q4domfactory.registerClass("venn2",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="venn2";a.parent=null;a.id=null;a.use=null;a.standpoint=null;a.labelsArray=[];a.highlightArray=[];a.area=[1,1,1];var d=null,c=null,e=null,f=null,g="";a._parse=function(h,j,l){a.parent=l;a.id=j["@id"];a.use=j["@use"];a.standpoint=b.jsonutil.getChildren(j)[0].value.$;
a.labelsArray=void 0!==b.jsonutil.getChildren(j)[1].value.$?b.jsonutil.getChildren(j)[1].value.$.split("|"):["",""];a.highlightArray=void 0!==b.jsonutil.getChildren(j)[2].value.$?b.jsonutil.getChildren(j)[2].value.$.split("|"):["0","0"];f=b.jsonutil.getChildren(j)[3].value.$||null;c=b.jsonutil.getChildren(j)[3].value["@id"];e=b.jsonutil.getChildren(j)[4].value.$||null;d=b.jsonutil.getChildren(j)[4].value["@id"];e&&(g=e,a.area=(g+"").split("").map(function(a){return+a}));c&&h.registerNodeById(c,a);
h.registerNodeById(d,a)};a.updateByQDelta=function(c,d){"replace"==c&&("key"===d.parameter["@name"]&&(f=d.parameter.$||null),"workingState"===d.parameter["@name"]&&(g=d.parameter.$||null,a.area=(g+"").split("").map(function(a){return+a}),a.updateModel(),b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION)));b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a.updateModel=function(){g=a.area.reduce(function(a,b){return+(a+""+b)})};a.getCorrectState=
function(){return f};a.getClientState=function(){var a={parameter:{"@id":null,"@name":"workingState",$:null}};a.parameter["@id"]=d;""!==g&&(a.parameter.$=g);return a};a.getCanonicalState=function(){var a={parameter:{"@id":null,"@name":"workingState",$:null}};a.parameter["@id"]=d;null!==e&&(a.parameter.$=e);return a};return a})})(k);(function(b){b.q4domfactory.registerClass("venn3",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="venn3";a.parent=null;a.id=
null;a.use=null;a.standpoint=null;a.labelsArray=[];a.highlightArray=[];a.area=[1,1,1,1,1,1,1];var d=null,c=null,e=null,f=null,g="";a._parse=function(h,j,l){a.parent=l;a.id=j["@id"];a.use=j["@use"];a.standpoint=b.jsonutil.getChildren(j)[0].value.$;a.labelsArray=void 0!==b.jsonutil.getChildren(j)[1].value.$?b.jsonutil.getChildren(j)[1].value.$.split("|"):["","",""];a.highlightArray=void 0!==b.jsonutil.getChildren(j)[2].value.$?b.jsonutil.getChildren(j)[2].value.$.split("|"):["0","0","0"];f=b.jsonutil.getChildren(j)[3].value.$||
null;c=b.jsonutil.getChildren(j)[3].value["@id"];e=b.jsonutil.getChildren(j)[4].value.$||null;d=b.jsonutil.getChildren(j)[4].value["@id"];e&&(g=e,a.area=(g+"").split("").map(function(a){return+a}));c&&h.registerNodeById(c,a);h.registerNodeById(d,a)};a.updateByQDelta=function(c,d){"replace"==c&&("key"===d.parameter["@name"]&&(f=d.parameter.$||null),"workingState"===d.parameter["@name"]&&(g=d.parameter.$||null,a.area=(g+"").split("").map(function(a){return+a}),a.updateModel(),b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION)));
b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a.updateModel=function(){g=a.area.reduce(function(a,b){return+(a+""+b)})};a.getCorrectState=function(){return f};a.getClientState=function(){var a={parameter:{"@id":null,"@name":"workingState",$:null}};a.parameter["@id"]=d;""!==g&&(a.parameter.$=g);return a};a.getCanonicalState=function(){var a={parameter:{"@id":null,"@name":"workingState",$:null}};a.parameter["@id"]=d;null!==e&&(a.parameter.$=e);return a};return a})})(k);
(function(b){b.q4domfactory.registerClass("marginalTable",function(){var a=Object.create(b.q4domfactory.newInstanceByName("dataTable")),d=a._parse;a.nodeName="marginalTable";a._parse=function(a,b,f){d(a,b,f)};return a})})(k);(function(b){b.q4domfactory.registerClass("animation",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="animation";a.parent=null;a.id=null;a.url=null;a.height=0;a.width=0;a.manifestType=null;a.contents=[];a.HEIGHT_DEFAULT=500;a.WIDTH_DEFAULT=
700;a.type=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.manifestType=c["@manifestType"];a.type=void 0!==c["@type"]?c["@type"]:null;var f,g,h,e=b.jsonutil.getValue(c,["info","assetInfo"]);if(void 0!==c["@url"]){if(a.url=c["@url"],a.height=c["@height"],a.width=c["@width"],0==a.height||0==a.width)a.height=a.HEIGHT_DEFAULT,a.width=a.WIDTH_DEFAULT}else if(void 0!==e.presignedUri)a.url=e.presignedUri.$,a.height=a.HEIGHT_DEFAULT,a.width=a.WIDTH_DEFAULT;else if(void 0!==b.jsonutil.getValue(e,
["presignedUri"]))a.url=b.jsonutil.getValue(e,["presignedUri"]).$,a.height=void 0!==b.jsonutil.getValue(e,["height"])?b.jsonutil.getValue(e,["height"]).$:a.HEIGHT_DEFAULT,a.width=void 0!==b.jsonutil.getValue(e,["width"])?b.jsonutil.getValue(e,["width"]).$:a.WIDTH_DEFAULT;else{g=b.jsonutil.getChildren(e);e=0;for(f=g.length;e<f;e++){var j=g[e].name;h=g[e].value;if("height"===j)a.height=null==h?a.HEIGHT_DEFAULT:h.$;else if("width"===j)a.width=null==h?a.WIDTH_DEFAULT:h.$;else if("presignedUri"===j&&null!=
h&&(j=h["@type"],void 0!==j))switch(j){case "htmlIndex":a.url=h.$}}}g=b.jsonutil.getChildren(c);e=0;for(f=g.length;e<f;e++)switch(c=g[e].name,h=g[e].value,c){case "spriteMapper":a.parseChildren(d,h,a,c,a.contents)}};return a})})(k);(function(b){b.q4domfactory.registerClass("audio",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="audio";a.parent=null;a.id=null;a.url=null;a.cue=null;a.description=null;a._parse=function(c,e,f){a.parent=f;a.id=e["@id"];a.url=
e["@url"];a.cue=b.jsonutil.getValueAsString(e,["cue","$"]);for(var f=[],g=b.jsonutil.getChildren(e),e=0,h=g.length;e<h;e++){var j=g[e].value;switch(g[e].name){case "description":for(var j=b.jsonutil.getChildren(j),l=0;l<j.length;l++)a.parseChildren(c,j[l].value,a,j[l].name,f)}}c=[];d(c,f);f="";for(e=0;e<c.length;e++)f+=c[e]+"\n";a.description=f};var d=function(a,b){for(var f=0;f<b.length;f++){var g=b[f];"static-string"===g.nodeName?a.push(g.string):d(a,g.contents)}};return a})})(k);(function(b){b.q4domfactory.registerClass("cue",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="cue";a.parent=null;a.id=null;a.nameRef=null;a.play=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.nameRef=c["@nameRef"];a.play=c["@play"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("video",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.VIEW_ACTION_WATCHED="video_watched";a.nodeName="video";a.parent=null;a.id=null;a.mp4Video="";a.webmVideo="";a.closeCaption="";a.transcript="";a.posterImage="";a.controls=!0;a.width=800;a.height=600;a.allowReplay=!0;a.allowPause=!0;a.allowSeek=!0;a.watched=!1;a.watchedInitial=!1;a.watchedId=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var e=b.jsonutil.getValue(c,["info","assetInfo"]),e=b.jsonutil.getChildren(e),f=0,g=e.length;f<g;f++){var h=e[f].value;if(null!=h){var j=h["@type"];if(void 0!=
j)switch(j){case "mp4Video":a.mp4Video=h.$;break;case "webmVideo":a.webmVideo=h.$;break;case "closeCaption":a.closeCaption=h.$;break;case "transcript":a.transcript=h.$;break;case "posterImage":a.posterImage=h.$}}}e=b.jsonutil.getValueAsString(c,["info","assetInfo","width","$"]);f=b.jsonutil.getValueAsString(c,["info","assetInfo","height","$"]);"undefined"!==typeof e&&"undefined"!==typeof f&&(a.width=e,a.height=f);e=b.jsonutil.getValue(c,["info","controls","pause"]);"undefined"!==typeof e&&(a.allowPause=
b.jsonutil.getValue(e,["include","$"]));e=b.jsonutil.getValue(c,["info","controls","replay"]);"undefined"!==typeof e&&(a.allowReplay=b.jsonutil.getValue(e,["include","$"]));e=b.jsonutil.getValue(c,["info","controls","seek"]);"undefined"!==typeof e&&(a.allowSeek=b.jsonutil.getValue(e,["include","$"]));a.watched=b.jsonutil.getValue(c,["info","watched","$"]);a.watchedInitial=a.watched;a.watchedId=b.jsonutil.getValue(c,["info","watched"])["@id"];d.registerNodeById(a.watchedId,a)};a.getCanonicalState=
function(){return{watched:{"@id":a.watchedId,$:a.watchedInitial}}};a.getClientState=function(){return{watched:{"@id":a.watchedId,$:a.watched}}};a.updateByQDelta=function(d,c){"replace"===d&&(a.watched=c.watched.$,b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION))};return a})})(k);(function(b){b.q4domfactory.registerClass("body",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="body";a.parent=null;a.contents=[];a._parse=function(d,
c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("closing",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="closing";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("field",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="field";a.parent=null;a.label=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].name,h=c[e].value;switch(g){case "label":a.label=b.q4domfactory.newInstanceByName("label");a.label.init(d,h,a);break;default:a.parseChildren(d,h,a,g,a.contents)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("label",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="label";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("message",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="message";a.parent=null;a.id=null;a.messageType=null;a.header=null;a.salutation=null;a.body=null;a.signature=null;a._parse=function(d,c,e){a.parent=
e;a.id=c["@id"];a.messageType=c["@type"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "messageHeader":a.header=b.q4domfactory.newInstanceByName("messageHeader");a.header.init(d,g,a);break;case "salutation":a.salutation=b.q4domfactory.newInstanceByName("salutation");a.salutation.init(d,g,a);break;case "body":a.body=b.q4domfactory.newInstanceByName("body");a.body.init(d,g,a);break;case "signatureBlock":a.signature=b.q4domfactory.newInstanceByName("signatureBlock"),
a.signature.init(d,g,a)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("messageDate",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="messageDate";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].name,h=c[e].value;switch(g){case "label":a.label=b.q4domfactory.newInstanceByName("label");a.label.init(d,h,a);break;default:a.parseChildren(d,h,a,g,a.contents)}}};
return a})})(k);(function(b){b.q4domfactory.registerClass("messageHeader",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="messageHeader";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("salutation",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="salutation";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("signature",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="signature";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,
c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("signatureBlock",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="signatureBlock";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("numericEntry.answer",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="numericEntry.answer";a.parent=null;a.id=null;a.answer=null;a.correct=!1;var d=null;a._parse=function(b,e,f){d=b;a.parent=f;a.id=e["@id"];"undefined"!==typeof e.calc?a.answer=e.calc.$:"undefined"!==typeof e.$&&(a.answer=e.$);a.correct=e["@correct-as-submitted"];b.registerNode(a)};a.getClientDelta=function(){if(a.parent.entry!==a.parent.clientEntry){var b=a.parent.clientEntry.replace(RegExp("^-([^1-9]*)$","g"),"$1"),b=b.replace(RegExp("^-(\\.[0-9]*)$","g"),"-0$1");return{ref:a.id,submitted:b}}return null};
a.updateByQDelta=function(c,e){if("replace"==c){var f=e.answer;a.init(d,f,a.parent);a.parent.entry=a.answer;a.parent.setClientEntry(f["@submitted"]);b(a.parent).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION)}"replaceAttributes"==c&&(void 0!==e["@correct-as-submitted"]&&(a.correct=e["@correct-as-submitted"]),a.parent.setClientEntry(e["@submitted"]),b(a.parent).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION))};a.updateByClientDelta=function(c){void 0!==
c.submitted&&(a.parent.clientEntry=c.submitted);b(a.parent).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION)};a.getCanonicalState=function(){var c={answer:{}};b.JSONToolkit.setAttribute(c.answer,"id",a.id);b.JSONToolkit.setAttribute(c.answer,"submitted",a.parent.initialValueString);return c};a.getClientState=function(){var c={answer:{}};b.JSONToolkit.setAttribute(c.answer,"id",a.id);b.JSONToolkit.setAttribute(c.answer,"submitted",a.parent.clientEntry);return c};return a})})(k);
(function(b){b.extend({NumericEntryConstants:new function(){return{VIEW_ACTION_HANDLE_KEYCODE:"keycode",VIEW_ACTION_HANDLE_ASCII:"ascii",VIEW_ACTION_HANDLE_INPUT:"input",VIEW_ACTION_HANDLE_FOCUS:"focus",VIEW_ACTION_HANDLE_BLUR:"blur",VIEW_ACTION_INCREMENT:"increment",VIEW_ACTION_DECREMENT:"decrement",VIEW_ACTION_RESET:"reset",FORMAT_DEFAULT:"default",FORMAT_POSITIVE:"positive",FORMAT_NEGATIVE:"negative"}}})})(k);(function(b){b.q4domfactory.registerClass("numericEntry.format",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="numericEntry.format";a.parent=null;a.minimumDecimalPlace=null;a.decimalCharacter=".";a.thousandsSeparator=null;a.prefix=null;a.suffix=null;a.placeholder=null;a.placeholderType=null;a.alwaysPadDecimals=!1;a.type=null;a._parse=function(c,e,f){a.parent=f;a.type=e["@type"];c=b.jsonutil.getChildren(e);e=0;for(f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "minimumFractionDigits":g&&"undefined"!==typeof g.$&&(a.minimumDecimalPlace=g.$,0<a.minimumDecimalPlace&&(a.alwaysPadDecimals=
!0));break;case "decimal":g&&(a.decimalCharacter=g.$);break;case "thousands":g&&(a.thousandsSeparator=g.$);break;case "placeholder":g&&(a.placeholder=g.$,a.placeholderType=g["@type"]);break;case "prefix":g&&"undefined"!==typeof g.$&&(a.prefix="string"===typeof g.$&&g.$.replace?g.$.replace(/\n/g," "):d(g));break;case "suffix":g&&("undefined"!==typeof g.$?a.suffix="string"===typeof g.$&&g.$.replace?g.$.replace(/\n/g," "):d(g):g.length&&0<g.length&&(a.suffix=d({_:g})))}}};var d=function(a){for(var d=
"",a=b.jsonutil.getChildren(a),f=0,g=a.length;f<g;f++){var h=a[f].name,j=a[f].value;"calc"===h&&"undefined"!==typeof j.$&&j.$.replace&&(d+=j.$.replace(/\n/g," "));"$"===h&&"undefined"!==typeof j&&j.replace&&(d+=j.replace(/\n/g," "))}return d.replace(/^([^ ])/," $1")};return a})})(k);(function(b){b.q4domfactory.registerClass("numericEntry",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="numericEntry";a.parent=null;a.id=null;a.placesBeforeDecimal=Number.POSITIVE_INFINITY;
a.placesAfterDecimal=Number.POSITIVE_INFINITY;a.plusTolerance=0;a.minusTolerance=0;a.min=Number.NEGATIVE_INFINITY;a.max=Number.POSITIVE_INFINITY;a.restrictedNumbers=[];a.allowNegatives=!0;a.answer=null;a.entry=null;a.clientEntry="";a.initialValue=void 0;a.initialValueString="";a.isStatic=!1;a.isScratch=!1;a.isInTableCell=!1;a.isSpinner=!1;a.showReset=!1;a.showPlus=!1;a.showMinus=!1;a.spinnerIncrement=NaN;a.formats={};var d=b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT;a.getDefaultFormat=function(){a.formats[b.NumericEntryConstants.FORMAT_DEFAULT]||
(a.formats[b.NumericEntryConstants.FORMAT_DEFAULT]=b.q4domfactory.newInstanceByName("numericEntry.format"));return a.formats[b.NumericEntryConstants.FORMAT_DEFAULT]};var c="";a.getClientString=function(){return c};a.getClientNumberString=function(){return c};a.setClientNumberString=function(a){c=a};a.setClientEntry=function(c){void 0===c||null===c||(a.clientEntry=""+c,a.setClientNumberString(a.clientEntry),b(a.getBinder()).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED))};a.isCorrect=
function(){return a.answer.correct};a.getMaxString=function(){var c="",d="";b.each(a.formats,function(a,b){b.prefix&&c.length<b.prefix.length&&(c=b.prefix);b.suffix&&d.length<b.suffix.length&&(d=b.suffix)});var f=c,l=3;0<a.placesBeforeDecimal&&(a.placesBeforeDecimal<Number.POSITIVE_INFINITY&&3<a.placesBeforeDecimal)&&(l=a.placesBeforeDecimal+parseInt(a.placesBeforeDecimal/3));f+=e(l);0<a.placesAfterDecimal&&a.placesAfterDecimal<Number.POSITIVE_INFINITY&&(f+="."+e(a.placesAfterDecimal));return"||"+
f+d};var e=function(a){for(var b="",c=0;c<a;c++)b+="0";return b};a._parse=function(c,d,e){a.parent=e;a.id=d["@id"];if(void 0!==d["@use"])switch(d["@use"]){case "scratch":a.isScratch=!0;break;case "static":a.isStatic=!0}"tableCell"==a.parent.nodeName&&(a.isInTableCell=!0);a.placesBeforeDecimal=a.getValueWithDefault(d["@digitsBeforePoint"],a.placesBeforeDecimal);a.placesAfterDecimal=a.getValueWithDefault(d["@digitsAfterPoint"],a.placesAfterDecimal);a.plusTolerance=a.getValueWithDefault(d["@plusTolerance"],
a.plusTolerance);a.minusTolerance=a.getValueWithDefault(d["@minusTolerance"],a.minusTolerance);for(var e=b.jsonutil.getChildren(d),l=0,m=e.length;l<m;l++){var n=e[l].value;switch(e[l].name){case "answer":a.answer=b.q4domfactory.newInstanceByName("numericEntry.answer");a.answer.init(c,n,a);void 0!==n.inputCalc&&(n=n.inputCalc.$,c.getClientVariableRegistry().addClientVariableCreateValueChangedHandler(n,f()));break;case "format":var p=n["@type"];a.formats[p]=b.q4domfactory.newInstanceByName("numericEntry.format");
a.formats[p].init(c,n,a);break;case "controller":a.showReset=!0===n["@showReset"];void 0!==n.spinner&&(a.isSpinner=!0,a.showMinus=!0===n.spinner["@showMinus"],a.showPlus=!0===n.spinner["@showPlus"],a.spinnerIncrement=parseFloat(b.jsonutil.parseCalcValueForChild(n.spinner.increment).value));break;case "inputRestrictions":p=b.jsonutil.getValue(n,["min"]),void 0!==p&&(a.min=b.jsonutil.parseCalcValueForChild(p).value),p=b.jsonutil.getValue(n,["max"]),void 0!==p&&(a.max=b.jsonutil.parseCalcValueForChild(p).value),
n=b.jsonutil.getValue(n,["number","value","$"]),void 0!==n&&a.restrictedNumbers.push(n)}}a.clientEntry=a.answer.answer;null!==a.clientEntry?(a.clientEntry=""+a.clientEntry,a.setClientNumberString(a.clientEntry),a.initialValue=parseFloat(a.clientEntry),a.initialValueString=a.clientEntry):a.clientEntry="";"spinner"===d["@type"]&&(a.isSpinner=!0);a.createClientVariableWithVariableName(d["@inputEntryName"],a.initialValue)};a.getCanonicalState=function(){return a.answer.getCanonicalState()};a.getClientState=
function(){return a.isScratch||a.isStatic?a.answer.getCanonicalState():a.answer.getClientState()};var f=function(){return function(c){a.placesAfterDecimal!==Number.POSITIVE_INFINITY&&(c=b.BasicMathToolkit.epsilonRound(c,a.placesAfterDecimal));a.answer.updateByQDelta("replaceAttributes",{"@submitted":""+c})}};a.setTextAlignment=function(a){d=a};a.getTextAlignment=function(){return d};return a})})(k);(function(b){b.q4domfactory.registerClass("standaloneNegativeNumericEntry",function(){var a=Object.create(b.q4domfactory.newInstanceByName("standaloneNumericEntry")),
d=a.initWithInitialValue;a.initWithInitialValue=function(b){d(b);return a};a.allowNegatives=!0;return a})})(k);(function(b){b.q4domfactory.registerClass("standaloneNumericEntry",function(){var a=Object.create(b.q4domfactory.newInstanceByName("numericEntry"));a.initWithInitialValue=function(b){b=null===b?"":b;a.initialValue=parseFloat(a.clientEntry);a.initialValueString=a.clientEntry;a.setClientEntry(b);return a};a.allowNegatives=!1;a.getCanonicalState=void 0;a.getClientState=void 0;return a})})(k);
(function(b){b.q4domfactory.registerClass("numericEntrySpinnerModel",function(){var a={},b=null,c=null,e=null;a.init=function(e,j,l){b=e;c=l;b.bind("focus",function(){j()});b.touchclickstart(function(){l();f()});b.touchclickend(function(){g()});b.bind("blur",function(){g()});return a};var f=function(){g();e=setTimeout(function(){c();f()},80)},g=function(){null!==e&&clearTimeout(e)};return a})})(k);(function(b){b.q4domfactory.registerClass("content",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="content";a.parent=null;a.page=null;a.id=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "page":a.page=b.q4domfactory.newInstanceByName("page"),a.page.init(d,g,a)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("page",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="page";a.parent=null;a.id=null;a.title=null;a.previewHeader=null;
a.stages=null;a.setup=null;a.scenario=null;a.header=null;a.subheaders=[];a.containers=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];void 0!==c.description&&void 0!==c.description.title&&(a.title=c.description.title.$);for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "previewHeader":a.previewHeader=b.q4domfactory.newInstanceByName("previewHeader");a.previewHeader.init(d,g,a);break;case "stages":a.stages=b.q4domfactory.newInstanceByName("stages");
a.stages.init(d,g,a);break;case "setUp":a.setup=b.q4domfactory.newInstanceByName("setUp");a.setup.init(d,g,a);break;case "scenario":a.scenario=b.q4domfactory.newInstanceByName("scenario");a.scenario.init(d,g,a);break;case "part":var h=b.q4domfactory.newInstanceByName("part");h.init(d,g,a);a.containers.push(h);break;case "contentGroup":h=b.q4domfactory.newInstanceByName("contentGroup");h.init(d,g,a);a.containers.push(h);break;case "header":a.header=b.q4domfactory.newInstanceByName("pageHeader");a.header.init(d,
g,a);break;case "subheader":a.parseChildren(d,g,a,"pageSubheader",a.subheaders)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("pageHeader",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="pageHeader";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("pageSubheader",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="pageSubheader";a.parent=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("part",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="part";a.parent=null;a.id=null;a.containers=[];a._parse=function(d,
c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.containers)};return a})})(k);(function(b){b.q4domfactory.registerClass("scenario",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="scenario";a.parent=null;a.id=null;a.containers=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,
a.containers)};return a})})(k);(function(b){b.q4domfactory.registerClass("setUp",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="setUp";a.parent=null;a.id=null;a.containers=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.containers)};return a})})(k);(function(b){b.q4domfactory.registerClass("stage",function(){var a=Object.create(b.q4domfactory.newInstanceByName("page"));
a.nodeName="stage";a.parent=null;a.id=null;a.showScoresOnSubmit=!1;a.showExplanationsOnSubmit=!1;a.isCurrentStage=!1;a.submitted=!1;a.stageIndexContents=[];a.stageTitleContents=[];var d=a._parse;a._parse=function(c,f,g){a.parent=g;a.id=f["@id"];a.showScoresOnSubmit=f["@showScoresOnSubmit"];a.showExplanationsOnSubmit=f["@showExplanationsOnSubmit"];a.isCurrentStage=f["@isCurrentStage"];a.submitted=f["@submitted"];for(var h=b.jsonutil.getChildren(f),j=0,l=h.length;j<l;j++){var m=h[j].name,n=h[j].value;
switch(m){case "index":a.parseChildren(c,n,a,m,a.stageIndexContents);break;case "title":a.parseChildren(c,n,a,m,a.stageTitleContents)}}d(c,f,g)};a.updateByQDelta=function(c,d){"replaceAttributes"===c&&(void 0!==d["@submitted"]&&(a.submitted=d["@submitted"]),void 0!==d["@isCurrentStage"]&&(a.isCurrentStage=d["@isCurrentStage"]),b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS))};var c=function(a){return 0===a.length?null:void 0!==a[0].contents[0].contents?a[0].contents[0].contents[0].string:
a[0].contents[0].string};a.getStageIndex=function(){return c(a.stageIndexContents)};a.getStageTitle=function(){return c(a.stageTitleContents)};return a})})(k);(function(b){b.q4domfactory.registerClass("stages",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="stages";a.parent=null;a.completed=!1;a.navigationMode=null;a.stages=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.completed=c["@completed"];a.navigationMode=c["@navigationMode"];for(var c=b.jsonutil.getChildren(c),
e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.stages)};return a})})(k);(function(b){b.q4domfactory.registerClass("codices",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="codices";a.parent=null;a.id=null;a._parse=function(c,e,f){a.parent=f;a.id=e["@id"];for(var e=b.jsonutil.getChildren(e),f=0,g=e.length;f<g;f++){var h=e[f].value;switch(e[f].name){case "codex":d(c,h)}}};var d=function(a,d){var f=b.q4domfactory.newInstanceByName("codex").init(),
g=b.jsonutil.getValue(d,["name","$"]),h=b.jsonutil.getValue(d,["entries"]);b.jsonutil.executeForChild(h,"entry",function(a){a=b.jsonutil.parseCalcValueForChild(a.value).value;f.addEntry(a)});a.addNameRef(g,f)};return a})})(k);(function(b){b.q4domfactory.registerClass("resourceContainer",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="resourceContainer";a.parent=null;a.id=null;a.resourceTitle=null;a.resourceType=null;a.contents=[];a._parse=function(d,c,e){a.parent=
e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "info":a.resourceTitle=b.jsonutil.getValue(g,["title","$"]);g=b.jsonutil.getValue(g,["type","$"]);void 0!=g&&(a.resourceType=g);break;case "content":for(var g=b.jsonutil.getChildren(g),h=0;h<g.length;h++)a.parseChildren(d,g[h].value,a,g[h].name,a.contents)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("slide",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="slide";a.parent=null;a.id=null;a.slideTitle=null;a.slideContents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "info":a.slideTitle=b.jsonutil.getValue(g,["title","$"]);break;case "content":for(var g=b.jsonutil.getChildren(g),h=0;h<g.length;h++)a.parseChildren(d,g[h].value,a,g[h].name,a.slideContents)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("slideShow",function(){var a=
Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="slideShow";a.parent=null;a.id=null;a.slideShowContents=[];var d=-1;a._parse=function(c,d,f){a.parent=f;a.id=d["@id"];for(var d=b.jsonutil.getChildren(d),f=0,g=d.length;f<g;f++){var h=d[f].name,j=d[f].value;switch(h){case "slide":a.parseChildren(c,j,a,h,a.slideShowContents)}}a.setActiveTabIndex(0)};a.setActiveTabIndex=function(c){d=c;b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED)};a.getActiveTabIndex=
function(){return d};return a})})(k);(function(b){b.extend({ResourcesConstants:new function(){return{VIEW_ACTION_HIDE_PANEL:"hide_panel",VIEW_ACTION_SHOW_PANEL:"show_panel",VIEW_ACTION_DETACH_PANEL:"detach_panel",VIEW_ACTION_ATTACH_PANEL:"attach_panel",RESOURCE_CONTENT_MIN_HEIGHT:236,RESOURCE_CONTENT_MIN_WIDTH:236,RESOURCE_TAB_CONTENT_MAX_WIDTH:916}}})})(k);(function(b){b.q4domfactory.registerClass("HEA_financialStatement",function(){var a={nodeName:"HEA_financialStatement",parent:null,page:null,
id:null},b={columnHeader:"heaColumnHeaderRole",accountTitle_2:"1",contraAccountTitle:"1",additionAccountTitle:"1",sectionTitle_2:"1",sectionDescription_2:"1",amountDescription_2:"1",contraAmountDescription:"1",additionAmountDescription:"1",rollUpTitle_2:"1_5",rollUpDescription_2:"1_5",accountTitle_3:"2",contraAccountTitle_2:"2",additionAccountTitle_2:"2",sectionTitle_3:"2",sectionDescription_3:"2",amountDescription_3:"2",contraAmountDescription_2:"2",additionAmountDescription_2:"2",prefixedAccountTitle_2:"2",
rollUpTitle_3:"2_5",rollUpDescription_3:"2_5",accountTitle_4:"3",contraAccountTitle_3:"3",additionAccountTitle_3:"3",sectionTitle_4:"3",sectionDescription_4:"3",amountDescription_4:"3",contraAmountDescription_3:"3",additionAmountDescription_3:"3",rollUpTitle_4:"3_5",rollUpDescription_4:"3_5",contraAccountTitle_4:"4",additionAccountTitle_4:"4",contraAmountDescription_4:"4",additionAmountDescription_4:"4"};a.getAttributes=function(){return b};return a})})(k);(function(b){b.q4domfactory.registerClass("defaultRole",
function(){var a={nodeName:"defaultRole",parent:null,page:null,id:null},b={accountTitle:"LEFT_ALIGN",sectionTitle:"LEFT_ALIGN",sectionDescription:"LEFT_ALIGN",rollUpTitle:"LEFT_ALIGN",grandNetTotalTitle:"LEFT_ALIGN",amountDescription:"LEFT_ALIGN",rollUpDescription:"LEFT_ALIGN",companyName:"CENTER_ALIGN",periodName:"CENTER_ALIGN",statementTitle:"CENTER_ALIGN",columnHeader:"CENTER_ALIGN",columnWidth_shortText:"q4-table-entry-cell-hea-shortText",columnWidth_longText:"q4-table-entry-cell-hea-longText",
columnWidth_number:"q4-table-entry-cell-hea-number",accountTitle_2:"1",contraAccountTitle:"1",additionAccountTitle:"1",sectionTitle_2:"1",sectionDescription_2:"1",amountDescription_2:"1",contraAmountDescription:"1",additionAmountDescription:"1",rollUpTitle_2:"1_5",rollUpDescription_2:"1_5",accountTitle_3:"2",contraAccountTitle_2:"2",additionAccountTitle_2:"2",sectionTitle_3:"2",sectionDescription_3:"2",amountDescription_3:"2",contraAmountDescription_2:"2",additionAmountDescription_2:"2",prefixedAccountTitle_2:"2",
rollUpTitle_3:"2_5",rollUpDescription_3:"2_5",accountTitle_4:"3",contraAccountTitle_3:"3",additionAccountTitle_3:"3",sectionTitle_4:"3",sectionDescription_4:"3",amountDescription_4:"3",contraAmountDescription_3:"3",additionAmountDescription_3:"3",rollUpTitle_4:"3_5",rollUpDescription_4:"3_5",contraAccountTitle_4:"4",additionAccountTitle_4:"4",contraAmountDescription_4:"4",additionAmountDescription_4:"4"};a.getAttributes=function(){return b};return a})})(k);(function(b){b.q4domfactory.registerClass("multiStepIncomeStatement",
function(){var a={nodeName:"multiStepIncomeStatement",parent:null,page:null,id:null},b={};a.getAttributes=function(){return b};return a})})(k);(function(b){b.q4domfactory.registerClass("roleFactory",function(){var a={nodeName:"roleFactory",parent:null,page:null,id:null,attributesCache:{},getAttributeValueInRoles:function(d,c){var e="defaultRole";for(role in d)e+=d[role];e+=c;if(a.attributesCache[e])return a.attributesCache[e];var f=void 0,g=b.q4domfactory.newSingletonByName("defaultRole");g&&g.getAttributes()[c]&&
(f=g.getAttributes()[c]);for(role in d)(g=b.q4domfactory.newSingletonByName(d[role]))&&g.getAttributes()[c]&&(f=g.getAttributes()[c]);return f?(a.attributesCache[e]=f,a.attributesCache[e]):f}};return a})})(k);(function(b){b.q4domfactory.registerClass("activity",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model")),d=null,c=0,e=0,f="standard",g=null,h=null,j=null,l=[],m=!1,n=null,p=null,q=[],r=6;a.nodeName="activity";a.init=function(s,o,k){j=k;d=s.title;g=s.state;n=s.takeUUID;
c=s.pointsEarned;e=s.pointsPossible;f=s.activityType;p=s.contentReviewLink;for(var k=s.activityNodes,t=0;t<k.length;t++)l[t]=b.q4domfactory.newInstanceByName("activityNode"),l[t].init(k[t],a),void 0!==o[k[t].id]&&l[t].setItemQResponse(o[k[t].id]),"setUp"!==l[t].getType()&&(l[t].getIsCurrentNode()&&(h=q.length),q.push(l[t]));"demo"===f&&(r=5);for(o=parseInt(h/r)*r;o<parseInt(h/r)*r+r&&o<q.length;o++)q[o].setInitVisible();m=s.gradedFeedback;return a};a.getGroupSize=function(){return r};a.getIdAfter=
function(a){for(var b=0;b<l.length;b++)if(l[b].getActivityNodeId()===a&&b+1<l.length)return l[b+1].getActivityNodeId();return null};a.getId=function(){return n};a.getContentReviewLink=function(){return p};a.getActivityNodeById=function(a){for(var b=0;b<l.length;b++)if(l[b].getActivityNodeId()===a)return l[b];return null};a.updateByQDelta=function(d,e){"replaceAttributes"===d&&(void 0!==e["@pointsEarned"]&&(c=e["@pointsEarned"]),b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED))};
a.getCommandBus=function(){return j};a.getState=function(){return g};a.getCurrentNode=function(){return h};a.getGradedFeedback=function(){return m};a.getTitle=function(){return d};a.getPointsEarned=function(){return c};a.getPointsPossible=function(){return e};a.getActivityType=function(){return f};a.getActivityNodes=function(){return l};a.getActivityTabs=function(){return q};return a})})(k);(function(b){b.q4domfactory.registerClass("activityNode",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model")),
d=null,c=null,e=null,f=null,g=!1,h=!1,j=!1,l=1,m=!1,n=!1,p=!1,q=!1,r=null,s=null,o=null,k=null,t=!1,w=null,x=null,B=null,y=null;a.nodeName="activityNode";a.init=function(o,s){r=s;for(var k=b.jsonutil.getChildren(o),u=0,t=k.length;u<t;u++){var F=k[u].value;switch(k[u].name){case "id":d=F;break;case "type":c=F;break;case "title":e=F;break;case "displayLabel":f=F;break;case "nextStepButton":g=F;break;case "gradeStepButton":h=F;break;case "nextAttemptButton":j=F;break;case "stepAttempt":l=F;break;case "locked":m=
F;break;case "canNav":n=F;break;case "graded":p=F;break;case "gradingMode":w=F;break;case "stepPointsEarned":x=F;break;case "stepPointsPossible":B=F;break;case "attemptScores":y=F;break;case "current":q=F}}return a};a.setItemQResponse=function(a){null!==a&&(s=a.state,o=a.qDoc,k=a.status&&a.status.warningLevel)};a.getNextNodeId=function(){return r.getIdAfter(d)};a.updateByQDelta=function(c,d){"replaceAttributes"===c&&(void 0!==d["@nextStepButton"]&&(g=d["@nextStepButton"]),void 0!==d["@gradeStepButton"]&&
(h=d["@gradeStepButton"]),void 0!==d["@nextAttemptButton"]&&(j=d["@nextAttemptButton"]),void 0!==d["@stepAttempt"]&&(l=d["@stepAttempt"]),void 0!==d["@locked"]&&(m=d["@locked"]),void 0!==d["@canNav"]&&(n=d["@canNav"]),void 0!==d["@graded"]&&(p=d["@graded"]),void 0!==d["@current"]&&(q=d["@current"]),void 0!==d["@stepPointsEarned"]&&(x=d["@stepPointsEarned"]),void 0!==d["@attemptScores"]&&(y=d["@attemptScores"]),b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED))};a.getParent=function(){return r};
a.getActivityNodeId=function(){return d};a.getType=function(){return c};a.getTitle=function(){return e};a.getDisplayLabel=function(){return f};a.getHasNextStepButton=function(){return g};a.getHasGradeStepButton=function(){return h};a.getHasNextAttemptButton=function(){return j};a.getStepAttempt=function(){return l};a.getGradingMode=function(){return w};a.getStepPointsEarned=function(){return x};a.getStepPointsPossible=function(){return B};a.getAttemptScores=function(){return y};a.getIsLocked=function(){return m};
a.getCanNav=function(){return n};a.getIsGraded=function(){return p};a.getIsCurrentNode=function(){return q};a.getState=function(){return s};a.getQDoc=function(){return o};a.getWarningLevel=function(){return k};a.getInitVisible=function(){return t};a.setInitVisible=function(){t=!0};return a})})(k);(function(b){b.q4domfactory.registerClass("description",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="description";a.parent=null;a.id=null;a.containers=[];a._parse=
function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.containers)};return a})})(k);(function(b){b.q4domfactory.registerClass("index",function(){var a=Object.create(b.q4domfactory.newInstanceByName("title"));a.nodeName="index";return a})})(k);(function(b){b.q4domfactory.registerClass("problemDescription",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="problemDescription";
a.parent=null;a.id=null;a.contents=[];a.style=null;a._parseChild=function(a,c,e){if("string"===typeof a||"number"===typeof a||void 0!=a.$){var f=b.q4domfactory.newInstanceByName("static-string");f.init(c,a,e);e.contents.push(f)}else for(var a=b.jsonutil.getChildren(a),g=0,h=a.length;g<h;g++){var j=a[g].value,f=b.q4domfactory.newInstanceByName(a[g].name);null!=f&&(f.init(c,j,e),e.contents.push(f))}};a._parse=function(d,c,e){a.parent=e;if(c)if(a.id=c["@id"],e=c.$,b.isArray(e))for(var f in e)a._parseChild(e[f],
d,a);else e?a._parseChild(e,d,a):a._parseChild(c,d,a);else c=b.q4domfactory.newInstanceByName("static-string"),c.init(d," ",a),a.contents.push(c)};return a})})(k);(function(b){b.q4domfactory.registerClass("professorDescription",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="professorDescription";a.parent=null;a.id=null;a.contents=[];a.style=null;a._parseChild=function(a,c,e){if("string"===typeof a||"number"===typeof a||void 0!=a.$){var f=b.q4domfactory.newInstanceByName("static-string");
f.init(c,a,e);e.contents.push(f)}else for(var a=b.jsonutil.getChildren(a),g=0,h=a.length;g<h;g++){var j=a[g].value,f=b.q4domfactory.newInstanceByName(a[g].name);null!=f&&(f.init(c,j,e),e.contents.push(f))}};a._parse=function(d,c,e){a.parent=e;if(c)if(a.id=c["@id"],e=c.$,b.isArray(e))for(var f in e)a._parseChild(e[f],d,a);else e?a._parseChild(e,d,a):a._parseChild(c,d,a);else c=b.q4domfactory.newInstanceByName("static-string"),c.init(d," ",a),a.contents.push(c)};return a})})(k);(function(b){b.q4domfactory.registerClass("qDoc",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="qDoc";a.parent=null;a.id=null;a.version=0;a.content=null;a.description=null;a.incompatibleFeatures="";a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.version=c["@version"];e=c["@randomizationVersion"];void 0!==e&&d.setRandomizationVersion(e);void 0!==c["@incompatibleFeatures"]&&(a.incompatibleFeatures=c["@incompatibleFeatures"]);for(var e=null,c=b.jsonutil.getChildren(c),f=0,g=c.length;f<g;f++){var h=c[f].value;
switch(c[f].name){case "content":a.content=b.q4domfactory.newInstanceByName("content");a.content.init(d,h,a);break;case "description":a.description=b.q4domfactory.newInstanceByName("description");a.description.init(d,h,a);break;case "references":if(null!==h)for(var h=b.jsonutil.getChildren(h),j=0,l=h.length;j<l;j++){var m=h[j].value;switch(h[j].name){case "inputVariables":e=m;break;case "codices":b.q4domfactory.newInstanceByName("codices").init(d,m,a)}}}}null!=e&&b.q4domfactory.newInstanceByName("inputVariables").init(d,
e,a)};return a})})(k);(function(b){b.q4domfactory.registerClass("qdom",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="qdom";a.clientDelta=[];a.clientQDeltas=[];a.nameRefs={};a.root=null;a.uid=null;var d="ERROR-VERSION-MISSING",c="NORMAL",e=null,f="",g={};a.init=function(b,d){a.uid=(new Date).getTime();void 0!==b&&(c=b);e=d;return a};a.getWarningLevel=function(){return c};a.setIncompatibleFeatures=function(a){f=a};a.getIncompatibleFeatures=function(){return f};
a.getClientVariableRegistry=function(){return e};a.registerNode=function(a){null!=a.id&&""!=a.id&&(g[a.id]=a)};a.registerNodeById=function(a,b){g[a]=b};a.getNodeById=function(a){a=g[a];return void 0!==a?a:null};a.setRandomizationVersion=function(a){d=a};a.generateClientQDelta=function(){var b={qDelta:{"@baseQDocId":a.root.id,"@version":d}};if(1<a.clientQDeltas.length)b.qDelta._=a.clientQDeltas;else for(var c in a.clientQDeltas[0])b.qDelta[c]=a.clientQDeltas[0][c];return b};a.clearClientQDeltas=function(){a.clientQDeltas=
[]};a.addClientQDelta=function(c){b.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++)a.clientQDeltas.push(c[d])};a.addNameRef=function(b,c){a.nameRefs[b]=c};a.getNameRef=function(b){var c=a.nameRefs[b];if(void 0===c)throw Error("Nameref: "+b+" not found.");return c};return a})})(k);(function(b){b.q4domfactory.registerClass("title",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="title";a.parent=null;a.id=null;a.contents=[];a.style=null;a._parseChild=function(a,
c,e){if("string"===typeof a||"number"===typeof a||void 0!=a.$){var f=b.q4domfactory.newInstanceByName("static-string");f.init(c,a,e);e.contents.push(f)}else for(var a=b.jsonutil.getChildren(a),g=0,h=a.length;g<h;g++){var j=a[g].value,f=b.q4domfactory.newInstanceByName(a[g].name);null!=f&&(f.init(c,j,e),e.contents.push(f))}};a._parse=function(d,c,e){a.parent=e;if(c)if(a.id=c["@id"],e=c.$,b.isArray(e))for(var f in e)a._parseChild(e[f],d,a);else e?a._parseChild(e,d,a):a._parseChild(c,d,a);else c=b.q4domfactory.newInstanceByName("static-string"),
c.init(d," ",a),a.contents.push(c)};return a})})(k);(function(b){b.q4domfactory.registerClass("checkYourSolution",function(){var a={type:"checkYourSolution"},d=null,c=null,e=null,f=null,g=null,h=null,j=null,l=1,m=Number.MAX_VALUE,n=!1,p=[],q=!1;a.initWithEquation=function(b,l,m,n,p,q,k){d=b;c=l;e=m;f=n;g=p;h=q;j=k;return a};a.parseMathResponse=function(a){p=[];for(var a=b.jsonutil.getValue(a,["bundle"]),a=b.jsonutil.getChildren(a),c=0,d=a.length;c<d;c++){var e=a[c].value;switch(a[c].name){case "check":e=
b.q4domfactory.newInstanceByName("checkYourSolutionCheck").initWithMathResponse(e),p.push(e)}}};a.getSolveForXModel=function(){return d};a.setCheckAgain=function(a){n=a};a.isCheckAgain=function(){return n};a.getInputEquationLHS=function(){return f};a.getInputEquationRHS=function(){return g};a.getCanonicalEquationLHS=function(){return c};a.getCanonicalEquationRHS=function(){return e};a.getImageEquationLHS=function(){return h};a.getImageEquationRHS=function(){return j};a.getChecks=function(){return p};
a.getCurrentCheckNumber=function(){return l};a.incrementCurrentCheckNumber=function(){l++};a.getMaxCheckNumber=function(){return m};a.canCheckSolution=function(){return l<m};a.isCheckYourSolutionShown=function(){return q};a.setCheckYourSolutionShown=function(a){q=a};return a})})(k);(function(b){b.q4domfactory.registerClass("checkYourSolutionCheck",function(){var a={type:"checkYourSolutionCheck"},d=null,c=null,e=null,f=null,g=null,h=null;a.initWithMathResponse=function(j){d=b.jsonutil.getValue(j,["lhs",
"canonical","$"]);c=b.jsonutil.getValue(j,["rhs","canonical","$"]);e=b.jsonutil.getValue(j,["lhs","input","$"]);f=b.jsonutil.getValue(j,["rhs","input","$"]);g=b.jsonutil.getValue(j,["lhs","image","img"])["@src"];h=b.jsonutil.getValue(j,["rhs","image","img"])["@src"];return a};a.getCanonicalEquationLHS=function(){return d};a.getCanonicalEquationRHS=function(){return c};a.getInputEquationLHS=function(){return e};a.getInputEquationRHS=function(){return f};a.getImageEquationLHS=function(){return g};a.getImageEquationRHS=
function(){return h};return a})})(k);(function(b){b.extend({SolveForXConstants:new function(){return{VIEW_ACTION_TRANSFORM:"transform",VIEW_ACTION_SIMPLIFY:"simplify",VIEW_ACTION_ADD_ANOTHER_STEP:"addAnotherStep",VIEW_ACTION_CANCEL_TRANSFORM:"cancelTransform",VIEW_ACTION_ERASE_STEP:"eraseStep",VIEW_ACTION_CONFIRM_GOTO:"confirmGoto",VIEW_ACTION_CANCEL_GOTO:"cancelGoto",VIEW_ACTION_I_AM_DONE:"iAmDone",VIEW_ACTION_RESUME_SOLVE:"resumeSolve",VIEW_ACTION_SHOW_CHECK_YOUR_RESULT:"showCheckResult",VIEW_ACTION_SHOW_CHECK_SOLUTION:"showCheckSolution",
VIEW_ACTION_CHECK_SOLUTION:"checkSolution",VIEW_ACTION_CHECK_AGAIN:"checkAgain",VIEW_ACTION_BACK_TO_EQUATION:"backToEquation",VIEW_ACTION_TOGGLE_FEEDBACK_MODE:"toggleFeedbackMode",VIEW_ACTION_TEMP_GRADE_IT_NOW:"tempGIN",COMMAND_TEMP_GRADE_IT_NOW:"sfxTempGIN",COMMAND_SHOW_CHECK_YOUR_RESULT:"sfxShowCheckYourResult",COMMAND_RESUME_INPUT:"sfxResumeInput",OPERATION_CHOOSE:"Choose",OPERATION_ADD:"Add",OPERATION_SUBTRACT:"Subtract",OPERATION_DIVIDE:"Divide by",OPERATION_MULTIPLY:"Multiply by",FEEDBACK_TRANSFORM_POSITIVE_MATCH:"correct positive positive/solution neutral/simplify neutral/solution negative/simplify".split(" "),
FEEDBACK_TRANSFORM_NEUTRAL_MATCH:["neutral","negative"],DIRECTION_POSITIVE:"positive",DIRECTION_NEUTRAL:"neutral",DIRECTION_NEGATIVE:"negative"}}})})(k);(function(b){b.q4domfactory.registerClass("solveForX",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="solveForX";a.parent=null;a.id=null;a.uid=null;var d=[],c=!1,e=!0,f=!1;a.checkYourSolution=null;a._parse=function(c,e,g){a.parent=g;a.id=e["@id"];a.uid=c.uid+a.id;for(var e=b.jsonutil.getChildren(e.steps),
g=0,f=e.length;g<f;g++){var n=e[g].value;switch(e[g].name){case "equation":a.parseChildren(c,n,a,"solveForXStepEquation",d);break;case "transform":a.parseChildren(c,n,a,"solveForXStepTransform",d);break;case "simplify":a.parseChildren(c,n,a,"solveForXStepSimplify",d)}}c=d[0];a.checkYourSolution=b.q4domfactory.newInstanceByName("checkYourSolution").initWithEquation(a,c.getCanonicalEquationLHS(),c.getCanonicalEquationRHS(),c.getInputEquationLHS(),c.getInputEquationRHS(),c.getImageEquationLHS(),c.getImageEquationRHS());
a.addNextActionToLastStep()};a.addStep=function(a){d.push(a)};a.getSteps=function(){return d};a.getIsCorrect=function(){for(var a=1<d.length,b=0;b<d.length;b++)null!=d[b].getFeedback()&&(a=a&&"negative"!==d[b].getFeedback().getDirection());return a};a.getFinalEquation=function(){for(var a=d.length-1;0<=a;a--){var b=d[a];if("solveForXStepEquation"==b.type)return b}return null};a.getStepByNumber=function(a){for(var b=0;b<d.length;b++)if(d[b].getStepNumber()==a)return{index:b,step:d[b]};return null};
a.addNextActionToLastStep=function(){var a=d[d.length-1];a.isActionable()||(a=a.isSimplifiable()?b.q4domfactory.newInstanceByName("solveForXStepSimplify").initWithInput(a):b.q4domfactory.newInstanceByName("solveForXStepTransform").initWithInput(a),d.push(a))};a.addConfirmGotoToStep=function(c){var e=a.getStepByNumber(c),c=e.step,e=e.index,c=b.q4domfactory.newInstanceByName("solveForXStepConfirmGoto").initWithInput(c);d.splice(e+1,0,c)};a.eraseStep=function(b){for(var b=b.getStepNumber(),c=0;c<d.length;c++){var e=
-1,e="solveForXStepEquation"!=d[c].type?d[c].getLastStep().getStepNumber():d[c].getStepNumber();b<=e&&d[c].setToBeDeleted(!0)}g();a.addConfirmGotoToStep(b-1)};a.addNextStepWithJSON=function(c){g();for(var e=0,f=0;f<d.length;f++)"solveForXStepEquation"===d[f].type&&e++;c=b.q4domfactory.newInstanceByName("solveForXStepEquation").initWithMathResponse(e+1,c);a.addStep(c)};a.removeStep=function(a){for(var c=0;c<d.length;c++)if(d[c]===a){b.ArrayToolkit.remove(d,c);break}};a.resetToBeDeleted=function(){for(var a=
0;a<d.length;a++)d[a].setToBeDeleted(!1)};a.setLastStepToActionable=function(){d[d.length-1].setActionable(!0)};a.removeStepsInclusive=function(b){for(var b=b.getStepNumber(),c=0;c<d.length;c++)"solveForXStepEquation"==d[c].type&&b==d[c].getStepNumber()&&(d=d.slice(0,c-1));a.addNextActionToLastStep()};a.getEquationCount=function(){for(var a=0,b=0;b<d.length;b++)"solveForXStepEquation"==d[b].type&&a++;return a};var g=function(){for(var a=0;a<d.length;a++)d[a].setActionable(!1)};a.setShowFeedback=function(a){c=
a};a.isShowFeedback=function(){return c};a.setAllowInput=function(a){e=a};a.isAllowInput=function(){return e};a.isGraded=function(){return f};a.setGraded=function(a){f=a};return a})})(k);(function(b){b.q4domfactory.registerClass("solveForXFeedback",function(){var a={type:"solveForXFeedback"},d=-1,c=b.SolveForXConstants.DIRECTION_POSITIVE,e=null,f=null,g=!1,h=!1;a.init=function(){throw Error("not yet implemented");};a.initWithParams=function(d,g){c=d?b.SolveForXConstants.DIRECTION_POSITIVE:b.SolveForXConstants.DIRECTION_NEGATIVE;
f="";for(var h=0;h<g.length;h++){var n=g[h];null!=n&&(null==e&&(e=n),f+="<p>"+n+"</p>")}return a};a.initWithMathResponse=function(g,h){d=g;for(var m=b.jsonutil.getChildren(h),n=0;n<m.length;n++){var p=m[n];if("evaluation"===p.name){for(var p=b.jsonutil.getChildren(p.value),q=null,r=0;r<p.length;r++){var s=p[r];if("level"===s.name)switch(s.value["@index"]){case 1:q=s.value.$;break;case 2:null!=s.value.feedback&&(s=s.value.feedback,e=s.paragraph.$);break;case 3:if(null!=s.value.feedback){f="";for(var s=
s.value.feedback,s=b.jsonutil.getChildren(s),o=0;o<s.length;o++)if("paragraph"===s[o].name&&null!==s[o].value&&(f+="<p>"+s[o].value.$+"</p>"),"equations"===s[o].name){f+='<table style="margin-bottom: 1em;">';for(var k=b.jsonutil.getChildren(s[o].value),t=0;t<k.length;t++)if("equation"===k[t].name){f+="<tr>";var w=b.q4domfactory.newInstanceByName("solveForXStepEquation").initWithJSON(k[t].value);f=null!=w.getTextLHS()?f+('<td style="text-align: right; width: 180px;">'+w.getTextLHS()+"</td><td>=</td><td>"+
w.getTextRHS()+"</td>"):f+('<td style="text-align: right; width: 180px;"><img src="'+w.getImageEquationLHS().img["@src"]+'"/></td><td>=</td><td><img src="'+w.getImageEquationRHS().img["@src"]+'"/></td>');null!=w.getLabel()&&(f+='<td style="padding-left: 1em;">'+w.getLabel()+"</td>");f+="</tr>"}f+="</table>"}}}}null!=q&&(p=q,c=-1!=b.inArray(p,b.SolveForXConstants.FEEDBACK_TRANSFORM_POSITIVE_MATCH)?b.SolveForXConstants.DIRECTION_POSITIVE:-1!=b.inArray(p,b.SolveForXConstants.FEEDBACK_TRANSFORM_NEUTRAL_MATCH)?
b.SolveForXConstants.DIRECTION_NEUTRAL:b.SolveForXConstants.DIRECTION_NEGATIVE)}}return a};a.getStepNumber=function(){return d};a.getDirection=function(){return c};a.getShort=function(){return e};a.getDetail=function(){return f};a.setShowExplanation=function(a){h=a};a.isShowExplanation=function(){return h};a.setShowFeedback=function(a){g=a};a.isShowFeedback=function(){return g};return a})})(k);(function(b){b.q4domfactory.registerClass("solveForXStep",function(){var a={type:"solveForXStep"},b=null,
c=!1;a.init=function(a){b=a};a.isActionable=function(){return b};a.isToBeDeleted=function(){return c};a.setToBeDeleted=function(a){c=a};a.getStepNumber=function(){return-1};a.setActionable=function(a){b=a};a.isSimplifiable=function(){return 0==this.getStepNumber()%2&&1!=this.getStepNumber()};a.getFeedback=function(){return null};a.getFeedbackView=function(){return null};return a})})(k);(function(b){b.q4domfactory.registerClass("solveForXStepConfirmGoto",function(){var a=Object.create(b.q4domfactory.newInstanceByName("solveForXStep"));
a.type="solveForXStepConfirmGoto";var d=null,c=a.init;a.init=function(){c(!0);throw Error("not yet implemented");};a.initWithInput=function(b){c(!0);d=b;return a};a.getLastStep=function(){return d};return a})})(k);(function(b){b.q4domfactory.registerClass("solveForXStepEquation",function(){var a=Object.create(b.q4domfactory.newInstanceByName("solveForXStep"));a.type="solveForXStepEquation";var d=null,c=null,e=null,f=null,g=null,h=null,j=null,l=null,m=null,n=-1,p=null,q=null,r=a.init;a.init=function(b,
c){r(!1);n=c["@step"];s(c);return a};a.initWithJSON=function(b){s(b);return a};var s=function(a){d=b.jsonutil.getValue(a,["canonical","lhs","$"]);c=b.jsonutil.getValue(a,["canonical","rhs","$"]);e=b.jsonutil.getValue(a,["input","lhs","$"]);f=b.jsonutil.getValue(a,["input","rhs","$"]);g=b.jsonutil.getValue(a,["image","lhs","$"]);h=b.jsonutil.getValue(a,["image","rhs","$"]);for(var a=b.jsonutil.getChildren(a),n=0;n<a.length;n++){var p=a[n];if("expression"===p.name)if(null!=g||null!=j){for(var q=p.value._||
[],r=0;r<q.length;r++)if(q[r].canonical&&(c=q[r].canonical),q[r].input&&(f=q[r].input),q[r].image)h=q[r].image;l=p.value.$}else{q=p.value._||[];for(r=0;r<q.length;r++)if(q[r].canonical&&(d=q[r].canonical),q[r].input&&(e=q[r].input),q[r].image)g=q[r].image;j=p.value.$}"label"===p.name&&null!=p.value&&(m=p.value.$)}};a.initWithMathResponse=function(j,l){n=j;d=b.jsonutil.getValue(l,["finalEquationLHS","canonical","$"]);c=b.jsonutil.getValue(l,["finalEquationRHS","canonical","$"]);e=b.jsonutil.getValue(l,
["finalEquationLHS","input","$"]);f=b.jsonutil.getValue(l,["finalEquationRHS","input","$"]);g=b.jsonutil.getValue(l,["finalEquationLHS","image","img"])["@src"];h=b.jsonutil.getValue(l,["finalEquationRHS","image","img"])["@src"];p=b.q4domfactory.newInstanceByName("solveForXFeedback").initWithMathResponse(n,l);q=b.q4viewfactory.newInstanceByName("solveForXFeedback_view");q.init(p);return a};a.getLabel=function(){return m};a.getTextLHS=function(){return j};a.getTextRHS=function(){return l};a.getFeedback=
function(){return p};a.getFeedbackView=function(){return q};a.getStepNumber=function(){return n};a.isActionable=function(){return!1};a.getCanonicalEquationLHS=function(){return d};a.getCanonicalEquationRHS=function(){return c};a.getInputEquationLHS=function(){return e};a.getInputEquationRHS=function(){return f};a.getImageEquationLHS=function(){return g};a.getImageEquationRHS=function(){return h};a.setImageEquationLHS=function(a){g=a};a.setImageEquationRHS=function(a){h=a};return a})})(k);(function(b){b.q4domfactory.registerClass("solveForXStepSimplify",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("solveForXStep"));a.type="solveForXStepSimplify";var d,c=null,e=null,f=a.init;a.init=function(){f(!0);throw Error("not yet implemented");};a.initWithInput=function(b){f(!0);d=b;return a};a.getLastStep=function(){return d};a.setInputEquationLHS=function(a){c=a};a.getInputEquationLHS=function(){return c};a.setInputEquationRHS=function(a){e=a};a.getInputEquationRHS=function(){return e};return a})})(k);(function(b){b.q4domfactory.registerClass("solveForXStepTransform",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("solveForXStep"));a.type="solveForXStepTransform";var d=null,c=null,e=null,f=!1,g=a.init;a.init=function(){g(!0);throw Error("not yet implemented");};a.initWithInput=function(b){g(!0);d=b;return a};a.getLastStep=function(){return d};a.setOperation=function(a){c=a};a.getOperation=function(){return c};a.setOperand=function(a){e=a};a.getOperand=function(){return e};a.isInputAllowed=function(){return 1==a.getLastStep().getStepNumber()?!0:
f};a.setInputAllowed=function(a){f=a};return a})})(k);(function(b){b.extend({StyleRepository:new function(){return{TYPE_MARGINAL:"marginal",TYPE_BOLD:"bold",TYPE_ALIGN_LEFT:"align_left",TYPE_ALIGN_RIGHT:"align_right",TYPE_ALIGN_CENTER:"align_center",TYPE_CENTERED:"centered"}}})})(k);(function(b){b.q4domfactory.registerClass("tableCell",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="tableCell";a.parent=null;a.id=null;a.index=-1;a.columnSpan=-1;a.rowSpan=
-1;a.role=null;a.dataType=null;a.innerSpanRole=null;a.content=[];a.viewArray=[];a.columnHeading="";a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.index=e.cells.length;void 0!==c["@columnSpan"]&&(a.columnSpan=parseInt(c["@columnSpan"]));void 0!==c["@rowSpan"]&&(a.rowSpan=parseInt(c["@rowSpan"]));for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "role":a.role=b.jsonutil.parseCalcValueForChild(g).value;if("grandTotal"===a.role||"calcEnd"===a.role||
"subTotal"===a.role||"subtotal"===a.role||"total"===a.role)a.innerSpanRole=a.role;break;case "dataType":a.dataType=b.jsonutil.parseCalcValueForChild(g).value;break;case "value":var h=d,j=g,g=a,l=b.jsonutil.parseCalcValueForChild(j);if(void 0!==l.value)j=b.q4domfactory.newInstanceByName("static-string"),j.init(h,l.value,g),a.content.push(j);else{a:if(void 0===j._)l=!1;else{for(l=0;l<j._.length;l++)if(void 0!==j._[l].subvalue){l=!0;break a}l=void 0}if(l)for(l=0;l<j._.length;l++){var m=b.q4domfactory.newInstanceByName("subvalue");
m.init(h,j._[l].subvalue,g);m.index=l;a.content.push(m)}else{j=b.jsonutil.getChildren(j);l=0;for(m=j.length;l<m;l++)a.parseChildren(h,j[l].value,g,j[l].name,a.content)}}}}};a.isDataTypeNumber=function(){return"number"===a.dataType||"currency"===a.dataType||"percent"===a.dataType||"currencyWithoutSymbol"===a.dataType||"percentWithoutSymbol"===a.dataType};return a})})(k);(function(b){b.q4domfactory.registerClass("tableRow",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="tableRow";a.parent=null;a.id=null;a.cells=[];a.index=-1;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];a.index=e.rows.length;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "cell":a.parseChildren(d,g,a,"tableCell",a.cells)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("table",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="table";a.parent=null;a.id=null;a.rows=[];a.role=null;
a.headerRows=[];a.columnHeadings=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var e=b.jsonutil.getChildren(c),c=0,f=e.length;c<f;c++){var g=e[c].value;switch(e[c].name){case "row":a.parseChildren(d,g,a,"tableRow",a.rows);break;case "role":a.role=b.jsonutil.parseCalcValueForChild(g).value}}if("dataGridTable"===a.role){for(c=0;c<a.rows.length;c++)if(e=a.rows[c],d=e.cells[0].role,"columnHeader"===d||"columnUnitsHeader"===d)e=a.rows.splice(c,c+1),a.headerRows.push(e[0]),c--;if(0<a.headerRows.length){for(c=
0;c<a.headerRows.length;c++){e=a.headerRows[c];f=-1;for(d=0;d<a.headerRows[c].cells.length;d++){var g=e.cells[d],h=g.columnSpan;2>h&&(h=1);for(var j=0;j<h;j++)f++,null==a.columnHeadings[f]?a.columnHeadings.push(void 0!==g.content[0]?g.content[0].string:""):g.content[0]&&(a.columnHeadings[f]+=" "+g.content[0].string)}}for(c=0;c<a.rows.length;c++)if(e=a.rows[c],e.cells.length==a.columnHeadings.length)for(d=0;d<e.cells.length;d++)e.cells[d].columnHeading=a.columnHeadings[d]}}};a.isDataGridTable=function(){return"dataGridTable"===
a.role};return a})})(k);(function(b){b.q4domfactory.registerClass("categorizationTable",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="categorizationTable";a.parent=null;a.id=null;a.columns=null;a.chooses=[];a._parse=function(c,e,f){a.parent=f;a.id=e["@id"];for(var e=b.jsonutil.getChildren(e),f=0,g=e.length;f<g;f++){var h=e[f].name,j=e[f].value;switch(h){case "columns":a.columns=b.q4domfactory.newInstanceByName(h);a.columns.init(c,j,a);break;case "choose":a.parseChildren(c,
j,a,h,a.chooses)}}d()};var d=function(){for(var b=0;b<a.chooses.length;b++)for(var d=a.chooses[b].choice.options,f=0==b,g=b==d.length-1,h=0;h<d.length;h++){var j=0==h,l=h==d.length-1;d[h].isFirstRow=f;d[h].isLastRow=g;d[h].isFirstColumn=j;d[h].isLastColumn=l;d[h].columnTitle=a.columns.columns[h+1].headers.reduce(function(a,b){return a+" "+(void 0!==b.contents[0]?b.contents[0].string:"")},"")}};return a})})(k);(function(b){b.q4domfactory.registerClass("choice",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="choice";a.parent=null;a.id=null;a.uid=null;a.options=[];a.graded=!1;a.choiceType=null;var d=!1;a._parse=function(c,d,f){a.parent=f;a.id=d["@id"];a.uid=c.uid+a.id;f=d["@maxSelected"];void 0===f&&(f=1);var g=d["@type"];void 0===g&&(g="choose");a.choiceType="choose"==g?"all"==f?"checkbox":"radio":"select";"tableCell"===a.parent.parent.nodeName&&a.setUseParentTdView(!0);d=b.jsonutil.getChildren(d);f=0;for(g=d.length;f<g;f++){var h=d[f].name,j=d[f].value;switch(h){case "option":a.parseChildren(c,
j,a,h,a.options)}}c.registerNode(a)};a.setUseParentTdView=function(a){d=a};a.getUseParentTdView=function(){return d};a.getClientDelta=function(){for(var b=[],d=0;d<a.options.length;d++){var f=a.options[d];(f.selected?1:0)^f.clientSelected&&b.push({ref:f.id,selected:f.clientSelected})}return b};a.hasOptionSelected=function(){for(var b=0;b<a.options.length;b++)if(a.options[b].clientSelected)return!0;return!1};return a})})(k);(function(b){b.q4domfactory.registerClass("option",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="option";a.parent=null;a.correct=!1;a.id=null;a.selected=!1;a.clientSelected=!1;a.correctAsSubmitted=null;a.isInitialCorrectnessDisplay=!1;a.graded=!1;a.contents=[];a.isFirstRow=!1;a.isLastRow=!1;a.isFirstColumn=!1;a.isLastColumn=!1;a._parse=function(d,c,e){a.parent=e;a.correct=c["@correct"];a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};a.isClientSelectionCorrect=function(){var b=a.parent;return"radio"==b.choiceType&&
a.correct&&!a.clientSelected||"checkbox"==b.choiceType&&(a.correct&&!a.clientSelected||a.clientSelected&&!a.correct)?!1:!0};a.updateByQDelta=function(d,c){"replaceAttributes"==d&&(void 0!==c["@selected"]&&(a.clientSelected=c["@selected"]),void 0!==c["@correct"]&&(a.correct=c["@correct"]),void 0!==c["@correct-as-submitted"]&&(a.isInitialCorrectnessDisplay=!0,a.correctAsSubmitted=c["@correct-as-submitted"]),b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION))};a.updateByClientDelta=
function(d){void 0!==d.selected&&(a.clientSelected=d.selected);b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION)};a.getCanonicalState=function(){var d={option:{}};b.JSONToolkit.setAttribute(d.option,"id",a.id);b.JSONToolkit.setAttribute(d.option,"selected",a.selected);return d};a.getClientState=function(){var d={option:{}};b.JSONToolkit.setAttribute(d.option,"id",a.id);b.JSONToolkit.setAttribute(d.option,"selected",a.clientSelected);return d};return a})})(k);(function(b){b.q4domfactory.registerClass("choose",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="choose";a.parent=null;a.id=null;a.prompt=null;a.choice=null;a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].name,h=c[e].value;switch(g){case "choice":a.choice=b.q4domfactory.newInstanceByName(g);a.choice.init(d,h,a);break;case "prompt":a.prompt=b.q4domfactory.newInstanceByName(g),a.prompt.init(d,h,a)}}};return a})})(k);(function(b){b.q4domfactory.registerClass("explanation",
function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="explanation";a.parent=null;a.id=null;a.containers=[];a.svgWorkaroundRenderExpanded=!1;var d=null;a._parse=function(c,e,f){d=c;a.parent=f;a.id=e["@id"];a.containers=[];for(var e=b.jsonutil.getChildren(e),f=0,g=e.length;f<g;f++)a.parseChildren(c,e[f].value,a,e[f].name,a.containers)};a.updateByQDelta=function(c,e){"replace"==c&&(a.init(d,e.explanation,a.parent),b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED))};
return a})})(k);(function(b){b.q4domfactory.registerClass("fillIn",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="fillIn";a.parent=null;a.id=null;a.contents=[];a._parse=function(d,c,e){a.parent=e;a.id=c["@id"];for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++)a.parseChildren(d,c[e].value,a,c[e].name,a.contents)};return a})})(k);(function(b){b.q4domfactory.registerClass("graph",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));
a.nodeName="graph";var d=null,c=null;a.getGraphDomain=function(){return d};a._parse=function(a,f,g){"parallelExposition"===g.parent.nodeName&&(f["@size"]="medium");var h=b.jsonutil.getValue(f,["helpUrl","$"]);void 0!==h&&(c=h);d=b.GraphFactory.newInstanceByName("GraphDomain").init(a,f,g)};a.getHelpUrl=function(){return c};a.getCanonicalState=function(){var c={graph:{}};b.JSONToolkit.setAttribute(c.graph,"id",a.id);b.JSONToolkit.setAttribute(c.graph,"selected",!0);return c};a.getClientState=function(){var c=
{graph:{}};b.JSONToolkit.setAttribute(c.graph,"id",a.id);b.JSONToolkit.setAttribute(c.graph,"selected",!1);return c};return a})})(k);(function(b){b.q4domfactory.registerClass("numberLine",function(){var a=b.NumberLineFactory.newInstanceByName("NumberLineDomain");a.nodeName="numberLine";return a})})(k);(function(b){b.q4domfactory.registerClass("standaloneTextEntry",function(){var a=Object.create(b.q4domfactory.newInstanceByName("textEntry")),d=a.initWithCodex;a.initWithCodex=function(b,e){d(b,e);a.setMeasureTextWidth(!1);
return a};a.filterARET=!0;a.getCanonicalState=void 0;a.getClientState=void 0;return a})})(k);(function(b){b.q4domfactory.registerClass("codex",function(){var a={},d={},c={},e="",f=-1;a.init=function(){a.addEntry(b.TextEntryConstants.CHECKMARK);return a};a.initWithArray=function(b){a.init();for(var c=0;c<b.length;c++)a.addEntry(b[c]);return a};a.setLongestEntryMeasuredWidth=function(a){f=a};a.getLongestEntryMeasuredWidth=function(){return f};a.getExactEntry=function(a){a=c[a.toLowerCase().replace(/ /g,
"").replace(/\u2019/g,"'").replace(/\u2013/g,"-").replace(/\u2014/g,"-")];return void 0===a?null:a};a.getLongestEntry=function(){return e===b.TextEntryConstants.CHECKMARK?"":e};a.addEntry=function(a){a.length>e.length&&a!==b.TextEntryConstants.CHECKMARK&&(e=a);var f=a.toLowerCase().replace(/ /g,""),f=f.replace("â","'");c[f]=a;for(var j=1;j<=f.length;j++){var l=f.substring(0,j);void 0===d[l]&&(d[l]=[]);d[l].push(a);d[l].sort()}};a.hasEntry=function(b){if(a.isEmpty())return!0;b=b.toLowerCase().replace(/ /g,
"").replace(/\u2019/g,"'").replace(/\u2013/g,"-").replace(/\u2014/g,"-");return""===b?!0:void 0!==d[b]};a.getEntries=function(a){a=a.toLowerCase().replace(/ /g,"").replace(/\u2019/g,"'").replace(/\u2013/g,"-").replace(/\u2014/g,"-");a=d[a];void 0===a&&(a=[]);return a};a.getAllEntries=function(){return c};a.isEmpty=function(){var a=0,b;for(b in c)if(c.hasOwnProperty(b)&&a++,1<a)return!1;return!0};return a})})(k);(function(b){b.extend({TextEntryConstants:new function(){return{CHECKMARK:"â",HIDE_CONTROL_DELAY:50,
VIEW_ACTION_HANDLE_KEYCODE:"keycode",VIEW_ACTION_HANDLE_ASCII:"ascii",VIEW_ACTION_HANDLE_INPUT:"input",VIEW_ACTION_HANDLE_FOCUS:"focus",VIEW_ACTION_HANDLE_BLUR:"blur",VIEW_ACTION_CHECKMARK_CLICKED:"checkmark_clicked"}}})})(k);(function(b){b.q4domfactory.registerClass("textEntry",function(){var a=Object.create(b.q4domfactory.newInstanceByName("base_model"));a.nodeName="textEntry";a.parent=null;a.id=null;a.codex=null;a.placeholder=null;a.hint=null;var d=a.graded=!1;a.filterARET=!1;a.allowSpaces=!0;
var c="",e=[],f=null,g=null,h=b.TextEntryConstants.TEXT_ALIGNMENT_LEFT,j=!0,l=null,m=!1,n=!1,p=!1,q=!1,r=null,s=null;a._parse=function(c,d,e){a.parent=e;a.id=d["@id"];a.codex=b.q4domfactory.newInstanceByName("codex").init();e=b.jsonutil.getValue(d,["info","placeholder","$"]);void 0!==e&&(a.placeholder=e);e=b.jsonutil.getValue(d,["info","hint","$"]);void 0!==e&&(a.hint=e);void 0!==d["@toUpperCase"]&&(q="true"===d["@toUpperCase"]||!0===d["@toUpperCase"]?!0:!1);l=b.jsonutil.getValue(d,["info","format",
"maxLength","$"]);f=t();f.initWithQDom(c,d);g=k();g.initWithQDom(c,d);o(c,d)};a.initWithCodex=function(b,c){a.codex=b;f=t().initWithInitialValue(c);return a};var o=function(c,d){if(void 0!==b.jsonutil.getValue(d,["info","codices"])){var e=b.jsonutil.getValue(d,["info","codices","nameRef","$"]);if(void 0!==e)a.codex=c.getNameRef(e);else if(e=b.jsonutil.getValue(d,["info","codices"]),void 0!==e)for(var e=b.jsonutil.getChildren(e),g=0,f=e.length;g<f;g++){var h=e[g].value;switch(e[g].name){case "codex":h=
b.jsonutil.getValue(h,["entries"]),b.jsonutil.executeForChild(h,"entry",function(c){c=b.jsonutil.parseCalcValueForChild(c.value).value;a.codex.addEntry(c)})}}}};a.setPrefix=function(a){r=a};a.getPrefix=function(){return r};a.setSuffix=function(a){s=a};a.getSuffix=function(){return s};a.setCheckmarkSupported=function(a){m=a};a.isCheckmarkSupported=function(){return m};a.setChecked=function(a){n=a};a.isChecked=function(){return n};a.setParenthesized=function(a){p=a};a.isParenthesized=function(){return p};
a.setTextAlignment=function(a){h=a};a.getTextAlignment=function(){return h};a.setMaxLength=function(a){l=a};a.getMaxLength=function(){return l};a.setCorrect=function(a){d=a};a.isCorrect=function(){return d};a.isGraded=function(){return a.graded};a.setClientString=function(a){c=a};a.getClientString=function(){return c};a.addCorrectString=function(a){e.push(a)};a.clearCorrectString=function(){e=[]};a.getCorrectString=function(){return 0===e.length?"(Blank)":e[0]};a.getCanonicalState=function(){return f.getCanonicalState()};
a.getClientState=function(){return f.getClientState()};a.setMeasureTextWidth=function(a){j=a};a.isMeasureTextWidth=function(){return j};a.getToUpperCase=function(){return q};a.setToUpperCase=function(a){q=a};var k=function(){var c={},d=-1;c.initWithQDom=function(a,g){b.jsonutil.executeForChild(g,"state",function(a){"correct"===a["@type"]&&(d=b.jsonutil.getValue(a,["input"])["@id"],a=b.jsonutil.getValue(a,["input"]),e(a))});a.registerNodeById(d,c)};c.updateByQDelta=function(c,d){if("replace"==c){var g=
b.jsonutil.getValue(d,["input"]);e(g);b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)}};var e=function(c){a.clearCorrectString();b.jsonutil.executeForChild(c,"value",function(b){null!==b&&a.addCorrectString(b.$)})};return c},t=function(){var d={},e=null,g=-1;d.initWithQDom=function(a,f){b.jsonutil.executeForChild(f,"state",function(a){"working"===a["@type"]&&(g=b.jsonutil.getValue(a,["input"])["@id"],a=b.jsonutil.getValue(a,["input","value","$"]),void 0!==a?c=e=a:(e=
null,c=""))});a.registerNodeById(g,d)};d.initWithInitialValue=function(a){null!==a&&(c=a);return d};d.getCanonicalState=function(){var a={input:{"@id":null,value:null}};a.input["@id"]=g;null!==e&&(a.input.value={$:e});return a};d.getClientState=function(){var b={input:{"@id":null,value:null}};b.input["@id"]=g;""!==a.getClientString()&&(b.input.value={$:a.getClientString()});return b};d.updateByQDelta=function(c,d){if("replace"==c){var e=b.jsonutil.getValue(d,["input","value","$"]);void 0===e?a.setClientString(""):
a.setClientString(e);b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION);b(a.getBinder()).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED)}"replaceAttributes"==c&&(a.setCorrect(d["@correct-as-submitted"]),b(a).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS))};return d};return a})})(k);(function(b){b.extend({UserMessagingConstants:new function(){return{TYPE_ANSWER_SUBMISSION:"usermessaging_answer_submission",TYPE_COMMUNICATION:"usermessaging_communication",
TYPE_AUTHORING:"usermessaging_authoring",TYPE_RUNTIME:"usermessaging_runtime",TYPE_SHOW_LOADING:"usermessaging_show_loading",TYPE_HIDE_LOADING:"usermessaging_hide_loading",VIEW_ACTION_HIDE_MESSAGING_PANEL:"hide_messaging_panel",VIEW_ACTION_NEXT_MESSAGE:"next_message",VIEW_ACTION_PREV_MESSAGE:"prev_message"}}})})(k);(function(b){b.q4domfactory.registerClass("userMessaging.message",function(){var a={nodeName:"userMessaging.message"},b=null,c=null,e=null;a.init=function(c){b=c;return a};a.getType=function(){return b};
a.setTitle=function(a){c=a};a.setTextArray=function(a){e=a};a.getTitle=function(){return c};a.getTextArray=function(){return e};return a})})(k);(function(b){b.q4domfactory.registerClass("userMessaging.messages",function(){var a={nodeName:"userMessaging.messages"},b=[],c=0;a.init=function(){return a};a.addMessage=function(a){b.push(a)};a.moveIndexToLast=function(){c=b.length-1};a.hasPrevMessage=function(){return 0<c};a.hasNextMessage=function(){return c<b.length-1};a.getCurrentIndex=function(){return c};
a.getCount=function(){return b.length};a.getNextMessage=function(){c++;c>=b.length&&c--;return b[c]};a.getPrevMessage=function(){c=0<c?c-1:0;return b[c]};return a})})(k);(function(b){b.q4presenterfactory.registerClass("rowEntryTable_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null,g=null,h=null;a._init=function(b,c,m){f=b;e=c;d=m;g=d.getWorkingStateTableEntryTable();d.isStatic()||(h=d.getCorrectStateTableEntryTable());
return a};a._createView=function(b){c=a.createViewByName("rowTableEntryGroup",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildByName("rowTableEntryTable",g,f,e,c);null!==h&&a.traverseChildByName("rowTableEntryTable",h,f,e,c)};a._bindModel=function(){b(g).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness()});b(d.getGradableModel().getBinder()).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){a.getNodeView().refreshCorrectness()})};
a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){a.getNodeView().refreshCorrectness()})};a.getWorkingStateTableEntryTable=function(){return g};a.getNodeView=function(){return c};return a})})(k);(function(b){b.q4presenterfactory.registerClass("rowTableEntryHeading_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=
function(b){c=a.createViewByName("rowTableEntryHeading",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildrenByName("rowTableEntryTitleRow",d.getTitles(),f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("rowTableEntryTable_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("tableEntryTable_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,
b)};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){d.isGraded()&&c.refreshTable()})};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness()})};a._childPresentersCreated=function(){};a._createChildPresenters=function(){a.traverseChildByName("rowTableEntryHeading",d,f,e,c);a.traverseChildByName("tableEntryHeader",d,f,e,c);a.traverseChildrenByName("tableEntryPage",d.getPages(),f,e,
c);d.containsWorkingState()&&c.adjustTitleAndFooterWidth();a.traverseChildByName("tableEntryFooter",d,f,e,c);b(d).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("rowTableEntryTitleCell_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("rowTableEntryTitleCell",
d,b);c.init(d,b)};a._createChildPresenters=function(){d.getInputModel()&&a.traverseChildByName("standaloneTextEntry",d.getInputModel(),f,e,c)};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){d.setGraded(!0);c.createGradedMask();b(d).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)})};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness()});null!==d.getInputModel()&&
b(d.getInputModel().getBinder()).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,function(){c.refreshIndent();c.refreshBorder()});b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,function(){c.refreshIndent();d.isEditable()||c.refreshUneditableContent()})};a._bindView=function(){c.bindViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,function(a,c,d){e.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("rowTableEntryTitleRow_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null,g=null;a._init=function(b,c,e){g=b;f=c;d=e;return a};a._createView=function(b){e=a.createViewByName("rowTableEntryTitleRow",d,b);e.init(d,b)};a._createChildPresenters=function(){c=d.getTableEntryCell();a.traverseChildByName("rowTableEntryTitleCell",c,g,f,e)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("accounting-debug_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){null!=d.title&&a.traverseChild(d.title,f,e,c);null!=d.header&&a.traverseChild(d.header,f,e,c);a.traverseChildren(d.subheaders,f,e,c);a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("journal_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null,g=null,h=null;a._init=function(b,c,m){f=b;e=c;d=m;g=d.getWorkingStateTableEntryTable();d.isStatic()||(h=d.getCorrectStateTableEntryTable());return a};a._createView=function(b){c=a.createViewByName("tableEntryGroup",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildByName("tableEntryTable",g,f,e,c);null!==h&&a.traverseChildByName("tableEntryTable",h,f,e,c)};a._bindModel=function(){b(g).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,function(){c.refreshPageSelection(g)});
b(g).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness()});b(h).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,function(){c.refreshPageSelection(h)})};a._bindView=function(){c.bindViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,function(a,c,d){e.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)})};a.getWorkingStateTableEntryTable=function(){return g};a.getNodeView=function(){return c};return a})})(k);(function(b){b.q4presenterfactory.registerClass("ledger_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null,g=null;a._init=function(b,e,l){g=b;f=e;d=l;c=l.getGradableModel();return a};a._createView=function(b){e=a.createViewByName("tableEntryGroup",d,b);e.init(d,b)};a._createChildPresenters=function(){for(var b=d.getWorkingStateLedgerAccounts(),c=d.getCorrectStateLedgerAccounts(),l=0;l<b.length;l++){var m={workingStateTableEntryTable:b[l].getTableEntryTable(),correctStateTableEntryTable:null};
d.isStatic()||(m.correctStateTableEntryTable=c[l].getTableEntryTable());a.traverseChildByName("tableEntryAccountToggle",m,g,f,e)}};a._bindCommandBus=function(){f.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){c.setGraded(!0);e.refreshCorrectness()})};a._bindView=function(){e.bindViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,function(a,c,d){f.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)})};a._bindModel=function(){b(c.getBinder()).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,
function(){e.refreshCorrectness()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableEntryAccountToggle_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null,g=null;a._init=function(b,c,l){f=b;e=c;d=l;g=d.workingStateTableEntryTable;return a};a._createView=function(b){c=a.createViewByName("tableEntryAccountToggle",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildByName("tableEntryTable",
d.workingStateTableEntryTable,f,e,c);null!==d.correctStateTableEntryTable&&a.traverseChildByName("tableEntryTable",d.correctStateTableEntryTable,f,e,c)};a._childPresentersCreated=function(){c.setAccountToggleWidth(!1)};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){c.open();b(g).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)})};a._bindModel=function(){b(g).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness()})};
a._bindView=function(){c.bindViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,function(a,c,d){e.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableEntryCell_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null,g=null,h=!1,j=!1;a._init=function(e,m,n){g=e;f=m;d=n;c=d.isShowRowCorrectness()?d.getRow():d;h=d.getType()===b.TableEntryConstants.COLUMN_TYPE_TEXT&&
d.isEditable();j=(d.getType()===b.TableEntryConstants.COLUMN_TYPE_NUMBER||d.getType()===b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER||d.getType()===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE||d.getType()===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL||d.getType()===b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN||d.getType()===b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER)&&d.isEditable();return a};a._createView=function(b){if(d.isSpanPreviousCell()){if(b=b.getCellViews(),
e=b=b[b.length-1],!d.isEditable()){var c=d.clientText;d.isParenthesized()&&(c="("+c+")");b.addDoubleCellText(c)}}else{if("rowTableEntryTable"===d.getRow().getTable().nodeName){var c=d.getRow().getTable().getParent().getRoles(),g=!1;for(role in c)"HEA_financialStatement"===c[role]&&(g=!0);e=g?a.createViewByName("heaTableEntryCell",d,b):a.createViewByName("tableEntryCell",d,b)}else e=a.createViewByName("tableEntryCell",d,b);e.init(d,b);b.addCellView(e)}};a._createChildPresenters=function(){var b=d.getInputModel();
h&&a.traverseChildByName("standaloneTextEntry",b,g,f,e);j&&a.traverseChildByName("standaloneNumericEntry",b,g,f,e)};a._bindCommandBus=function(){f.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){d.setGraded(!0);e.createGradedMask();b(c).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)})};a._bindModel=function(){b(c).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){e.refreshCorrectness()});null!==d.getInputModel()&&b(d.getInputModel().getBinder()).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,
function(){e.refreshIndent();e.refreshBorder()});b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,function(){e.refreshIndent()});d.isShowTransactionCorrectness()&&b(d.getRow()).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){e.refreshTransactionCorrectness()})};a._bindView=function(){e.bindViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,function(a,c,d){f.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)})};a._childPresentersCreated=
function(){e.bindInputFocus()};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableEntryFooter_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createViewByName("tableEntryFooter",d,b);c.init(d,b)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableEntryHeader_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null,g=null;a._init=function(b,c,l,m){g=b;f=c;d=l;e=m;return a};a._createView=function(b){c=a.createViewByName("tableEntryHeader",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildrenByName("tableEntryHeaderCell",d.colInfos[0],g,f,c);2===d.colInfos.length&&a.traverseChildrenByName("tableEntryHeaderCell",d.colInfos[1],g,f,c)};a._bindCommandBus=function(){f.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){})};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,
function(){e.createCorrectnessMarker(!0)});b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){})};a._bindView=function(){c.bindViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,function(a,c,d){f.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableEntryHeaderCell_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,
c,g){d=g;return a};a._createView=function(b){c=a.createViewByName("tableEntryHeaderCell",d,b);c.init(d,b)};a._createChildPresenters=function(){};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableEntryHeading_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createViewByName("tableEntryHeading",d,b);c.init(d,b)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableEntryPage_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,d,j){e=b;c=d;f=j;return a};a._createView=function(b){d=a.createViewByName("tableEntryPage",b);d.init(f,b)};a._createChildPresenters=function(){a.traverseChildrenByName("tableEntryRow",f.getRows().getRowsArray(),e,c,d)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableEntryRow_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("tableEntryRow",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildrenByName("tableEntryCell",d.cells,f,e,c);c.refreshBorder()};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){d.setGraded(!0)})};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,function(){c.refreshBorder()});
b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshBorder()})};a._bindView=function(){c.bindViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,function(a,c,d){e.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableEntryTable_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;
e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildByName("tableEntryHeading",d,f,e,c);a.traverseChildByName("tableEntryHeader",d,f,e,c);a.traverseChildrenByName("tableEntryPage",d.getPages(),f,e,c);a.traverseChildByName("tableEntryFooter",d,f,e,c);b(d).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED)};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){d.setGraded(!0);
c.refreshTable();c.createCorrectnessMarker();b(d).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)})};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness()})};a._childPresentersCreated=function(){c.fixFirefoxTableCollapse()};return a})})(k);(function(b){b.q4presenterfactory.registerClass("worksheetBase_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("journal_presenter")),
d=null,c=null,e=a._init;a._init=function(b,g,h,j){d=g;c=h;e(b,g,h,j);return a};a._bindCommandBus=function(){d.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){c.getGradableModel().setGraded(!0);a.getNodeView().refreshCorrectness()})};a._bindModel=function(){b(c.getGradableModel().getBinder()).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){a.getNodeView().refreshCorrectness()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("base_presenter",
function(){var a={},d=null,c=null;a.init=function(a,b,h,j){c=a;d=b;a=this._init(a,b,h,j);a._createView(j);void 0!==a._bindCommandBus&&a._bindCommandBus();void 0!==a._bindView&&a._bindView();void 0!==a._bindModel&&a._bindModel();void 0!==a._createChildPresenters&&a._createChildPresenters();void 0!==a._childPresentersCreated&&a._childPresentersCreated();e(h);return a};a.traverseChild=function(a,c,d,e){b.q4presenterfactory.newInstanceByName(a.nodeName+"_presenter").init(c,d,a,e)};a.traverseChildren=
function(a,c,d,e){for(var l in a){var m=a[l];b.q4presenterfactory.newInstanceByName(m.nodeName+"_presenter").init(c,d,m,e)}};a.traverseChildByName=function(a,c,d,e,l){b.q4presenterfactory.newInstanceByName(a+"_presenter").init(d,e,c,l)};a.traverseChildrenByName=function(a,c,d,e,l){for(var m in c){var n=c[m];b.q4presenterfactory.newInstanceByName(a+"_presenter").init(d,e,n,l)}};a.createView=function(a){return b.q4viewfactory.newInstanceByName(a.nodeName+"_view")};a.createViewByName=function(a){return b.q4viewfactory.newInstanceByName(a+
"_view")};var e=function(a){null!=a&&(void 0!==a.getCanonicalState&&void 0!==a.getClientState)&&d.addCommandHandler(b.q4appcontroller.COMMAND_GET_CLIENT_QDELTA,function(){var b=a.getClientQDelta();null!=b&&c.addClientQDelta(b)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("chart_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,
b)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("presenter.common.formatters.NumericEntry",function(){var a={},d=null,c=null,e=null,f=null,g=null;a.init=function(g,h){d=g;c=h.formats[b.NumericEntryConstants.FORMAT_NEGATIVE];e=h.formats[b.NumericEntryConstants.FORMAT_POSITIVE];f=h.formats[b.NumericEntryConstants.FORMAT_DEFAULT];return a};a.initWithFormats=function(b,g,h,n){d=b;c=h;e=n;f=g;return a};a.format=function(a){var b=null,b=d.match(/-.*[1-9]/),m=d.replace(/-/,"");void 0!==
a&&(g=a);return b=b&&c?h(c,f,m):e?h(e,f,m):f?h(f,f,m):d};var h=function(a,b,c){var d=a.minimumDecimalPlace?a.minimumDecimalPlace:b.minimumDecimalPlace,e=a.decimalCharacter?a.decimalCharacter:b.decimalCharacter,f=a.thousandsSeparator?a.thousandsSeparator:b.thousandsSeparator,h=a.prefix?a.prefix:b.prefix,s=a.suffix?a.suffix:b.suffix,a=a.alwaysPadDecimals?a.alwaysPadDecimals:b.alwaysPadDecimals,o=c,b=e&&-1!==c.indexOf(e);if(f&&f!==e){var o="",k=c.split("").reverse().join(""),t=f,w=e;"."===t&&(t="\\.");
"."===w&&(w="\\.");for(w=b?w:"^";o!==k;)o=k,k=o.replace(RegExp("("+w+"|"+t+")([0-9]{3,3})([0-9]{1,3})"),"$1$2"+f+"$3");o=k=o.split("").reverse().join("")}a&&-1===o.indexOf(e)&&(o+=".");if(a||b)if(a=o.split(e),""===a[0]&&""===a[1])o="";else{for(f=a[1];d&&f.length<d;)f+="0";for(;f.length>d&&f.match(/0$/);)f=f.replace(/0$/,"");o=a[0];0<f.length&&(""===o&&(o="0"),o+=e+f)}"."===c&&null!==g&&(o="",g.setClientNumberString(""));if(null!==g&&null!==g.restrictedNumbers&&0<g.restrictedNumbers.length)for(c=0;c<
g.restrictedNumbers.length;c++)if(parseFloat(o)===g.restrictedNumbers[c]){o="";g.setClientNumberString("");break}return""===o?o:(h?h:"")+o+(s?s:"")};return a})})(k);(function(b){b.q4presenterfactory.registerClass("presenter.common.validators.NumericEntry",function(){var a={},b=null,c=null,e=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,j=!0;a.init=function(l,m){var n=m.getDefaultFormat().decimalCharacter,p=m.getDefaultFormat().thousandsSeparator;
b=l;e=m.placesBeforeDecimal;f=m.placesAfterDecimal;g=m.min;h=m.max;j=m.allowNegatives;if(!p||!b.match(RegExp("."===p?"\\.":p))){void 0!==n&&"."!=n&&(b=b.replace(RegExp(n,"g"),"."));if(n=!b.match(RegExp("\\.(.*)\\.","g")))if(n=!b.match(RegExp(" ","g"))){var n=b,q=0,p=0,q=n.indexOf(".");-1!=q?(p=n.substring(q+1).length,q=n.substring(0,q).length):q=n.length;"-"==n.charAt(0)&&q--;n=e>=q&&f>=p}n&&!isNaN(parseFloat(b))&&(isFinite(b)&&-1==b.indexOf("e")&&-1==b.indexOf("x")&&-1==b.indexOf("+")&&!b.match(/^[\-]*0[0-9]+/))&&
(c=parseFloat(b))}return a};a.getNumber=function(){return c};a.isNumber=function(){if(j){if(""==b||"."==b||"-"==b||"-."==b)return!0}else{if(-1!=b.indexOf("-"))return!1;if(""==b||"."==b)return!0}return null==c?!1:!0};a.isValidated=function(){return""===b?!0:c>=g&&c<=h};return a})})(k);(function(b){b.q4presenterfactory.registerClass("calcXml_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;
d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("containerHeader_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,
f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("containerSubheader_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("containerTitle_presenter",function(){var a=
Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("exhibit_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,
j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){null!=d.title&&a.traverseChild(d.title,f,e,c);null!=d.header&&a.traverseChild(d.header,f,e,c);a.traverseChildren(d.subheaders,f,e,c);a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("instructions_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=
function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("paragraph_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=
function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("parallelExposition_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){for(var b=0;b<d.containers.length;b++)a.traverseChildByName("parallelExpositionContainer",d.containers[b],
f,e,c);a.traverseChildByName("parallelExpositionNewLine",d,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("parallelExpositionContainer_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("parallelExpositionContainer",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};
return a})})(k);(function(b){b.q4presenterfactory.registerClass("parallelExpositionNewLine_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createViewByName("parallelExpositionNewLine",d,b);c.init(d,b)};a._createChildPresenters=function(){};return a})})(k);(function(b){b.q4presenterfactory.registerClass("prompt_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("task_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,
b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};a._bindCommandBus=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness(d)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("calc_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);
c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("contentGroup_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){null!=d.header&&a.traverseChild(d.header,f,e,c);a.traverseChildren(d.subheaders,
f,e,c);a.traverseChildren(d.contents,f,e,c)};a._childPresentersCreated=function(){-1!=d.role.indexOf("parallelSections")&&setTimeout(function(){c.updateSectionLayout()},2E3)};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){-1!=d.role.indexOf("sectionSources")&&c.revealContentGroupNode()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("contentGroupHeader_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("contentGroupSubheader_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,
b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("downloadLink_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("ebookLink_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(g){c=a.createView(d,g);c.init(d,g);b(c).bind(c.PRESENTER_EVENT_EBOOKLINK_SERVER_REQUEST,function(a,c,d){a={};a.url=d;e.fireCommand(b.q4appcontroller.COMMAND_EBOOK_REQUEST,c,a)});e.addCommandHandler(c.PRESENTER_EVENT_EBOOKLINK_SERVER_RESPONSE,function(a,b,e){d.id===b&&c.launchEBook(e.uri)})};a._createChildPresenters=
function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("errorText_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("hyperlink_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("image_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};return a})})(k);
(function(b){b.q4presenterfactory.registerClass("moreInfo_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("previewHeader_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("static-string_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};return a})})(k);
(function(b){b.q4presenterfactory.registerClass("subvalue_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.content,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("text_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("variable-content_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,
b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("variable-string_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("dataGridTableCell_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){if("check"===d.dataType||"radio"===d.dataType)if(1>=d.columnSpan)c=a.createViewByName("dataGridTableCell",d,b),c.init(d,b),d.viewArray.push(c);else for(var e=0;e<d.columnSpan;e++)c=a.createViewByName("dataGridTableCell",d,b),c.init(d,b),d.viewArray.push(c);else c=a.createViewByName("dataGridTableCell",d,b),c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.content,f,e,c)};return a})})(k);
(function(b){b.q4presenterfactory.registerClass("dataGridTableHeaderCell_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){if("check"===d.dataType||"radio"===d.dataType)if(1>=d.columnSpan)c=a.createViewByName("dataGridTableHeaderCell",d,b),c.init(d,b),d.viewArray.push(c);else for(var e=0;e<d.columnSpan;e++)c=a.createViewByName("dataGridTableHeaderCell",
d,b),c.init(d,b),d.viewArray.push(c);else c=a.createViewByName("dataGridTableHeaderCell",d,b),c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.content,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("dataGridTableHeaderRow_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("dataGridTableHeaderRow",
d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildrenByName("dataGridTableHeaderCell",d.cells,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("dataGridTableRow_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("dataGridTableRow",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildrenByName("dataGridTableCell",
d.cells,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("dataTable_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChild(d.columns,f,e,c);a.traverseChildren(d.rows,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("cell_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("columns_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=
function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b);null==d.parent.renderingStyle&&c.showHeaderDivider()};a._createChildPresenters=function(){a.traverseChildren(d.rows,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("dataTableHeaderRow_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=
a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.headers,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("header_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("row_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.cells,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("dialogue_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=
function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildrenByName("dialogueStatement",d.statements,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("dialogueStatement_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("dialogueStatement",
d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};a._childPresentersCreated=function(){c.injectNameToParagraph()};return a})})(k);(function(b){b.q4presenterfactory.registerClass("newspaper_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildByName("newspaperStory",
d.story,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("newspaperStory_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("newspaperStory",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("notecard_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("time_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=
function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildByName("timelineDate",d,f,e,c);a.traverseChildByName("timelineEventArrow",d,f,e,c);a.traverseChildByName("timelineItem",d,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("timeline_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,
j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.times,f,e,c)};a._childPresentersCreated=function(){c.addTimelineArrows()};return a})})(k);(function(b){b.q4presenterfactory.registerClass("timelineDate_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("timelineDate",
d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildrenByName("timelineDateContent",d.dates,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("timelineDateContent_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(a){c=a};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("timelineEventArrow_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createViewByName("timelineEventArrow",d,b);c.init(d,b)};a._createChildPresenters=function(){};return a})})(k);(function(b){b.q4presenterfactory.registerClass("timelineItem_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=
c;d=j;return a};a._createView=function(b){c=a.createViewByName("timelineItem",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.itemContents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("labeler_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){};return a})})(k);
(function(b){b.q4presenterfactory.registerClass("spriteMapper_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){if(d.hasCustomModel()){var e=d.getCustomModel();c=a.createView(e,b);c.init(e,b)}else c=d.isV0?a.createViewByName("spriteMapperV0",d,b):a.createView(d,b),c.init(d,b)};a._createChildPresenters=function(){if(!d.hasCustomModel()&&!d.isV0){var b=
d.getPalette();a.traverseChildByName("spriteMapperPalette",b,f,e,c)}};a._bindView=function(){d.hasCustomModel()||d.isV0||c.bindViewAction("SELECT_PALETTE_REGION",function(a,b,c){d.setCategorySelectionSelected(b,c)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("spriteMapperPalette_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,
b)};a._createChildPresenters=function(){};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,function(){c.refreshPalette()});b(d.parent.getCategorySelection()).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,function(a,b,d){c.updateCategoryTable(b,d)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("list_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=
function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){null!=d.header&&a.traverseChild(d.header,f,e,c);a.traverseChildren(d.subheaders,f,e,c);a.traverseChildren(d.items,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("listHeader_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};
a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("listItem_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChild(d.label,f,
e,c);a.traverseChildren(d.contents,f,e,c);null!=d.sublist&&a.traverseChild(d.sublist,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("listLabel_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("listSubheader_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("proofs_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,
c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("venn2_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._bindModel=
function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness()});b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,function(){c.refreshClient()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("venn3_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._bindModel=
function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness()});b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,function(){c.refreshClient()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("marginalTable_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,
b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChild(d.columns,f,e,c);a.traverseChildrenByName("marginalTableRow",d.rows,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("marginalTableCell_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("marginalTableCell",b);c.init(d,b)};a._createChildPresenters=
function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("marginalTableRow_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("marginalTableRow",b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildrenByName("marginalTableCell",d.cells,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("animation_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};a._bindView=function(){};return a})})(k);(function(b){b.q4presenterfactory.registerClass("audio_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=
null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){};return a})})(k);(function(b){b.q4presenterfactory.registerClass("cue_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,
f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("video_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,c,g){d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,function(){c.preventVideoReplay()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("body_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("closing_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=
function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("field_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){null!=
d.label&&a.traverseChild(d.label,f,e,c);a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("label_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("message_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){null!=d.header&&a.traverseChild(d.header,f,e,c);null!=d.salutation&&a.traverseChild(d.salutation,f,e,c);null!=d.body&&a.traverseChild(d.body,f,e,c);null!=d.signature&&a.traverseChild(d.signature,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("messageDate_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){null!=d.label&&a.traverseChild(d.label,f,e,c);a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("messageHeader_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("salutation_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);
c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("signature_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("signatureBlock_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("numericEntry_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;
a._init=function(b,c,g){f=b;e=c;d=g;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};var g=function(a,c){c.setNextInputValue(a);var e=b.q4presenterfactory.newInstanceByName("presenter.common.validators.NumericEntry").init(a,d);e.isNumber()?e.isValidated()?(c.signalValidEntry(),d.setClientNumberString(a)):c.signalInvalidKeypress():c.signalInvalidKeypress()};a._bindView=function(){c.bindViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_KEYCODE,function(a,b,c,d,e){d==p?(a=b.substring(0,
c),b=b.substring(c+1),b=a+b):d==n?(a=b.substring(0,c-1),b=b.substring(c),b=a+b):b=void 0;g(b,e)});c.bindViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_ASCII,function(a,b,c,d,e){a=String.fromCharCode(d);d=b.substring(0,c);b=b.substring(c);g(d+a+b,e)});c.bindViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_INPUT,function(a,c,e){e.setNextInputValue(c);a=b.q4presenterfactory.newInstanceByName("presenter.common.validators.NumericEntry").init(c,d);a.isNumber()?a.isValidated()?(e.signalValidEntry(),
d.setClientNumberString(c)):e.setText(d.getClientNumberString()):e.setText(d.getClientNumberString())});c.bindViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_FOCUS,function(a,b){b.setText(d.getClientNumberString());c.switchToEditingMode()});c.bindViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_BLUR,function(a,b){var e=d.getClientNumberString();"-"===e&&(e="");l(e,b);c.switchToTextMode()});c.bindViewAction(b.NumericEntryConstants.VIEW_ACTION_INCREMENT,function(a,b){h(!0,b)});c.bindViewAction(b.NumericEntryConstants.VIEW_ACTION_DECREMENT,
function(a,b){h(!1,b)});c.bindViewAction(b.NumericEntryConstants.VIEW_ACTION_RESET,function(a,b){var c=d.initialValueString;d.setClientNumberString(c);l(c,b,!1)})};var h=function(a,c){var e=d.getClientNumberString(),g=-1,g=a?parseFloat(e)+d.spinnerIncrement:parseFloat(e)-d.spinnerIncrement,g=b.BasicMathToolkit.epsilonRound(g,d.placesAfterDecimal),e=""+g,g=b.q4presenterfactory.newInstanceByName("presenter.common.validators.NumericEntry").init(e,d);g.isNumber()&&g.isValidated()&&(g=b.q4presenterfactory.newInstanceByName("presenter.common.formatters.NumericEntry").init(e,
d),j(g,c)||l(e,c))},j=function(a,b){return d.showReset&&(""===a.format()||"NaN"===a.format())?(a=d.initialValueString,l(a,b,!1),!0):!1},l=function(a,c,e){d.setClientNumberString(a);d.clientEntry=d.getClientNumberString();!1===e?(c.setText(a),m(a)):(e=b.q4presenterfactory.newInstanceByName("presenter.common.formatters.NumericEntry").init(a,d),c.setText(e.format(d)),j(e,c)||m(a));b(d.getBinder()).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED)},m=function(a){var c=d.getClientVariable();
null!==c&&(a=parseFloat(a),e.fireCommand(b.q4appcontroller.COMMAND_PUBLISH_CLIENT_VARIABLE_UPDATE,c.getName(),a))};a.getView=function(){return c};var n=8,p=46;a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_GET_CLIENT_DELTA,function(){a.getClientDelta()});e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){a.handlePageGraded()})};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness(d)});
b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,function(){c.refreshClientSelection(d)})};a.handlePageGraded=function(){!d.isStatic&&!d.isScratch&&(d.graded=!0,b(d).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS))};a.getClientDelta=function(){var a=d.answer.getClientDelta();a&&f.clientDelta.push(a)};a.getNodeView=function(){return c};return a})})(k);(function(b){b.q4presenterfactory.registerClass("standaloneNumericEntry_presenter",function(){var a=
Object.create(b.q4presenterfactory.newInstanceByName("numericEntry_presenter")),d=a._init,c=null,e=null;a._init=function(b,g,h,j){d(b,g,h,j);c=h;e=g;return a};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){c.graded=!0;a.getNodeView().lockInput()})};a._bindModel=function(){b(c).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,function(){a.getNodeView().refreshClientSelection(c)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("content_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChild(d.page,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("page_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,
c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("page",b);c.init(d,b)};a._createChildPresenters=function(){null!==d.previewHeader&&a.traverseChild(d.previewHeader,f,e,c);null!==d.stages&&a.traverseChild(d.stages,f,e,c);null!==d.setup&&a.traverseChild(d.setup,f,e,c);null!==d.scenario&&a.traverseChild(d.scenario,f,e,c);a.traverseChildren(d.containers,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("pageHeader_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("pageSubheader_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,
b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("part_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.containers,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("scenario_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.containers,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("setUp_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=
function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.containers,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("stage_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("page_presenter")),d=null,c=null,e=null,f=null,g=null,h=null,j=a._init;a._init=function(b,c,n,p){g=b;f=c;d=n;e=p;h=j(g,f,d,e);return a};a._createView=function(b){c=a.createViewByName("stage",
b);c.init(d,b);h._createView(c)};a._createChildPresenters=function(){h._createChildPresenters()};return a})})(k);(function(b){b.q4presenterfactory.registerClass("stages_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.stages,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("resourceContainer_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c="slideShow"===d.resourceType?a.createViewByName("resourceContainerSlideShow",d,b):a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c);!b.isMobile()&&null===d.resourceType&&c.setInitialHeight();b.isMobile()&&"slideShow"===d.resourceType&&c.setAutoHeight()};a._bindView=
function(){c.bindViewAction(b.ResourcesConstants.VIEW_ACTION_HIDE_PANEL,function(){c.hidePanel()});c.bindViewAction(b.ResourcesConstants.VIEW_ACTION_SHOW_PANEL,function(){c.showPanel()});c.bindViewAction(b.ResourcesConstants.VIEW_ACTION_DETACH_PANEL,function(){c.detachPanel()});c.bindViewAction(b.ResourcesConstants.VIEW_ACTION_ATTACH_PANEL,function(){c.attachPanel()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("slide_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(c,h,j){f=c;e=h;d=j;(null==d.slideTitle||""===d.slideTitle)&&e.fireCommand(b.UserMessagingConstants.TYPE_AUTHORING,"Slide Show: Slide title is empty.");return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.slideContents,f,e,c)};a._childPresentersCreated=function(){c.removeContentWidth()};return a})})(k);(function(b){b.q4presenterfactory.registerClass("slideShow_presenter",function(){var a=
Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.slideShowContents,f,e,c);c.refreshTabs()};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,function(){c.refreshTabs()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("activity_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b){d=b;return a};a._createView=function(b){c=a.createView(d);c.init(d,b)};a._createChildPresenters=function(){for(var a=d.getActivityNodes(),f=0;f<a.length;f++){var g=b.q4presenterfactory.newInstanceByName("activityNode_presenter")._init(a[f]);g._createView(c);g._createChildPresenters()}};return a})})(k);(function(b){b.q4presenterfactory.registerClass("activityNode_presenter",function(){var a=
Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b){d=b;return a};a._createView=function(b){c=a.createView(d);c.init(d,b)};a._createChildPresenters=function(){if(null!==d.getQDoc()&&void 0!==d.getQDoc()){var a=d.getQDoc(),f=d.getWarningLevel(),g=null,h=function(a){a.empty();g=b.commandbus.newInstance().init("q4_commandbus");b.q4appcontroller.newInstance().init(g).start(a)};"setUp"!=d.getType()?(h(c.getParentView().getHtmlNode().find("#q4-root")),
b.activityAppcontroller.setQ4CommandBus(g)):(h(c.getParentView().getHtmlNode().find("#setup-root")),b.activityAppcontroller.setSetupCommandBus(g));g.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_RENDER_QDOC,a,f)}};return a})})(k);(function(b){b.q4presenterfactory.registerClass("description_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,
b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.containers,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("problemDescription_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("professorDescription_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("qDoc_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=
function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){d.description&&a.traverseChild(d.description,f,e,c);a.traverseChild(d.content,f,e,c);a.traverseChildByName("renderingComplete",d,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("qdom_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=
j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChild(d.root,f,e,c)};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_SHOW_DIALOG,function(a,b,d){c.showDialog(b,d)});e.addCommandHandler(b.q4appcontroller.COMMAND_TOGGLE_LOADING,function(){c.toggleLoading()});e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){c.scrollToTop()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("renderingComplete_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null;a._init=function(b,c,h){e=b;d=h;return a};a._createView=function(b){c=a.createViewByName("renderingComplete",d,b);c.init(d,b);e.getClientVariableRegistry().cascadeClientVariableInitialValues();e.getClientVariableRegistry().cascadeClientVariableInitialValues()};a._createChildPresenters=function(){};return a})})(k);(function(b){b.q4presenterfactory.registerClass("title_presenter",function(){var a=
Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("checkYourSolution_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(c,
g,l){e=g;d=l;f=b.q4gradingservice.newInstance().init({uriSFXTransform:null,uriSFXSimplify:null,uriSFXCheckSolution:"http://devq401.aplia.com/q4sfx/rest/math/sfx/check",requestType:"json"});return a};a._createView=function(b){c=a.createViewByName("checkYourSolution",d,b);c.init(d,b)};a._createChildPresenters=function(){};a._bindView=function(){c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_CHECK_SOLUTION,function(a,c,e,m,n){f.checkSolution(c,e,m,function(a){try{d.parseMathResponse(a.sfxResponse)}catch(c){n(b.jsonutil.getValue(a,
["sfxResponse","status"])["@message"]);return}d.setCheckAgain(!0);g()},n)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_CHECK_AGAIN,function(){d.setCheckAgain(!1);d.incrementCurrentCheckNumber();g()});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_TEMP_GRADE_IT_NOW,function(){e.fireCommand(b.SolveForXConstants.COMMAND_TEMP_GRADE_IT_NOW)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_BACK_TO_EQUATION,function(){c.hideCheckYourResult();e.fireCommand(b.SolveForXConstants.COMMAND_RESUME_INPUT)})};
var g=function(){c.clearDisplay();d.isCheckAgain()?c.printCheckAgain():c.printCheckYourSolution()};a._bindCommandBus=function(){e.addCommandHandler(b.SolveForXConstants.COMMAND_SHOW_CHECK_YOUR_RESULT,function(){d.setCheckYourSolutionShown(!0);c.showCheckYourResult()});e.addCommandHandler(b.SolveForXConstants.COMMAND_TEMP_GRADE_IT_NOW,function(){d.getSolveForXModel().setGraded(!0);c.removeBackToEquationButton()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("solveForX_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null,g=null,h=null;a._init=function(c,j,l,q){g=c;f=j;d=l;e=q;h=b.q4gradingservice.newInstance().init({uriSFXCanonical:"http://devq401.aplia.com/q4sfx/rest/math/sfx/canonical",uriSFXTransform:"http://devq401.aplia.com/q4sfx/rest/math/sfx/transform",uriSFXSimplify:"http://devq401.aplia.com/q4sfx/rest/math/sfx/simplify2",requestType:"json"});return a};a._createView=function(b){c=a.createView(d,
b);c.init(d,b);j()};a._createChildPresenters=function(){null!==d.checkYourSolution&&a.traverseChildByName("checkYourSolution",d.checkYourSolution,g,f,e)};a._bindView=function(){c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_TRANSFORM,function(a,c,e,f,g,l,o){g==b.SolveForXConstants.OPERATION_CHOOSE?o():h.transform(e,f,g,l,function(a){try{c.setOperation(g);c.setOperand(l);var e=b.jsonutil.getValue(a,["sfxResponse","bundle"]);d.addNextStepWithJSON(e);d.addNextActionToLastStep();j(!0)}catch(f){o(b.jsonutil.getValue(a,
["sfxResponse","status"])["@message"])}},o)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_ADD_ANOTHER_STEP,function(a,b){b.setInputAllowed(!0);j(!1)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_SIMPLIFY,function(a,c,e,f,g,l,o,k,t){h.simplify(e,f,g,l,o,k,function(a){try{c.setInputEquationLHS(o);c.setInputEquationRHS(k);var e=b.jsonutil.getValue(a,["sfxResponse","bundle"]);d.addNextStepWithJSON(e);d.addNextActionToLastStep();j(!0)}catch(f){t(b.jsonutil.getValue(a,["sfxResponse","status"])["@message"])}},
t)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_ERASE_STEP,function(a,b){d.resetToBeDeleted();d.eraseStep(b);j(!1)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_CONFIRM_GOTO,function(a,b){var c=b.getLastStep().getStepNumber()+1,c=d.getStepByNumber(c).step;d.removeStep(b);d.removeStepsInclusive(c);j(!1)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_CANCEL_GOTO,function(a,b){d.removeStep(b);d.resetToBeDeleted();d.setLastStepToActionable();j(!1)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_CANCEL_TRANSFORM,
function(a,b){b.setInputAllowed(!1);j(!1)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_I_AM_DONE,function(){d.setAllowInput(!1);j(!1)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_TOGGLE_FEEDBACK_MODE,function(){d.setShowFeedback(!d.isShowFeedback());j(!1)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_RESUME_SOLVE,function(){d.setAllowInput(!0);j(!1)});c.bindViewAction(b.SolveForXConstants.VIEW_ACTION_SHOW_CHECK_YOUR_RESULT,function(){d.setAllowInput(!1);j(!1);f.fireCommand(b.SolveForXConstants.COMMAND_SHOW_CHECK_YOUR_RESULT)})};
a._bindCommandBus=function(){f.addCommandHandler(b.SolveForXConstants.COMMAND_TEMP_GRADE_IT_NOW,function(){d.setGraded(!0);d.setShowFeedback(!0);j(!1)});f.addCommandHandler(b.SolveForXConstants.COMMAND_RESUME_INPUT,function(){d.setAllowInput(!0);j(!1)})};var j=function(a){c.clearDisplay();for(var e=d.getSteps(),f=!1,g=0;g<e.length;g++){var j=e[g];if("solveForXStepEquation"===j.type){var h=l(j,g),o=2<e.length&&1<j.getStepNumber(),k=j.getStepNumber()==d.getEquationCount()&&1!=j.getStepNumber();c.printEquation(j,
h,o,k,a,f);h=j.getFeedback();null!=h&&(f=f||h.getDirection()==b.SolveForXConstants.DIRECTION_NEGATIVE)}j.isActionable()&&("solveForXStepConfirmGoto"===j.type&&c.printConfirmGoto(j),"solveForXStepSimplify"===j.type&&(h=null,2<e.length&&0<g&&(h=e[g-1]),c.printSimplify(j,h)),"solveForXStepTransform"===j.type&&(j.isInputAllowed()?c.printTransform(j):c.printAddAnotherStep(j)))}},l=function(a,b){if(a.isActionable())return"";if(0==b&&2==d.getSteps().length)return"What would you like to do first?";if(0==
b)return"";var c=d.getSteps()[b-1];return"solveForXStepTransform"==c.type?c.getOperation()+" "+c.getOperand()+" on both sides.":"solveForXStepSimplify"==c.type?"Simplify.":""};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableCell_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){if("check"===d.dataType||"radio"===d.dataType)if(1>=
d.columnSpan)c=a.createView(d,b),c.init(d,b),d.viewArray.push(c);else for(var e=0;e<d.columnSpan;e++)c=a.createView(d,b),c.init(d,b),d.viewArray.push(c);else c=a.createView(d,b),c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.content,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("tableRow_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;
return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.cells,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("table_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=d.isDataGridTable()?a.createViewByName("dataGridTable",b):a.createView(d,b);c.init(d,b)};
a._createChildPresenters=function(){d.isDataGridTable()?(a.traverseChildrenByName("dataGridTableHeaderRow",d.headerRows,f,e,c),a.traverseChildrenByName("dataGridTableRow",d.rows,f,e,c)):a.traverseChildren(d.rows,f,e,c)};a._childPresentersCreated=function(){d.isDataGridTable()&&(0==d.headerRows.length&&c.removeTHeadHtmlNode(),c.justifyColumns())};return a})})(k);(function(b){b.q4presenterfactory.registerClass("categorizationTable_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){j.columns.type="categorizationTable";f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("categorizationTable",b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChild(d.columns,f,e,c);a.traverseChildrenByName("categorizationTableChoose",d.chooses,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("categorizationTableChoice_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("categorizationTableChoice",b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildrenByName("categorizationTableOption",d.options,f,e,c)};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_GET_CLIENT_DELTA,function(){a.getClientDelta()});e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){a.handlePageGraded()})};a._bindView=
function(){c.getChoice().addViewHandler(b.q4presenterfactory.PRESENTER_EVENT_TOGGLE_DIALOG,function(a,c,d){e.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)})};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness(d)})};a.handlePageGraded=function(){d.graded=!0};a.getClientDelta=function(){for(var a=d.getClientDelta(),b=0;b<a.length;b++)f.clientDelta.push(a[b])};return a})})(k);(function(b){b.q4presenterfactory.registerClass("categorizationTableChoicePrompt_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("categorizationTableChoicePrompt",d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("categorizationTableChoose_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("categorizationTableChoose",b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildByName("categorizationTableChoice",d.choice,f,e,c);null!=d.prompt&&a.traverseChildByName("categorizationTableChoicePrompt",d.prompt,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("categorizationTableOption_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createViewByName("categorizationTableOption",b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){a.handlePageGraded()});b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness(d)});b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,
function(){c.refreshClientSelection(d)})};a.handlePageGraded=function(){d.graded=!0;b(d).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("choice_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){if(d.getUseParentTdView())for(var b=
0;b<d.options.length;b++)a.traverseChild(d.options[b],f,e,d.parent.parent.viewArray[b]);else a.traverseChildren(d.options,f,e,c)};a._childPresentersCreated=function(){c.resizeWidth()};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_GET_CLIENT_DELTA,function(){a.getClientDelta()});e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){a.handlePageGraded()})};a._bindView=function(){c.getChoice().addViewHandler(b.q4presenterfactory.PRESENTER_EVENT_TOGGLE_DIALOG,
function(a,c,d){e.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)})};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness(d)})};a.handlePageGraded=function(){d.graded=!0};a.getClientDelta=function(){for(var a=d.getClientDelta(),b=0;b<a.length;b++)f.clientDelta.push(a[b])};return a})})(k);(function(b){b.q4presenterfactory.registerClass("option_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){a.handlePageGraded()});b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness(d)});b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,
function(){c.refreshClientSelection(d)})};a.handlePageGraded=function(){d.graded=!0;b(d).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("choose_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){null!=
d.prompt&&a.traverseChild(d.prompt,f,e,c);a.traverseChild(d.choice,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("explanation_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null,g=null;a._init=function(b,c,l,m){g=b;f=c;d=l;e=m;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.containers,g,f,c)};a._bindCommandBus=function(){f.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,
function(){c.getExplanation().showExplanation()})};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,function(){d.svgWorkaroundRenderExpanded=!0;a.init(g,f,d,e)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("fillIn_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;e=c;d=j;return a};a._createView=function(b){c=a.createView(d,b);c.init(d,b)};
a._createChildPresenters=function(){a.traverseChildren(d.contents,f,e,c)};return a})})(k);(function(b){b.q4presenterfactory.registerClass("graph_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null,g=null,h=null;a._init=function(b,c,g){f=b;e=c;d=g;return a};a._createView=function(j){b.isHTML5Supported()?(c=a.createView(d,j),c.init(d,j),j=d.getGraphDomain(),g=b.GraphPresenterFactory.newInstanceByName("GraphPresenter").init(f,
e,j,c),h=b.GraphPresenterFactory.newInstanceByName("SmallGraphPresenter").init(f,e,j,c)):(c=a.createViewByName("graph_disabled",j),c.init(d,j))};a._createChildPresenters=function(){};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){var a=d.getGraphDomain().getUse()==d.getGraphDomain().USE_STATIC,c=d.getGraphDomain().getUse()==d.getGraphDomain().USE_SCRATCH;b.isHTML5Supported()&&(!a&&!c)&&(g.setGraphTypeTitle(!1),h.showDisplay(),h.setGraphTypeTitle(!0),
h.createSVGClickMask(),b(d.getGraphDomain()).trigger(b.GraphPresenterFactory.PRESENTER_EVENT_SET_GRAPH_NON_INTERACTIVE));c&&(d.getGraphDomain().getModel().graded=!1)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("numberLine_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null;a._init=function(b,f,g){c=f;d=g;return a};a._createView=function(a){b.NumberLinePresenterFactory.newInstanceByName("NumberLinePresenter").init(null,
c,d,a)};a._createChildPresenters=function(){};return a})})(k);(function(b){b.q4presenterfactory.registerClass("standaloneTextEntry_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("textEntry_presenter")),d=a._init,c=null,e=null;a._init=function(b,g,h,j){d(b,g,h,j);c=g;e=h;return a};a._bindCommandBus=function(){c.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){e.graded=!0;a.getNodeView().lockInput()})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("textEntry_presenter",
function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,g){f=b;e=c;d=g;return a};a._createView=function(b){c=a.createViewByName("textEntry",b);c.init(d,b)};a._createChildPresenters=function(){a.traverseChildren(d.containers,f,e,c)};a._childPresentersCreated=function(){c.refreshClientInput()};a.getNodeView=function(){return c};a.setGraded=function(){};var g=function(b,c){if(!d.isGraded()){var e=" "===b.substring(0,1),
f="0"===b.substring(0,1);e||f||!a.filterInput(b.substr(-1))?c.setText(d.getClientString().toString()):(e=d.codex.hasEntry(b.trim()),""===b.trim()||e?c.signalValidEntry():c.signalInvalidEntry(),d.setClientString(b))}};a.filterInput=function(a){return!d.filterARET||""===a?!0:!d.allowSpaces&&" "===a?!1:/^([a-zA-Z0-9-+()&,'/.\u2019\u2013\u2014\u0024\u0025\s])/.test(a)};var h=function(a){d.isParenthesized()&&""!==a.trim()&&(a="("+a+")");return a};a._bindCommandBus=function(){e.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,
function(){d.graded=!0;c.refreshCorrectness()})};a._bindModel=function(){b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){c.refreshCorrectness()});b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CLIENT_SELECTION,function(){c.refreshClientInput()})};a._bindView=function(){c.bindViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_KEYCODE,function(a,b,c,d,e){46==d?(a=b.substring(0,c),b=b.substring(c+1),b=a+b):8==d?(a=b.substring(0,c-1),b=b.substring(c),b=a+b):b=void 0;
g(b,e)});c.bindViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_ASCII,function(a,b,c,d,e){a=String.fromCharCode(d);d=b.substring(0,c);b=b.substring(c);g(d+a+b,e)});c.bindViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_INPUT,function(a,c,e){g(c,e);d.isCheckmarkSupported()&&(a=d.getClientString(),-1!==a.indexOf(b.TextEntryConstants.CHECKMARK)&&(a=a.replace(b.TextEntryConstants.CHECKMARK,"","g"),e.setText(a),g(a,e)))});c.bindViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_FOCUS,function(a,b){""===
d.getClientString().toString()&&b.signalValidEntry();b.setText(d.getClientString().toString());c.switchToEditingMode()});c.bindViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_BLUR,function(a,e){var f=d.getClientString().toString();if(d.filterARET){var g=d.getClientString().toString();("."===g||"+"===g||"-"===g||"("===g||")"===g)&&d.setClientString("");d.setClientString(d.getClientString().toString().replace(/\s{2,}/g," "));d.setClientString(d.getClientString().toString().trim())}d.getToUpperCase()&&
(f=f.toUpperCase(),e.setText(h(f.toUpperCase())),d.setClientString(d.getClientString().toString().trim().toUpperCase()));d.codex.isEmpty()?(e.signalValidEntry(),e.setText(h(f))):(g=d.codex.getExactEntry(d.getClientString().toString().trim()),null===g?(e.signalInvalidEntry(),e.setText(h(f))):(e.signalValidEntry(),e.setText(h(g)),d.setClientString(g)));c.switchToTextMode();b(d.getBinder()).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED)});c.bindViewAction(b.TextEntryConstants.VIEW_ACTION_CHECKMARK_CLICKED,
function(a,c){var e=b.TextEntryConstants.CHECKMARK;c.setText(e);d.setClientString(e)})};return a})})(k);(function(b){b.q4presenterfactory.registerClass("userMessaging.loading_manager_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null;a._init=function(b,d,h){e=d;c=h;return a};a._createView=function(a){d=b.q4viewfactory.newInstanceByName("userMessaging.loadingMessage_view");d.init(c,a)};a._bindCommandBus=function(){e.addCommandHandler(b.UserMessagingConstants.TYPE_SHOW_LOADING,
function(){d.showLoadingBox()});e.addCommandHandler(b.UserMessagingConstants.TYPE_HIDE_LOADING,function(){d.hideLoadingBox()})};a._bindView=function(){};return a})})(k);(function(b){b.q4presenterfactory.registerClass("userMessaging.manager_presenter",function(){var a=Object.create(b.q4presenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(d,g,h,n){e=g;c=n;f=b.q4domfactory.newInstanceByName("userMessaging.messages").init();d=c.getHtmlNode();d.attr("tabindex",
"0").focus();d.bind("keydown",function(a){a.stopPropagation();8===a.keyCode&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName?"text"!==a.target.type&&a.preventDefault():navigator.userAgent.match(/Firefox/)?a.preventDefault():confirm("You are about to leave this page without saving your answer. \n\nAre you sure you want to leave this page without saving?")||a.preventDefault())});return a};a._createView=function(a){d=b.q4viewfactory.newInstanceByName("userMessaging.userMessage_view");
d.init(f,a)};var g=function(a,c){var g=b.q4domfactory.newInstanceByName("userMessaging.message").init(a),n=null,n=b.isArray(c)?c:[c];g.setTextArray(n);f.addMessage(g);d.isBoxOpened()||(f.moveIndexToLast(),g=f.getNextMessage(),d.setMessage(g));h();e.fireCommand(b.UserMessagingConstants.TYPE_HIDE_LOADING);d.showBox()},h=function(){var a=f.hasPrevMessage(),b=f.hasNextMessage(),c=f.getCurrentIndex(),e=f.getCount();d.updateControl(b,a,c,e)};a._bindCommandBus=function(){e.addCommandHandler(b.UserMessagingConstants.TYPE_ANSWER_SUBMISSION,
function(a,c){g(b.UserMessagingConstants.TYPE_ANSWER_SUBMISSION,c)});e.addCommandHandler(b.UserMessagingConstants.TYPE_AUTHORING,function(a,c){g(b.UserMessagingConstants.TYPE_AUTHORING,c)});e.addCommandHandler(b.UserMessagingConstants.TYPE_COMMUNICATION,function(a,c){g(b.UserMessagingConstants.TYPE_COMMUNICATION,c)});e.addCommandHandler(b.UserMessagingConstants.TYPE_RUNTIME,function(a,c){g(b.UserMessagingConstants.TYPE_RUNTIME,c)})};a._bindView=function(){d.getEventProxy().addViewHandler(b.q4presenterfactory.PRESENTER_EVENT_TOGGLE_DIALOG,
function(a,c,d){e.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)});d.bindViewAction(b.UserMessagingConstants.VIEW_ACTION_HIDE_MESSAGING_PANEL,function(){d.hideBox()});d.bindViewAction(b.UserMessagingConstants.VIEW_ACTION_NEXT_MESSAGE,function(){var a=f.getNextMessage();d.setMessage(a);h()});d.bindViewAction(b.UserMessagingConstants.VIEW_ACTION_PREV_MESSAGE,function(){var a=f.getPrevMessage();d.setMessage(a);h()})};return a})})(k);(function(b){var a=function(){var a={},c=null,e=null,f=null,
g=null;a.init=function(b){c=b.uriSFXTransform;e=b.uriSFXSimplify;f=b.uriSFXCheckSolution;g=b.uriSFXCanonical;return a};var h=function(a){switch(a){case b.SolveForXConstants.OPERATION_ADD:return"+";case b.SolveForXConstants.OPERATION_SUBTRACT:return"-";case b.SolveForXConstants.OPERATION_MULTIPLY:return"*";case b.SolveForXConstants.OPERATION_DIVIDE:return"/"}};a.convertInput=function(a,c,d){b.getJSONP(g,{expression:a},c,function(a,b){d("Server error: "+b)})};a.transform=function(a,d,e,f,g,q){var r=
c,a={initialEquationLHS:a,initialEquationRHS:d,operation:h(e),operand:f};b.getJSONP(r,a,g,function(a,b){q("Server error: "+b)})};a.simplify=function(a,c,d,f,g,h,r,k){b.getJSONP(e,{originalEquationLHS:a,originalEquationRHS:c,initialEquationLHS:d,initialEquationRHS:f,finalEquationLHS:g,finalEquationRHS:h},r,function(a,b){k("Server error: "+b)})};a.checkSolution=function(a,c,d,e,g){b.getJSONP(f,{equationLHS:a,equationRHS:c,solution:d},e,function(a,b){g("Server error: "+b)})};return a};b.extend({q4gradingservice:new function(){return{newInstance:function(){return new a}}}})})(k);
(function(b){var a=function(){var a={},b=null;a.playAudio=function(a){null===b&&(b=new Audio,b.setAttribute("controls",""));b.setAttribute("src",a);b.play()};return a};b.extend({q4mediaservice:(new function(){return{newInstance:function(){return new a}}}).newInstance()})})(k);(function(b){b.extend({eventproxy:new function(){return{createAddViewHandler:function(a){return new function(){var b={};b.addViewHandler=a;return b}},createKeypressProxy:function(a,b,c,e){return new function(){var f={},g=null;
f.setNextInputValue=function(a){g=a};f.getNextInputValue=function(){return g};f.signalInvalidKeypress=function(){b()};f.signalInvalidEntry=function(){e()};f.signalValidEntry=function(){c()};f.setText=function(b){a(b)};return f}},createTextFieldProxy:function(a,b,c){return new function(){return{setText:function(b){a(b)},signalInvalidEntry:function(){c()},signalValidEntry:function(){b()}}}}}}})})(k);(function(b){b.template("numericEntry_base_viewtmpl",'<span class="q4-numericEntry-control-span"><div class="q4-numericEntry-control"><input class="q4-numericEntry ${extraClass}" {{html extraAttributes}} value="${value}"/><div class="q4-numericEntry-answer" aria-hidden="true"/><div class="q4-numericEntry-input-control q4-numericEntry-input-control-top-reset q4-hidden" role="button" aria-label="reset" tabIndex="0">&nbsp;</div><div class="q4-numericEntry-input-control q4-numericEntry-input-control-right q4-hidden" role="button" aria-label="increment" tabIndex="0">&nbsp;</div><div class="q4-numericEntry-input-control q4-numericEntry-input-control-left q4-hidden" role="button" aria-label="decrement" tabIndex="0">&nbsp;</div></div></span>');
b.q4viewfactory.registerClass("numericEntry_base_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="numericEntry_base_view";var d=null,c=null,e=null,f=null,g=null,h=null,j=null,l=null,m=!1;a.setShowSpinner=function(a){m=a};a._render=function(f,g){j=f;var h={extraClass:""};f.isStatic&&(h.extraClass="q4-numericEntry-static",h.extraAttributes='readonly="readonly" tabIndex="-1"');if(f.isInTableCell){var l=f.parent.columnHeading.trim();0<l.length&&(h.extraAttributes=
f.isStatic?h.extraAttributes+(' aria-label="'+l+'"'):'aria-label="'+l+'"')}""!==f.clientEntry&&(h.value=f.clientEntry);d=b.tmpl("numericEntry_base_viewtmpl",h);j.additionalPadding&&d.find(".q4-numericEntry").addClass("q4-percentage-padding");c=d.find(".q4-numericEntry");e=d.find("div.q4-numericEntry-input-control");q();d.appendTo(g.getHtmlNode());d=d.find("div.q4-numericEntry-control");h=r(c,j.getMaxString()+"X");"tableEntryCell_view"!==g.nodeName&&"heaTableEntryCell_view"!==g.nodeName&&c.css("width",
h+"px");f.isStatic||w();z();a._refreshClientSelection(j);a.switchToTextMode()};var n=function(){null!==l&&(clearTimeout(l),l=null)},p=function(){null!==l&&n();l=setTimeout(function(){e.addClass("q4-hidden")},50)},q=function(){j.showReset&&(f=b(e[0]),f.bind("focus",function(){n()}),f.touchclick(function(){n();var c=b.eventproxy.createTextFieldProxy(x(),u(),o());a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_RESET,c)}),f.keydown(function(c){if(32===c.keyCode||13===c.keyCode)n(),c=b.eventproxy.createTextFieldProxy(x(),
u(),o()),a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_RESET,c)}),f.bind("blur",function(){p();var c=b.eventproxy.createTextFieldProxy(x(),u(),o());a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_BLUR,c)}));j.showPlus&&(h=b(e[1]),b.q4domfactory.newInstanceByName("numericEntrySpinnerModel").init(h,function(){n()},function(){var c=b.eventproxy.createTextFieldProxy(x(),u(),o());a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_INCREMENT,c)}),h.keydown(function(c){if(c.keyCode===
32||c.keyCode===13){n();c=b.eventproxy.createTextFieldProxy(x(),u(),o());a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_INCREMENT,c)}}),h.bind("blur",function(){p()}));j.showMinus&&(g=b(e[2]),b.q4domfactory.newInstanceByName("numericEntrySpinnerModel").init(g,function(){n()},function(){var c=b.eventproxy.createTextFieldProxy(x(),u(),o());a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_DECREMENT,c)}),g.keydown(function(c){if(c.keyCode===32||c.keyCode===13){n();c=b.eventproxy.createTextFieldProxy(x(),
u(),o());a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_DECREMENT,c)}}),g.bind("blur",function(){p()}))},r=function(a,c){var d=document.createElement("div");document.body.appendChild(d);b(d).css({position:"absolute",left:-1E3,top:-1E3,display:"none"});b(d).html(c);b("font-size font-style font-weight font-family line-height text-transform letter-spacing".split(" ")).each(function(){var c=this.toString();b(d).css(c,b(a).css(c))});var e=0,e=b(d).outerWidth();b(d).remove();return e},s=function(a){return function(){a.preventDefault()}},
o=function(){return function(){c.addClass("q4-numeric-entry-invalid")}},u=function(){return function(){c.removeClass("q4-numeric-entry-invalid")}},t=function(d){var e=c.attr("value"),d=b.eventproxy.createKeypressProxy(x(),s(d),u(),o());a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_INPUT,e,d);j.clientEntry=c.attr("value");b(j).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)},w=function(){c.bind("keydown",function(d){if(13==d.which)c.blur();else if(0==c.getSelection().length&&
(8==d.which||46==d.which)){var e=c.attr("value"),f=b.eventproxy.createKeypressProxy(x(),s(d),u(),o());a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_KEYCODE,e,c.getSelection().start,d.which,f);j.clientEntry=j.getClientNumberString();b(j).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)}});c.bind("keypress",function(d){if(0==c.getSelection().length&&!(8==d.which||0==d.which)&&!d.metaKey){var e=c.attr("value"),f=b.eventproxy.createKeypressProxy(x(),s(d),u(),o());
a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_ASCII,e,c.getSelection().start,d.which,f);j.clientEntry=j.getClientNumberString();b(j).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)}});c.bind("input",function(a){t(a)})},x=function(){return function(a){if(null!==j&&null!==j.restrictedNumbers&&0<j.restrictedNumbers.length)for(var b=0;b<j.restrictedNumbers.length;b++)if(parseFloat(a)===j.restrictedNumbers[b]){a="";break}c.attr("value",a);c.removeClass("q4-text-entry-default-text")}},
B=function(){},y=function(){},z=function(){var d=b.eventproxy.createTextFieldProxy(x(),u(),o());B=function(){a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_BLUR,d)};y=function(){a.fireViewAction(b.NumericEntryConstants.VIEW_ACTION_HANDLE_FOCUS,d)};j.isStatic||c.bind("focus",function(){y();m&&(j.showReset&&f.removeClass("q4-hidden"),j.showMinus&&g.removeClass("q4-hidden"),j.showPlus&&h.removeClass("q4-hidden"),n())});c.bind("blur",function(){B();p()})};a._refreshClientSelection=function(a){a=
b.q4presenterfactory.newInstanceByName("presenter.common.formatters.NumericEntry").init(a.clientEntry,a);x()(a.format());t();B()};a._refreshCorrectness=function(a){d.unbind("click");d.unbind("touchstart");d.unbind("keydown");d.removeAttr("tabindex");d.removeAttr("aria-haspopup");d.removeAttr("aria-label");var e=d.find(".q4-numericEntry-answer");e.css("display","inline-block");e.hide();e.html("");var f="font-size font-style font-weight font-family line-height text-transform letter-spacing".split(" ");
b(f).each(function(){var a=this.toString();e.css(a,c.css(a))});var g=c.attr("value");if(!g||""===g)g="&nbsp;";g=b('<div class="q4-numericEntry-graded" style="width: '+c.width()+"px; height: "+(0==c.height()?14:c.height())+'px;">'+g+"</div>");c.replaceWith(g);c=g;b(f).each(function(){var a=this.toString();c.css(a,e.css(a))});if(a.isCorrect())d.removeClass("q4-numericEntry-control-incorrect"),d.find("img").remove(),d.append('<img alt="Correct" class="q4-numericEntry-control-correctness" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAADOZMz+fP0ylTFmsWWayZnK4cn+/f4zFjJnMmbLYsr/fv8zlzNjr2OXy5fL48gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhQAP8JHDjwgAGCCA8ECOAAocAFCw84/OdAQAABDR0WWJhA4EYFAhMsHPBAIIGLDRosDLBgIMQABAYsLIDQwMqFDRzKXIhgIoOFAiaGDAASYUAAOw=="/>'),
d.attr("title",""),d.css("width",c.width()+12+8+"px");else{d.addClass("q4-numericEntry-control-incorrect");d.find("img").remove();d.append('<img alt="Incorrect" class="q4-numericEntry-control-correctness" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAAP8AAP8PD/8fH/8vL/8/P/9PT/9fX/9vb/9/f/+fn/+vr/+/v//Pz//f3//v7wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhWAP8JHEhwoIEAAhwIVBAgAAOBDgQEKPAvYoADBBc0XEAgwIAHBRE0bPiw4L+OARKY/PdA4kSTDzoOaKiS4IGGDUQ6HJiApsCOAkD+S0B0oAOiJVcSDAgAOw=="/>');
d.attr("title","click to show correct answer");d.attr("tabindex","0");d.attr("aria-haspopup","true");d.attr("aria-label","click to show correct answer");d.css("width",c.width()+12+8+"px");null!==a.answer.answer?(a=b.q4presenterfactory.newInstanceByName("presenter.common.formatters.NumericEntry").init(""+a.answer.answer,a).format(),e.html(a)):e.html("(Blank)");var j=function(){if(e.is(":visible")){e.hide();e.attr("aria-hidden","true");d.attr("title","click to show correct answer");d.attr("aria-label",
"click to show correct answer")}else{e.css("left",c.position().left+c.width());e.css("top",c.position().top-c.height()-8);e.show();e.attr("aria-hidden","false");d.attr("title","click to hide correct answer");d.attr("aria-label","click to hide correct answer")}};d.touchclick(function(a,b){j();b.preventDefault();b.stopPropagation();b.stopImmediatePropagation()});d.keydown(function(a){if(a.keyCode===32){j();a=k.Event(a);a.preventDefault();a.stopPropagation();a.stopImmediatePropagation()}})}};a.getHtmlNode=
function(){return d};a.displayAffixes=function(){if(""===c.attr("value")){var a=j.getDefaultFormat().placeholderType;c.attr("value",j.getDefaultFormat().placeholder);c.removeClass("q4-text-entry-left-aligned");c.removeClass("q4-text-entry-right-aligned");c.removeClass("q4-text-entry-center-aligned");"prefix"===a?c.addClass("q4-text-entry-left-aligned"):"suffix"===a?c.addClass("q4-text-entry-right-aligned"):c.addClass("q4-text-entry-center-aligned");c.addClass("q4-text-entry-default-text")}};a.switchToEditingMode=
function(){c.removeClass("q4-text-entry-center-aligned");c.removeClass("q4-text-entry-right-aligned");c.addClass("q4-text-entry-left-aligned");c.removeClass("q4-text-entry-default-text")};a.switchToTextMode=function(){j.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_LEFT&&(c.removeClass("q4-text-entry-right-aligned"),c.removeClass("q4-text-entry-center-aligned"),c.addClass("q4-text-entry-left-aligned"));j.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT&&(c.removeClass("q4-text-entry-left-aligned"),
c.removeClass("q4-text-entry-center-aligned"),c.addClass("q4-text-entry-right-aligned"));j.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_CENTER&&(c.removeClass("q4-text-entry-left-aligned"),c.removeClass("q4-text-entry-right-aligned"),c.addClass("q4-text-entry-center-aligned"));a.displayAffixes()};a.lockInput=function(){c.attr("readonly","readonly");c.attr("tabindex","-1")};return a})})(k);(function(b){var a=navigator.userAgent.toLowerCase(),d=-1!==a.indexOf("ipad")||-1!==a.indexOf("iphone")||
-1!==a.indexOf("android");b.fn.touchclickstart=function(a){d?this.bind("touchstart",function(b){a(this,b)}):this.bind("mousedown",function(b){a(this,b)})};b.fn.touchclickend=function(a){d?this.bind("touchend",function(b){a(this,b)}):this.bind("mouseup",function(b){a(this,b)})};b.fn.touchclick=function(a){if(!d)return this.bind("click",function(b){a(this,b)}),this;this.click(function(a){a.preventDefault()});var b=this,f=!1,g=function(){f=!0},h=function(d){b.unbind("touchmove",g);b.unbind("touchend",
h);f||a(b,d)};this.bind("touchstart",function(){f=!1;b.bind("touchmove",g);b.bind("touchend",h)});return this}})(k);(function(b){b.template("rowTableEntryGroup_viewtmpl",'<div class="q4-table-entry-group q4-table-entry-group-hea"><div class="q4-table-entry-group-notAttempted q4-hidden">Question not attempted.</div><div class="q4-table-entry-group-top"></div><div class="q4-table-entry-group-content"></div><div class="q4-table-entry-group-bottom"></div></div>');b.template("HEA_PAGE_CONTROL",'<div class="q4-table-entry-group-page-control"></div>');
b.template("HEA_PAGE_BUTTON",'<div class="q4-table-entry-group-page-button q4-table-entry-group-page-button-${pageNumber}">${pageText}</div>');b.template("HEA_TOTAL_SCORE",'<div class="q4-table-entry-group-total-score-hea">Score: <span class="q4-table-entry-group-total-score-numbers">${totalScore}</span></div>');b.q4viewfactory.registerClass("rowTableEntryGroup_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="rowTableEntryGroup_view";var d=null,c=null,
e=null,f=null,g=null,h=null,j=null,l=null;a._render=function(j,h){void 0!==j.getGradableModel&&(g=j.getGradableModel());c=b.tmpl("rowTableEntryGroup_viewtmpl");c.appendTo(h.getHtmlNode());f=c.find(".q4-table-entry-group-notAttempted");d=c.find(".q4-table-entry-group-content");if(j.hasPages()){e=b.tmpl("HEA_PAGE_CONTROL");e.prependTo(c);var l=j.getWorkingStateTableEntryTable();j.getWorkingStateTableEntryTable();g=j.getWorkingStateTableEntryTable();if(l.isShowPages())for(var r=l.getPages(),k=r.length-
1;0<=k;k--){var o=r[k],u=o.getPageNumber(),o={pageNumber:u,pageText:o.getHeaderPrefix()+" "+u},o=b.tmpl("HEA_PAGE_BUTTON",o);o.touchclick(m(l,u));c.find(".q4-table-entry-group-page-control").append(o)}a.refreshPageSelection(l)}};a.getHtmlNode=function(){return d};var m=function(a,b){return function(){a.setSelectedPageNumber(b);a.getPartnerTable().setSelectedPageNumber(b)}};a.refreshPageSelection=function(a){a=a.getSelectedPageNumber();d.find("tbody").not("tbody.q4-table-entry-footer").addClass("q4-hidden");
d.find("tbody.q4-table-entry-page-"+a).removeClass("q4-hidden");e.find("div.q4-table-entry-group-page-button").removeClass("q4-table-entry-group-page-button-selected");e.find("div.q4-table-entry-group-page-button-"+a).addClass("q4-table-entry-group-page-button-selected")};a.refreshCorrectness=function(){g.isAttempted()?f.addClass("q4-hidden"):f.removeClass("q4-hidden");var a=b.q4viewfactory.newInstanceByName("tableRejoinderTarget").initWithCorrectnessModel(g);if(a.hasTotalScore()){var d={totalScore:a.getTotalHeader()},
e=c.find(".q4-table-entry-group-content");e.find(".q4-table-entry-group-total-score-hea").detach();j=b.tmpl("HEA_TOTAL_SCORE",d);e.prepend(j)}a.hasRejoinder()&&null===h&&(h=a.createRejoinderTarget(),e=c.find(".q4-table-entry-group-title-hea>:first-child"),e.append(h),h.children().focus(function(){a.hasRejoinder()&&(null===l?(l=b.TableEntryDialogFactory.createRejoinderDialog(a,a.getAnchorNode(),h),b.TableEntryDialogFactory.updateRejoinderDialog(l,a)):l.show())}),h.children().blur(function(){l.remove();
l=null}))};return a})})(k);(function(b){b.template("TITLE_TABLE_HEADING",'<table class="q4-table-entry-group-title-working"></table>');b.template("CORRECT_STATE_HEADING",'<div class="q4-table-entry-heading"><div class="q4-table-entry-heading-solution-bar"><div class="q4-table-entry-heading-bar-container"><div class="q4-table-entry-heading-bar"></div></div><div class="q4-table-entry-heading-tag-container"><div class="q4-table-entry-heading-tag">Solution</div></div></div><div class="q4-table-entry-heading-table-spacing"></div></div>');
b.q4viewfactory.registerClass("rowTableEntryHeading_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="rowTableEntryHeading_view";var d=null,c=null,e=null;a._render=function(a,g){c=a;d=b.tmpl("TITLE_TABLE_HEADING");d.insertBefore(g.getHtmlNode());c.containsWorkingState()||(e=b.tmpl("CORRECT_STATE_HEADING"),e.insertBefore(d))};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.q4viewfactory.registerClass("rowTableEntryTable_view",function(){var a=
Object.create(b.q4viewfactory.newInstanceByName("tableEntryTable_view"));a.nodeName="rowTableEntryTable_view";a.adjustTitleAndFooterWidth=function(){b(a.getParentView().getHtmlNode()[0]).width(a.getHtmlNode().outerWidth())};return a})})(k);(function(b){b.template("rowTableEntryTitleCell_viewtmpl",'<td class="q4-table-entry-cell" tabIndex="-1"></td>');b.template("TEXT_CELL",'<td class="q4-table-entry-cell"><div class="q4-table-entry-cell-content-static" tabIndex="-1">${text}</div></td>');b.template("TEXT_CELL_EMPTY",
'<td class="q4-table-entry-cell"><div class="q4-table-entry-cell-content" tabIndex="-1">&nbsp;</div></td>');b.template("EDITABLE_TEXT_CELL",'<td class="q4-table-entry-cell"><div class="q4-table-entry-cell-content" tabIndex="-1"></div></td>');b.q4viewfactory.registerClass("rowTableEntryTitleCell_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="rowTableEntryTitleCell_view";var d=null,c=null,e=null,f=null,g=null,h=null,j=null;a._render=function(f,j){e=
f;g="cellRejoinderTarget";h=j;var n=e,p={text:n.clientText};switch(n.getType()){case b.TableEntryConstants.COLUMN_TYPE_TEXT:case b.TableEntryConstants.COLUMN_TYPE_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL:case b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN:n.isEditable()?c=b.tmpl("EDITABLE_TEXT_CELL",p):(c=
null===p.text?b.tmpl("TEXT_CELL_EMPTY",p):b.tmpl("TEXT_CELL",p),e.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_CENTER&&c.addClass("q4-table-entry-cell-centered"),e.getHasBold()&&c.addClass("q4-table-entry-cell-bold"))}c.appendTo(j.getHtmlNode());d=c;c=!n.isEditable()&&null!==p.text?c.find("div.q4-table-entry-cell-content-static"):c.find("div.q4-table-entry-cell-content");n.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_CENTER&&c.addClass("q4-table-entry-cell-centered");e.getHasBold()&&
c.addClass("q4-table-entry-cell-bold");n=e.getColumnWidthType();void 0!==n&&d.addClass(n);a.refreshIndent();a.refreshBorder()};a.getParentView=function(){return h};a.getHtmlNode=function(){return c};a.refresh=function(){switch(e.getType()){case b.TableEntryConstants.COLUMN_TYPE_TEXT:case b.TableEntryConstants.COLUMN_TYPE_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL:case b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN:case b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER:e.isEditable()?
(c.find("div.q4-table-entry-editable-text").html("&nbsp"+e.clientText),c.find("input.q4-table-entry-editable-input").attr("value",e.clientText)):c.html(e.clientText)}};a.refreshCorrectness=function(){e.isGraded()&&(e.getRejoinder()&&c.addClass("q4-table-entry-cell-incorrect"),c.find("input").addClass("q4-table-entry-cell-input-graded"))};a.createGradedMask=function(){if(null===f){var d=b.q4viewfactory.newInstanceByName(g).initWithCorrectnessModel(e),h=c.width(),n=c.height();f=d.createRejoinderTarget();
f.width(h+"px");f.height(n+"px");c.prepend(f);f.touchclick(function(){d.hasRejoinder()&&(null===j&&(j=b.TableEntryDialogFactory.createRejoinderDialog(d,c)),b.TableEntryDialogFactory.updateRejoinderDialog(j,d),a.fireViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,b(j),!0))})}};a.refreshIndent=function(){var a=e.getIndentLevel(),b="q4-table-entry-cell-content-indented";-1!==a&&(b="q4-table-entry-cell-content-indent-level-"+a);e.isIndented()&&(e.getShowIndentWhenEmpty()||e.hasClientText())?
c.addClass(b):c.removeClass(b)};a.refreshUneditableContent=function(){c.text(e.clientText)};a.refreshBorder=function(){e.hasBottomDoubleBorder()&&(e.getShowBorderWhenEmpty()||e.hasClientText())?d.addClass("q4-table-entry-cell-bottom-double-rule"):d.removeClass("q4-table-entry-cell-bottom-double-rule");e.hasTopSingleBorder()&&(e.getShowBorderWhenEmpty()||e.hasClientText())?d.addClass("q4-table-entry-cell-top-single-rule"):d.removeClass("q4-table-entry-cell-top-single-rule");e.hasBottomSingleBorder()&&
(e.getShowBorderWhenEmpty()||e.hasClientText())?d.addClass("q4-table-entry-cell-bottom-single-rule"):d.removeClass("q4-table-entry-cell-bottom-single-rule")};return a})})(k);(function(b){b.template("TITLE_ROW",'<tr class="q4-table-entry-group-title-container-hea"></tr>');b.q4viewfactory.registerClass("rowTableEntryTitleRow_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="rowTableEntryTitleRow_view";var d=null;a._render=function(a,e){d=b.tmpl("TITLE_ROW");
d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("heaTableEntryCell_viewtmpl",'<td class="q4-table-entry-cell" tabIndex="-1"></td>');b.template("TEXT_CELL",'<td class="q4-table-entry-cell"><div class="q4-table-entry-cell-content-static" tabIndex="-1">${text}</div></td>');b.template("TEXT_CELL_EMPTY",'<td class="q4-table-entry-cell"><div class="q4-table-entry-cell-content" tabIndex="-1">&nbsp;</div></td>');b.template("EDITABLE_TEXT_CELL",'<td class="q4-table-entry-cell"><div class="q4-table-entry-cell-content" tabIndex="-1"></div></td>');
b.q4viewfactory.registerClass("heaTableEntryCell_view",function(){function a(a){var b=c.getRow().cells,e=0;if(-1!==c.getTrueColumnIndex())e=c.getTrueColumnIndex();else for(var f=0;f<b.length;f++)c===b[f]&&(e=f);b=c.getRow().getPage().getTable().getSelectedPageNumber();if("width"===a)return a=d.getParentView().getParentView().getTableView().getColumnWidth(e),void 0===a&&(a=d.getParentView().getParentView().getTableView().getHtmlNode().find(".q4-table-entry-page-"+b+" tr:first-child td.q4-table-entry-cell:nth-child("+
(e+1)+")").width(),d.getParentView().getParentView().getTableView().setColumnWidth(e,a)),a;if("height"===a)return j}var d=Object.create(b.q4viewfactory.newInstanceByName("base_view"));d.nodeName="heaTableEntryCell_view";var c=null,e=null,f=null,g=null,h=null,j=27,l=null,m=null,n=null,p=null;d._render=function(a,g){c=a;c.isShowRowCorrectness()?(e=c.getRow(),h="lineRejoinderTarget"):(e=c,h="cellRejoinderTarget");f=g;var j=c,n={text:j.clientText};j.isParenthesized()&&(null!==n.text&&""!==n.text.trim())&&
(n.text="("+n.text+")");switch(j.getType()){case b.TableEntryConstants.COLUMN_TYPE_TEXT:case b.TableEntryConstants.COLUMN_TYPE_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL:case b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN:j.isEditable()?(m=b.tmpl("EDITABLE_TEXT_CELL",n),q()):(m=null===n.text?b.tmpl("TEXT_CELL_EMPTY",
n):b.tmpl("TEXT_CELL",n),c.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_CENTER&&m.addClass("q4-table-entry-cell-centered"),c.getHasBold()&&m.addClass("q4-table-entry-cell-bold"),j.getType()===b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE&&m.children().addClass("q4-additional-padding"))}m.appendTo(g.getHtmlNode());l=m;m=!j.isEditable()&&null!==n.text?m.find("div.q4-table-entry-cell-content-static"):m.find("div.q4-table-entry-cell-content");j.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_CENTER&&
m.addClass("q4-table-entry-cell-centered");c.getHasBold()&&m.addClass("q4-table-entry-cell-bold");j=c.getColumnWidthType();void 0!==j&&l.addClass(j);void 0!==c.getInterleaved()&&l.addClass("q4-table-entry-row-is-interleaved-"+c.getInterleaved());d.refreshIndent();d.refreshBorder();r(m)};d.getParentView=function(){return f};d.getHtmlNode=function(){return m};var q=function(){m.find("div.q4-table-entry-editable-text").focus(function(){k()})},r=function(a){a.bind("focus",function(){k()});a.bind("blur",
function(){f.hideRowControl()})},k=function(){c.isGraded()||f.showRowControl()};d.refresh=function(){switch(c.getType()){case b.TableEntryConstants.COLUMN_TYPE_TEXT:case b.TableEntryConstants.COLUMN_TYPE_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL:case b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN:case b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER:c.isEditable()?
(m.find("div.q4-table-entry-editable-text").html("&nbsp"+c.clientText),m.find("input.q4-table-entry-editable-input").attr("value",c.clientText)):m.html(c.clientText)}};d.bindInputFocus=function(){m.find("input").bind("focus",function(){k()});m.find("input").bind("blur",function(){f.hideRowControl()})};d.refreshCorrectness=function(){e.isGraded()&&(e.getRejoinder()&&m.addClass("q4-table-entry-cell-incorrect"),m.find("input").addClass("q4-table-entry-cell-input-graded"))};d.refreshTransactionCorrectness=
function(){var a,d;a=c.getRow();d=b.q4viewfactory.newInstanceByName("transactionRejoinderTarget").initWithCorrectnessModel(a);d.getContentWidth=function(){return d.CONTENT_WIDE};if(null!==a.getTransactionRejoinder())if(null===p){var e,f;p=d.createRejoinderTarget();a=1;e=c.getInterleaved();for(f=c.getRow().rowIndex;"end"!==e;){if(f===c.getRow().getRowsArray().length)return;a++;f++;f<c.getRow().getRowsArray().length&&(e=c.getRow().getRowsArray()[f].getCell(0).getInterleaved())}p.css("height",24*a+2*
(a-1)+"px");p.addClass("q4-table-entry-cell-incorrect").attr("tabindex","0");m.append(p);p.focus(function(){null===n?(n=b.TableEntryDialogFactory.createRejoinderDialog(d,p,m),b.TableEntryDialogFactory.updateRejoinderDialog(n,d)):n.show()});p.blur(function(){null!==n&&n.hide()})}else m.children().detach(),n=p=null};d.createGradedMask=function(){if(null===g){var c=b.q4viewfactory.newInstanceByName(h).initWithCorrectnessModel(e),f=a("width"),j=a("height");g=c.createRejoinderTarget();g.width(f+"px");
g.height(j+"px");m.prepend(g);g.touchclick(function(){c.hasRejoinder()&&(null===n&&(n=b.TableEntryDialogFactory.createRejoinderDialog(c,m)),b.TableEntryDialogFactory.updateRejoinderDialog(n,c),d.fireViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,b(n),!0))})}};d.refreshIndent=function(){var a=c.getIndentLevel(),b="q4-table-entry-cell-content-indented";-1!==a&&(b="q4-table-entry-cell-content-indent-level-"+a);c.isIndented()&&(c.getShowIndentWhenEmpty()||c.hasClientText())?m.addClass(b):
m.removeClass(b)};d.refreshUneditableContent=function(){m.text(c.clientText)};d.refreshBorder=function(){c.hasBottomDoubleBorder()&&(c.getShowBorderWhenEmpty()||c.hasClientText())?l.addClass("q4-table-entry-cell-bottom-double-rule"):l.removeClass("q4-table-entry-cell-bottom-double-rule");c.hasTopSingleBorder()&&(c.getShowBorderWhenEmpty()||c.hasClientText())?l.addClass("q4-table-entry-cell-top-single-rule"):l.removeClass("q4-table-entry-cell-top-single-rule");c.hasBottomSingleBorder()&&(c.getShowBorderWhenEmpty()||
c.hasClientText())?l.addClass("q4-table-entry-cell-bottom-single-rule"):l.removeClass("q4-table-entry-cell-bottom-single-rule")};d.addDoubleCellText=function(a){m.append('<span class="q4-table-entry-cell-double-cell">'+a+"</span>")};return d})})(k);(function(b){b.template("accounting-debug_viewtmpl",'<div class="q4-exhibit" style="background:pink"></div>');b.template("accounting-debug_view_nested_tmpl",'<div class="q4-nested-exhibit"></div>');b.q4viewfactory.registerClass("accounting-debug_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="accounting-debug_view";var d=null;a._render=function(a,e){!e.getHtmlNode().hasClass("q4-exhibit")&&0===e.getHtmlNode().parents("div.q4-exhibit").length?(d=b.tmpl("accounting-debug_viewtmpl"),d.appendTo(e.getHtmlNode()),e.getHtmlNode().append('<div class="q4-newline"></div>')):(d=b.tmpl("accounting-debug_view_nested_tmpl"),d.appendTo(e.getHtmlNode()))};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.q4viewfactory.registerClass("accountRejoinderTarget",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("tableRejoinderTarget"));b.template("ACCOUNT_REJOINDER_TARGET",'<div class="q4-table-entry-account-rejoinder"><div class="q4-table-entry-account-rejoinder-anchor"></div></div>');b.template("ACCOUNT_INFO_REJOINDER_TARGET",'<div class="q4-table-entry-account-info-rejoinder"><div class="q4-table-entry-account-rejoinder-anchor"></div></div>');var d=a.initWithCorrectnessModel;a.initWithCorrectnessModel=function(b){d(b);return a};a.createRejoinderTarget=
function(){var c=null,c=a.hasFullCredit()?b.tmpl("ACCOUNT_INFO_REJOINDER_TARGET"):b.tmpl("ACCOUNT_REJOINDER_TARGET");a.setRejoinderTargetNode(c);return c};a.getHeader=function(){return"Account-level score: "+a.getScoresDisplay()};a.getAnchorNode=function(){return a.getRejoinderTargetNode().find(".q4-table-entry-account-rejoinder-anchor")};a.getRejoinderGroups=function(){return a.createRejoinderGroups(a.getCorrectnessModel().getRejoinder())};return a})})(k);(function(b){b.q4viewfactory.registerClass("cellRejoinderTarget",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("rejoinderTarget"));b.template("CELL_REJOINDER_TARGET",'<div class="q4-table-entry-cell-graded-mask">&nbsp;</div>');var d=a.initWithCorrectnessModel;a.initWithCorrectnessModel=function(b){d(b);return a};a.createRejoinderTarget=function(){return b.tmpl("CELL_REJOINDER_TARGET")};a.hasCreditDeducted=function(){return!0};a.getContentWidth=function(){return a.CONTENT_MEDIUM};a.hasRejoinder=function(){return null!==a.getCorrectnessModel().getRejoinder()};
return a})})(k);(function(b){b.q4viewfactory.registerClass("lineRejoinderTarget",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("rejoinderTarget"));b.template("LINE_REJOINDER_TARGET",'<div class="q4-table-entry-line-graded-mask">&nbsp;</div>');var d=a.initWithCorrectnessModel;a.initWithCorrectnessModel=function(b){d(b);return a};a.createRejoinderTarget=function(){return b.tmpl("LINE_REJOINDER_TARGET")};a.getHeader=function(){return"Line-level score: "+a.getCorrectnessModel().getCreditsEarned()+
"/"+a.getCorrectnessModel().getCreditsPossible()};a.getRejoinderGroups=function(){return a.createRejoinderGroups(a.getCorrectnessModel().getRejoinder())};return a})})(k);(function(b){b.q4viewfactory.registerClass("rejoinderTarget",function(){var a={},b=null,c=null;a.CONTENT_WIDE=0;a.CONTENT_MEDIUM=1;a.CONTENT_NARROW=2;a.initWithCorrectnessModel=function(c){b=c;return a};a.getCorrectnessModel=function(){return b};a.getNarrowRejoinderCharLimit=function(){return 200};a.createRejoinderTarget=function(){throw Error("createRejoinderTarget must be implemented by subclass.");
};a.setRejoinderTargetNode=function(a){c=a};a.getRejoinderTargetNode=function(){return c};a.getScoresDisplay=function(){return null!==b.getCreditsEarned()&&null!==b.getCreditsPossible()?b.getCreditsEarned()+"/"+b.getCreditsPossible():null};a.getTotalScoreDisplay=function(){return null!==b.getTotalEarned()&&null!==b.getTotalPossible()?b.getTotalEarned()+"/"+b.getTotalPossible():null};a.getRejoinderLines=function(){return null!==b.getRejoinder()?-1!==a.getCorrectnessModel().getRejoinder().indexOf("~")?
null:b.getRejoinder().split("|"):null};a.getRejoinderGroups=function(){return null};a.createRejoinderGroups=function(a){if(null===a)return null;for(var b=[],a=a.split("~"),c=0;c<a.length;c++){var d=a[c];""===d.trim()?b.push([]):(d=d.split("|"),b.push(d))}return b};a.getContentWidth=function(){return null===b.getRejoinder()?a.CONTENT_NARROW:a.CONTENT_WIDE};a.hasCreditDeducted=function(){return-1!==b.getCreditsPossible()&&-1!==b.getCreditsEarned()?b.getCreditsPossible()!==b.getCreditsEarned():!1};a.hasFullCredit=
function(){return b.getCreditsEarned()===b.getCreditsPossible()};a.hasRejoinder=function(){return 0<a.getCorrectnessModel().getCreditsPossible()};a.getHeader=function(){return null};a.getSubHeader=function(){return null};return a})})(k);(function(b){b.q4viewfactory.registerClass("tableRejoinderTarget",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("rejoinderTarget"));b.template("TABLE_REJOINDER_TARGET",'<div class="q4-table-entry-group-rejoinder"><div class="q4-table-entry-group-rejoinder-anchor"></div></div>');
b.template("TABLE_INFO_REJOINDER_TARGET",'<div class="q4-table-entry-group-info-rejoinder"><div class="q4-table-entry-group-rejoinder-anchor"></div></div>');var d=a.initWithCorrectnessModel;a.initWithCorrectnessModel=function(b){d(b);return a};a.createRejoinderTarget=function(){var c=null,c=a.hasFullCredit()?b.tmpl("TABLE_INFO_REJOINDER_TARGET"):b.tmpl("TABLE_REJOINDER_TARGET");a.setRejoinderTargetNode(c);return c};a.getAnchorNode=function(){return a.getRejoinderTargetNode().find(".q4-table-entry-group-rejoinder-anchor")};
a.getHeader=function(){return"Journal-level score: "+a.getScoresDisplay()};a.hasTotalScore=function(){return-1!==a.getCorrectnessModel().getTotalEarned()&&-1!==a.getCorrectnessModel().getTotalPossible()};a.getTotalHeader=function(){return a.getTotalScoreDisplay()};a.getSubHeader=function(){return null};a.getRejoinderGroups=function(){return a.createRejoinderGroups(a.getCorrectnessModel().getRejoinder())};a.hasRejoinder=function(){return a.getCorrectnessModel().isAttempted()?0<a.getCorrectnessModel().getCreditsPossible():
!1};return a})})(k);(function(b){b.q4viewfactory.registerClass("transactionRejoinderTarget",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("rejoinderTarget"));b.template("TRANSACTION_REJOINDER_TARGET",'<div class="q4-table-entry-row-transaction-rejoinder"></div>');b.template("TRANSACTION_INFO_REJOINDER_TARGET",'<div class="q4-table-entry-row-transaction-info-rejoinder"></div>');var d=a.initWithCorrectnessModel;a.initWithCorrectnessModel=function(b){d(b);return a};a.createRejoinderTarget=
function(){var c=null;return c=a.hasCreditDeducted()?b.tmpl("TRANSACTION_REJOINDER_TARGET"):b.tmpl("TRANSACTION_INFO_REJOINDER_TARGET")};a.getHeader=function(){return"Transaction-level score: "+a.getCorrectnessModel().getTransactionCreditsEarned()+"/"+a.getCorrectnessModel().getTransactionCreditsPossible()};a.getRejoinderLines=function(){return null!==a.getCorrectnessModel().getTransactionRejoinder()?-1!==a.getCorrectnessModel().getTransactionRejoinder().indexOf("~")?null:a.getCorrectnessModel().getTransactionRejoinder().split("|"):
null};a.getRejoinderGroups=function(){return a.createRejoinderGroups(a.getCorrectnessModel().getTransactionRejoinder())};a.hasWideContent=function(){return null!==a.getCorrectnessModel().getTransactionRejoinder()?a.getCorrectnessModel().getTransactionRejoinder().length>a.getNarrowRejoinderCharLimit():!1};a.hasCreditDeducted=function(){return-1!==a.getCorrectnessModel().getTransactionCreditsPossible()&&-1!==a.getCorrectnessModel().getTransactionCreditsEarned()?a.getCorrectnessModel().getTransactionCreditsPossible()!==
a.getCorrectnessModel().getTransactionCreditsEarned():!1};a.hasRejoinder=function(){return 0<a.getCorrectnessModel().getTransactionCreditsPossible()};return a})})(k);(function(b){b.extend({TableEntryDialogFactory:new function(){var a={};b.template("REJOINDER",'<div class="q4-table-entry-rejoinder"><div class="q4-table-entry-rejoinder-arrow-background"></div><div class="q4-table-entry-rejoinder-arrow"></div><div class="q4-table-entry-rejoinder-content"><div class="q4-table-entry-rejoinder-content-header"></div><div class="q4-table-entry-rejoinder-content-subheader"></div><div class="q4-table-entry-rejoinder-content-text"></div></div></div>');
b.template("REJOINDER_MATCHING_LINE_HEADER",'<div class="q4-table-entry-rejoinder-matching-line">${line}</div>');a.createRejoinderDialog=function(a,c,e){var f=b.tmpl("REJOINDER");switch(a.getContentWidth()){case a.CONTENT_MEDIUM:b(f).addClass("q4-table-entry-rejoinder-medium");break;case a.CONTENT_WIDE:b(f).addClass("q4-table-entry-rejoinder-wide")}void 0!==e?e.append(f):c.append(f);var g=b(c).outerHeight(),e=b(c).outerWidth(),a=b(f).outerWidth(),e=-(a/2-e/2);b(f).css({left:e+"px",top:g+-4+"px"});
var h;h=c.parents("div.q4-table-entry-group-hea").length?c.parent().parent():c.parents("div.q4-renderer");var c=b(f).offset().left,g=h.outerWidth(),j=a/2-6;h=h.offset().left;var l=0;c<h?(l=h-c,b(f).css("left",e+l+"px")):c+a>g+h&&(l=g+h-c-a-31,b(f).css("left",e+l+"px"));b(f).find("div.q4-table-entry-rejoinder-arrow").css("left",j-l-2+"px");b(f).find("div.q4-table-entry-rejoinder-arrow-background").css("left",j-l-2-2+"px");return f};a.updateRejoinderDialog=function(a,c){var e=c.getHeader(),f=c.getSubHeader(),
g=c.getRejoinderLines();if(null!==e){var h=b(a).find(".q4-table-entry-rejoinder-content-header");h.empty();h.html(e)}null!==f&&(e=b(a).find(".q4-table-entry-rejoinder-content-subheader"),e.empty(),e.html(f));if(null!==g)if(f=b(a).find(".q4-table-entry-rejoinder-content-text"),f.empty(),1===g.length)g=g[0],f=b(a).find(".q4-table-entry-rejoinder-content-text"),f.html(g);else{var j=b("<ul/>").appendTo(f);b.each(g,function(a,b){j.append("<li>"+b+"</li>")})}else if(g=c.getRejoinderGroups(),null!==g){f=
b(a).find(".q4-table-entry-rejoinder-content-text");f.empty();for(e=0;e<g.length;e++)h=g[e],0<e&&e===g.length-1?(h=b.tmpl("REJOINDER_MATCHING_LINE_HEADER",{line:h[0]}),f.append(h)):(j=b("<ul/>").appendTo(f),b.each(h,function(a,b){j.append("<li>"+b+"</li>")}))}};return a}})})(k);(function(b){b.template("WORKING_STATE_ACCOUNT_TOGGLE",'<div class="q4-table-entry-account-toggle-container"><div class="q4-table-entry-account-toggle"><div class="q4-table-entry-account-toggle-icon"></div><div class="q4-table-entry-account-toggle-hit-zone"></div><span class="q4-table-entry-account-title-fieldname">Account: </span><span class="q4-table-entry-account-title">${accountTitle}</span><span class="q4-table-entry-account-number">${accountNumber}</span><span class="q4-table-entry-account-number-fieldname">Account No. </span></div><div class="q4-table-entry-account-toggle-content"></div></div>');
b.q4viewfactory.registerClass("tableEntryAccountToggle_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="tableEntryAccountToggle_view";var d=null,c=null,e=null,f=null,g=null,h=null,j=null,l=null,m=null;a._render=function(j,h){l=j;m=l.workingStateTableEntryTable;if(m.hasAccountHeader()){var k=m.getAccountHeaderTitle(),o=m.getAccountHeaderNumber();d=b.tmpl("WORKING_STATE_ACCOUNT_TOGGLE",{accountTitle:k,accountNumber:o});g=h.getHtmlNode();d.appendTo(g);
c=d.find(".q4-table-entry-account-toggle");e=c.find(".q4-table-entry-account-toggle-hit-zone");f=d.find(".q4-table-entry-account-toggle-icon");d=d.find(".q4-table-entry-account-toggle-content");n();a.close();p()}};a.getHtmlNode=function(){return d};var n=function(){var a=function(){var a=d.is(":visible");l.workingStateTableEntryTable.isGraded()||(g.find(".q4-table-entry-account-toggle-content").hide(),g.find(".q4-table-entry-account-toggle-icon").removeClass("q4-table-entry-account-toggle-icon-opened"));
a?d.hide():d.show();p()};c.find("span").touchclick(function(b){a(b)});e.touchclick(function(b){a(b)})},p=function(){"none"===d.css("display")?f.removeClass("q4-table-entry-account-toggle-icon-opened"):f.addClass("q4-table-entry-account-toggle-icon-opened")};a.open=function(){d.show();p()};a.close=function(){d.hide();p()};a.setAccountToggleWidth=function(a){var b=d.width()-2;c.width(b+"px");a?e.width(b-25+"px"):e.width(b+"px")};a.refreshCorrectness=function(){if(m.isGraded()){var d=b.q4viewfactory.newInstanceByName("accountRejoinderTarget").initWithCorrectnessModel(m);
d.hasRejoinder()&&(null===h&&(h=d.createRejoinderTarget(),a.setAccountToggleWidth(!0),c.append(h)),h.touchclick(function(){if(d.hasRejoinder()){if(j===null){var c=d.getAnchorNode();j=b.TableEntryDialogFactory.createRejoinderDialog(d,c)}b.TableEntryDialogFactory.updateRejoinderDialog(j,d);a.fireViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,b(j),true)}}))}};return a})})(k);(function(b){b.template("tableEntryCell_viewtmpl",'<td class="q4-table-entry-cell" tabIndex="-1"></td>');b.template("TEXT_CELL",
'<td class="q4-table-entry-cell"><div class="q4-table-entry-cell-content-static" tabIndex="-1">${text}</div></td>');b.template("TEXT_CELL_EMPTY",'<td class="q4-table-entry-cell"><div class="q4-table-entry-cell-content" tabIndex="-1">&nbsp;</div></td>');b.template("EDITABLE_TEXT_CELL",'<td class="q4-table-entry-cell"><div class="q4-table-entry-cell-content" tabIndex="-1"></div></td>');b.q4viewfactory.registerClass("tableEntryCell_view",function(){function a(a){var b=g.getRow().cells,c=0;if(-1!==g.getTrueColumnIndex())c=
g.getTrueColumnIndex();else for(var e=0;e<b.length;e++)g===b[e]&&(c=e);b=g.getRow().getPage().getTable().getSelectedPageNumber();if("width"===a)return a=d.getParentView().getParentView().getTableView().getColumnWidth(c),void 0===a&&(a=d.getParentView().getParentView().getTableView().getHtmlNode().find(".q4-table-entry-page-"+b+" tr:first-child td.q4-table-entry-cell:nth-child("+(c+1)+")").width(),d.getParentView().getParentView().getTableView().setColumnWidth(c,a)),a;if("height"===a)return p}var d=
Object.create(b.q4viewfactory.newInstanceByName("base_view"));d.nodeName="tableEntryCell_view";var c=null,e=null,f=null,g=null,h=null,j=null,l=null,m=null,n=null,p=27;d._render=function(a,l){g=a;g.isShowRowCorrectness()?(h=g.getRow(),j="lineRejoinderTarget"):(h=g,j="cellRejoinderTarget");f=l;var m=g,n={text:m.clientText};m.isParenthesized()&&(null!==n.text&&""!==n.text.trim())&&(n.text="("+n.text+")");switch(m.getType()){case b.TableEntryConstants.COLUMN_TYPE_TEXT:case b.TableEntryConstants.COLUMN_TYPE_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL:case b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN:m.isEditable()?
(e=b.tmpl("EDITABLE_TEXT_CELL",n),q()):(e=null===n.text?b.tmpl("TEXT_CELL_EMPTY",n):b.tmpl("TEXT_CELL",n),g.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_CENTER&&e.addClass("q4-table-entry-cell-centered"),g.getHasBold()&&e.addClass("q4-table-entry-cell-bold"))}e.appendTo(l.getHtmlNode());c=e;e=!m.isEditable()&&null!==n.text?e.find("div.q4-table-entry-cell-content-static"):e.find("div.q4-table-entry-cell-content");m.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_CENTER&&e.addClass("q4-table-entry-cell-centered");
g.getHasBold()&&e.addClass("q4-table-entry-cell-bold");m=g.getColumnWidthType();void 0!==m&&c.addClass(m);d.refreshIndent();d.refreshBorder();k(e)};d.getParentView=function(){return f};d.getHtmlNode=function(){return e};var q=function(){e.find("div.q4-table-entry-editable-text").focus(function(){r()})};d.refresh=function(){switch(g.getType()){case b.TableEntryConstants.COLUMN_TYPE_TEXT:case b.TableEntryConstants.COLUMN_TYPE_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_LONG_NUMBER:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE:case b.TableEntryConstants.COLUMN_TYPE_PERCENTAGE_WITH_SYMBOL:case b.TableEntryConstants.COLUMN_TYPE_CURRENCY_WITH_SIGN:case b.TableEntryConstants.COLUMN_TYPE_NEGATIVE_LONG_NUMBER:g.isEditable()?
(e.find("div.q4-table-entry-editable-text").html("&nbsp"+g.clientText),e.find("input.q4-table-entry-editable-input").attr("value",g.clientText)):e.html(g.clientText)}};var r=function(){g.isGraded()||f.showRowControl()},k=function(a){a.bind("focus",function(){r()});a.bind("blur",function(){f.hideRowControl()})};d.bindInputFocus=function(){e.find("input").bind("focus",function(){r()});e.find("input").bind("blur",function(){f.hideRowControl()})};d.refreshCorrectness=function(){if(h.isGraded()){e.find("input").addClass("q4-table-entry-cell-input-graded");
var c=b.q4viewfactory.newInstanceByName(j).initWithCorrectnessModel(h);if(c.hasRejoinder()){e.find("div.q4-table-entry-cell-graded-mask").addClass("q4-table-entry-cell-incorrect");c.hasCreditDeducted()?e.addClass("q4-table-entry-cell-incorrect"):e.addClass("q4-table-entry-cell-incorrect-info");var c=a("width"),d=0;e.hasClass("q4-table-entry-cell-content-indented")&&(d=11);e.hasClass("q4-table-entry-cell-content-indent-level-1")&&(d=6);e.hasClass("q4-table-entry-cell-content-indent-level-1_5")&&(d=
11);e.hasClass("q4-table-entry-cell-content-indent-level-2")&&(d=16);e.hasClass("q4-table-entry-cell-content-indent-level-2_5")&&(d=21);e.hasClass("q4-table-entry-cell-content-indent-level-3")&&(d=26);e.hasClass("q4-table-entry-cell-content-indent-level-3_5")&&(d=31);e.hasClass("q4-table-entry-cell-content-indent-level-4")&&(d=36);e.css("width",c-10-d+"px");c=a("height");e.css("height",c-4+"px")}}};d.refreshTransactionCorrectness=function(){var a=g.getRow();if(a.isGraded()){var c=b.q4viewfactory.newInstanceByName("transactionRejoinderTarget").initWithCorrectnessModel(a);
c.hasRejoinder()&&(null===n&&null!==a.getTransactionRowCount())&&(n=c.createRejoinderTarget(),a=a.getTransactionRowCount()*p-5,n.css("height",a+"px"),e.append(n),n.touchclick(function(){c.hasRejoinder()&&(null===m&&(m=b.TableEntryDialogFactory.createRejoinderDialog(c,n,e)),b.TableEntryDialogFactory.updateRejoinderDialog(m,c),d.fireViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,b(m),!0))}))}};d.createGradedMask=function(){if(null===l){var c=b.q4viewfactory.newInstanceByName(j).initWithCorrectnessModel(h),
f=a("width"),g=a("height");l=c.createRejoinderTarget();l.width(f+"px");l.height(g+"px");e.prepend(l);l.touchclick(function(){c.hasRejoinder()&&(null===m&&(m=b.TableEntryDialogFactory.createRejoinderDialog(c,e)),b.TableEntryDialogFactory.updateRejoinderDialog(m,c),d.fireViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,b(m),!0))})}};d.refreshIndent=function(){var a=g.getIndentLevel(),b="q4-table-entry-cell-content-indented";-1!==a&&(b="q4-table-entry-cell-content-indent-level-"+a);g.isIndented()&&
(g.getShowIndentWhenEmpty()||g.hasClientText())?e.addClass(b):e.removeClass(b)};d.refreshBorder=function(){g.hasBottomDoubleBorder()&&(g.getShowBorderWhenEmpty()||g.hasClientText())?c.addClass("q4-table-entry-cell-bottom-double-rule"):c.removeClass("q4-table-entry-cell-bottom-double-rule");g.hasTopSingleBorder()&&(g.getShowBorderWhenEmpty()||g.hasClientText())?c.addClass("q4-table-entry-cell-top-single-rule"):c.removeClass("q4-table-entry-cell-top-single-rule");g.hasBottomSingleBorder()&&(g.getShowBorderWhenEmpty()||
g.hasClientText())?c.addClass("q4-table-entry-cell-bottom-single-rule"):c.removeClass("q4-table-entry-cell-bottom-single-rule")};d.addDoubleCellText=function(a){e.append('<span class="q4-table-entry-cell-double-cell">'+a+"</span>")};return d})})(k);(function(b){b.template("tableEntryFooter_viewtmpl",'<div class="q4-table-entry-footer"></div>');b.template("FOOTER_SPACING",'<div class="q4-table-entry-footer-spacing"></div>');b.q4viewfactory.registerClass("tableEntryFooter_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="tableEntryFooter_view";var d=null,c=null;a._render=function(a,f){c=a;d=b.tmpl("tableEntryFooter_viewtmpl");d.appendTo(f.getContainerNode());c.hasAccountHeader()&&b.tmpl("FOOTER_SPACING").appendTo(f.getContainerNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("tableEntryGroup_viewtmpl",'<div class="q4-table-entry-group"><div class="q4-table-entry-group-unattempted q4-hidden">Question not attempted.</div><div class="q4-table-entry-group-top"></div><div class="q4-table-entry-group-title"><div class="q4-table-entry-group-title-text-container"><div class="q4-table-entry-group-title-text">${title}</div></div></div><div class="q4-table-entry-group-content"></div><div class="q4-table-entry-group-bottom"></div></div>');
b.template("PAGE_CONTROL",'<div class="q4-table-entry-group-page-control"></div>');b.template("PAGE_BUTTON",'<div class="q4-table-entry-group-page-button q4-table-entry-group-page-button-${pageNumber}">${pageText}</div>');b.template("TOTAL_SCORE",'<div class="q4-table-entry-group-total-score">Score: <span class="q4-table-entry-group-total-score-numbers">${totalScore}</span></div>');b.q4viewfactory.registerClass("tableEntryGroup_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="tableEntryGroup_view";var d=null,c=null,e=null,f=null,g=null,h=null,j=null,l=null;a._render=function(j,h){var l=j.getTitle().toUpperCase();void 0!==j.getGroupTitle&&(l=j.getGroupTitle().toUpperCase());l={title:l};void 0!==j.getGradableModel&&(g=j.getGradableModel());c=b.tmpl("tableEntryGroup_viewtmpl",l);c.appendTo(h.getHtmlNode());f=c.find(".q4-table-entry-group-unattempted");d=c.find(".q4-table-entry-group-content");if(j.hasPages()){e=b.tmpl("PAGE_CONTROL");e.prependTo(c);l=j.getWorkingStateTableEntryTable();
j.getWorkingStateTableEntryTable();g=j.getWorkingStateTableEntryTable();if(l.isShowPages())for(var r=l.getPages(),k=r.length-1;0<=k;k--){var o=r[k],u=o.getPageNumber(),o={pageNumber:u,pageText:o.getHeaderPrefix()+" "+u},o=b.tmpl("PAGE_BUTTON",o);o.touchclick(m(l,u));c.find(".q4-table-entry-group-page-control").append(o)}a.refreshPageSelection(l)}};a.getHtmlNode=function(){return d};var m=function(a,b){return function(){a.setSelectedPageNumber(b);a.getPartnerTable().setSelectedPageNumber(b)}};a.refreshPageSelection=
function(a){a=a.getSelectedPageNumber();d.find("tbody").not("tbody.q4-table-entry-footer").addClass("q4-hidden");d.find("tbody.q4-table-entry-page-"+a).removeClass("q4-hidden");e.find("div.q4-table-entry-group-page-button").removeClass("q4-table-entry-group-page-button-selected");e.find("div.q4-table-entry-group-page-button-"+a).addClass("q4-table-entry-group-page-button-selected")};a.refreshCorrectness=function(){if(g.isGraded()){g.isAttempted()?f.addClass("q4-hidden"):f.removeClass("q4-hidden");
var d=b.q4viewfactory.newInstanceByName("tableRejoinderTarget").initWithCorrectnessModel(g);if(d.hasTotalScore()&&null===j){var e={totalScore:d.getTotalHeader()},m=c.find(".q4-table-entry-group-title-text-container");j=b.tmpl("TOTAL_SCORE",e);m.append(j)}d.hasRejoinder()&&null===h&&(h=d.createRejoinderTarget(),m=c.find(".q4-table-entry-group-title"),m.append(h),h.touchclick(function(){if(d.hasRejoinder()){if(null===l){var c=d.getAnchorNode();l=b.TableEntryDialogFactory.createRejoinderDialog(d,c)}b.TableEntryDialogFactory.updateRejoinderDialog(l,
d);a.fireViewAction(b.TableEntryConstants.VIEW_ACTION_SHOW_REJOINDER,b(l),!0)}}))}};return a})})(k);(function(b){b.template("tableEntryHeader_viewtmpl",'<thead><tr class="q4-table-entry-header"></tr></thead>');b.template("HEADER_ROW",'<tr class="q4-table-entry-header"></tr>');b.q4viewfactory.registerClass("tableEntryHeader_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="tableEntryHeader_view";var d=null,c=null,e=null;a._render=function(a,g){e=a;g.getHtmlNode();
d=b.tmpl("tableEntryHeader_viewtmpl");d.appendTo(g.getHtmlNode());2===e.colInfos.length&&(c=b.tmpl("HEADER_ROW"),d.append(c));d=d.find("tr.q4-table-entry-header")[0]};a.getHtmlNode=function(){return d};a.getSecondHeaderNode=function(){return c};return a})})(k);(function(b){b.template("tableEntryHeaderCell_viewtmpl",'<th class="q4-table-entry-header-cell" rowspan="${rowspan}" colspan="${colspan}">${title}</th>');b.q4viewfactory.registerClass("tableEntryHeaderCell_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="tableEntryHeaderCell_view";var d=null;a._render=function(a,e){var f=a.getRowSpan(),g=a.getColSpan();0===f||0===g||(f={title:a.getTitle().toUpperCase(),colspan:g,rowspan:f},d=b.tmpl("tableEntryHeaderCell_viewtmpl",f),a.isSecondHeaderRow()?d.appendTo(e.getSecondHeaderNode()):d.appendTo(e.getHtmlNode()))};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("WORKING_STATE_HEADING",'<div class="q4-table-entry-heading"></div>');b.template("WORKING_STATE_WORKSHEET_INFO",
'<div class="q4-table-entry-heading-worksheet-info"><span>${periodLabel}</span></div>');b.template("WORKING_STATE_WORKSHEET_TITLE_HEADER_OVERRIDE",'<div class="q4-table-entry-group-title-company-name">${companyTitle}</div>');b.template("CORRECT_STATE_HEADING",'<div class="q4-table-entry-heading"><div class="q4-table-entry-heading-solution-bar"><div class="q4-table-entry-heading-bar-container"><div class="q4-table-entry-heading-bar"></div></div><div class="q4-table-entry-heading-tag-container"><div class="q4-table-entry-heading-tag">Solution</div></div></div><div class="q4-table-entry-heading-table-spacing"></div></div>');
b.template("CORRECT_STATE_ACCOUNT_INFO",'<div class="q4-table-entry-account-info"><span class="q4-table-entry-account-title-fieldname">Account: </span><span class="q4-table-entry-account-title">${accountTitle}</span><span class="q4-table-entry-account-number">${accountNumber}</span><span class="q4-table-entry-account-number-fieldname">Account No. </span></div>');b.q4viewfactory.registerClass("tableEntryHeading_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName=
"tableEntryHeading_view";var d=null,c=null;a._render=function(a,f){c=a;if(c.containsWorkingState())d=b.tmpl("WORKING_STATE_HEADING");else if(d=b.tmpl("CORRECT_STATE_HEADING"),c.hasAccountHeader()){var g=c.getAccountHeaderTitle(),h=c.getAccountHeaderNumber();b.tmpl("CORRECT_STATE_ACCOUNT_INFO",{accountTitle:g,accountNumber:h}).insertAfter(d.find(".q4-table-entry-heading-solution-bar"))}d.prependTo(f.getContainerNode());c.hasWorksheetHeading()&&(g={companyTitle:c.getCompanyTitle(),periodLabel:c.getPeriodLabel()},
b.tmpl("WORKING_STATE_WORKSHEET_INFO",g).prependTo(f.getContainerNode()),g=f.getContainerNode().parents(".q4-table-entry-group").find(".q4-table-entry-group-title-text-container"),f.getContainerNode().parents(".q4-table-entry-group").find(".q4-table-entry-group-title").addClass("q4-table-entry-group-title-worksheet"),b.tmpl("WORKING_STATE_WORKSHEET_TITLE_HEADER_OVERRIDE",{companyTitle:c.getCompanyTitle()}).prependTo(g))};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("tableEntryPage_viewtmpl",
'<tbody class="q4-table-entry-page-${pageNumber}"></tbody>');b.q4viewfactory.registerClass("tableEntryPage_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="tableEntryPage_view";var d=null,c=null,e=null;a._render=function(a,g){c=a;e=g;var h={pageNumber:c.getPageNumber()};d=b.tmpl("tableEntryPage_viewtmpl",h);d.appendTo(g.getHtmlNode())};a.getHtmlNode=function(){return d};a.getTableView=function(){return e};return a})})(k);(function(b){b.template("tableEntryRow_viewtmpl",
'<tr class="q4-table-entry-row"></tr>');b.template("CORRECTNESS_MARKER",'<div class="q4-table-entry-row-correctness-marker"><div class="q4-table-entry-row-correctness-marker-correct q4-hidden">&nbsp;</div><div class="q4-table-entry-row-correctness-marker-partial-correct q4-hidden">&nbsp;</div><div class="q4-table-entry-row-correctness-marker-incorrect q4-hidden">&nbsp;</div></div>');b.q4viewfactory.registerClass("tableEntryRow_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="tableEntryRow_view";var d=null,c=null,e=null,f=[];a._render=function(f,h){e=f;c=h;d=b.tmpl("tableEntryRow_viewtmpl");e.isEditable()||d.addClass("q4-table-entry-row-uneditable");d.appendTo(h.getHtmlNode());a.refreshBorder()};a.getParentView=function(){return c};a.getHtmlNode=function(){return d};a.addCellView=function(a){f.push(a)};a.getCellViews=function(){return f};a.setTransactionRejoinder=function(){};a.setTransactionRowCount=function(){};a.refreshBorder=function(){e.hasTopBorder()?
!0===e.canDrawTopBorder()&&d.find("td").addClass("q4-table-entry-transaction-row"):d.find("td").removeClass("q4-table-entry-transaction-row");e.hasBottomBorder()?d.find("td").addClass("q4-table-entry-group-row"):d.find("td").removeClass("q4-table-entry-group-row")};a.showRowControl=function(){var a=d.find("td");a.addClass("q4-table-entry-row-control-highlighted");d.find("input").addClass("q4-textEntry-row-active");c.getTableView().setHighlightedTdNode(a)};a.hideRowControl=function(){c.getTableView().hideAllRowControls();
d.find("td div.q4-table-entry-control").addClass("q4-hidden");d.find("input").removeClass("q4-textEntry-row-active");b(e).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED)};return a})})(k);(function(b){b.template("tableEntryTable_viewtmpl",'<div class="${tableBorderCSS} q4-hidden"><table class="${cssClass}"></table></div>');b.q4viewfactory.registerClass("tableEntryTable_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="tableEntryTable_view";
var d=null,c=null,e=null,f=null,g=null,h={},j={};a._render=function(g,j){f=j;e=g;var h=null,h=e.getTableCSSNameOverride();if(null===h){var h=b.jsonutil.removeAllWhitespaces(e.getTableTitle()),p=e.getTableVariant();null!==p&&(h+="-"+p)}h={cssClass:"q4-table-entry q4-table-entry-"+h,tableBorderCSS:"q4-table-entry-table-border"};e.hasAccountHeader()&&(h.tableBorderCSS="q4-table-entry-table-no-border");d=b.tmpl("tableEntryTable_viewtmpl",h);e.containsWorkingState()?d.addClass("q4-table-entry-working-state"):
d.addClass("q4-table-entry-correct-state");d.appendTo(j.getHtmlNode());c=d;d=d.find("table");a.refreshTable()};a.fixFirefoxTableCollapse=function(){d.addClass("q4-table-entry-firefox-collapse-fix")};a.getHtmlNode=function(){return d};a.getContainerNode=function(){return c};a.getParentView=function(){return f};a.setHighlightedTdNode=function(a){g=a};a.hideAllRowControls=function(){null!==g&&g.removeClass("q4-table-entry-row-control-highlighted")};a.refreshTable=function(){e.containsWorkingState()?
d.parent().removeClass("q4-hidden"):e.isGraded()&&d.parent().removeClass("q4-hidden")};a.createCorrectnessMarker=function(){};a.refreshCorrectness=function(){e.isGraded()};a.getColumnWidth=function(a){return h[a]};a.setColumnWidth=function(a,b){h[a]=b};a.getColumnHeight=function(a){return j[a]};a.setColumnHeight=function(a,b){j[a]=b};return a})})(k);(function(b){b.q4viewfactory.registerClass("base_view",function(){var a={init:function(b,c){void 0!==this._bindModel&&this._bindModel(b);this._render(b,
c);return a},refreshCorrectness:function(a){a.graded&&void 0!==this._refreshCorrectness&&this._refreshCorrectness(a)},refreshClientSelection:function(a){void 0!==this._refreshClientSelection&&this._refreshClientSelection(a)},bindViewAction:function(c,d){b(a).bind(c,d)},fireViewAction:function(c){for(var d=[],g=0;g<arguments.length;g++)0!=g&&d.push(arguments[g]);b(a).triggerHandler(c,d)}},d=null,c=function(){return!1};a.disableGlobalTextSelection=function(){null===d&&(d=b("body"));d.addClass("q4-disable-user-select");
d.bind("selectstart",c)};a.enableGlobalTextSelection=function(){null===d&&(d=b("body"));d.removeClass("q4-disable-user-select");d.unbind("selectstart",c)};return a})})(k);(function(b){b.template("chart_viewtmpl",'<script type="text/javascript">${gRaphael}<\/script>');b.q4viewfactory.registerClass("chart_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="chart_view";var d=null;a._render=function(a,e){d=b.tmpl("chart_viewtmpl",{gRaphael:"var r = Raphael(10, 50, 640, 480); r.g.piechart(320, 240, 100, [55, 20, 13, 32, 5, 1, 2]);"});
d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("calcXml_viewtmpl",'<span class="q4-calcXml"></span>');b.q4viewfactory.registerClass("calcXml_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="calcXml_view";var d=null;a._render=function(a,e){d=b.tmpl("calcXml_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("containerHeader_viewtmpl",
'<div class="q4-containerHeader"></div>');b.q4viewfactory.registerClass("containerHeader_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="containerHeader_view";var d=null;a._render=function(a,e){d=b.tmpl("containerHeader_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("containerSubheader_viewtmpl",'<div class="q4-containerSubheader"></div>');b.q4viewfactory.registerClass("containerSubheader_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="containerSubheader_view";var d=null;a._render=function(a,e){d=b.tmpl("containerSubheader_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("containerTitle_viewtmpl",'<div class="q4-containerTitle"></div>');b.q4viewfactory.registerClass("containerTitle_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName=
"containerTitle_view";var d=null;a._render=function(a,e){d=b.tmpl("containerTitle_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("exhibit_viewtmpl",'<div class="q4-exhibit${cssSubClass}"></div>');b.template("exhibit_view_nested_tmpl",'<div class="q4-nested-exhibit"></div>');b.q4viewfactory.registerClass("exhibit_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="exhibit_view";var d=null;
a._render=function(a,e){if(!e.getHtmlNode().hasClass("q4-exhibit")&&0===e.getHtmlNode().parents("div.q4-exhibit").length){var f={cssSubClass:""};a.styled||(f.cssSubClass="-unstyled");a.noMargin&&(f.cssSubClass="-nomargin");d=b.tmpl("exhibit_viewtmpl",f);d.appendTo(e.getHtmlNode());e.getHtmlNode().append('<div class="q4-newline"></div>')}else d=b.tmpl("exhibit_view_nested_tmpl"),d.appendTo(e.getHtmlNode());a.containsTable()&&d.addClass("q4-task-content-scrollable")};a.getHtmlNode=function(){return d};
return a})})(k);(function(b){b.template("instructions_viewtmpl",'<div class="q4-instructions"></div>');b.q4viewfactory.registerClass("instructions_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="instructions_view";var d=null;a._render=function(a,e){d=b.tmpl("instructions_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("paragraph_viewtmpl",'<div class="q4-paragraph"></div>');b.q4viewfactory.registerClass("paragraph_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="paragraph_view";var d=null;a._render=function(a,e){d=b.tmpl("paragraph_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("parallelExposition_viewtmpl",'<div class="q4-parallelExposition"></div>');b.q4viewfactory.registerClass("parallelExposition_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="parallelExposition_view";
var d=null;a._render=function(a,e){d=b.tmpl("parallelExposition_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("parallelExpositionContainer_viewtmpl",'<div class="q4-parallelExpositionContainer"></div>');b.q4viewfactory.registerClass("parallelExpositionContainer_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="parallelExpositionContainer_view";var d=null;a._render=function(a,e){d=b.tmpl("parallelExpositionContainer_viewtmpl");
d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("parallelExpositionNewLine_viewtmpl",'<div class="q4-newline"></div>');b.q4viewfactory.registerClass("parallelExpositionNewLine_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="parallelExpositionNewLine_view";var d=null;a._render=function(a,e){d=b.tmpl("parallelExpositionNewLine_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};
return a})})(k);(function(b){b.template("prompt_viewtmpl",'<div class="q4-prompt"></div>');b.q4viewfactory.registerClass("prompt_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="prompt_view";var d=null;a._render=function(a,e){d=b.tmpl("prompt_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("task_viewtmpl",'<div class="q4-task"><div class="q4-task-content"></div><div class="q4-task-scoring q4-hidden"><div class="q4-task-box"><div class="q4-task-score-fieldname q4-system-text">Points:</div><div class="q4-task-score-bar"><div class="q4-task-score-fill"></div></div><div class="q4-task-score-number q4-system-text"></div></div></div><div class="q4-newline"></div></div>');
b.q4viewfactory.registerClass("task_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="task_view";var d=null,c=null,e=null;a._render=function(a,g){var h=b.tmpl("task_viewtmpl");h.appendTo(g.getHtmlNode());c=h.find("div.q4-task-content");a.containsTable()&&c.addClass("q4-task-content-scrollable");e=h.find("div.q4-task-scoring");d=a};a.getHtmlNode=function(){return c};a.showTaskScoring=function(a,c,h){var j=e.find("div.q4-task-score-bar").css("width"),j=
j.substring(0,j.length-2);e.find("div.q4-task-score-fill").css("width",j*a+"px");a=c*d.weight;h*=d.weight;a=b.BasicMathToolkit.epsilonRound(a,2);h=b.BasicMathToolkit.epsilonRound(h,2);e.find("div.q4-task-score-number").html(a+" / "+h);e.removeClass("q4-hidden")};a.refreshCorrectness=function(b){var c=b.getScorePercentage(),d=b.getScoreNumerator(),b=b.getScoreDenominator();a.showTaskScoring(c,d,b)};return a})})(k);(function(b){b.template("calc_viewtmpl",'<span class="${calcClass}" title="${title}"></span>');
b.q4viewfactory.registerClass("calc_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="calc_view";var d=null;a._render=function(a,e){d=b.tmpl("calc_viewtmpl",{title:a.expression,calcClass:"bracket"===a.type?"q4-calc-bracket":"q4-calc"});d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("contentGroup_viewtmpl",'<div class="q4-content-group"></div>');b.q4viewfactory.registerClass("contentGroup_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="contentGroup_view";var d=null,c=null;a._render=function(a,f){c=d=b.tmpl("contentGroup_viewtmpl");d.appendTo(f.getHtmlNode());f.getHtmlNode().hasClass("q4-parallel-sections")&&(c.addClass("q4-parallel-section"),c.addClass("q4-section-default"));b.each(a.role,function(a,b){switch(b){case "sectionSources":c.addClass("q4-hidden");break;case "parallelSections":c.addClass("q4-parallel-sections");c.addClass("clearfix");
break;case "mediaDisplay":case "tableDisplay":case "graphDisplay":case "graphTask":case "tableTask":c.removeClass("q4-section-default");c.addClass("q4-section-width-fit")}})};a.getHtmlNode=function(){return d};a.revealContentGroupNode=function(){c.removeClass("q4-hidden")};a.updateSectionLayout=function(){for(var a=c.children(),d=c.outerWidth(),g=0,h=0,j=a.length,l=[0],m=[],n=[],p=0,q=0;h<j;){do{if(h==j)break;var r=b(a[h]);g<d&&(r.hasClass("q4-section-width-fit")?p+=r.outerWidth():q++);g+=r.outerWidth();
h++}while(g<=d);g>d&&(h--,l.push(h),g=0,p-=b(a[h]).outerWidth());m.push(p);p=0;n.push(q);q=0}for(g=h=0;g<l.length;g++){p=g==l.length-1?j:l[g+1];for(q=l[g];q<p;q++)0!=n[g]&&(r=Math.floor((d-m[g])/n[g]),b(a[h]).hasClass("q4-section-default")&&b(a[h]).css("max-width",r)),h++}};return a})})(k);(function(b){b.template("contentGroupHeader_viewtmpl",'<div class="q4-content-group-header"></div>');b.q4viewfactory.registerClass("contentGroupHeader_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="contentGroupHeader_view";var d=null;a._render=function(a,e){d=b.tmpl("contentGroupHeader_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("contentGroupSubheader_viewtmpl",'<div class="q4-content-group-subheader"></div>');b.q4viewfactory.registerClass("contentGroupSubheader_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="contentGroupSubheader_view";var d=null;a._render=function(a,
e){d=b.tmpl("contentGroupSubheader_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("downloadLink_viewtmpl",'<a class="q4-hyperlink" target="_blank" href="${href}"></a>');b.template("downloadLink_view_styled_tmpl",'<a class="q4-hyperlink q4-${role}" target="_blank" href="${href}"></a>');b.template("downloadLink_view_styled_tmpl",'<address class="hyperlinkAddress" role="contentinfo"><a class="q4-hyperlink q4-${role}" target="_blank" href="${href}">${keyTerm}</a></address>');
b.q4viewfactory.registerClass("downloadLink_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="downloadLink_view";var d=null;a._render=function(a,e){var f=a.href;if(void 0===f||null===f)f="https://www.aplia.com/support";null==a.role?(f={href:f,keyTerm:a.cueContent},d=a.newSchemaIndicator?b.tmpl("downloadLink_view_styled_tmpl",f):b.tmpl("downloadLink_viewtmpl",f)):(f={href:f,role:a.role,keyTerm:a.cueContent},d=b.tmpl("downloadLink_view_styled_tmpl",f));
d.appendTo(document.body);d.hide();var g=f=!1;"italic"===e.getHtmlNode().css("font-style")&&"italic"===d.css("font-style")&&(f=!0);"bold"===e.getHtmlNode().css("font-weight")&&"bold"===d.css("font-weight")&&(g=!0);d.appendTo(e.getHtmlNode());d.show();f&&d.css("font-style","normal");g&&d.css("font-weight","normal")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("ebookLink_view_styled_tmpl",'<address class="ebookAddress" role="contentinfo"><a class="q4-hyperlink q4-${role}" target="_blank">${keyTerm}</a></address>');
b.q4viewfactory.registerClass("ebookLink_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="ebookLink_view";a.PRESENTER_EVENT_EBOOKLINK_SERVER_REQUEST="_command_ebooklink_server_request";a.PRESENTER_EVENT_EBOOKLINK_SERVER_RESPONSE="_command_ebooklink_server_response";var d=null;a.launchEBook=function(a){window.open(a,"_blank")};a._render=function(c,e){d=b.tmpl("ebookLink_view_styled_tmpl",{href:c.href,role:c.role,keyTerm:c.cueContent});d.appendTo(document.body);
d.hide();d.find("a").touchclick(function(){b(a).trigger(a.PRESENTER_EVENT_EBOOKLINK_SERVER_REQUEST,[c.id,c.href])});var f=!1,g=!1;"italic"===e.getHtmlNode().css("font-style")&&"italic"===d.css("font-style")&&(f=!0);"bold"===e.getHtmlNode().css("font-weight")&&"bold"===d.css("font-weight")&&(g=!0);d.appendTo(e.getHtmlNode());d.show();f&&d.css("font-style","normal");g&&d.css("font-weight","normal")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("errorText_viewtmpl",'<span class="q4-errorText">${string} </span>');
b.q4viewfactory.registerClass("errorText_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="errorText_view";var d=null;a._render=function(a,e){d=b.tmpl("errorText_viewtmpl",{string:a.string});d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("hyperlink_viewtmpl",'<a class="q4-hyperlink" target="_blank" href="${href}"></a>');b.template("hyperlink_view_styled_tmpl",'<a class="q4-hyperlink q4-${role}" target="_blank" href="${href}"></a>');
b.template("hyperlink_view_styled_tmpl",'<address class="hyperlinkAddress" role="contentinfo"><a class="q4-hyperlink q4-${role}" target="_blank" href="${href}">${keyTerm}</a></address>');b.q4viewfactory.registerClass("hyperlink_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="hyperlink_view";var d=null;a._render=function(a,e){var f=a.href;if(void 0===f||null===f)f="https://www.aplia.com/support";null==a.role?(f={href:f,keyTerm:a.cueContent},d=a.newSchemaIndicator?
b.tmpl("hyperlink_view_styled_tmpl",f):b.tmpl("hyperlink_viewtmpl",f)):(f={href:f,role:a.role,keyTerm:a.cueContent},d=b.tmpl("hyperlink_view_styled_tmpl",f));d.appendTo(document.body);d.hide();var g=f=!1;"italic"===e.getHtmlNode().css("font-style")&&"italic"===d.css("font-style")&&(f=!0);"bold"===e.getHtmlNode().css("font-weight")&&"bold"===d.css("font-weight")&&(g=!0);d.appendTo(e.getHtmlNode());d.show();f&&d.css("font-style","normal");g&&d.css("font-weight","normal")};a.getHtmlNode=function(){return d};
return a})})(k);(function(b){b.template("image_viewtmpl",'<span class="q4-image-container">&nbsp;<img width="${width}" height="${height}" src="${url}" alt="${alt}"/>&nbsp;</span>');b.q4viewfactory.registerClass("image_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="image_view";var d=null;a._render=function(a,e){d=b.tmpl("image_viewtmpl",{width:a.width,height:a.height,url:a.url,alt:a.description});d.find("img").css("vertical-align","-"+a.descent+"px");
d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("moreInfo_viewtmpl",'<span class="q4-moreInfo"><a href="javascript:void(0)" class="q4-keyterm">${text}</a><div class="keyterm-description q4-hidden"><div class="q4-keyterm-content"></div></div></span>');b.q4viewfactory.registerClass("moreInfo_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="moreInfo_view";var d=null,c=null,e=null,f=null;a._render=
function(a,j){c=d=b.tmpl("moreInfo_viewtmpl",{text:a.keyTerm});d.appendTo(j.getHtmlNode());e=c.find("a.q4-keyterm");f=d=d.find(".keyterm-description");d=d.find(".q4-keyterm-content");g()};a.getHtmlNode=function(){return d};var g=function(){var a=function(){b("a.q4-keyterm").removeClass("keyterm-active");b(".q4-keyterm-description").fadeTo(500,0,function(){b(this).remove()})};e.touchclick(function(){a();var c=f.clone();c.appendTo(".q4-renderer");c.removeClass("keyterm-description");c.addClass("q4-keyterm-description");
c.removeClass("q4-hidden");c.fadeTo(500,1);e.addClass("keyterm-active");var d=b(".q4-renderer"),g=d.width(),j=d.offset().left,q=e.width(),r=e.offset(),d=r.top+42,k=r.left-40;k<j&&(k=j);k+c.width()>j+g&&(k=j+g-c.width());g=r.left-k+q/2;b("head").append("<style>.q4-keyterm-description:before,.q4-keyterm-description:after{left: "+g+"px !important;}</style>");c.offset({top:d,left:k})});var c=function(c){c.stopImmediatePropagation();0<b(c.target).closest(".q4-keyterm-description").length||(-1==c.target.className.indexOf("q4-keyterm")?
a():c.preventDefault())};document.addEventListener("click",c,!1);document.addEventListener("touchend",c,!1)};return a})})(k);(function(b){b.template("previewHeader_viewtmpl","<div class=\"q4-preview-header\"><span class=\"q4-show-variables\" onclick=\"$('span.q4-calc').toggleClass('q4-calc-show');$('span.q4-calc-bracket').toggle(300)\">Show variables</span></div>");b.q4viewfactory.registerClass("previewHeader_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName=
"previewHeader_view";var d=null;a._render=function(a,e){d=b.tmpl("previewHeader_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("static-string_viewtmpl","${text}");b.q4viewfactory.registerClass("static-string_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="static-string_view";var d=null;a._render=function(a,e){d=b.tmpl("static-string_viewtmpl",{text:a.string});d.appendTo(e.getHtmlNode())};
a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("subvalue_viewtmpl","<span>${text}</span>");b.q4viewfactory.registerClass("subvalue_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="subvalue_view";var d=null;a._render=function(a,e){d=b.tmpl("subvalue_viewtmpl",{text:a.string});d.appendTo(e.getHtmlNode());d.addClass("q4-payoff-matrix-subvalue-"+a.index);0<a.content.length&&e.getHtmlNode().addClass("wide_payoff")};a.getHtmlNode=
function(){return d};return a})})(k);(function(b){b.template("text_viewtmpl",'<span class="q4-text"></span>');b.template("text_view_styled_tmpl",'<span class="q4-text q4-${role}"></span>');b.q4viewfactory.registerClass("text_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="text_view";var d=null,c="bookTitle blogTitle websiteTitle journalTitle newspaperTitle magazineTitle referenceTitle albumTitle filmTitle thesis dissertation tvShowTitle radioShowTitle".split(" ");
a._render=function(a,f){d=null==a.role?b.tmpl("text_viewtmpl"):b.tmpl("text_view_styled_tmpl",{role:a.role});d.appendTo(document.body);d.hide();var g=!1,h=!1;"italic"===f.getHtmlNode().css("font-style")&&"italic"===d.css("font-style")&&(g=!0);"bold"===f.getHtmlNode().css("font-weight")&&"bold"===d.css("font-weight")&&(h=!0);d.appendTo(f.getHtmlNode());d.show();h&&d.css("font-weight","normal");g?d.css("font-style","normal"):-1!==b.inArray(a.role,c)&&d.css("font-style","italic");("source"===a.role||
f.getHtmlNode().hasClass("q4-text-source"))&&d.addClass("q4-text-source")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("variable-content_viewtmpl",'<span class="q4-variable-content"></span>');b.q4viewfactory.registerClass("variable-content_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="variable-content_view";var d=null;a._render=function(a,e){d=b.tmpl("variable-content_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=
function(){return d};return a})})(k);(function(b){b.template("variable-string_viewtmpl",'<span class="q4-variable-string">${string} </span>');b.q4viewfactory.registerClass("variable-string_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="variable-string_view";var d=null;a._render=function(a,e){d=b.tmpl("variable-string_viewtmpl",{string:a.string});d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("dataGridTableCell_viewtmpl",
'<td class="q4-dataGridTable-cell" {{html htmlRowSpan}} {{html htmlColSpan}}></td>');b.q4viewfactory.registerClass("dataGridTableCell_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.optionViews=[];a.nodeName="dataGridTableCell_view";var d=null,c=null;a._render=function(a,f){d=a;var g={htmlRowSpan:"",htmlColSpan:""};-1!==a.rowSpan&&(g.htmlRowSpan='rowspan="'+a.rowSpan+'"');-1!==a.columnSpan&&("check"!==a.dataType&&"radio"!==a.dataType)&&(g.htmlColSpan='colspan="'+
a.columnSpan+'"');c=b.tmpl("dataGridTableCell_viewtmpl",g);null!==a.role&&c.addClass(a.role.replace(" ","_"));null!==a.dataType&&c.addClass(a.dataType.replace(" ","_"));c.appendTo(f.getHtmlNode())};a.getHtmlNode=function(){return c};a._refreshCorrectness=function(){for(var c=0;c<a.optionViews.length;c++)a.optionViews[c].clearCorrectness();for(c=0;c<d.options.length;c++)b(d.options[c]).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};return a})})(k);(function(b){b.template("dataGridTableHeaderCell_viewtmpl",
'<th class="q4-dataGridTable-headerCell" {{html htmlRowSpan}} {{html htmlColSpan}}><div></div></th>');b.q4viewfactory.registerClass("dataGridTableHeaderCell_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="dataGridTableHeaderCell_view";var d=null;a._render=function(a,e){var f={htmlRowSpan:"",htmlColSpan:""};-1!==a.rowSpan&&(f.htmlRowSpan='rowspan="'+a.rowSpan+'"');-1!==a.columnSpan&&(f.htmlColSpan='colspan="'+a.columnSpan+'"');d=b.tmpl("dataGridTableHeaderCell_viewtmpl",
f);null!==a.role&&d.addClass(a.role.replace(" ","_"));null!==a.dataType&&d.addClass(a.dataType.replace(" ","_"));-1!==a.columnSpan&&d.addClass("spannedColumnHeader");d.appendTo(e.getHtmlNode());d=d.find("div")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("dataGridTableHeaderRow_viewtmpl",'<tr class="q4-dataGridTable-headerRow"></tr>');b.q4viewfactory.registerClass("dataGridTableHeaderRow_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="dataGridTableHeaderRow_view";var d=null;a._render=function(a,e){d=b.tmpl("dataGridTableHeaderRow_viewtmpl");d.appendTo(e.getTHeadHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("dataGridTableRow_viewtmpl",'<tr class="q4-dataGridTable-row"></tr>');b.q4viewfactory.registerClass("dataGridTableRow_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="dataGridTableRow_view";var d=null;a._render=function(a,e){d=
b.tmpl("dataGridTableRow_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("dataGridTable_viewtmpl",'<table class="q4-dataGridTable"><thead></thead><tbody></tbody></table>');b.q4viewfactory.registerClass("dataGridTable_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="dataGridTable_view";var d=null,c=null,e=null;a._render=function(a,g){e=a;d=b.tmpl("dataGridTable_viewtmpl");d.appendTo(g.getHtmlNode());
c=d.find("thead");d=d.find("tbody");4<=a.rows.length&&d.addClass("q4-dataGridTable-longTable")};a.getHtmlNode=function(){return d};a.getTHeadHtmlNode=function(){return c};a.removeTHeadHtmlNode=function(){c.remove()};a.justifyColumns=function(){for(var a=e.rows[0],b=0;b<a.cells.length;b++)a.cells[b].isDataTypeNumber()&&d.find("td:nth-col("+(b+1)+")").textAlign(".")};return a})})(k);(function(b){b.template("dataTable_viewtmpl",'<table class="${cssClass}"></table>');b.template("IDM_TITLE",'<div class="q4-idmtable-title"><div class="q4-idmtable-title-content">Graph Input Tool</div></div>');
b.template("IDM_HELP_BAR",'<div class="q4-idm-help"><a class="q4-idm-help-link" title="clickable help icon" href="#help" tabindex="0"></a></div>');b.q4viewfactory.registerClass("dataTable_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="dataTable_view";var d=null;a._render=function(a,e){var f=null;if("inputDrivenMarket"===a.renderingStyle){f={cssClass:"q4-idmtable"};d=b.tmpl("dataTable_viewtmpl",f);e.getHtmlNode().closest("div.q4-exhibit").addClass("q4-idmtable-exhibit");
if(0===e.getHtmlNode().find("div.q4-idmtable-title").length){var g=b.tmpl("IDM_TITLE");g.appendTo(e.getHtmlNode())}var h=a.parent.parent;null!==h.getHelpUrl()&&(f=b.tmpl("IDM_HELP_BAR"),f.appendTo(g),f.touchclick(function(){window.open(h.getHelpUrl())}))}else f="mathDerivation"===a.renderingStyle?{cssClass:"q4-datatable q4-mathtable"}:{cssClass:"q4-datatable"},d=b.tmpl("dataTable_viewtmpl",f);d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("cell_viewtmpl",
'<td class="q4-datatable-cell"></td>');b.q4viewfactory.registerClass("cell_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="cell_view";var d=null;a._render=function(c,e){d=b.tmpl("cell_viewtmpl");d.appendTo(e.getHtmlNode());d=a.addCellStyle(d,c.column.getStyles())};a.getHtmlNode=function(){return d};a.addCellStyle=function(a,d){var f=a;b.each(d,function(d,e){switch(e){case b.StyleRepository.TYPE_ALIGN_LEFT:a.addClass("q4-style-align-left");break;case b.StyleRepository.TYPE_BOLD:a.addClass("q4-style-bold");
break;case b.StyleRepository.TYPE_ALIGN_RIGHT:a.addClass("q4-style-align-right");break;case b.StyleRepository.TYPE_ALIGN_CENTER:a.addClass("q4-style-align-center");break;case b.StyleRepository.TYPE_CENTERED:var j=b('<div style="display: inline-block"></div>');a.append(j);a.append('<span class="q4-centered-column-padding"></span>');a.css("white-space","nowrap");f=j}});return f};return a})})(k);(function(b){b.template("columns_viewhead_tmpl",'<thead class="q4-datatable-header"></thead>');b.q4viewfactory.registerClass("columns_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="columns_view";var d=null;a._render=function(a,e){d=b.tmpl("columns_viewhead_tmpl");d.appendTo(e.getHtmlNode())};a.showHeaderDivider=function(){d.addClass("q4-datatable-header-divider")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("dataTableHeaderRow_viewtmpl",'<tr class="q4-datatable-column-header"></tr>');b.q4viewfactory.registerClass("dataTableHeaderRow_view",function(){var a=
Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="dataTableHeaderRow_view";var d=null;a._render=function(a,e){d=b.tmpl("dataTableHeaderRow_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("header_viewtmpl",'<th class="q4-datatable-column-header-cell"><div class="${additionalClass}"></div></th>');b.q4viewfactory.registerClass("header_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="header_view";var d=null,c=null;a._render=function(a,f){d=a;var g="";1<a.colspan&&(null!=a.id&&null===a.headerUnits)&&(g="q4-datatable-column-header-cell-bottom-rule");c=b.tmpl("header_viewtmpl",{additionalClass:g});if(f.getHtmlNode().is("td")){var g=f.getHtmlNode(),h=c;1<a.rowspan&&(h=b('<div class="q4-datatable-column-header-cell-right-rule"></div>'),h.append(c));if(0<g.find("th").length)g=b('<td class="q4-datatable-cell"></td').append(h),g.appendTo(f.getHtmlNode().parent());else{h.appendTo(g);
for(var h=g.parent(),j=1;0<h.length;)0<h.find("td:first-child[rowspan="+j+"]").length&&g.parent().css("border-bottom","1px solid #AEAEAE"),j++,h=h.prev()}1<a.rowspan&&(g.attr("rowspan",a.rowspan),g.addClass("q4-datatable-column-header-cell-right-rule"))}else c.appendTo(f.getHtmlNode()),1<a.colspan&&c.attr("colspan",a.colspan),1<a.rowspan&&c.attr("rowspan",a.rowspan);"categorizationTable"==d.parent.parent.type&&(d.isFirstColumn&&d.isFirstRow&&c.addClass("q4-categorizationTable-header-left"),d.isLastColumn&&
c.addClass("q4-categorizationTable-header-right"),d.isLastRow&&c.addClass("q4-categorizationTable-header-bottom"),d.isFirstRow&&c.addClass("q4-categorizationTable-header-top"));null!==d.headerUnits&&(g="",1<d.colspan&&null!=d.id&&(g=" q4-datatable-column-header-cell-bottom-rule"),c.append(b('<div class="q4-datatable-header-units'+g+'">'+d.headerUnits+"</div>")));c=c.find("div:first-child");f.getHtmlNode().is("td")&&"inputDrivenMarket"===d.parent.parent.parent.renderingStyle&&(g=b('<div class="q4-idmtable-line-symbol">&nbsp;</div>'),
g.prependTo(c.parent()),null!==d.parent.idmColorMarker&&g.addClass("q4-idmtable-line-symbol-"+d.parent.idmColorMarker))};a.getHtmlNode=function(){return c};return a})})(k);(function(b){b.template("row_viewtmpl",'<tr class="q4-datatable-row"></tr>');b.q4viewfactory.registerClass("row_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="row_view";var d=null;a._render=function(a,e){d=b.tmpl("row_viewtmpl");null!==a.rowRole&&d.addClass("q4-datatable-row-"+a.rowRole);
d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("dialogue_viewtmpl",'<div class="q4-dialogue"></div>');b.q4viewfactory.registerClass("dialogue_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="dialogue_view";var d=null;a._render=function(a,e){d=b.tmpl("dialogue_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("dialogueStatement_viewtmpl",
'<div class="q4-dialogue-statement"><div class="q4-dialogue-statement-icon"></div><div class="q4-dialogue-statement-content"></div></div>');b.template("NAME_SPAN",'<span class="q4-dialogue-statement-name q4-dialogue-statement-name-color-${index}">${name}:&nbsp;</span>');b.template("ICON",'<img class="q4-dialogue-statement-icon-color-${index}" src="${iconUrl}"/>');b.q4viewfactory.registerClass("dialogueStatement_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName=
"dialogueStatement_view";var d=null,c=null,e=-1;a._render=function(a,g){d=a;e=d.parent.getColor(d.persons[0].name);c=b.tmpl("dialogueStatement_viewtmpl");c.appendTo(g.getHtmlNode());if(null!==d.persons[0].image){var h=b.tmpl("ICON",{index:e,iconUrl:d.persons[0].image});c.find(".q4-dialogue-statement-icon").append(h)}c=c.find(".q4-dialogue-statement-content")};a.getHtmlNode=function(){return c};a.injectNameToParagraph=function(){var a={name:d.persons[0].name.toUpperCase(),index:e},a=b.tmpl("NAME_SPAN",
a);b(c[0].firstChild).prepend(a)};return a})})(k);(function(b){b.template("newspaper_viewtmpl",'<div class="q4-newspaper"></div>');b.template("TITLE",'<div class="q4-newspaper-title">${title}</div>');b.template("DATE",'<div class="q4-newspaper-date">${date}</div>');b.template("HEADER",'<div class="q4-newspaper-graphic-header"></div>');b.template("FOOTER",'<div class="q4-newspaper-graphic-footer"><div class="q4-newspaper-graphic-footer-left"></div><div class="q4-newspaper-graphic-footer-right"></div></div>');
b.template("CONTENT",'<div class="q4-newspaper-content"></div>');b.q4viewfactory.registerClass("newspaper_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="newspaper_view";var d=null;a._render=function(a,e){d=b.tmpl("newspaper_viewtmpl");d.appendTo(e.getHtmlNode());null!==a.title&&b.tmpl("TITLE",{title:a.title}).appendTo(d);null!==a.date&&b.tmpl("DATE",{date:a.date.toUpperCase()}).appendTo(d);b.tmpl("HEADER").prependTo(d);var f=b.tmpl("CONTENT");f.appendTo(d);
b.tmpl("FOOTER").appendTo(d);d=f};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("newspaperStory_viewtmpl",'<div class="q4-newspaper-story"><div class="q4-newspaper-story-content"></div></div>');b.template("HEADLINE",'<div class="q4-newspaper-headline">${headline}</div>');b.q4viewfactory.registerClass("newspaperStory_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="newspaperStory_view";var d=null;a._render=function(a,e){d=
b.tmpl("newspaperStory_viewtmpl");d.appendTo(e.getHtmlNode());null!==a.headline&&b.tmpl("HEADLINE",{headline:a.headline}).prependTo(d);d=d.find(".q4-newspaper-story-content")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("notecard_viewtmpl",'<div class="q4-notecard"><div class="q4-notecard-graphic-header"></div><div class="q4-notecard-content"></div><div class="q4-notecard-graphic-footer"></div></div>');b.q4viewfactory.registerClass("notecard_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="notecard_view";var d=null;a._render=function(a,e){d=b.tmpl("notecard_viewtmpl");d.appendTo(e.getHtmlNode());d=d.find(".q4-notecard-content")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("time_viewtmpl",'<div class="q4-timeline-time"></div>');b.q4viewfactory.registerClass("time_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="time_view";var d=null;a._render=function(a,e){d=b.tmpl("time_viewtmpl");d.appendTo(e.getHtmlNode())};
a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("timeline_viewtmpl",'<div class="q4-timeline"></div>');b.template("DOWN_ARROW",'<div class="q4-timeline-downarrow"><div class="q4-timeline-downarrow-graphic-container"><div class="q4-timeline-downarrow-graphic"></div></div><div></div><div></div></div>');b.q4viewfactory.registerClass("timeline_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="timeline_view";var d=null;a._render=
function(a,e){d=b.tmpl("timeline_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};a.addTimelineArrows=function(){b.tmpl("DOWN_ARROW").appendTo(d)};return a})})(k);(function(b){b.template("timelineDate_viewtmpl",'<div class="q4-timeline-date"></div>');b.q4viewfactory.registerClass("timelineDate_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="timelineDate_view";var d=null;a._render=function(a,e){d=b.tmpl("timelineDate_viewtmpl");
d.appendTo(e.getHtmlNode());a.given&&d.addClass("q4-timeline-date-given")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("timelineEventArrow_viewtmpl",'<div class="q4-timeline-event-arrow"><div class="q4-timeline-event-arrow-container"><div class="q4-timeline-event-arrow-background"></div></div></div>');b.q4viewfactory.registerClass("timelineEventArrow_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="timelineEventArrow_view";
var d=null;a._render=function(a,e){d=b.tmpl("timelineEventArrow_viewtmpl");d.appendTo(e.getHtmlNode());d=d.find(".q4-timeline-event-arrow-container");switch(a.getEventArrowType()){case a.EVENT_ARROW_SOLID:b('<div class="q4-timeline-event-node-solid"></div>').appendTo(d);b('<div class="q4-timeline-event-node-connector"></div>').appendTo(d);break;case a.EVENT_ARROW_OPEN:b('<div class="q4-timeline-event-node-open"></div>').appendTo(d),b('<div class="q4-timeline-event-node-connector"></div>').appendTo(d)}};
a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("timelineItem_viewtmpl",'<div class="q4-timeline-item"></div>');b.q4viewfactory.registerClass("timelineItem_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="timelineItem_view";var d=null;a._render=function(a,e){d=b.tmpl("timelineItem_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("infoGraphicV1_viewtmpl",'<div class="q4-spriteMapper"><canvas class="q4-spriteMapper-hitMask-canvas q4-hidden"></canvas><img class="q4-spriteMapper-hitMask q4-hidden"/><img class="q4-spriteMapper-baseImage"/><div class="q4-spriteMapper-sprite"/><img class="q4-spriteMapper-spriteImage q4-hidden"/></div>');
b.q4viewfactory.registerClass("infoGraphicV1_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="infoGraphicV1_view";var d=null,c=null,e=-1,f=-1;a._render=function(a,e){c=b.tmpl("infoGraphicV1_viewtmpl");c.appendTo(e.getHtmlNode());d=a;g()};a.getHtmlNode=function(){return c};var g=function(){var a=c.find(".q4-spriteMapper-baseImage");a.attr("src",d.getBaseImageUrl());a.bind("load",function(){e=a.width();f=a.height();h()})},h=function(){var a=c.find(".q4-spriteMapper-spriteImage");
a.attr("src",d.getSpritesUrl());a.bind("load",function(){a.actual("width");a.actual("height");var b=c.find(".q4-spriteMapper-sprite");b.width(e);b.height(f);b.css("background-image",'url("'+d.getSpritesUrl()+'")');j()})},j=function(){var a=c.find("img.q4-spriteMapper-hitMask");a.css("width",e+"px");a.css("height",f+"px");a[0].src=d.getHitMask();a.bind("load",function(){l(a)})},l=function(a){var g=c.find("canvas.q4-spriteMapper-hitMask-canvas");g[0].height=f;g[0].width=e;g=g[0].getContext("2d");g.drawImage(a[0],
0,0);var j=g.getImageData(0,0,e,f),h=c.find(".q4-spriteMapper-sprite");h.mousemove(function(a){a=b.mouseOffset(a);a=4*(a.top-2)*e+4*(a.left-1);a=(j.data[a]<<16)+(j.data[a+1]<<8)+j.data[a+2];a=d.getSpriteInfoLookup().getSpriteInfoByRgb24BitInt(a);null!==a&&(a=a.getIndex(),h.css("background-position",a*-e+"px 0px").css("cursor","pointer"))})};return a})})(k);(function(b){b.template("labeler_viewtmpl",'<div class="q4-labeler"></div>');b.q4viewfactory.registerClass("labeler_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="labeler_view";var d=null;a._render=function(a,e){d=b.tmpl("labeler_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("spriteMapper_viewtmpl",'<div class="q4-spriteMapper"><canvas class="q4-spriteMapper-hitMask-canvas q4-hidden"></canvas><img class="q4-spriteMapper-hitMask q4-hidden"/><img class="q4-spriteMapper-baseImage"/><div class="q4-spriteMapper-sprite"/><div class="q4-spriteMapper-svg"/><img class="q4-spriteMapper-spriteImage q4-hidden"/></div>');
b.template("SELECTED_SPRITE",'<div class="q4-spriteMapper-selected-sprite"></div>');b.q4viewfactory.registerClass("spriteMapper_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="spriteMapper_view";var d=null,c=null,e=-1,f=-1,g=-1,h=[];a._render=function(a,e){c=b.tmpl("spriteMapper_viewtmpl");c.appendTo(e.getHtmlNode());d=a;l()};a.getHtmlNode=function(){return c};var j=function(){for(var a=d.getSpriteUrlGroup().getSpriteCount(),g=0;g<a;g++){var j=b.tmpl("SELECTED_SPRITE");
if(d.getSpriteUrlGroup().hasOffset(g)){var l=d.getSpriteUrlGroup().getOffsetX(g),m=d.getSpriteUrlGroup().getOffsetY(g),n=d.getSpriteUrlGroup().getSpriteWidth(g),p=d.getSpriteUrlGroup().getSpriteHeight(g);j.css("top",m+"px");j.css("left",l+"px");j.width(n+"px");j.height(p+"px")}else j.width(e+"px"),j.height(f+"px");l=d.getSpriteUrlGroup().getSpriteUrl(g);if(void 0!==l&&-1!==l.indexOf("http://"))j.css("background-image","url("+d.getSpriteUrlGroup().getSpriteUrl(g)+")");else if(l=SVG(j[0]).size(e,f),
m=d.getSpriteUrlGroup().getSpriteSVGs(g),0<m.length)for(n=0;n<m.length;n++){var p=l.svg(m[n]),q;for(q in p)p[q].hide()}j.addClass("q4-hidden");h[g]=j;l=c.find(".q4-spriteMapper-sprite");j.insertBefore(l)}},l=function(){var a=c.find(".q4-spriteMapper-baseImage");a.attr("src",d.getImageUrl());a.bind("load",function(){e=a.width();f=a.height();m()})},m=function(){if(d.hasSpriteUrlGroup())j(),n(),p();else{var a=c.find(".q4-spriteMapper-spriteImage");a.attr("src",d.getSpriteUrl());a.bind("load",function(){g=
a.actual("width");a.actual("height");for(var j=g/e-1,l=0;l<j+1;l++){var m=b.tmpl("SELECTED_SPRITE");m.width(e+"px");m.height(f+"px");m.css("background-image",'url("'+d.getSpriteUrl()+'")');m.css("background-position-x",-e*l+"px");m.addClass("q4-hidden");h[l]=m;var q=c.find(".q4-spriteMapper-sprite");m.insertBefore(q)}n();p()})}},n=function(){var a=c.find(".q4-spriteMapper-sprite");a.width(e);a.height(f)},p=function(){var a=c.find("img.q4-spriteMapper-hitMask");a.css("width",e+"px");a.css("height",
e+"px");a[0].src=d.getHitMask();a.bind("load",function(){q(a)})},q=function(g){var j=c.find("canvas.q4-spriteMapper-hitMask-canvas");j[0].height=f;j[0].width=e;j=j[0].getContext("2d");j.drawImage(g[0],0,0);var l=j.getImageData(0,0,e,f);c.find(".q4-spriteMapper-sprite").touchclick(function(c,f){var g=b.mouseOffset(f),g=l.data[4*(g.top-2)*e+4*(g.left-1)];if(1<=g&&200>=g){var j=h[g];if(void 0!==j){var m=d.getPalette().getSelectedIndex();if(-1!==m){var n=j.css("background-position-y"),p=-(j.height()*
m)+"px";n===p?j.toggleClass("q4-hidden"):(j.css("background-position-y",p),j.removeClass("q4-hidden"));0<d.getSpriteUrlGroup().getSpriteSVGs(g).length&&(j=j.find("svg").children(),j.hide(),b(j[m+1]).show(),b(j[m+1]).find("*").show());d.hasSpriteUrlGroup()&&a.fireViewAction("SELECT_PALETTE_REGION",m,g)}}}})};return a})})(k);(function(b){b.template("PALETTE",'<div class="q4-spriteMapper-palette"></div>');b.template("PALETTE_ENTRY",'<a class="q4-spriteMapper-palette-entry">${label}</a>');b.template("CATEGORY_TABLE_TOGGLE",
'<a class="q4-spriteMapper-categorization-toggle"></a>');b.template("CATEGORY_TABLE",'<div class="q4-spriteMapper-category"><table><thead><tr></tr></thead><tbody></tbody></table></div>');b.q4viewfactory.registerClass("spriteMapperPalette_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="spriteMapperPalette_view";var d=null,c=null,e=null,f=null;a._render=function(j,l){d=j;c=b.tmpl("PALETTE");c.appendTo(l.getHtmlNode());for(var m=d.getItems(),n=0;n<m.length;n++){var p=
m[n],q=p.index,r=p.color,p=b.tmpl("PALETTE_ENTRY",{label:p.label});p.css("background-color",r);p.appendTo(c);h(q,p)}n=l.getHtmlNode();m=b.tmpl("CATEGORY_TABLE");m.appendTo(n);e=m;n=d.parent.getCategorySelection()[0];m.find("thead tr").append("<th/>");for(var k=0;k<n.length;k++){var o=n[k];void 0!==o&&m.find("thead tr").append("<th>"+o.display+"</th>")}q=d.getItems();for(r=0;r<q.length;r++){k=q[r].label;p=b("<tr/>");p.appendTo(m.find("tbody"));p.append("<td>"+k+"</td>");for(k=0;k<n.length;k++)o=n[k],
void 0!==o&&p.append("<td><div></div></td>")}f=m.find("tbody");g();d.setSelectedIndex(0);a.refreshPalette()};var g=function(){var a=b.tmpl("CATEGORY_TABLE_TOGGLE");c.append(a);a.touchclick(function(){"hidden"===e.css("visibility")?e.css("visibility","visible"):e.css("visibility","hidden")})};a.updateCategoryTable=function(a,c){var e=f.find("tr")[a],e=b(e).find("td")[c];d.parent.isCategorySelectionSelected(a,c)?b(e).find("div").addClass("q4-spriteMapper-category-selected"):b(e).find("div").removeClass("q4-spriteMapper-category-selected")};
var h=function(a,b){b.touchclick(function(){d.setSelectedIndex(a)})};a.getHtmlNode=function(){return c};a.refreshPalette=function(){var a=d.getSelectedIndex(),e=c.find(".q4-spriteMapper-palette-entry");e.removeClass("q4-spriteMapper-palette-entry-selected");b(e[a]).addClass("q4-spriteMapper-palette-entry-selected")};return a})})(k);(function(b){b.template("spriteMapperV0_viewtmpl",'<div class="q4-spriteMapper"><canvas class="q4-spriteMapper-hitMask-canvas q4-hidden"></canvas><img class="q4-spriteMapper-hitMask q4-hidden"/><img class="q4-spriteMapper-baseImage"/><div class="q4-spriteMapper-sprite"/><img class="q4-spriteMapper-spriteImage q4-hidden"/></div>');
b.template("SELECTED_SPRITE",'<div class="q4-spriteMapper-selected-sprite"></div>');b.q4viewfactory.registerClass("spriteMapperV0_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="spriteMapperV0_view";var d=null,c=null,e=-1,f=-1,g=-1,h=[];a._render=function(a,e){c=b.tmpl("spriteMapperV0_viewtmpl");c.appendTo(e.getHtmlNode());d=a;j()};a.getHtmlNode=function(){return c};var j=function(){var a=c.find(".q4-spriteMapper-baseImage");a.attr("src",d.imageUrl);
a.bind("load",function(){e=a.width();f=a.height();l()})},l=function(){var a=c.find(".q4-spriteMapper-spriteImage");a.attr("src",d.spriteUrl);a.bind("load",function(){g=a.actual("width");a.actual("height");for(var j=g/e-1,l=0;l<j+1;l++){var n=b.tmpl("SELECTED_SPRITE");n.width(e+"px");n.height(e+"px");n.css("background-image",'url("'+d.spriteUrl+'")');n.css("background-position",-e*l+"px 0px");n.addClass("q4-hidden");h[l]=n;var o=c.find(".q4-spriteMapper-sprite");n.insertBefore(o)}j=c.find(".q4-spriteMapper-sprite");
j.width(e);j.height(f);j.css("background-image",'url("'+d.spriteUrl+'")');m()})},m=function(){var a=c.find("img.q4-spriteMapper-hitMask");a.css("width",e+"px");a.css("height",e+"px");a[0].src=d.hitMask;a.bind("load",function(){n(a)})},n=function(a){var g=c.find("canvas.q4-spriteMapper-hitMask-canvas");g[0].height=f;g[0].width=e;g=g[0].getContext("2d");g.drawImage(a[0],0,0);var j=g.getImageData(0,0,e,f),l=c.find(".q4-spriteMapper-sprite");d.allowSelection&&l.mouseup(function(a){a=b.mouseOffset(a);
a=j.data[4*(a.top-2)*e+4*(a.left-1)];1<=a&&200>=a&&h[a].toggleClass("q4-hidden")});l.mousemove(function(a){a=b.mouseOffset(a);a=j.data[4*(a.top-2)*e+4*(a.left-1)];1<=a&&200>=a&&l.css("background-position",a*-e+"px 0px").css("cursor","pointer")})};return a})})(k);(function(b){b.template("list_viewtmpl",'<table class="q4-list"><tbody></tbody></table>');b.q4viewfactory.registerClass("list_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="list_view";var d=
null,c=null;a._render=function(a,f){d=b.tmpl("list_viewtmpl");d.appendTo(f.getHtmlNode());c=d.find("tbody")};a.getHtmlTBody=function(){return c};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("listHeader_viewtmpl",'<thead class="q4-listheader"><tr><td></td><td class="q4-listheader-content"></td></tr></thead>');b.q4viewfactory.registerClass("listHeader_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="listHeader_view";var d=
null;a._render=function(a,e){d=b.tmpl("listHeader_viewtmpl");d.prependTo(e.getHtmlNode());d=d.find("td.q4-listheader-content")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("listItem_viewtmpl",'<tr class="q4-listitem"><td class="q4-listitem-label"></td><td class="q4-listitem-content"></td></tr>');b.q4viewfactory.registerClass("listItem_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="listItem_view";var d=null,c=null;a._render=
function(a,f){d=b.tmpl("listItem_viewtmpl");d.appendTo(f.getHtmlTBody());c=d.find("td.q4-listitem-label");d=d.find("td.q4-listitem-content")};a.getHtmlListItemLabel=function(){return c};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("listLabel_viewtmpl",'<span class="q4-listlabel"></span>');b.q4viewfactory.registerClass("listLabel_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="listLabel_view";var d=null;a._render=function(a,
e){d=b.tmpl("listLabel_viewtmpl");d.appendTo(e.getHtmlListItemLabel())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("listSubheader_viewtmpl",'<tr><td></td><td class="q4-listsubheader-content"></td></tr>');b.q4viewfactory.registerClass("listSubheader_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="listSubheader_view";var d=null;a._render=function(a,e){d=b.tmpl("listSubheader_viewtmpl");d.appendTo(e.getHtmlNode().children(".q4-listheader"));
d=d.find("td.q4-listsubheader-content")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("proofs_viewtmpl",'<div class="q4-proofs"></div>');b.q4viewfactory.registerClass("proofs_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="proofs_view";var d=null;a._render=function(a){d=a;"static"!==d.use&&(null.bind("click",function(a){a.target.id&&handleSelection(a.target.id)}),null.bind("keypress",function(a){(13===a.keyCode||32===a.keyCode)&&
a.target.id&&handleSelection(a.target.id)}))};a.showCorrectness=function(){d.getCorrectState()&&a.refreshCorrectness()};a.refreshCorrectness=function(){d.getCorrectState()===d.getClientState()?(null.prev()&&null.prev().remove(),null.before(correctNode)):(null.prev()&&null.prev().remove(),null.before(incorrectNode))};a.getHtmlNode=function(){return null};return a})})(k);(function(b){b.template("venn2_viewtmpl",'<div class="q4-venn2"><svg><defs><pattern id="hoops" patternUnits="userSpaceOnUse" width="6" height="6" ><path d="M0,2 l6,0" stroke="#FF9900" stroke-width="1"/></pattern><pattern id="firstX" patternUnits="userSpaceOnUse" x="65" y="70" width="130" height="160"><line x1="10" y1="10" x2="25" y2="30" style="stroke:#FF9900;" stroke-width="3"/><line x1="25" y1="10" x2="10" y2="30" style="stroke:#FF9900;" stroke-width="3"/></pattern><pattern id="middleX" patternUnits="userSpaceOnUse" x="12.5" y="70" width="60" height="160"><line x1="10" y1="10" x2="25" y2="30" style="stroke:#FF9900;" stroke-width="3"/><line x1="25" y1="10" x2="10" y2="30" style="stroke:#FF9900;" stroke-width="3"/></pattern><pattern id="lastX" patternUnits="userSpaceOnUse" x="70" y="70" width="130" height="160"><line x1="10" y1="10" x2="25" y2="30" style="stroke:#FF9900;" stroke-width="3"/><line x1="25" y1="10" x2="10" y2="30" style="stroke:#FF9900;" stroke-width="3"/></pattern><pattern id="firstXcircle" patternUnits="userSpaceOnUse" x="65" y="70" width="130" height="160"><line x1="10" y1="10" x2="25" y2="30" style="stroke:#FF9900;" stroke-width="3"/><line x1="25" y1="10" x2="10" y2="30" style="stroke:#FF9900;" stroke-width="3"/><circle id="circle1" cx="17.5" cy="20" r="15" /></pattern><pattern id="middleXcircle" patternUnits="userSpaceOnUse" x="12.5" y="70" width="60" height="160"><line x1="10" y1="10" x2="25" y2="30" style="stroke:#FF9900;" stroke-width="3"/><line x1="25" y1="10" x2="10" y2="30" style="stroke:#FF9900;" stroke-width="3"/><circle id="circle1" cx="17.5" cy="20" r="15" /></pattern><pattern id="lastXcircle" patternUnits="userSpaceOnUse" x="70" y="70" width="130" height="160"><line x1="10" y1="10" x2="25" y2="30" style="stroke:#FF9900;" stroke-width="3"/><line x1="25" y1="10" x2="10" y2="30" style="stroke:#FF9900;" stroke-width="3"/><circle id="circle1" cx="17.5" cy="20" r="15" /></pattern></defs><path id="path111" class="edge" d="M150 25.01 A82 82 0 1 0 150 154.99" /><path id="path211" class="edge"d="M150 154.99 A82 82 0 1 0 150 25.01" /><path id="path311" class="edge"d="M150 25.01 A82 82 0 0 1 150 154.99" /><path id="path411" class="edge" d="M150 154.99 A82 82 0 0 1 150 25.01" /><path id="path1" class="area hoverFocus" tabindex="0" focusable="true" d="M146.72 25.06 A80 80 0 1 0 146.72 154.94 84 84 0 0 1 146.72 25.06 z" /><path id="path3" class="area hoverFocus" tabindex="0" focusable="true" d="M150 27.55 A80 80 0 0 1 150 152.45 80 80 0 0 1 150 27.55 z" /><path id="path2" class="area hoverFocus" tabindex="0" focusable="true" d="M153.28 25.06 A84 84 0 0 1 153.28 154.94 80 80 0 1 0 153.28 25.06 z" /></svg></div>');
b.template("VENN2_LABEL_1",'<span class="q4-venn-label-1">{{html label1}}</span>');b.template("VENN2_LABEL_2",'<span class="q4-venn-label-2">{{html label2}}</span>');b.template("VENN2_CORRECT",'<img class="q4-venn-correctness" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAADOZMz+fP0ylTFmsWWayZnK4cn+/f4zFjJnMmbLYsr/fv8zlzNjr2OXy5fL48gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhQAP8JHDjwgAGCCA8ECOAAocAFCw84/OdAQAABDR0WWJhA4EYFAhMsHPBAIIGLDRosDLBgIMQABAYsLIDQwMqFDRzKXIhgIoOFAiaGDAASYUAAOw=="/>');
b.template("VENN2_INCORRECT",'<img class="q4-venn-correctness" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAAP8AAP8PD/8fH/8vL/8/P/9PT/9fX/9vb/9/f/+fn/+vr/+/v//Pz//f3//v7wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhWAP8JHEhwoIEAAhwIVBAgAAOBDgQEKPAvYoADBBc0XEAgwIAHBRE0bPiw4L+OARKY/PdA4kSTDzoOaKiS4IGGDUQ6HJiApsCOAkD+S0B0oAOiJVcSDAgAOw=="/>');
b.q4viewfactory.registerClass("venn2_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="venn2_view";var d=null,c=null,e=null,f=null,g=null,h=null,j=null,l=[],m,n,p;a._render=function(q,r){d=q;m={1:"white",2:"url(#hoops)",3:"url(#firstX)"};n={1:"white",2:"url(#hoops)",3:"url(#middleX)"};p={1:"white",2:"url(#hoops)",3:"url(#lastX)"};"Traditional"===d.standpoint&&(m[4]="url(#firstXcircle)",p[4]="url(#lastXcircle)",n[4]="url(#middleXcircle)");var k=Object.keys(m).length;
c=b.tmpl("venn2_viewtmpl");c.appendTo(r.getHtmlNode());e=c.find("svg");var o=[["#path111","#path311"],["#path211","#path411"]];d.highlightArray.forEach(function(a,b){a==="1"&&o[b].forEach(function(a){var b=e.find(a)[0].getAttribute("class");e.find(a)[0].setAttribute("class",b+" highlight")})});var u={label1:d.labelsArray[0],label2:d.labelsArray[1]};f=b.tmpl("VENN2_LABEL_1",u);g=b.tmpl("VENN2_LABEL_2",u);e.after(g);e.after(f);l=["#path1","#path2","#path3"].map(function(a){return e.find(a)[0]});a.refreshClient();
e.mousedown(function(a){a.preventDefault()});if("static"===d.use)l.forEach(function(a){var b=a.getAttribute("class").replace(" hoverFocus","");a.setAttribute("class",b);a.removeAttribute("tabindex");a.removeAttribute("focusable")});else{h=b.tmpl("VENN2_CORRECT");j=b.tmpl("VENN2_INCORRECT");a.refreshCorrectness();var t=function(b){if(b==="path1"){d.area[0]=d.area[0]%k+1;l[0].style.fill=m[d.area[0]];d.updateModel()}if(b==="path2"){d.area[1]=d.area[1]%k+1;l[1].style.fill=p[d.area[1]];d.updateModel()}if(b===
"path3"){d.area[2]=d.area[2]%k+1;l[2].style.fill=n[d.area[2]];d.updateModel()}a.refreshCorrectness()};e.bind("click",function(a){a.target.id&&t(a.target.id)});e.bind("keypress",function(a){(a.keyCode===13||a.keyCode===32)&&a.target.id&&t(a.target.id)})}};a.showCorrectness=function(){null!==d.getCorrectState().parameter.$&&a.refreshCorrectness()};a.refreshCorrectness=function(){var a=d.getCorrectState(),b=d.getClientState().parameter;null!==a&&(e.prev().remove(),null!==b&&a===b.$?e.before(h):e.before(j))};
a.refreshClient=function(){l[0].style.fill=m[d.area[0]];l[1].style.fill=p[d.area[1]];l[2].style.fill=n[d.area[2]]};a.getHtmlNode=function(){return c};return a})})(k);(function(b){b.template("venn3_viewtmpl",'<div class="q4-venn3"><svg><defs><pattern id="hoops" patternUnits="userSpaceOnUse" width="8" height="8" ><path d="M0,2 l 8,0" stroke="#FF9900" stroke-width="1"/></pattern><pattern id="leftDiag" patternUnits="userSpaceOnUse" width="16" height="16" ><rect width="16"  height="16" fill="white" /><path d="M-1,2 l2,-4 M-1,18 l9,-18 M7,18 l9,-18 M15,18 l2,-4" stroke="#FF9900" stroke-width="1" /></pattern><pattern id="rightDiag" patternUnits="userSpaceOnUse" width="16" height="16" fill="white"><rect width="16"  height="16" fill="white" /><path d="M-1,14 l2,4 M-1,-2 l9,18 M7,-2 l9,18 M15,-2 l2,4" stroke="#FF9900" stroke-width="1" /></pattern><pattern id="leftHatch" patternUnits="userSpaceOnUse" width="16" height="16" ><rect width="16"  height="16" fill="white" /><path d="M0,4 l16,0 M0,12 l16,0" stroke="#FF9900" stroke-width="1" /><path d="M-1,2 l2,-4 M-1,18 l9,-18 M7,18 l9,-18 M15,18 l2,-4" stroke="#FF9900" stroke-width="1" /></pattern><pattern id="rightHatch" patternUnits="userSpaceOnUse" width="16" height="16" ><rect width="16"  height="16" fill="white" /><path d="M0,4 l16,0 M0,12 l16,0" stroke="#FF9900" stroke-width="1" /><path d="M-1,14 l2,4 M-1,-2 l9,18 M7,-2 l9,18 M15,-2 l2,4" stroke="#FF9900" stroke-width="1" /></pattern><pattern id="leftRightHatch" patternUnits="userSpaceOnUse" width="16" height="16" ><rect width="16"  height="16" fill="white" /><path d="M-1,2 l2,-4 M-1,18 l9,-18 M7,18 l9,-18 M15,18 l2,-4" stroke="#FF9900" stroke-width="1" /><path d="M-1,14 l2,4 M-1,-2 l9,18 M7,-2 l9,18 M15,-2 l2,4" stroke="#FF9900" stroke-width="1" /></pattern><pattern id="hatching" patternUnits="userSpaceOnUse" width="16" height="16" ><rect width="16"  height="16" fill="white" /><path d="M0,4 l16,0 M0,12 l16,0" stroke="#FF9900" stroke-width="1" /><path d="M-1,2 l2,-4 M-1,18 l9,-18 M7,18 l9,-18 M15,18 l2,-4" stroke="#FF9900" stroke-width="1" /><path d="M-1,14 l2,4 M-1,-2 l9,18 M7,-2 l9,18 M15,-2 l2,4" stroke="#FF9900" stroke-width="1" /></pattern><g id="X" width="60" height="60"><circle id="circle" cx="17.5" cy="20" r="15" /><line x1="10" y1="10" x2="25" y2="30" style="stroke:#FF9900;" stroke-width="3" /><line x1="25" y1="10" x2="10" y2="30" style="stroke:#FF9900;" stroke-width="3" /></g></defs><path id="path321" class="edge" d="M150 244.99 A82 82 0 1 1 68.37 104.35" /><path id="path331" class="edge" d="M231.63 104.35 A82 82 0 1 1 150 244.99" /><path id="path311" class="edge" d="M68.37 104.35 A82 82 0 1 1 231.63 104.35" /><path id="path324" class="edge" d="M181.63 172.25 A82 82 0 0 1 150 244.99" /><path id="path332" class="edge" d="M150 244.99 A82 82 0 0 1 118.37 172.25" /><path id="path322" class="edge" d="M68.37 104.35 A82 82 0 0 1 150 115.01" /><path id="path314" class="edge" d="M118.37 172.25 A82 82 0 0 1 68.37 104.35" /><path id="path312" class="edge" d="M231.63 104.35 A82 82 0 0 1 181.63 172.25" /><path id="path334" class="edge" d="M150 115.01 A82 82 0 0 1 231.63 104.35" /><path id="path323" class="edge" d="M150 115.01 A82 82 0 0 1 181.63 172.25" /><path id="path333" class="edge" d="M118.37 172.25 A82 82 0 0 1 150 115.01" /><path id="path313" class="edge" d="M181.63 172.25 A82 82 0 0 1 118.37 172.25" /><path id="path11" class="area" tabindex="0" focusable="true" d="M70.15 101.48 A80 80 0 1 1 229.85 101.48 A84 84 0 0 0 150 112.5 A84 84 0 0 0 70.15 101.48 z" /><path id="path12" class="area" tabindex="0" focusable="true" d="M146.72 244.94 A80 80 0 1 1 66.68 107.27 A84 84 0 0 0 116.25 173.52 A84 84 0 0 0 146.72 244.94 z" /><path id="path13" class="area" tabindex="0" focusable="true" d="M233.32 107.27 A80 80 0 1 1 153.28 244.94 A84 84 0 0 0 183.75 173.52 A84 84 0 0 0 233.32 107.27 z" /><path id="path21" class="area" tabindex="0" focusable="true" d="M70.51 105.63 A80 80 0 0 1 146.72 115.06 A84 84 0 0 0 116.68 169.33 A84 84 0 0 1 70.51 105.63 z" /><path id="path23" class="area" tabindex="0" focusable="true" d="M229.49 105.63 A80 80 0 0 1 183.32 169.33 A84 84 0 0 0 153.28 115.06 A84 84 0 0 1 229.49 105.63 z" /><path id="path22" class="area" tabindex="0" focusable="true" d="M150 242.45 A80 80 0 0 1 120.15 175.12 A84 84 0 0 0 179.85 175.12 A84 84 0 0 1 150 242.45 z" /><path id="path31" class="area" tabindex="0" focusable="true" d="M150 117.55 A80 80 0 0 1 179.49 170.97 A80 80 0 0 1 120.51 170.97 A80 80 0 0 1 150 117.55 z" /><use xlink:href="#X" id="topCircle" style="display:none" x="132.5" y="50" /><use xlink:href="#X" id="leftCircle" style="display:none" x="60" y="177.5" /><use xlink:href="#X" id="rightCircle" style="display:none" x="205" y="177.5" /><use xlink:href="#X" id="leftWedge" style="display:none" x="90" y="107.5" /><use xlink:href="#X" id="bottomWedge" style="display:none" x="132.5" y="182.5" /><use xlink:href="#X" id="rightWedge" style="display:none" x="175" y="107.5" /><use xlink:href="#X" id="centerX" style="display:none" x="132.5" y="132.5" /></svg></div>');
b.template("VENN3_LABEL_1",'<span class="q4-venn-label-1">{{html label1}}</span>');b.template("VENN3_LABEL_2",'<span class="q4-venn-label-2">{{html label2}}</span>');b.template("VENN3_LABEL_3",'<span class="q4-venn-label-3">{{html label3}}</span>');b.template("VENN3_CORRECT",'<img class="q4-venn-correctness" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAADOZMz+fP0ylTFmsWWayZnK4cn+/f4zFjJnMmbLYsr/fv8zlzNjr2OXy5fL48gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhQAP8JHDjwgAGCCA8ECOAAocAFCw84/OdAQAABDR0WWJhA4EYFAhMsHPBAIIGLDRosDLBgIMQABAYsLIDQwMqFDRzKXIhgIoOFAiaGDAASYUAAOw=="/>');
b.template("VENN3_INCORRECT",'<img class="q4-venn-correctness" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAAP8AAP8PD/8fH/8vL/8/P/9PT/9fX/9vb/9/f/+fn/+vr/+/v//Pz//f3//v7wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhWAP8JHEhwoIEAAhwIVBAgAAOBDgQEKPAvYoADBBc0XEAgwIAHBRE0bPiw4L+OARKY/PdA4kSTDzoOaKiS4IGGDUQ6HJiApsCOAkD+S0B0oAOiJVcSDAgAOw=="/>');
b.q4viewfactory.registerClass("venn3_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="venn3_view";var d=null,c=null,e=null,f=null,g=null,h=null,j=null,l=null,m=[],n=[],p,q,r,k,o=7,u=16,t=16,w,x,B,y,z,A,D;a._render=function(C,v){d=C;p=q=r=k=1;w={1:"white",2:"url(#leftDiag)",3:"url(#rightDiag)",4:"url(#leftRightHatch)",5:"white",6:"white",7:"white"};x={1:"white",2:"url(#hoops)",3:"url(#leftDiag)",4:"url(#leftHatch)",5:"white",6:"white",7:"white"};B={1:"white",
2:"url(#rightDiag)",3:"url(#hoops)",4:"url(#rightHatch)",5:"white",6:"white",7:"white"};y={1:"white",2:"url(#rightDiag)",3:"url(#hoops)",4:"url(#rightHatch)",5:"url(#leftDiag)",6:"url(#leftRightHatch)",7:"url(#leftHatch)",8:"url(#hatching)",9:"white",10:"url(#rightDiag)",11:"url(#hoops)",12:"url(#rightHatch)",13:"white",14:"url(#rightDiag)",15:"url(#hoops)",16:"url(#rightHatch)"};z={1:"white",2:"url(#leftDiag)",3:"url(#rightDiag)",4:"url(#leftRightHatch)",5:"url(#hoops)",6:"url(#leftHatch)",7:"url(#rightHatch)",
8:"url(#hatching)",9:"white",10:"url(#leftDiag)",11:"url(#rightDiag)",12:"url(#leftRightHatch)",13:"white",14:"url(#leftDiag)",15:"url(#rightDiag)",16:"url(#leftRightHatch)"};A={1:"white",2:"url(#leftDiag)",3:"url(#hoops)",4:"url(#leftHatch)",5:"url(#rightDiag)",6:"url(#leftRightHatch)",7:"url(#rightHatch)",8:"url(#hatching)",9:"white",10:"url(#leftDiag)",11:"url(#hoops)",12:"url(#leftHatch)",13:"white",14:"url(#leftDiag)",15:"url(#hoops)",16:"url(#leftHatch)"};D={1:"white",2:"url(#leftDiag)",3:"url(#hoops)",
4:"url(#leftHatch)",5:"url(#rightDiag)",6:"url(#leftRightHatch)",7:"url(#rightHatch)",8:"url(#hatching)",9:"white",10:"url(#leftDiag)",11:"url(#hoops)",12:"url(#leftHatch)",13:"url(#rightDiag)",14:"url(#leftRightHatch)",15:"url(#rightHatch)",16:"url(#hatching)"};"Traditional"===d.standpoint&&(w[8]="white",x[8]="white",B[8]="white",y[17]="white",y[18]="url(#rightDiag)",y[19]="url(#hoops)",y[20]="url(#rightHatch)",z[17]="white",z[18]="url(#leftDiag)",z[19]="url(#rightDiag)",z[20]="url(#leftRightHatch)",
A[17]="white",A[18]="url(#leftDiag)",A[19]="url(#hoops)",A[20]="url(#leftHatch)",D[17]="white",D[18]="url(#leftDiag)",D[19]="url(#hoops)",D[20]="url(#leftHatch)",D[21]="url(#rightDiag)",D[22]="url(#leftRightHatch)",D[23]="url(#rightHatch)",D[24]="url(#hatching)",o=8,u=20,t=24);c=b.tmpl("venn3_viewtmpl");c.appendTo(v.getHtmlNode());e=c.find("svg");var F=[["#path311","#path312","#path313","#path314"],["#path321","#path322","#path323","#path324"],["#path331","#path332","#path333","#path334"],["#path313",
"#path314","#path322","#path323"],["#path332","#path333","#path323","#path324"],["#path312","#path313","#path333","#path334"],["#path313","#path323","#path333"]];d.highlightArray.forEach(function(a,b){a==="1"&&F[b].forEach(function(a){e.find(a)[0].setAttribute("class","highlight")})});var H={label1:d.labelsArray[0],label2:d.labelsArray[1],label3:d.labelsArray[2]};f=b.tmpl("VENN3_LABEL_1",H);g=b.tmpl("VENN3_LABEL_2",H);h=b.tmpl("VENN3_LABEL_3",H);e.after(h);e.after(g);e.after(f);m="#path11 #path12 #path13 #path21 #path22 #path23 #path31".split(" ").map(function(a){return e.find(a)[0]});
n="#topCircle #leftCircle #rightCircle #leftWedge #bottomWedge #rightWedge #centerX".split(" ").map(function(a){return e.find(a)[0]});a.refreshClient();e.mousedown(function(a){a.preventDefault()});if("static"===d.use)m.forEach(function(a){a.removeAttribute("tabindex");a.removeAttribute("focusable")});else{j=b.tmpl("VENN3_CORRECT");l=b.tmpl("VENN3_INCORRECT");a.showCorrectness();var L=0<window.navigator.userAgent.indexOf("Trident/")||0<window.navigator.userAgent.indexOf("Edge/");c.bind({click:function(b){b.target.id?
a.handleSelection(b.target.id):L&&b.target.correspondingUseElement.id&&a.handleSelection(b.target.correspondingUseElement.id)},keypress:function(b){(b.keyCode===13||b.keyCode===32)&&b.target.id&&a.handleSelection(b.target.id)}});m.forEach(function(a,c){b(a).bind({mouseenter:function(){F[c].forEach(function(a){var b=e.find(a)[0].getAttribute("class");e.find(a)[0].setAttribute("class",b+" giveHover")});m.forEach(function(a){var b=a.getAttribute("class");a.setAttribute("class",b+" pointer")})},mouseleave:function(){F[c].forEach(function(a){var b=
e.find(a)[0].getAttribute("class").replace(" giveHover","");e.find(a)[0].setAttribute("class",b)});m.forEach(function(a){var b=a.getAttribute("class").replace(" pointer","");a.setAttribute("class",b)})},focus:function(){F[c].forEach(function(a){var b=e.find(a)[0].getAttribute("class");e.find(a)[0].setAttribute("class",b+" giveTab")});L||this.scrollIntoView()},blur:function(){F[c].forEach(function(a){var b=e.find(a)[0].getAttribute("class").replace(" giveTab","");e.find(a)[0].setAttribute("class",
b)})}})})}};a.handleSelection=function(b){if("path11"===b||"topCircle"===b){d.area[0]=d.area[0]%o+1;m[0].style.fill=w[d.area[0]];switch(d.area[0]){case 2:r+=1;m[5].style.fill=A[r];break;case 3:r-=1;p+=1;m[5].style.fill=A[r];m[3].style.fill=y[p];break;case 4:r+=1;m[5].style.fill=A[r];break;case 5:r-=1;p-=1;m[5].style.fill=A[r];m[3].style.fill=y[p];n[0].style.display="block";n[0].style.stroke="none";n[0].x.baseVal.value=132.5;n[0].y.baseVal.value=50;break;case 6:n[0].x.baseVal.value=170;n[0].y.baseVal.value=
80;break;case 7:n[0].x.baseVal.value=95;n[0].y.baseVal.value=80;break;case 8:n[0].style.stroke="#FF9900";n[0].x.baseVal.value=132.5;n[0].y.baseVal.value=50;break;default:n[0].style.display="none"}d.updateModel()}if("path12"===b||"leftCircle"===b){d.area[1]=d.area[1]%o+1;m[1].style.fill=x[d.area[1]];switch(d.area[1]){case 2:p+=2;m[3].style.fill=y[p];break;case 3:q+=1;p-=2;m[4].style.fill=z[q];m[3].style.fill=y[p];break;case 4:p+=2;m[3].style.fill=y[p];break;case 5:q-=1;p-=2;m[4].style.fill=z[q];m[3].style.fill=
y[p];n[1].style.display="block";n[1].style.stroke="none";n[1].x.baseVal.value=60;n[1].y.baseVal.value=177.5;break;case 6:n[1].x.baseVal.value=70;n[1].y.baseVal.value=130;break;case 7:n[1].x.baseVal.value=107.5;n[1].y.baseVal.value=192.5;break;case 8:n[1].style.stroke="#FF9900";n[1].x.baseVal.value=60;n[1].y.baseVal.value=177.5;break;default:n[1].style.display="none"}d.updateModel()}if("path13"===b||"rightCircle"===b){d.area[2]=d.area[2]%o+1;m[2].style.fill=B[d.area[2]];switch(d.area[2]){case 2:q+=
2;m[4].style.fill=z[q];break;case 3:r+=2;q-=2;m[5].style.fill=A[r];m[4].style.fill=z[q];break;case 4:q+=2;m[4].style.fill=z[q];break;case 5:r-=2;q-=2;m[5].style.fill=A[r];m[4].style.fill=z[q];n[2].style.display="block";n[2].style.stroke="none";n[2].x.baseVal.value=205;n[2].y.baseVal.value=177.5;break;case 6:n[2].x.baseVal.value=157.5;n[2].y.baseVal.value=192.5;break;case 7:n[2].x.baseVal.value=195;n[2].y.baseVal.value=130;break;case 8:n[2].style.stroke="#FF9900";n[2].x.baseVal.value=205;n[2].y.baseVal.value=
177.5;break;default:n[2].style.display="none"}d.updateModel()}if("path21"===b||"leftWedge"===b){p=p===u-4?u:(p+4)%u;m[3].style.fill=y[p];switch(p){case 5:case 6:case 7:case 8:k+=1;m[6].style.fill=D[k];break;case 9:case 10:case 11:case 12:k-=1;m[6].style.fill=D[k];n[3].style.display="block";n[3].style.stroke="none";n[3].x.baseVal.value=110;n[3].y.baseVal.value=120;break;case 13:case 14:case 15:case 16:n[3].x.baseVal.value=90;n[3].y.baseVal.value=107.5;break;case 17:case 18:case 19:case 20:n[3].style.stroke=
"#FF9900";n[3].x.baseVal.value=90;n[3].y.baseVal.value=107.5;break;default:n[3].style.display="none"}d.area[3]=~~((p-1)/4)+1;d.updateModel()}if("path22"===b||"bottomWedge"===b){q=q===u-4?u:(q+4)%u;m[4].style.fill=z[q];switch(q){case 5:case 6:case 7:case 8:k+=2;m[6].style.fill=D[k];break;case 9:case 10:case 11:case 12:k-=2;m[6].style.fill=D[k];n[4].style.display="block";n[4].style.stroke="none";n[4].x.baseVal.value=132.5;n[4].y.baseVal.value=160;break;case 13:case 14:case 15:case 16:n[4].x.baseVal.value=
132.5;n[4].y.baseVal.value=185;break;case 17:case 18:case 19:case 20:n[4].style.stroke="#FF9900";n[4].x.baseVal.value=132.5;n[4].y.baseVal.value=185;break;default:n[4].style.display="none"}d.area[4]=~~((q-1)/4)+1;d.updateModel()}if("path23"===b||"rightWedge"===b){r=r===u-4?u:(r+4)%u;m[5].style.fill=A[r];switch(r){case 5:case 6:case 7:case 8:k+=4;m[6].style.fill=D[k];break;case 9:case 10:case 11:case 12:k-=4;m[6].style.fill=D[k];n[5].style.display="block";n[5].style.stroke="none";n[5].x.baseVal.value=
155;n[5].y.baseVal.value=120;break;case 13:case 14:case 15:case 16:n[5].x.baseVal.value=175;n[5].y.baseVal.value=107.5;break;case 17:case 18:case 19:case 20:n[5].style.stroke="#FF9900";n[5].x.baseVal.value=175;n[5].y.baseVal.value=107.5;break;default:n[5].style.display="none"}d.area[5]=~~((r-1)/4)+1;d.updateModel()}if("path31"===b||"centerX"===b){k=k===t-8?t:(k+8)%t;m[6].style.fill=D[k];switch(k){case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:n[6].style.display="block";n[6].style.stroke=
"none";break;case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:n[6].style.stroke="#FF9900";break;default:n[6].style.display="none"}d.area[6]=~~((k-1)/8)+1;d.updateModel()}a.showCorrectness()};a.showCorrectness=function(){d.getCorrectState()&&a.refreshCorrectness()};a.refreshCorrectness=function(){var a=d.getCorrectState(),b=d.getClientState().parameter;null!==a&&(e.prev().remove(),null!==b&&a===b.$?e.before(j):e.before(l))};a.refreshClient=function(){var b=d.area;d.area=d.area.map(function(){return 1});
for(p=q=r=k=1;1<b[0];)a.handleSelection("path11"),b[0]--;for(;1<b[1];)a.handleSelection("path12"),b[1]--;for(;1<b[2];)a.handleSelection("path13"),b[2]--;for(;1<b[3];)a.handleSelection("path21"),b[3]--;for(;1<b[4];)a.handleSelection("path22"),b[4]--;for(;1<b[5];)a.handleSelection("path23"),b[5]--;for(;1<b[6];)a.handleSelection("path31"),b[6]--};a.getHtmlNode=function(){return c};return a})})(k);(function(b){b.template("marginalTable_viewtmpl",'<table class="q4-marginalTable"></table>');b.q4viewfactory.registerClass("marginalTable_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="marginalTable_view";var d=null;a._render=function(a,e){d=b.tmpl("marginalTable_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("marginalTableCell_viewtmpl",'<td rowspan="2" class="q4-marginalTable-cell"></td>');b.template("marginalTableCell_viewhalfbumpertmpl",'<td class="q4-marginalTable-cell-bumper">&nbsp;</td>');b.template("marginalTableCell_viewbumpertmpl",
'<td rowspan="2" class="q4-marginalTable-cell-bumper">&nbsp;</td>');b.template("marginalTableCell_viewmarginaltmpl",'<td rowspan="2" class="q4-marginalTable-cell-marginal"></td>');b.template("marginalTableCell_viewwedgemarginaltmpl",'<td rowspan="2" class="q4-marginalTable-cell-marginal-wedges"></td>');b.q4viewfactory.registerClass("marginalTableCell_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("cell_view"));a.nodeName="marginalTableCell_view";var d=null;a._render=function(e,
f){var g=c(e.column.getStyles()),h=e.column.getOptions().marginal,j=!1,l=!1;g&&"undefined"!==typeof h&&(j="end"===h.marginAlignment,l=!0===h.showWedges);e.isFirstRow?(d=g?b.tmpl(j?"marginalTableCell_viewbumpertmpl":"marginalTableCell_viewhalfbumpertmpl"):b.tmpl("marginalTableCell_viewtmpl"),d.appendTo(f.getHtmlNode())):e.isLastRow?g?(d=b.tmpl(l?"marginalTableCell_viewwedgemarginaltmpl":"marginalTableCell_viewmarginaltmpl"),d.appendTo(j?f.getHtmlNode():f.getMarginalRowNode()),j||b.tmpl("marginalTableCell_viewhalfbumpertmpl").appendTo(f.getLastRowNode())):
(d=b.tmpl("marginalTableCell_viewtmpl"),d.appendTo(f.getHtmlNode())):g?(d=b.tmpl(l?"marginalTableCell_viewwedgemarginaltmpl":"marginalTableCell_viewmarginaltmpl"),d.appendTo(j?f.getHtmlNode():f.getMarginalRowNode())):(d=b.tmpl("marginalTableCell_viewtmpl"),d.appendTo(f.getHtmlNode()));d=a.addCellStyle(d,e.column.getStyles())};var c=function(a){var c=!1;b.each(a,function(a,d){switch(d){case b.StyleRepository.TYPE_MARGINAL:c=!0}});return c};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("marginalTableRow_viewtmpl",
'<tr class="q4-marginalTable-row"></tr>');b.template("marginalTableRow_viewmarginaltmpl",'<tr class="q4-marginalTable-row-marginal"></tr>');b.q4viewfactory.registerClass("marginalTableRow_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="marginalTableRow_view";var d=null,c=null,e=null;a._render=function(a,g){a.isFirstRow?(d=b.tmpl("marginalTableRow_viewtmpl"),d.appendTo(g.getHtmlNode())):a.isLastRow?(c=b.tmpl("marginalTableRow_viewmarginaltmpl"),c.appendTo(g.getHtmlNode()),
d=b.tmpl("marginalTableRow_viewtmpl"),d.appendTo(g.getHtmlNode()),e=b.tmpl("marginalTableRow_viewmarginaltmpl"),e.appendTo(g.getHtmlNode())):(c=b.tmpl("marginalTableRow_viewmarginaltmpl"),c.appendTo(g.getHtmlNode()),d=b.tmpl("marginalTableRow_viewtmpl"),d.appendTo(g.getHtmlNode()))};a.getMarginalRowNode=function(){return c};a.getLastRowNode=function(){return e};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("animation_viewtmpl",'<div class="q4-animation"><iframe id="frame0001" src="${url}" width="${width}" height="${height}"></iframe></div>');
b.template("animation_viewtmpl2",'<div class="q4-animation"></div>');b.template("animation_viewpluginTmpl",'<div class="q4-animation-plugin">Now loading...</div><iframe id="frame0001" src="${url}"></iframe>');b.q4viewfactory.registerClass("animation_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="animation_view";var d=null;a._render=function(a,g){var h={width:a.width,height:a.height,url:a.url};"infograph-v0"===a.manifestType&&(d=b.tmpl("animation_viewtmpl2",
h));"plugin"===a.type?(d=b.tmpl("animation_viewpluginTmpl",h),e()):d=b.tmpl("animation_viewtmpl",h);d.appendTo(g.getHtmlNode());c()};a.getHtmlNode=function(){return d};var c=function(){b(window)[0].addEventListener("message",function(b){a.fireViewAction("sendDummyQDeltaUpdate",b.data)},!1)},e=function(){window.onmessage=function(a){console.log("from within iframe: "+a.data)}};return a})})(k);(function(b){b.template("HTML5_AUDIO",'<a class="q4-audio-cue" title="${description}" href="javascript:void(0)">${cue}</a>');
b.template("UNSUPPORTED_AUDIO",'<a class="q4-unsupported-audio-cue" href="${url}" title="${description}" target="_blank">${cue}</a>');b.q4viewfactory.registerClass("audio_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="audio_view";var d=null,c=null;a._render=function(a,g){d=a;var h={url:a.url,cue:a.cue,description:a.description};(new Audio("")).canPlayType("audio/mp3")?(c=b.tmpl("HTML5_AUDIO",h),e()):c=b.tmpl("UNSUPPORTED_AUDIO",h);c.appendTo(g.getHtmlNode())};
a.getHtmlNode=function(){return c};var e=function(){c.click(function(){b.q4mediaservice.playAudio(d.url)})};return a})})(k);(function(b){b.template("cue_viewtmpl",'<button class="q4-cue"><span></span></button>');b.q4viewfactory.registerClass("cue_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="cue_view";var d=null,c=null;a._render=function(a,f){d=b.tmpl("cue_viewtmpl");d.appendTo(f.getHtmlNode());c=d.find("span");d.touchclick(function(){b("#frame0001")[0].contentWindow.postMessage(a.play,
"*")})};a.getHtmlNode=function(){return c};return a})})(k);(function(b){b.template("CONTAINER_HTML",'<div class="q4-video-container"></div>');b.template("VIDEO_HTML",'<video class="video-js vjs-default-skin vjs-big-play-centered"></video>');b.template("TRACK_HTML",'<track kind="captions" src="${closeCaption}" srclang="en" label="English" />');b.template("TRANSCRIPT_HTML",'<div class="video-transcript"><a href="${transcript}" target="_blank">Transcript</a></div>');b.q4viewfactory.registerClass("video_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="video_view";var d=null,c=null,e=null,f=null,g=null,h=null;a._render=function(j,l){d=j;var m={mp4Url:j.mp4Video,webmUrl:j.webmVideo,closeCaption:j.closeCaption,transcript:j.transcript};e=b.tmpl("VIDEO_HTML");""!==j.closeCaption&&(f=b.tmpl("TRACK_HTML",m),e.append(f));c=b.tmpl("CONTAINER_HTML");c.appendTo(l.getHtmlNode()).css({position:"relative"});c.append(e);""!==j.transcript&&(g=b.tmpl("TRANSCRIPT_HTML",m),
c.append(g));m={controls:!0,preload:"none",width:j.width,height:j.height};""!==j.posterImage&&(m.poster=j.posterImage);videojs(e[0],m,function(){h=this;h.src([{type:"video/mp4",src:j.mp4Video},{type:"video/webm",src:j.webmVideo}]);h.on("play",function(){b(".video-js").each(function(){var a=b(this)[0].id;e[0].id.indexOf(a)==-1&&b(this)[0].player.pause()});if(!j.allowSeek){h.controlBar.progressControl.seekBar.off("mousedown");h.controlBar.progressControl.seekBar.off("touchstart");h.controlBar.progressControl.seekBar.off("click");
b(".vjs-progress-holder").css({cursor:"default"})}if(!j.allowPause){h.controlBar.playToggle.hide();h.trigger("controlsdisabled")}});h.on("ended",function(){h.pause();j.allowPause||h.controlBar.playToggle.show();if(!j.allowReplay){j.watched=true;a.preventVideoReplay()}})});c.bind("contextmenu",function(){return false})};a.getHtmlNode=function(){return c};a.preventVideoReplay=function(){d.watched&&(!d.allowReplay&&null!=h)&&(h.bigPlayButton.hide(),h.controls(!1),b(".vjs-poster").css({cursor:"default"}))};
return a})})(k);(function(b){b.template("body_viewtmpl",'<div class="q4-body"></div>');b.q4viewfactory.registerClass("body_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="body_view";var d=null;a._render=function(a,e){d=b.tmpl("body_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("closing_viewtmpl",'<div class="q4-closing"></div>');b.q4viewfactory.registerClass("closing_view",function(){var a=
Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="closing_view";var d=null;a._render=function(a,e){d=b.tmpl("closing_viewtmpl");d.prependTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("field_viewtmpl",'<div class="q4-field"><span class="q4-field-label"></span><span class="q4-field-content"></span></div>');b.q4viewfactory.registerClass("field_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="field_view";var d=null,c=null;a._render=function(a,f){d=b.tmpl("field_viewtmpl");d.appendTo(f.getHtmlNode());c=d.find("span.q4-field-label");d=d.find("span.q4-field-content")};a.getHtmlFieldLabel=function(){return c};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("label_viewtmpl",'<span class="q4-label"></span>');b.q4viewfactory.registerClass("label_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="label_view";
var d=null;a._render=function(a,e){d=b.tmpl("label_viewtmpl");d.appendTo(e.getHtmlFieldLabel())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("message_view_email_tmpl",'<div class="q4-message q4-email"></div>');b.template("message_view_letter_tmpl",'<div class="q4-message q4-letter"><div class="q4-letter-graphic-header"></div><div class="q4-letter-content"></div><div class="q4-letter-graphic-footer"></div></div>');b.q4viewfactory.registerClass("message_view",function(){var a=
Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="message_view";var d=null;a._render=function(a,e){"email"===a.messageType?(d=b.tmpl("message_view_email_tmpl"),d.appendTo(e.getHtmlNode())):(d=b.tmpl("message_view_letter_tmpl"),d.appendTo(e.getHtmlNode()),d=d.find(".q4-letter-content"))};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("messageDate_viewtmpl",'<div class="q4-messageDate"><span class="q4-field-label"></span><span class="q4-field-content"></span></div>');
b.q4viewfactory.registerClass("messageDate_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="messageDate_view";var d=null,c=null;a._render=function(a,f){d=b.tmpl("messageDate_viewtmpl");d.prependTo(f.getHtmlNode());0<d.parents(".q4-letter").length&&d.addClass("q4-letter");c=d.find("span.q4-field-label");d=d.find("span.q4-field-content")};a.getHtmlFieldLabel=function(){return c};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("messageHeader_viewtmpl",
'<div class="q4-messageHeader"></div>');b.q4viewfactory.registerClass("messageHeader_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="messageHeader_view";var d=null;a._render=function(a,e){d=b.tmpl("messageHeader_viewtmpl");d.prependTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("salutation_viewtmpl",'<div class="q4-salutation"></div>');b.q4viewfactory.registerClass("salutation_view",function(){var a=
Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="salutation_view";var d=null;a._render=function(a,e){d=b.tmpl("salutation_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("signature_viewtmpl",'<div class="q4-signature"></div>');b.q4viewfactory.registerClass("signature_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="signature_view";var d=null;a._render=function(a,
e){d=b.tmpl("signature_viewtmpl");d.appendTo(e.getHtmlNode());0<d.parents(".q4-letter").length&&d.addClass("q4-letter")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("signatureBlock_viewtmpl",'<div class="q4-signatureBlock"></div>');b.q4viewfactory.registerClass("signatureBlock_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="signatureBlock_view";var d=null;a._render=function(a,e){d=b.tmpl("signatureBlock_viewtmpl");d.appendTo(e.getHtmlNode())};
a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.q4viewfactory.registerClass("numericEntry_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("numericEntry_base_view"));a.nodeName="numericEntry_view";var d=a._render;a._render=function(b,e){a.setShowSpinner(!1);d(b,e)};return a})})(k);(function(b){b.q4viewfactory.registerClass("content_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="content_view";var d=null;a._render=
function(a,b){d=b.getHtmlNode()};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("page_viewtmpl2",'<div class="q4-page"></div>');b.template("page_viewtmplTitle",'<div class="q4-title">${title}</div>');b.q4viewfactory.registerClass("page_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="page_view";var d=null;a._render=function(a,e){d=b.tmpl("page_viewtmpl2");d.appendTo(e.getHtmlNode());null!=a.title&&b.tmpl("page_viewtmplTitle",
{title:a.title}).appendTo(d)};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("pageHeader_viewtmpl",'<div class="q4-page-header"></div>');b.q4viewfactory.registerClass("pageHeader_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="pageHeader_view";var d=null;a._render=function(a,e){d=b.tmpl("pageHeader_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("pageSubheader_viewtmpl",
'<div class="q4-page-subheader"></div>');b.q4viewfactory.registerClass("pageSubheader_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="pageSubheader_view";var d=null;a._render=function(a,e){d=b.tmpl("pageSubheader_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("part_viewtmpl",'<div class="q4-part"></div>');b.q4viewfactory.registerClass("part_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="part_view";var d=null;a._render=function(a,e){d=b.tmpl("part_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("scenario_viewtmpl",'<div class="q4-scenario"></div>');b.q4viewfactory.registerClass("scenario_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="scenario_view";var d=null;a._render=function(a,e){d=b.tmpl("scenario_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=
function(){return d};return a})})(k);(function(b){b.template("setUp_viewtmpl",'<div class="q4-setup"></div>');b.q4viewfactory.registerClass("setUp_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="setUp_view";var d=null;a._render=function(a,e){d=b.tmpl("setUp_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("stage_viewtmpl",'<div class="q4-stage"><div class="q4-stage-bar"><span class="q4-stage-bar-index">${stageIndex}</span> ${stageTitle}</div><div class="q4-stage-content"></div></div>');
b.q4viewfactory.registerClass("stage_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="stage_view";var d=null,c=null,e=null,f=null;a._render=function(g,h){f=g;var j=g.getStageIndex(),l=g.getStageTitle(),m={stageIndex:j+":",stageTitle:l};null===l&&(m={stageIndex:j});d=b.tmpl("stage_viewtmpl",m);d.appendTo(h.getHtmlNode());c=d.find("div.q4-stage-bar");e=d.find("div.q4-stage-content");a.refreshStageBarStatus()};a.refreshStageBarStatus=function(){c.removeClass("q4-stage-bar-current");
c.removeClass("q4-stage-bar-past");c.removeClass("q4-stage-bar-next");c.removeClass("q4-stage-bar-active");c.removeClass("q4-stage-bar-inactive");f.isCurrentStage?(c.addClass("q4-stage-bar-current"),c.addClass("q4-stage-bar-active")):(f.submitted?c.addClass("q4-stage-bar-past"):c.addClass("q4-stage-bar-next"),c.addClass("q4-stage-bar-inactive"))};a.getHtmlNode=function(){return e};return a})})(k);(function(b){b.template("stages_viewtmpl",'<div class="q4-stages"></div>');b.q4viewfactory.registerClass("stages_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="stages_view";var d=null;a._render=function(a,e){d=b.tmpl("stages_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("resourceContainer_viewtmpl",'<div class="q4-resources"><div class="q4-resources-title clearfix"><div class="q4-resources-title-text q4-resources-close">${resourcesTitle}</div><div class="q4-resources-title-detach"></div><div class="q4-resources-title-attach"></div></div><div class="q4-resources-content-viewport"><div class="q4-resources-content"></div></div><div class="q4-resources-footer"><div class="q4-resources-footer-resize-height"></div><div class="q4-resources-footer-resize-width-height"></div></div></div>');
b.q4viewfactory.registerClass("resourceContainer_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="resourceContainer_view";var d=null,c=null,e=null,f=null,g=null;a._render=function(a,l){d=a;c=e=b.tmpl("resourceContainer_viewtmpl",{resourcesTitle:d.resourceTitle});e.appendTo(l.getHtmlNode());f=e.find(".q4-resources-content-viewport");e=e.find(".q4-resources-content");g=c.find(".q4-resources-footer");h();b.isMobile()&&(c.find(".q4-resources-title-detach").addClass("q4-hidden"),
c.find(".q4-resources-title-attach").addClass("q4-hidden"),c.find(".q4-resources-footer").addClass("q4-hidden"))};a.getHtmlNode=function(){return e};a.hidePanel=function(){c.find(".q4-resources-title-text").removeClass("q4-resources-close");c.find(".q4-resources-title-text").addClass("q4-resources-open");f.addClass("q4-hidden");g.addClass("q4-hidden")};a.showPanel=function(){c.find(".q4-resources-title-text").removeClass("q4-resources-open");c.find(".q4-resources-title-text").addClass("q4-resources-close");
f.removeClass("q4-hidden");b.isMobile()||g.removeClass("q4-hidden")};a.detachPanel=function(){c.addClass("q4-resources-detached");c.find(".q4-resources-title-detach").addClass("q4-hidden");c.find(".q4-resources-title-attach").removeClass("q4-hidden");c.width()>window.innerWidth&&a.setPanelWidth(window.innerWidth-40);f.height()>window.innerHeight&&a.setPanelHeight(window.innerHeight-80)};a.attachPanel=function(){c.removeClass("q4-resources-detached");c.find(".q4-resources-title-detach").removeClass("q4-hidden");
c.find(".q4-resources-title-attach").addClass("q4-hidden")};a.setPanelHeight=function(a){a<b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT&&(a=b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT);f.height(a)};a.setPanelWidth=function(a){a<b.ResourcesConstants.RESOURCE_CONTENT_MIN_WIDTH&&(a=b.ResourcesConstants.RESOURCE_CONTENT_MIN_WIDTH);c.width(a);f.width(a)};a.setInitialHeight=function(){f.height()>b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT?a.setPanelHeight(b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT):
b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT=f.height()};var h=function(){var d=!1,e=!1,g=-1,h=-1;c.find(".q4-resources-title-attach").addClass("q4-hidden");var p=!1,q=-1,r=-1,k=!1,o=-1,u=-1,t=-1,w=-1,x=!1,B=function(b,c){k=!0;u=c.pageY;t=f.height();b||(o=c.pageX,w=f.width());x=b;a.disableGlobalTextSelection()};b(window).bind("mouseup",function(){k=p=!1;a.enableGlobalTextSelection()});b(window).bind("mousemove",function(d){if(p&&e){var f=d.pageY-q,g=d.pageX-r,j=b(document).height()-c.height()-
5,h=b(window).width()-c.width()-3;1>f&&(f=1);f>j&&(f=j);1>g&&(g=1);g>h&&(g=h);c.offset({top:f,left:g})}k&&(a.setPanelHeight(t+(d.pageY-u)),x||a.setPanelWidth(w+(d.pageX-o)));return b.stopAllEventPropagation(d)});c.find(".q4-resources-title-text").touchclick(function(){d?a.fireViewAction(b.ResourcesConstants.VIEW_ACTION_SHOW_PANEL):a.fireViewAction(b.ResourcesConstants.VIEW_ACTION_HIDE_PANEL);d=!d});c.find(".q4-resources-title-detach").touchclick(function(){h=f.height();g=c.width();e=!0;a.fireViewAction(b.ResourcesConstants.VIEW_ACTION_DETACH_PANEL)});
c.find(".q4-resources-title-attach").touchclick(function(){h<b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT&&(h=b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT);f.height(h);f.width(g);c.width(g);e=!1;a.fireViewAction(b.ResourcesConstants.VIEW_ACTION_ATTACH_PANEL)});c.find(".q4-resources-title").bind("mousedown",function(b){p=!0;var d=c.offset();q=b.pageY-d.top;r=b.pageX-d.left;a.disableGlobalTextSelection()});c.find(".q4-resources-footer-resize-height").bind("mousedown",function(a){B(!0,a)});c.find(".q4-resources-footer-resize-width-height").bind("mousedown",
function(a){B(!1,a)})};return a})})(k);(function(b){b.template("resourceContainerSlideShow_viewtmpl",'<div class="q4-resources"><div class="q4-resources-title clearfix"><div class="q4-resources-title-text q4-resources-close">${resourcesTitle}</div><div class="q4-resources-title-detach"></div><div class="q4-resources-title-attach"></div></div><div class="q4-resources-slideshow-content clearfix"></div><div class="q4-resources-footer"><div class="q4-resources-footer-resize-height"></div><div class="q4-resources-footer-resize-width-height"></div></div></div>');
b.q4viewfactory.registerClass("resourceContainerSlideShow_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="resourceContainerSlideShow_view";var d=null,c=null,e=null,f=null,g=null;a._render=function(a,l){d=a;c=e=b.tmpl("resourceContainerSlideShow_viewtmpl",{resourcesTitle:d.resourceTitle});e.appendTo(l.getHtmlNode());f=e=e.find(".q4-resources-slideshow-content");g=c.find(".q4-resources-footer");h();b.isMobile()&&(c.find(".q4-resources-title-detach").addClass("q4-hidden"),
c.find(".q4-resources-title-attach").addClass("q4-hidden"),c.find(".q4-resources-footer").addClass("q4-hidden"),e.find(".q4-tabs-content").height("auto"))};a.getHtmlNode=function(){return e};a.hidePanel=function(){c.find(".q4-resources-title-text").removeClass("q4-resources-close");c.find(".q4-resources-title-text").addClass("q4-resources-open");f.addClass("q4-hidden");g.addClass("q4-hidden")};a.showPanel=function(){c.find(".q4-resources-title-text").removeClass("q4-resources-open");c.find(".q4-resources-title-text").addClass("q4-resources-close");
f.removeClass("q4-hidden");b.isMobile()||g.removeClass("q4-hidden")};a.detachPanel=function(){c.addClass("q4-resources-detached");c.find(".q4-resources-title-detach").addClass("q4-hidden");c.find(".q4-resources-title-attach").removeClass("q4-hidden");c.width()>window.innerWidth&&a.setPanelWidth(window.innerWidth-40);e.find(".q4-tabs-content").height()>window.innerHeight-84&&a.setPanelHeight(window.innerHeight-120)};a.attachPanel=function(){c.removeClass("q4-resources-detached");c.find(".q4-resources-title-detach").removeClass("q4-hidden");
c.find(".q4-resources-title-attach").addClass("q4-hidden")};a.setPanelHeight=function(a){a<b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT&&(a=b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT);e.find(".q4-tabs-content").height(a)};a.setPanelWidth=function(a){a<b.ResourcesConstants.RESOURCE_CONTENT_MIN_WIDTH&&(a=b.ResourcesConstants.RESOURCE_CONTENT_MIN_WIDTH);c.width(a);e.find(".q4-tabs-content").width(a)};a.setAutoHeight=function(){e.find(".q4-tabs-content").height("auto")};var h=function(){var d=
!1,f=!1,g=-1,h=-1;c.find(".q4-resources-title-attach").addClass("q4-hidden");var p=!1,q=-1,r=-1,k=!1,o=-1,u=-1,t=-1,w=-1,x=!1,B=function(b,c){k=!0;u=c.pageY;t=e.find(".q4-tabs-content").height();b||(o=c.pageX,w=e.find(".q4-tabs-content").width());x=b;a.disableGlobalTextSelection()};b(window).bind("mouseup",function(){k=p=!1;a.enableGlobalTextSelection()});b(window).bind("mousemove",function(d){if(p&&f){var e=d.pageY-q,g=d.pageX-r,j=b(document).height()-c.height()-5,h=b(window).width()-c.width()-3;
1>e&&(e=1);e>j&&(e=j);1>g&&(g=1);g>h&&(g=h);c.offset({top:e,left:g})}k&&(a.setPanelHeight(t+(d.pageY-u)),x||a.setPanelWidth(w+(d.pageX-o)));return b.stopAllEventPropagation(d)});c.find(".q4-resources-title-text").touchclick(function(){d?a.fireViewAction(b.ResourcesConstants.VIEW_ACTION_SHOW_PANEL):a.fireViewAction(b.ResourcesConstants.VIEW_ACTION_HIDE_PANEL);d=!d});c.find(".q4-resources-title-detach").touchclick(function(){h=e.find(".q4-tabs-content").height();g=c.width();f=!0;a.fireViewAction(b.ResourcesConstants.VIEW_ACTION_DETACH_PANEL)});
c.find(".q4-resources-title-attach").touchclick(function(){h<b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT&&(h=b.ResourcesConstants.RESOURCE_CONTENT_MIN_HEIGHT);e.find(".q4-tabs-content").height(h);e.find(".q4-tabs-content").width(g);c.width(g);f=!1;a.fireViewAction(b.ResourcesConstants.VIEW_ACTION_ATTACH_PANEL)});c.find(".q4-resources-title").bind("mousedown",function(b){p=!0;var d=c.offset();q=b.pageY-d.top;r=b.pageX-d.left;a.disableGlobalTextSelection()});c.find(".q4-resources-footer-resize-height").bind("mousedown",
function(a){B(!0,a)});c.find(".q4-resources-footer-resize-width-height").bind("mousedown",function(a){B(!1,a)})};return a})})(k);(function(b){b.template("TAB_CONTENT",'<div class="q4-tab-content"></div>');b.q4viewfactory.registerClass("slide_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="slide_view";var d=null;a._render=function(c,e){d=b.tmpl("TAB_CONTENT");d.appendTo(e.getHtmlNode());d.addClass("q4-tab-content-width-temp");e.addTabView(a)};a.getHtmlNode=
function(){return d};a.show=function(){d.removeClass("q4-hidden")};a.hide=function(){d.addClass("q4-hidden")};a.removeContentWidth=function(){d.removeClass("q4-tab-content-width-temp")};return a})})(k);(function(b){b.template("TABS",'<div class="q4-tabs clearfix"></div>');b.template("TAB",'<div class="q4-tab">${tabName}</div>');b.template("TABS_CONTENT",'<div class="q4-tabs-content"></div>');b.q4viewfactory.registerClass("slideShow_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="slideShow_view";var d=null,c=null,e=[],f=null;a._render=function(a,e){f=a;d=b.tmpl("TABS");d.appendTo(e.getHtmlNode());for(var l=0;l<a.slideShowContents.length;l++){var m=b.tmpl("TAB",{tabName:a.slideShowContents[l].slideTitle});m.appendTo(d);g(m,l)}c=b.tmpl("TABS_CONTENT");c.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return c};var g=function(a,b){a.touchclick(function(){f.setActiveTabIndex(b)})};a.addTabView=function(a){e.push(a)};a.refreshTabs=function(){var a=f.getActiveTabIndex();
d.children(".q4-tab").removeClass("q4-tab-active");c.children(".q4-tab-content").addClass("q4-hidden");d.children(".q4-tab").slice(a,a+1).addClass("q4-tab-active");c.children(".q4-tab-content").slice(a,a+1).removeClass("q4-hidden")};return a})})(k);(function(b){b.template("activity_viewtmpl",'<div class="q4-activity-container"><div class="q4-activity"><div class="q4-activity-tabs-container clearfix"><span id="prevSteps" class="active" style="display:none;"/><ul class="q4-activity-tabs"></ul><span id="nextSteps" style="display:none;"/></div><div class="stepContainer"><div class="stepIndex"><span class="stepLabel">STEP:</span> <span class="stepNumber">${currentStep} of ${numSteps}</span></div></div><div id="setup-root"></div><div id="q4-root"></div><div id="q4-activity-nav-buttons"><div id="q4-activity-score" class="q4-activity-score"></div></div><div id="q4-content-review"></div></div></div>');
b.template("activity_viewdemo_tmpl",'<div class="q4-demo-activity clearfix"><div class="q4-demo-activity-tabs-container"><div id="prevSteps" class="active" style="display:none;"></div><ul class="q4-demo-activity-tabs"></ul><div id="nextSteps" style="display:none;"></div></div><div id="setup-root"></div><div id="q4-root"></div><div class="q4-demo-scores-buttons"><div class="demo-scores"></div><div class="demo-buttons"></div></div></div>');b.template("activityScore",'TOTAL SCORE: <span class="score">${pointsEarned}/${pointsPossible}</span>');
b.template("contentReviewLink",'<a class="q4-hyperlink" target="_blank" href="${href}">Preview variations for content review</a>');b.q4viewfactory.registerClass("activity_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="activity_view";var d=null;a._render=function(a,h){var j={currentStep:a.getCurrentNode()+1,numSteps:a.getActivityTabs().length,activityType:a.getActivityType()};d="demo"===a.getActivityType()?b.tmpl("activity_viewdemo_tmpl",j):b.tmpl("activity_viewtmpl",
j);e(a);d.prependTo(h);b(a).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,function(){f(this);e(this)});null!==a.getContentReviewLink()&&0<a.getContentReviewLink().length&&c(a);f(a);d.find("#nextSteps").click(function(){if(b(this).hasClass("active")||0<d.find("ul.q4-demo-activity-tabs > li:visible").length){var c=d.find("ul.q4-activity-tabs > li:visible");1>c.length&&(c=d.find("ul.q4-demo-activity-tabs > li:visible"));c.hide();c=c.last().nextAll();c.slice(0,a.getGroupSize()).show();c.length<=
a.getGroupSize()?d.find("#nextSteps").hide():d.find("ul.q4-activity-tabs > li:visible").last().hasClass("unlocked")||d.find("#nextSteps").removeClass("active");d.find("#prevSteps").show()}});d.find("#prevSteps").click(function(){var b=d.find("ul.q4-activity-tabs > li:visible");1>b.length&&(b=d.find("ul.q4-demo-activity-tabs > li:visible"));b.hide();b=b.first().prevAll();b.slice(0,a.getGroupSize()).show();b.length<=a.getGroupSize()&&d.find("#prevSteps").hide();d.find("#nextSteps").addClass("active");
d.find("#nextSteps").show()})};var c=function(a){a={href:a.getContentReviewLink()};a=b.tmpl("contentReviewLink",a);d.find("#q4-content-review").empty();a.appendTo(d.find("#q4-content-review"))},e=function(a){var c=b.BasicMathToolkit.epsilonRound(a.getPointsEarned(),2),a=b.BasicMathToolkit.epsilonRound(a.getPointsPossible(),2),c=b.tmpl("activityScore",{pointsEarned:c,pointsPossible:a});d.find("#q4-activity-score").empty();c.appendTo(d.find("#q4-activity-score"))},f=function(a){d.find("#prevSteps").hide();
d.find("#nextSteps").hide();d.find("#nextSteps").removeClass("active");if(parseInt(a.getCurrentNode()/a.getGroupSize())*a.getGroupSize()+a.getGroupSize()<a.getActivityTabs().length){d.find("#nextSteps").show();var b=parseInt(a.getCurrentNode()/a.getGroupSize())*a.getGroupSize()+a.getGroupSize()-1;(!a.getActivityTabs()[b+1].getIsLocked()||0<d.find("ul.q4-demo-activity-tabs > li:visible").length)&&d.find("#nextSteps").addClass("active")}a.getCurrentNode()>a.getGroupSize()-1&&d.find("#prevSteps").show();
b=d.find("ul.q4-activity-tabs > li");if(0<b.length){b.hide();var c=parseInt(a.getCurrentNode()/a.getGroupSize())*a.getGroupSize();b.slice(c,c+a.getGroupSize()).show()}};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("activityNode_viewtmpl",'<li class="${tabDisplay}" style="display:none;"><a class="q4-activityNode"><span class="displayLabel">${displayLabel}</span>${title}</a><span class="arrow"></span></li>');b.template("gradeStepButton",'<div class="nav-button-container"><button type="button" class="msp-navigation-button">Grade ${buttonLabel}</button><div class="grade-step-info">(to complete this step and unlock the next step)</div></div>');
b.template("nextStepButton",'<div class="nav-button-container"><button type="button" class="msp-navigation-button">Next Step &gt;</button></div>');b.template("activityNode_viewdemo_tmpl",'<li class="${tabDisplay}" style="display:none;"><a class="q4-activityNode">${title}</a></li>');b.template("demoScoresAttempts",'<div class="scores-attempts"></div>');b.template("demoScoresAverage",'<div class="scores-average"></div>');b.template("demoButtons",'<div class="buttons-grade"></div>');b.template("demoButtonsGIN",
'<button type="button" class="navigation-button">Grade It Now</button>');b.template("demoButtonsTAV",'<button type="button" class="navigation-button">Try Another Version</button>');b.template("demoButtonsCA",'<button type="button" class="navigation-button">Check Answer</button>');b.template("demoButtonsContinue",'<div class="buttons-continue"><button type="button" class="navigation-button">Continue</button></div>');b.q4viewfactory.registerClass("activityNode_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="activityNode_view";var d=null,c=null,e=null,f=null,g=null,h=null,j=null,l=null,m=null,n=null,p=null,q=null,r=null;a._render=function(a,f){d=a;e=f;k(f);d.getIsCurrentNode()&&u();b(d).bind(b.q4presenterfactory.PRESENTER_EVENT_MODEL_CHANGED,function(){"setUp"!==d.getType()&&(d.getIsLocked()?c.removeClass("unlocked"):c.addClass("unlocked"),d.getIsGraded()?c.addClass("graded"):c.removeClass("graded"),d.getIsCurrentNode()?(c.addClass("currentNode"),u()):(c.removeClass("currentNode"),g&&g.hide(),
h&&h.hide()))})};var k=function(a){if("setUp"!==d.getType()){var e=d.getTitle();35<e.length&&"demo"!=d.getParent().getActivityType()&&(e=e.slice(0,32)+"...");e={displayLabel:d.getDisplayLabel(),title:d.getIsCurrentNode()?d.getTitle():e,tabDisplay:(d.getIsCurrentNode()?"currentNode":"")+(d.getIsGraded()?" graded":"")+(d.getIsLocked()?"":" unlocked")};c="demo"===d.getParent().getActivityType()?b.tmpl("activityNode_viewdemo_tmpl",e):b.tmpl("activityNode_viewtmpl",e);f=d.getActivityNodeId();c.touchclick(function(){!d.getIsLocked()&&
!d.getIsCurrentNode()&&d.getParent().getCommandBus().fireCommand(b.activityAppcontroller.COMMAND_GOTO_STEP,f,d.getStepAttempt())});d.getInitVisible()&&c.show();c.appendTo(a.getHtmlNode().find(".q4-activity-tabs"));c.appendTo(a.getHtmlNode().find(".q4-demo-activity-tabs"))}},o=function(){null==m&&(m=b.tmpl("demoButtons"),m.appendTo(e.getHtmlNode().parent().find(".demo-buttons")));m.hide();null==q&&(q=b.tmpl("demoButtonsCA"),q.touchclick(function(){d.getParent().getCommandBus().fireCommand(b.activityAppcontroller.COMMAND_GRADE_STEP,
f,1)}),q.appendTo(m));q.hide();null==p&&(p=b.tmpl("demoButtonsTAV"),p.touchclick(function(){var a=parseInt(d.getStepAttempt());window.scrollTo(0,0);d.getParent().getCommandBus().fireCommand(b.activityAppcontroller.COMMAND_GOTO_STEP,f,++a)}),p.appendTo(m));p.hide();null==n&&(n=b.tmpl("demoButtonsGIN"),n.touchclick(function(){d.getParent().getCommandBus().fireCommand(b.activityAppcontroller.COMMAND_GRADE_STEP,f,d.getStepAttempt())}),n.appendTo(m));n.hide()},u=function(){if("demo"===d.getParent().getActivityType()){o();
e.getHtmlNode().parent().find(".demo-scores").empty();l=b.tmpl("demoScoresAverage");if("practice"===d.getGradingMode()){if(d.getIsGraded()){var a=b.BasicMathToolkit.epsilonRound(d.getStepPointsEarned(),2),c=b.BasicMathToolkit.epsilonRound(d.getStepPointsPossible(),2);l.html("Score: "+a+" / "+c);l.appendTo(e.getHtmlNode().parent().find(".demo-scores"))}else l.hide();d.getIsGraded()||(m.show(),q.show())}if("gradeItNow"===d.getGradingMode()){j=b.tmpl("demoScoresAttempts");var k="Points:&nbsp;&nbsp;&nbsp;",
a=d.getAttemptScores();if(null!=a)for(c=0;c<a.length;c++){var s;s="b"===a[c]?'<span class="blue-diamond"></span>':"-"===a[c]?"-":b.BasicMathToolkit.epsilonRound(parseFloat(a[c]),2);k+=s+"&nbsp;&nbsp;&nbsp;"}j.html(k);j.appendTo(e.getHtmlNode().parent().find(".demo-scores"));if("1"!==d.getStepAttempt()||d.getHasNextAttemptButton()){a=b.BasicMathToolkit.epsilonRound(d.getStepPointsEarned(),2);c=b.BasicMathToolkit.epsilonRound(d.getStepPointsPossible(),2);k="";if(d.getHasNextAttemptButton()||3===d.getStepAttempt()&&
d.getIsGraded())k+='<span class="blue-diamond"></span>&nbsp;&nbsp;';l.html(k+("Average: "+a+" / "+c));l.appendTo(e.getHtmlNode().parent().find(".demo-scores"))}d.getHasNextAttemptButton()?(m.show(),p.show()):3===d.getStepAttempt()&&d.getIsGraded()?(m.show(),p.attr("disabled","disabled"),p.show()):(m.show(),n.show())}null==r?(r=b.tmpl("demoButtonsContinue"),r.find("button").touchclick(function(){if(null==d.getNextNodeId())window.location.href="/demo/contact.jsp";else{var a=1,c=d.getParent().getActivityNodeById(d.getNextNodeId());
null!=c&&(a=c.getStepAttempt());window.scrollTo(0,0);d.getParent().getCommandBus().fireCommand(b.activityAppcontroller.COMMAND_GOTO_STEP,d.getNextNodeId(),a)}}),r.appendTo(e.getHtmlNode().parent().find(".demo-buttons"))):r.show()}else(d.getHasGradeStepButton()?null==g?(g=b.tmpl("gradeStepButton",{buttonLabel:d.getParent().getCurrentNode()+1==d.getParent().getActivityTabs().length?"Final Step":"Step "+(d.getParent().getCurrentNode()+1)}),g.find("button").touchclick(function(){d.getParent().getCommandBus().fireCommand(b.activityAppcontroller.COMMAND_GRADE_STEP,
f,1)}),g.appendTo(e.getHtmlNode().parent().find("#q4-activity-nav-buttons"))):g.show():g&&g.hide(),d.getHasNextStepButton())?null==h?(h=b.tmpl("nextStepButton"),h.find("button").touchclick(function(){window.scrollTo(0,0);d.getParent().getCommandBus().fireCommand(b.activityAppcontroller.COMMAND_GOTO_STEP,d.getNextNodeId(),1)}),h.appendTo(e.getHtmlNode().parent().find("#q4-activity-nav-buttons"))):h.show():h&&h.hide()};a.getHtmlNode=function(){return c};a.getParentView=function(){return e};return a})})(k);
(function(b){b.template("description_viewtmpl",'<div class="q4-description"></div>');b.q4viewfactory.registerClass("description_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="description_view";var d=null;a._render=function(a,e){d=b.tmpl("description_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("problemDescription_viewtmpl",'<div title="problem description for authors" class="q4-problemDescription"></div>');
b.q4viewfactory.registerClass("problemDescription_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="problemDescription_view";var d=null;a._render=function(a,e){d=b.tmpl("problemDescription_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("professorDescription_viewtmpl",'<div title="professor description" class="q4-professorDescription"></div>');b.q4viewfactory.registerClass("professorDescription_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="professorDescription_view";var d=null;a._render=function(a,e){d=b.tmpl("professorDescription_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.q4viewfactory.registerClass("qDoc_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="qDoc_view";var d=null;a._render=function(a,b){d=b.getHtmlNode()};a.getHtmlNode=function(){return d};
return a})})(k);(function(b){b.template("qdom_viewtmplDialogMask",'<div class="q4-dialog-mask"></div>');b.template("qdom_viewtmplLoadingMask",'<div class="q4-loading-mask"></div><div class="q4-loading-dialog"><div class="q4-loading-dialog-icon"></div><div class="q4-loading-dialog-text">Please Wait...</div></div>');b.q4viewfactory.registerClass("qdom_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="qdom_view";var d=null,c=null,e=null,f=null,g=null;a._render=
function(a,j){d=j.getHtmlNode();c=b.tmpl("qdom_viewtmplDialogMask");c.appendTo(j.getHtmlNode());c.touchclick(function(a,d){var f=b.Event(d);f.preventDefault();f.stopPropagation();f.stopImmediatePropagation();c.toggle();e.toggle();setTimeout(function(){b.dialogMaskOn=!1},500)});f=b.tmpl("qdom_viewtmplLoadingMask");f.appendTo(j.getHtmlNode());g=j.getHtmlNode().find("div.q4-loading-dialog")};a.getHtmlNode=function(){return d};a.showDialog=function(a,d){if(d){e=a;a.show();var f=b(document).height(),g=
b(document).width();c.css({width:g,height:f});c.show();b.dialogMaskOn=!0}else c.hide(),a.hide(),b.dialogMaskOn=!1};a.toggleLoading=function(){var a=d.parents("div.q4-container-root").last();0==a.length&&(a=d.parents("div.q4-container").last());var c=b(window).width();a&&a.position()&&(c=a.width());var e=b(document).height();f.css({width:c-10,height:e-5});b(window).scrollLeft();c=b(window).scrollTop();g.css("left",a.width()/2-g.width()/2);g.css("top",b(window).height()/2-g.height()/2+c-60);f.toggle()};
a.scrollToTop=function(){b(window).scrollTop(0)};return a})})(k);(function(b){b.template("renderingComplete_viewtmpl",'<div class="q4-rendering-complete"></div>');b.template("renderingComplete_view.unsupportedMessagetmpl",'<div id="unsupportedBrowserMessage"><div class="unsupportedBrowserMessageTitle">Sorry, the web browser you are currently using will not display the content used in this question or is unrecognized.</div><div class="unsupportedBrowserMessageCautionText">You won\'t receive any points for this question unless you attempt it in a supported browser.</div><div class="unsupportedBrowserMessageBody">To continue working, re-open this question from any of the following web browsers:<ul class="unsupportedBrowserMessageBrowserList"><li>Firefox 22 or higher</li><li>Google Chrome</li><li>Internet Explorer 9 or higher</li><li>Safari (desktop or iPad)</li></ul>Thanks and Happy Learning!</div></div>');
b.template("renderingComplete_view.warningMessagetmpl",'<div id="unsupportedBrowserWarningOverlay"><div id="unsupportedBrowserWarning"><div class="unsupportedBrowserMessageTitle">The web browser you are currently using is unrecognized or is out of date.</div><div class="unsupportedBrowserMessageCautionText">The content in this question may not display or function properly unless you attempt it in a supported browser.</div><div class="unsupportedBrowserMessageBody">We recommend that you re-open this question from any of the following web browsers:<ul class="unsupportedBrowserMessageBrowserList"><li>Firefox 22 or higher</li><li>Google Chrome</li><li>Internet Explorer 9 or higher</li><li>Safari (desktop or iPad)</li></ul><a class="txthover" id="dismissBrowserWarning" href="javascript:void(0)">I understand and still wish to continue</a></div></div></div>');
b.template("renderingComplete_view.navMasktmpl",'<div style="left: 0px; background: white; position: absolute; right: 0px; z-index: 500; height: 90px;"></div></div>');b.q4viewfactory.registerClass("renderingComplete_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="renderingComplete_view";var d=null;a._render=function(a,e){d=b.tmpl("renderingComplete_viewtmpl");d.appendTo(e.getHtmlNode());var f=navigator.userAgent;/Chrome\/([0-9]+)/.exec(f);/MSIE ([0-9]+)/.exec(f);
/Firefox\/([0-9]+)/.exec(f);/AppleWebKit\/([0-9]+)/.exec(f);/OS ([0-9]+).* like Mac OS X/.exec(f);for(var f=a.incompatibleFeatures.split(";"),g=0;g<f.length;g++);};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("root_viewtmpl",'<div class="q4-renderer"></div>');b.q4viewfactory.registerClass("root_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="root_view";var d=null;a._render=function(a){d=b.tmpl("root_viewtmpl");d.prependTo(a)};
a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("title_viewtmpl",'<div title="description title" class="q4-description-title"></div>');b.q4viewfactory.registerClass("title_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="title_view";var d=null;a._render=function(a,e){d=b.tmpl("title_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("checkYourSolution_viewtmpl",
'<div class="q4-solveforx-checkyoursolution q4-hidden"><div class="q4-solveforx-checkyoursolution-header">Check Your Result:</div><div class="q4-solveforx-checkyoursolution-content"></div><div class="q4-solveforx-finalsolution-content"></div></div>');b.template("checkYourSolution_viewTableTmpl",'<table class="q4-solveforx-checkyoursolution-table"></table>');b.template("checkYourSolution_viewRowTmpl",'<tr class="q4-solveforx-checkyoursolution-row"><td class="q4-solveforx-checkyoursolution-row-lhs"><img src="${imageLHS}"/></td><td class="q4-solveforx-checkyoursolution-row-equals">=</td><td class="q4-solveforx-checkyoursolution-row-rhs"><img src="${imageRHS}"/></td></tr>');
b.template("checkYourSolution_viewRowInputTmpl",'<tr class="q4-solveforx-checkyoursolution-row"><td class="q4-solveforx-checkyoursolution-row-lhs"><span>Substitute </span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAAAjklEQVR42mNgQAVMQGwOxNJoYi7IikAKeoD4JRCfgYqJAvE5IP7PgAV0QCX4gLgViDmA2BibQj+owm1oTsAAPFCFsxmIAF+AeA0hRZVAfBKIv+FTZArEGUAcDrVeByouywB1sBs0KPqQJEAKi4DYHogdQYL1UMFz0CCBgQtA/AeIy5FD3hpKIwOQJg0YBwBQrBlGRx3JMQAAAABJRU5ErkJggg=="><span> = </span><input class="q4-solveforx-checkyoursolution-input" type="text" size="3"/><span> into &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><img src="${imageLHS}"/></td><td class="q4-solveforx-checkyoursolution-row-equals">=</td><td class="q4-solveforx-checkyoursolution-row-rhs"><img src="${imageRHS}"/></td></tr>');
b.template("checkYourSolution_viewCheckTmpl",'<tr class="q4-solveforx-checkyoursolution-row-action"><td class="q4-solveforx-checkyoursolution-check" colspan="3"><button class="q4-solveforx-checkyoursolution-check-button">Check</button><button class="q4-solveforx-checkyoursolution-check-back">Back to Equation</button></td></tr>');b.template("checkYourSolution_viewCheckAgainTmpl",'<tr class="q4-solveforx-checkyoursolution-row-action"><td class="q4-solveforx-checkyoursolution-checkagain" colspan="3"><button class="q4-solveforx-checkyoursolution-checkagain-button">Check Again</button><button class="q4-solveforx-checkyoursolution-checkagain-back">Back to Equation</button></td></tr>');
b.template("checkYourSolution_viewFinalSolutionTmpl",'<table class="q4-solveforx-checkyoursolution-table"><tr><td><span class="q4-solveforx-finalsolution-header">Solution:</span></td><td><span><input class="q4-solveforx-finalsolution-radio" type="radio" name="${name}" value="1"/></span><span class="q4-solveforx-finalsolution-image"><img src="${imageLHS}"/><span>=</span><img src="${imageRHS}"/></span><span><input class="q4-solveforx-finalsolution-radio" type="radio" name="${name}" value="2"/></span><span>No solution</span><span><input class="q4-solveforx-finalsolution-radio" type="radio" name="${name}" value="3"/></span><span>All real numbers</span></td><td class="q4-solveforx-finalsolution-action"></td></tr><tr class="q4-solveforx-finalsolution-feedback"><td class="q4-solveforx-finalsolution-feedback-col" colspan="3"></td></tr></table>');
b.template("checkYourSolution_viewStepFeedbacktmpl","<div></div>");b.template("checkYourSolution_viewGINTmpl",'<div class="q4-solveforx-temp-GIN"><button class="q4-button">Grade It Now</button></div>');b.q4viewfactory.registerClass("checkYourSolution_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="checkYourSolution_view";var d=null,c=null,e=null,f=null,g=null;a._render=function(a,g){f=a;d=b.tmpl("checkYourSolution_viewtmpl");d.appendTo(g.getHtmlNode());
c=d.find("div.q4-solveforx-checkyoursolution-content");e=d.find("div.q4-solveforx-finalsolution-content");h(d)};a.getHtmlNode=function(){return c};var h=function(c){var d=b.tmpl("checkYourSolution_viewGINTmpl");c.append(d);d.find("button").touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_TEMP_GRADE_IT_NOW)})};a.printCheckYourSolution=function(){var e=c.find("table"),g={imageLHS:f.getImageEquationLHS(),imageRHS:f.getImageEquationRHS()},g=b.tmpl("checkYourSolution_viewRowInputTmpl",
g);e.append(g);var h=g.find("input.q4-solveforx-checkyoursolution-input"),g=b.tmpl("checkYourSolution_viewCheckTmpl");e.append(g);var p=g.find("button.q4-solveforx-checkyoursolution-check-button"),q=function(a){p.removeAttr("disabled");var b=c.parents("div.q4-container-root").last();0==b.length&&(b=c.parents("div.q4-container").last());b.triggerHandler("communicationError",[a])};p.touchclick(function(){p.attr("disabled",!0);var c=f.getCanonicalEquationLHS(),d=f.getCanonicalEquationRHS(),e=h.attr("value");
a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CHECK_SOLUTION,c,d,e,q)});e=g.find("button.q4-solveforx-checkyoursolution-check-back");e.touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_BACK_TO_EQUATION)});f.getSolveForXModel().isGraded()&&e.remove();j();d.addClass("q4-fade-capable");d.css("opacity",0);setTimeout(function(){d.css("opacity",1)},1)};a.printCheckAgain=function(){var d=c.find("table"),e={imageLHS:f.getImageEquationLHS(),imageRHS:f.getImageEquationRHS()},e=b.tmpl("checkYourSolution_viewRowTmpl",
e);d.append(e);for(var g=0;g<f.getChecks().length;g++)e=f.getChecks()[g],e={imageLHS:e.getImageEquationLHS(),imageRHS:e.getImageEquationRHS()},e=b.tmpl("checkYourSolution_viewRowTmpl",e),d.append(e);g=b.tmpl("checkYourSolution_viewCheckAgainTmpl");d.append(g);e=g.find("button.q4-solveforx-checkyoursolution-checkagain-button");e.touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CHECK_AGAIN)});f.canCheckSolution()||e.attr("disabled","true");g=g.find("button.q4-solveforx-checkyoursolution-checkagain-back");
g.touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_BACK_TO_EQUATION)});f.getSolveForXModel().isGraded()&&g.remove();d.addClass("q4-fade-capable");d.css("opacity",0);setTimeout(function(){d.css("opacity",1)},1);j()};var j=function(){e.empty();var a=f.getSolveForXModel().getFinalEquation(),c=a.getInputEquationLHS(),d=a.getInputEquationRHS();/x/.test(c);/x/.test(d);a={name:"solve-for-x-finalsolution-"+f.getSolveForXModel().uid,imageLHS:a.getImageEquationLHS(),imageRHS:a.getImageEquationRHS()};
a=b.tmpl("checkYourSolution_viewFinalSolutionTmpl",a);f.getSolveForXModel().isShowFeedback()&&(c=b.q4domfactory.newInstanceByName("solveForXFeedback").initWithParams(f.getSolveForXModel().getIsCorrect(),[f.getSolveForXModel().getIsCorrect()?"Correct":"Incorrect"]),g=b.q4viewfactory.newInstanceByName("solveForXFeedback_view"),g.init(c),c=b.tmpl("checkYourSolution_viewStepFeedbacktmpl"),d=g.printFeedbackDetail(c,"feedback-final",!0),g.printFeedbackIcon(a.find(".q4-solveforx-finalsolution-action"),"feedback-final",
d,!0),a.find(".q4-solveforx-finalsolution-feedback-col").append(c));e.append(a)};a.removeBackToEquationButton=function(){c.find("button.q4-solveforx-checkyoursolution-check-back").remove();c.find("button.q4-solveforx-checkyoursolution-checkagain-back").remove()};a.clearDisplay=function(){c.empty();var a=b.tmpl("checkYourSolution_viewTableTmpl");c.append(a)};a.showCheckYourResult=function(){a.clearDisplay();a.printCheckYourSolution();d.removeClass("q4-hidden")};a.hideCheckYourResult=function(){d.addClass("q4-hidden")};
return a})})(k);(function(b){b.template("solveForX_viewtmpl",'<div class="q4-solveforx"><div class="q4-solveforx-container"><div class="q4-solveforx-header">Solve the following equation and check the result:</div><div class="q4-solveforx-steps"><table class="q4-solveforx-steps"></table></div></div></div>');b.template("solveForX_viewSteptmpl",'<tr class="q4-solveforx-step${lastStep} ${feedbackDisabledClass}"><td class="q4-solveforx-step-lhs">{{html imageLHS}}</td><td class="q4-solveforx-step-equals">${inputEqualsSign}</td><td class="q4-solveforx-step-rhs">{{html imageRHS}}</td><td class="q4-solveforx-step-description"></td><td class="q4-solveforx-step-action"></td></tr>');
b.template("solveForX_viewStepFeedbackShowntmpl",'<tr class="q4-solveforx-step-feedback-shown${lastStep}"><td class="q4-solveforx-step-lhs">{{html imageLHS}}</td><td class="q4-solveforx-step-equals">${inputEqualsSign}</td><td class="q4-solveforx-step-rhs">{{html imageRHS}}</td><td class="q4-solveforx-step-description"></td><td class="q4-solveforx-step-action"></td></tr>');b.template("solveForX_viewTransformActiontmpl",'<tr class="q4-solveforx-step-action"><td class="q4-solveforx-step-action-lhs">${inputLHS}</td><td class="q4-solveforx-step-action-equals">${inputEqualsSign}</td><td class="q4-solveforx-step-action-rhs">${inputRHS}</td><td class="q4-solveforx-step-action-action" colspan="2"></td></tr>');
b.template("solveForX_viewStepFeedbacktmpl",'<tr class="q4-solveforx-step-feedback${lastStep}"><td class="q4-solveforx-step-feedback-col" colspan="5"></td></tr>');b.template("solveForX_viewStepSimplifytmpl",'<tr class="q4-solveforx-step-action"><td class="q4-solveforx-step-action-lhs"></td><td class="q4-solveforx-step-action-equals">${inputEqualsSign}</td><td class="q4-solveforx-step-action-rhs" colspan="3"><span class="q4-solveforx-step-action-simplify-prompt">Simplify.</span></td></tr>');b.template("solveForX_viewEraseTmpl",
'<div class="q4-solveforx-erase"><a class="q4-solveforx-erase-button"><span>Erase</span></a></div>');b.template("solveForX_viewfeedbackButtonTmpl",'<div class="q4-solveforx-toggle-feedback"><a class="q4-link">Toggle Feedback</a></div>');b.template("solveForX_viewactionTmpl",'<div class="q4-solveforx-action">${action}</div>');b.template("solveForX_viewline1Tmpl",'<div class="q4-solveforx-action-init">${action}</div>');b.template("solveForX_viewTransOptionstmpl",'<select class="q4-solveforx-operations"><option value="${typeChoose}">Choose...</option><option value="${typeAdd}">Add</option><option value="${typeSubtract}">Subtract</option><option value="${typeMultiply}">Multiply by</option><option value="${typeDivide}">Divide by</option></select>');
b.template("solveForX_viewTransInputtmpl",'<input type="text" size="3"/> on both sides&nbsp;&nbsp;');b.template("solveForX_viewTransButtontmpl","<button>Enter</button>");b.template("solveForX_viewTransCancelButtontmpl","<button>Cancel</button>");b.template("solveForX_viewSimInputtmpl",'<input class="q4-solveforx-simplify-input" type="text" size="8"/>');b.template("solveForX_viewSimInputButtontmpl","<button>Enter</button>");b.template("solveForX_viewAddAnotherStepButtontmpl",'<span><span class="q4-solveforx-add-another-step-prompt">Add Another Step?</span><button>Yes</button><button>No</button></span>');
b.template("solveForX_viewIAmDoneButtontmpl","<button>I am Done</button>");b.template("solveForX_viewConfirmGototmpl",'<tr><td colspan="5"><div role="region" tabindex="-1" class="q4-solveforx-erase-confirm q4-grow-xy">Would you like to permanently erase the steps below?<div class="q4-solveforx-erase-buttons" align="center"><button>Yes</button><button>No</button></div><div class="q4-solveforx-erase-showmessage"><input type="checkbox">Do not show this message again.</input></div></div></td></tr>');
b.template("solveForX_viewInvalidEntrytmpl",'<tr><td colspan="5"><div class="q4-solveforx-invalidentry q4-grow-xy"><div class="q4-solveforx-invalidentry-arrow-container"><div class="q4-solveforx-invalidentry-arrow-background q4-solveforx-feedback-arrow-background-negative"></div><div class="q4-solveforx-invalidentry-arrow q4-solveforx-feedback-arrow-negative"></div></div><div role="region" class="q4-solveforx-invalidentry-box"><div align="center">Invalid entry</div></div></div></td></tr>');b.q4viewfactory.registerClass("solveForX_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="solveForX_view";var d=null,c=null;a._render=function(e,g){c=e;var h=b.tmpl("solveForX_viewtmpl");d=h.find("table");h.appendTo(g.getHtmlNode());var j=b.tmpl("solveForX_viewfeedbackButtonTmpl");h.prepend(j);j.find("a").touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_TOGGLE_FEEDBACK_MODE)})};a.getHtmlNode=function(){return d};a.clearDisplay=function(){d.empty()};a.printEquation=function(f,
g,h,j,l,m){var n={inputLHS:f.getInputEquationLHS(),inputRHS:f.getInputEquationRHS(),imageLHS:null!=f.getImageEquationLHS()?'<img src="'+f.getImageEquationLHS()+'"/>':"",imageRHS:null!=f.getImageEquationRHS()?'<img src="'+f.getImageEquationRHS()+'"/>':"",inputEqualsSign:"=",lastStep:j?"-lastrow":"",feedbackDisabledClass:""},p=null;m&&c.isGraded()?(n.feedbackDisabledClass="q4-solveforx-step-feedback-disabled",p=b.tmpl("solveForX_viewSteptmpl",n)):p=c.isShowFeedback()&&!m?b.tmpl("solveForX_viewStepFeedbackShowntmpl",
n):b.tmpl("solveForX_viewSteptmpl",n);d.append(p);l&&f.getStepNumber()==c.getEquationCount()&&(p.addClass("q4-fader"),setTimeout(function(){p.addClass("q4-opacity1")},1));e(p,f);var q=p.find("td.q4-solveforx-step-description"),l=p.find("td.q4-solveforx-step-action"),g={action:g},g=1==f.getStepNumber()?b.tmpl("solveForX_viewline1Tmpl",g):b.tmpl("solveForX_viewactionTmpl",g);q.append(g);g=f.getFeedback();q=f.getFeedbackView();!m&&(null!=g&&c.isShowFeedback())&&(n={lastStep:j?"-lastrow":""},m=b.tmpl("solveForX_viewStepFeedbacktmpl",
n),d.append(m),j=!c.getStepByNumber(g.getStepNumber()).step.isToBeDeleted(),m=q.printFeedbackDetail(m.find(".q4-solveforx-step-feedback-col"),"feedback-"+g.getStepNumber(),j),q.printFeedbackIcon(l,"feedback-"+g.getStepNumber(),m,j));h&&c.isAllowInput()&&(h=b.tmpl("solveForX_viewEraseTmpl"),l.append(h),h.find("a").touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_ERASE_STEP,f)}))};a.printAddAnotherStep=function(f){if(c.isAllowInput()){var g=b.tmpl("solveForX_viewTransformActiontmpl");
e(g,f);var h=g.find("td.q4-solveforx-step-action-action"),j=b.tmpl("solveForX_viewAddAnotherStepButtontmpl");h.append(j);h=j.find("button")[0];j=j.find("button")[1];b(h).touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_ADD_ANOTHER_STEP,f)});b(j).touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_SHOW_CHECK_YOUR_RESULT)});d.append(g)}};a.printTransform=function(c){var g={typeChoose:b.SolveForXConstants.OPERATION_CHOOSE,typeAdd:b.SolveForXConstants.OPERATION_ADD,
typeSubtract:b.SolveForXConstants.OPERATION_SUBTRACT,typeMultiply:b.SolveForXConstants.OPERATION_MULTIPLY,typeDivide:b.SolveForXConstants.OPERATION_DIVIDE},h=b.tmpl("solveForX_viewTransformActiontmpl",g);e(h,c);var j=h.find("td.q4-solveforx-step-action-action"),l=b.tmpl("solveForX_viewTransOptionstmpl",g);j.append(l);var m=b.tmpl("solveForX_viewTransInputtmpl",g);j.append(m);var n=b.tmpl("solveForX_viewTransButtontmpl",g);j.append(n);var p=function(a){n.removeAttr("disabled");var b=d.parents("div.q4-container-root").last();
0==b.length&&(b=d.parents("div.q4-container").last());b.triggerHandler("communicationError",[a])};n.touchclick(function(){n.attr("disabled",!0);var d=c.getLastStep().getCanonicalEquationLHS(),e=c.getLastStep().getCanonicalEquationRHS(),g=l.attr("value"),j=m.attr("value");a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_TRANSFORM,c,d,e,g,j,p)});m.bind("input",function(){var a=m.attr("name"),b=m.attr("value");b.match(/^[0-9x\-\/*()\.]*$/)&&!b.match(/x.*x/)&&!b.match(/\.[^\.]*\./)?m.attr("name",b):
m.attr("value",a)});1<c.getLastStep().getStepNumber()&&(g=b.tmpl("solveForX_viewTransCancelButtontmpl"),g.touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CANCEL_TRANSFORM,c)}),j.append(g));d.append(h)};a.printConfirmGoto=function(c){var g=b.tmpl("solveForX_viewSteptmpl");e(g,c);var h=b.tmpl("solveForX_viewConfirmGototmpl");h.find(".q4-solveforx-erase-confirm").find("button:nth-child(1)").touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CONFIRM_GOTO,c)});
h.find(".q4-solveforx-erase-confirm").find("button:nth-child(2)").touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CANCEL_GOTO,c)});d.append(g);g.before(h);h.find(".q4-solveforx-erase-confirm").addClass("q4-grow-xy");h.find(".q4-solveforx-erase-confirm").addClass("q4-width0-height0");setTimeout(function(){h.find(".q4-solveforx-erase-confirm").removeClass("q4-width0-height0")},1)};a.printSimplify=function(c,g){var h=b.tmpl("solveForX_viewStepSimplifytmpl",{inputEqualsSign:"="});
e(h,c);var j=h.find("td.q4-solveforx-step-action-lhs"),l=h.find("td.q4-solveforx-step-action-rhs"),m=b.tmpl("solveForX_viewSimInputtmpl");j.append(m);var n=b.tmpl("solveForX_viewSimInputButtontmpl"),p=function(a){n.removeAttr("disabled");var b=d.parents("div.q4-container-root").last();0==b.length&&(b=d.parents("div.q4-container").last());b.triggerHandler("communicationError",[a])};n.touchclick(function(){n.attr("disabled",!0);var d=g.getCanonicalEquationLHS(),e=g.getCanonicalEquationRHS(),j=c.getLastStep().getCanonicalEquationLHS(),
h=c.getLastStep().getCanonicalEquationRHS(),l=m.attr("value"),k=q.attr("value");a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_SIMPLIFY,c,d,e,j,h,l,k,p)});l.prepend(n);var q=b.tmpl("solveForX_viewSimInputtmpl");l.prepend(q);h.find("input").bind("input",function(){var a=b(this),c=a.attr("name"),d=a.attr("value");d.match(/^[0-9x\-\/*()+\.]*$/)?a.attr("name",d):a.attr("value",c)});d.append(h)};var e=function(a,b){b.isToBeDeleted()?a.addClass("q4-solveforx-step-tobedeleted"):a.removeClass("q4-solveforx-step-tobedeleted")};
return a})})(k);(function(b){b.template("solveForXFeedback_viewfeedbackIconTmpl",'<div class="q4-solveforx-feedback-icon"><span class="q4-solveforx-feedback-icon-action"><div role="button" aria-controls="${id}" aria-label="feedback" class="q4-solveforx-feedback-icon-1-${icon}" tabindex="0"></div></span><span class="q4-solveforx-feedback-icon-action"><div role="button" aria-controls="${id}" aria-label="feedback" class="q4-solveforx-feedback-icon-2-${icon}" tabindex="0"></div></span></div>');b.template("solveForXFeedback_viewfeedbackTmpl",
'<div id="${id}" aria-expanded="false" role="region" tabindex="-1" class="q4-solveforx-feedback q4-hidden"><div class="q4-solveforx-feedback-arrow-container q4-solveforx-feedback-arrow-container-${direction}"><div class="q4-solveforx-feedback-arrow-background q4-solveforx-feedback-arrow-background-${direction}"></div><div class="q4-solveforx-feedback-arrow q4-solveforx-feedback-arrow-${direction}"></div></div></div>');b.template("solveForXFeedback_viewfeedbackShortTmpl",'<div class="q4-solveforx-feedback-short"><div class="q4-solveforx-feedback-short-box q4-solveforx-feedback-color-${direction}"></div><div class="q4-solveforx-feedback-short-content">${shortExplanation} <button class="q4-solveforx-feedback-button">More</button></div>');
b.template("solveForXFeedback_viewfeedbackDetailTmpl",'<div class="q4-solveforx-feedback-long q4-hidden"><div class="q4-solveforx-feedback-long-box q4-solveforx-feedback-color-${direction}"></div><div class="q4-solveforx-feedback-long-content">{{html detail}} <button class="q4-solveforx-feedback-button">Less</button></div>');b.q4viewfactory.registerClass("solveForXFeedback_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.type="solveForXFeedback_view";var d=null;
a.init=function(a){d=a};a.printFeedbackIcon=function(a,f,g,m){f={id:f,icon:d.getDirection()};f=b.tmpl("solveForXFeedback_viewfeedbackIconTmpl",f);a.append(f);f.find("span.q4-solveforx-feedback-icon-action").find("div").touchclick(function(){d.isShowFeedback()?e(g,d,!0):c(g,d,!0)});f.find("span.q4-solveforx-feedback-icon-action").find("div").keydown(function(a){if(13===a.keyCode||32===a.keyCode)d.isShowFeedback()?e(g,d,!0):c(g,d,!0),a=k.Event(a),a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()});
m&&(d.isShowFeedback()?c(g,d,!1):e(g,d,!1))};a.printFeedbackDetail=function(a,c,e){var m={id:c,direction:d.getDirection(),shortExplanation:d.getShort()},c=b.tmpl("solveForXFeedback_viewfeedbackTmpl",m),n=b.tmpl("solveForXFeedback_viewfeedbackShortTmpl",m);c.append(n);var m={direction:d.getDirection(),detail:d.getDetail()},p=b.tmpl("solveForXFeedback_viewfeedbackDetailTmpl",m);c.append(p);n.find("button").touchclick(function(){f(n,p,!0)});p.find("button").touchclick(function(){g(n,p,!0)});e&&(d.isShowExplanation()?
f(n,p,!0):g(n,p,!0));a.append(c);return c};var c=function(a,b){d.setShowFeedback(!0);a.removeClass("q4-hidden");a.attr("aria-expanded","true");var c=a.find("div.q4-solveforx-feedback-short"),e=a.find("div.q4-solveforx-feedback-long");d.isShowExplanation()?f(c,e,b):g(c,e,b);a.focus()},e=function(a,b){d.setShowFeedback(!1);a.addClass("q4-hidden");a.attr("aria-expanded","false");var c=a.find("div.q4-solveforx-feedback-short"),e=a.find("div.q4-solveforx-feedback-long");d.isShowExplanation()?f(c,e,b):
g(c,e,b)},f=function(a,b,c){d.setShowExplanation(!0);a.hide();c?b.removeClass("q4-hidden"):b.show()},g=function(a,b){d.setShowExplanation(!1);b.addClass("q4-hidden");a.show()};return a})})(k);(function(b){b.template("tableCell_viewtmpl",'<td class="q4-table-cell" {{html htmlRowSpan}} {{html htmlColSpan}}></td>');b.template("CELL_INNER_SPAN",'<td class="q4-table-cell" {{html htmlRowSpan}} {{html htmlColSpan}}><span class="q4-table-cell-${innerSpanRole}-inner-span"></span></td>');b.q4viewfactory.registerClass("tableCell_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.optionViews=[];a.nodeName="tableCell_view";var d=null,c=null;a._render=function(a,f){d=a;var g={htmlRowSpan:"",htmlColSpan:""};-1!==a.rowSpan&&(g.htmlRowSpan='rowspan="'+a.rowSpan+'"');-1!==a.columnSpan&&("check"!==a.dataType&&"radio"!==a.dataType)&&(g.htmlColSpan='colspan="'+a.columnSpan+'"');null!==a.innerSpanRole?(g.innerSpanRole=a.innerSpanRole,c=b.tmpl("CELL_INNER_SPAN",g)):c=b.tmpl("tableCell_viewtmpl",g);c.addClass("q4-table-c"+
a.index);c.addClass("q4-table-r"+a.parent.index+"c"+a.index);null!==a.role&&c.addClass(a.role.replace(" ","_"));null!==a.dataType&&c.addClass(a.dataType.replace(" ","_"));c.appendTo(f.getHtmlNode());null!==a.innerSpanRole&&(c=c.find("span"))};a.getHtmlNode=function(){return c};a._refreshCorrectness=function(){for(var c=0;c<a.optionViews.length;c++)a.optionViews[c].clearCorrectness();for(c=0;c<d.options.length;c++)b(d.options[c]).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};
return a})})(k);(function(b){b.template("tableRow_viewtmpl",'<tr class="q4-table-row"></tr>');b.q4viewfactory.registerClass("tableRow_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="tableRow_view";var d=null;a._render=function(a,e){d=b.tmpl("tableRow_viewtmpl");d.addClass("q4-table-r"+a.index);d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("table_viewtmpl",'<table class="q4-table" cellpadding=0 cellspacing=0><tbody></tbody></table>');
b.q4viewfactory.registerClass("table_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="table_view";var d=null;a._render=function(a,e){d=b.tmpl("table_viewtmpl");d.appendTo(e.getHtmlNode());null!==a.role&&d.addClass("q4-table-role-"+a.role);"notecard"===a.role&&(d=d.wrap('<div class="q4-background-box"></div>'));d=d.find("tbody")};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("categorizationTable_viewtmpl",'<table class="q4-categorizationTable"></table>');
b.q4viewfactory.registerClass("categorizationTable_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="categorizationTable_view";var d=null;a._render=function(a,e){d=b.tmpl("categorizationTable_viewtmpl");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.q4viewfactory.registerClass("categorizationTableChoice_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="categorizationTableChoice_view";
a.optionViews=[];var d=null,c=null;a.getChoiceActions=function(){return null};a.fireShowCorrectAnswerEvent=function(){d.trigger("choice_view_correct_answer")};a.getChoice=function(){return b.eventproxy.createAddViewHandler(function(a,c){a==b.q4presenterfactory.PRESENTER_EVENT_TOGGLE_DIALOG&&d.bind("choice_view_show_dialog",c)})};var e=null;a._render=function(a,b){e=a;d=b.getHtmlNode();c=b};a.getChooseView=function(){return c};a._bindModel=function(){};a._refreshCorrectness=function(){for(var c=0;c<
a.optionViews.length;c++)a.optionViews[c].clearCorrectness();for(c=0;c<e.options.length;c++)b(e.options[c]).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("categorizationTableChoicePrompt_viewtmpl",'<td class="q4-categorizationTable-choice-prompt q4-categorizationTable-row-left"></td>');b.q4viewfactory.registerClass("categorizationTableChoicePrompt_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="categorizationTableChoicePrompt_view";var d=null;a._render=function(a,e){d=b.tmpl("categorizationTableChoicePrompt_viewtmpl");d.prependTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("categorizationTableChoose_viewtmpl",'<tr class="q4-categorizationTable-choose"><td class="q4-categorizationTable-choice-correctness" aria-hidden="true"><div class="q4-categorizationTable-choice-correctness-container"></div></td></tr>');b.q4viewfactory.registerClass("categorizationTableChoose_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="categorizationTableChoose_view";var d=null,c=null;a._render=function(a,e){d=b.tmpl("categorizationTableChoose_viewtmpl");d.appendTo(e.getHtmlNode());c=d.find("div.q4-categorizationTable-choice-correctness-container")};a.getHtmlNode=function(){return d};var e=function(){c.removeClass("q4-categorizationTable-incorrect");c.removeClass("q4-categorizationTable-correct")};a.showCorrect=function(){e();c.addClass("q4-categorizationTable-correct")};
a.showIncorrect=function(){e();c.addClass("q4-categorizationTable-incorrect")};return a})})(k);(function(b){b.template("categorizationTableOption_viewtmpl",'<td class="q4-categorizationTable-choice-option-control"><div class="q4-categorizationTable-choice-option-input-incorrect"><input class="q4-categorizationTable-choice-option-input" type="${inputType}" name="${name}" value="${value}" aria-label="${label}"></div></td>');b.q4viewfactory.registerClass("categorizationTableOption_view",function(){var a=
Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="categorizationTableOption_view";var d=null,c=null,e=null,f=null,g="",h=null;a._render=function(b,c){h=b;f=c;f.optionViews.push(a);g=b.columnTitle;switch(b.parent.choiceType){case "radio":case "checkbox":j(b,c),h.isLastColumn?e.addClass("q4-categorizationTable-row-right"):e.addClass("q4-categorizationTable-row-mid")}};var j=function(a,f){e=b.tmpl("categorizationTableOption_viewtmpl",{inputType:"radio"===a.parent.choiceType?"radio":
"checkbox",name:"categorizationTable-choice-option-parent"+a.parent.uid,value:a.id,label:g});e.insertBefore(f.getHtmlNode().find("td.q4-categorizationTable-choice-correctness"));c=e.find("input.q4-categorizationTable-choice-option-input");d=e.find("div.q4-categorizationTable-choice-option-input-incorrect");d.bind("change",function(){l()})},l=function(){"radio"==h.parent.choiceType&&(b.each(h.parent.options,function(a,b){b.clientSelected=!1}),h.clientSelected=!0);"checkbox"==h.parent.choiceType&&(h.clientSelected=
!h.clientSelected);c.attr("checked",h.clientSelected);b(h.parent).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a._bindModel=function(){};a._refreshClientSelection=function(a){if(a.clientSelected)switch("checkbox"==a.parent.choiceType&&(a.clientSelected=!a.clientSelected),h.parent.choiceType){case "radio":case "checkbox":l()}};a._refreshCorrectness=function(b){switch(b.parent.choiceType){case "radio":case "checkbox":var c=e;a.clearCorrectness();c=c.find("div.q4-categorizationTable-choice-option-input-incorrect");
c.removeClass("q4-categorizationTable-choice-option-input-incorrect-shown");c.find("input").attr("aria-label",g);b.isClientSelectionCorrect()||(c.addClass("q4-categorizationTable-choice-option-input-incorrect-shown"),c.find("input").attr("aria-label",g+" incorrect"));a:{f.getChooseView().showIncorrect();for(var b=h.parent.options,c=!1,d=0;d<b.length;d++){var j=b[d];if(!j.isClientSelectionCorrect())break a;j.correct&&(c=!0)}c&&f.getChooseView().showCorrect()}}};a.clearCorrectness=function(){switch(h.parent.choiceType){case "radio":case "checkbox":var a=
e.find("div.q4-choice-option-control");a.removeClass("q4-choice-option-control-correct");a.removeClass("q4-choice-option-control-incorrect")}};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("choice_viewtmpl",'<div><fieldset class="q4-choice"></fieldset></div>');b.template("blankMarkup","");b.template("choice_viewtmplInline",'<span class="q4-select-container"><span class="q4-select-hitarea"><span class="q4-select"><img class="q4-select-vertical-spacer"/><span class="q4-select-content">&nbsp;</span> <span class="q4-select-control q4-select-control-prompt">&nbsp;</span></span></span></span>');
b.template("choice_viewtmplInlineBox",'<span class="q4-select-box-container"><div class="q4-select-box-arrow"></div><span><ul class="q4-select-box q4-select-box-unselected"></ul></span></span>');b.q4viewfactory.registerClass("choice_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="choice_view";a.optionViews=[];var d=null,c=null,e=null,f=function(){var c={},e=null,f=null;c.setHtmlAnchor=function(a){e=a};c.setHtmlSelectBox=function(a){f=a};c.getHtmlAnchor=
function(){return e};c.showChoice=function(c){if(c){var c=b.evalMetric(e.css("padding-bottom")),g=d.parents("div.q4-container-root").last();0==g.length&&(g=d.parents("div.q4-container").last());var j=b(window).width(),l=b(window).height();g&&g.position()&&(j=g.position().left+g.width(),l=g.position().top+g.height(),g.position());g=0;f.width()<e.width()?(f.css({right:""}),f.css("left",e.position().left),g=f.width()/2):e.position().left+f.width()>j-20?(f.css({left:""}),f.css("right",b(window).width()-
j+20+"px"),g=f.width()-j+e.position().left+e.width()/2+20):(f.css({right:""}),f.css("left",e.position().left),g=e.width()/2);f.css("top",e.position().top+20+c);e.position().top+f.height()>l&&e.position().top>f.height()?(c=e.find(".q4-select-content").position().top-f.height(),f.css("top",c+"px"),f.find("div.q4-select-box-arrow").appendTo(f),f.find("div.q4-select-box-arrow").addClass("q4-select-box-arrow-down"),f.find("div.q4-select-box-arrow-down").removeClass("q4-select-box-arrow")):(f.find("div.q4-select-box-arrow-down").prependTo(f),
f.find("div.q4-select-box-arrow-down").addClass("q4-select-box-arrow"),f.find("div.q4-select-box-arrow").removeClass("q4-select-box-arrow-down"));f.find("div.q4-select-box-arrow").css("background-position",g-15+"px 0px");f.find("div.q4-select-box-arrow-down").css("background-position",g-7+"px 0px");for(c=0;c<h.options.length;c++)h.options[c].clientSelected&&a.optionViews[c].highlightSelection();d.trigger("choice_view_show_dialog",[f,!0])}else d.trigger("choice_view_show_dialog",[f,!1])};c.copyIntoAnchor=
function(a){e.find("span.q4-select-content").html(a.html());var c=0;a.children().each(function(a,d){var e=b.evalMetric(b(d).css("vertical-align"));c=Math.min(c,e)});c=Math.abs(c);e.css("padding-bottom",c+"px");var a=12+c,d=e.find("img.q4-select-vertical-spacer");0==c?d.css("vertical-align","baseline"):d.css("vertical-align","-"+a+"px")};return c},g=null;a.getChoiceActions=function(){return g};a.fireShowCorrectAnswerEvent=function(){d.trigger("choice_view_correct_answer")};a.getChoice=function(){return b.eventproxy.createAddViewHandler(function(a,
c){a==b.q4presenterfactory.PRESENTER_EVENT_TOGGLE_DIALOG&&d.bind("choice_view_show_dialog",c)})};var h=null;a._render=function(a,c){h=a;switch(a.choiceType){case "radio":case "checkbox":d=a.getUseParentTdView()?b.tmpl("blankMarkup"):c.getHtmlNode().append(b.tmpl("choice_viewtmpl")).children().last().children().first();break;case "select":g=new f,j(a,c)}};var j=function(a,f){var j=b.tmpl("choice_viewtmplInline");c=j;j.appendTo(f.getHtmlNode());var h=j.find("span.q4-select"),q=b.tmpl("choice_viewtmplInlineBox");
e=q;q.appendTo(j);d=q.find("ul.q4-select-box");g.setHtmlAnchor(h);g.setHtmlSelectBox(q);j.find("span.q4-select-hitarea").touchclick(function(){g.showChoice(!0)})};a._bindModel=function(){};a._refreshCorrectness=function(){for(var c=0;c<a.optionViews.length;c++)a.optionViews[c].clearCorrectness();for(c=0;c<h.options.length;c++)b(h.options[c]).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a.getHtmlNode=function(){return d};a.clearAllHighlight=function(){for(var b=0;b<h.options.length;b++)a.optionViews[b].unhighlightSelection()};
a.resizeWidth=function(){if("select"===h.choiceType){e.css("font-weight","bold");var a=e.width()-15;e.css("font-weight","");40>a&&(a=40);c.find("span.q4-select-content").css("width",a+"px")}};return a})})(k);(function(b){b.template("option_viewtmpl",'<div class="q4-choice-option q4-choice-option-divider"><div class="q4-choice-option-input-container"><div class="q4-choice-option-input-cell"><input class="q4-choice-option-input" type="${inputType}" name="${name}" value="${value}" id="${id}"></div><div class="q4-choice-option-label"></div></div></div><div class="q4-newline"></div>');
b.template("option_viewtmplInline",'<li class="q4-select-box-option q4-select-box-option-divider"></li>');b.q4viewfactory.registerClass("option_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="option_view";var d=null,c=null,e=null,f=null,g=null;a._render=function(b,c){g=b;f=c;void 0!==f.optionViews&&f.optionViews.push(a);switch(b.parent.choiceType){case "radio":case "checkbox":h(b,c);break;case "select":j(b,c)}};var h=function(a,f){e=b.tmpl("option_viewtmpl",
{inputType:"radio"==a.parent.choiceType?"radio":"checkbox",name:"choice-option-parent"+a.parent.uid,value:a.id});e.appendTo(f.getHtmlNode());c=e.find("input.q4-choice-option-input");e.find("input.q4-choice-option-input").bind("change",function(){l()});b.inArray(a,a.parent.options)==a.parent.options.length-1&&e.removeClass("q4-choice-option-divider");d=e.find("div.q4-choice-option-label")},j=function(c,g){e=b.tmpl("option_viewtmplInline");e.appendTo(g.getHtmlNode());b.inArray(c,c.parent.options)==
c.parent.options.length-1&&e.removeClass("q4-select-box-option-divider");d=e;e.touchclick(function(a,c){var d=b.Event(c);d.preventDefault();d.stopPropagation();d.stopImmediatePropagation();m()});e.touchclickstart(function(){f.clearAllHighlight();a.highlightSelection()});e.touchclickend(function(){a.unhighlightSelection()})},l=function(){"radio"==g.parent.choiceType&&(b.each(g.parent.options,function(a,b){b.clientSelected=!1}),g.clientSelected=!0);"checkbox"==g.parent.choiceType&&(g.clientSelected=
!g.clientSelected);c.attr("checked",g.clientSelected);"radio"==g.parent.choiceType?b(g.parent).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS):b(g).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)},m=function(){e.parents(".q4-select-container").find(".q4-select-box").removeClass("q4-select-box-unselected");b.each(g.parent.options,function(a,b){b.clientSelected=!1});g.clientSelected=!0;f.getChoiceActions().copyIntoAnchor(e);f.getChoiceActions().showChoice(!1);
b(g.parent).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a._bindModel=function(){};a._refreshClientSelection=function(a){if(a.clientSelected)switch("checkbox"==a.parent.choiceType&&(a.clientSelected=!a.clientSelected),g.parent.choiceType){case "radio":case "checkbox":l();break;case "select":m()}};a._refreshCorrectness=function(b){switch(b.parent.choiceType){case "radio":case "checkbox":a.clearCorrectness();var d=c.attr("checked");"radio"==b.parent.choiceType&&(!b.parent.hasOptionSelected()&&
b.correct?n():d&&(b.correct?p():n()));"checkbox"==b.parent.choiceType&&(d?b.isInitialCorrectnessDisplay?(!0===b.correctAsSubmitted?p():!1===b.correctAsSubmitted&&n(),b.isInitialCorrectnessDisplay=!1):b.correct?p():n():b.isInitialCorrectnessDisplay?(!0===b.correctAsSubmitted?p():!1===b.correctAsSubmitted&&n(),b.isInitialCorrectnessDisplay=!1):b.correct?n():p());break;case "select":for(var d=!1,f=0;f<b.parent.options.length;f++)if(b.parent.options[f].clientSelected){d=!0;break}f=e.parents("span.q4-select-container").find("span.q4-select-control");
d||(a.clearCorrectness(),f.prepend('<img alt="Incorrect" class="q4-choice-option-correctness-indicator" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAAP8AAP8PD/8fH/8vL/8/P/9PT/9fX/9vb/9/f/+fn/+vr/+/v//Pz//f3//v7wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhWAP8JHEhwoIEAAhwIVBAgAAOBDgQEKPAvYoADBBc0XEAgwIAHBRE0bPiw4L+OARKY/PdA4kSTDzoOaKiS4IGGDUQ6HJiApsCOAkD+S0B0oAOiJVcSDAgAOw=="/>'));
b.clientSelected&&(a.clearCorrectness(),b.correct?f.prepend('<img alt="Correct" class="q4-choice-option-correctness-indicator" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAADOZMz+fP0ylTFmsWWayZnK4cn+/f4zFjJnMmbLYsr/fv8zlzNjr2OXy5fL48gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhQAP8JHDjwgAGCCA8ECOAAocAFCw84/OdAQAABDR0WWJhA4EYFAhMsHPBAIIGLDRosDLBgIMQABAYsLIDQwMqFDRzKXIhgIoOFAiaGDAASYUAAOw=="/>'):
f.prepend('<img alt="Incorrect" class="q4-choice-option-correctness-indicator" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAAP8AAP8PD/8fH/8vL/8/P/9PT/9fX/9vb/9/f/+fn/+vr/+/v//Pz//f3//v7wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhWAP8JHEhwoIEAAhwIVBAgAAOBDgQEKPAvYoADBBc0XEAgwIAHBRE0bPiw4L+OARKY/PdA4kSTDzoOaKiS4IGGDUQ6HJiApsCOAkD+S0B0oAOiJVcSDAgAOw=="/>'))}};
var n=function(){d.parent().prepend('<img alt="Incorrect" class="q4-choice-option-icon q4-choice-option-correctness-indicator" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAAP8AAP8PD/8fH/8vL/8/P/9PT/9fX/9vb/9/f/+fn/+vr/+/v//Pz//f3//v7wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhWAP8JHEhwoIEAAhwIVBAgAAOBDgQEKPAvYoADBBc0XEAgwIAHBRE0bPiw4L+OARKY/PdA4kSTDzoOaKiS4IGGDUQ6HJiApsCOAkD+S0B0oAOiJVcSDAgAOw=="/>')},
p=function(){d.parent().prepend('<img alt="Correct" class="q4-choice-option-icon q4-choice-option-correctness-indicator" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAADOZMz+fP0ylTFmsWWayZnK4cn+/f4zFjJnMmbLYsr/fv8zlzNjr2OXy5fL48gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhQAP8JHDjwgAGCCA8ECOAAocAFCw84/OdAQAABDR0WWJhA4EYFAhMsHPBAIIGLDRosDLBgIMQABAYsLIDQwMqFDRzKXIhgIoOFAiaGDAASYUAAOw=="/>')};
a.clearCorrectness=function(){switch(g.parent.choiceType){case "radio":case "checkbox":d.parent().find("img.q4-choice-option-correctness-indicator").remove();break;case "select":var a=e.parents("span.q4-select-container").find("span.q4-select-control");a.removeClass("q4-select-control-prompt");a.find("img.q4-choice-option-correctness-indicator").remove()}};a.getHtmlNode=function(){return d};a.highlightSelection=function(){e.addClass("q4-select-box-option-focused")};a.unhighlightSelection=function(){e.removeClass("q4-select-box-option-focused")};
return a})})(k);(function(b){b.q4viewfactory.registerClass("choose_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="choose_view";var d=null;a._render=function(a,b){d=b.getHtmlNode()};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("explanation_viewtmpl",'<div class="q4-explanation ${hidden}"><div class="q4-explanation-header-container"><div class="q4-explanation-header"><div class="q4-explanation-header-control-arrow q4-explanation-header-control-arrow-open"></div><div class="q4-explanation-header-control q4-system-text" tabindex="0" role="button" aria-label="Open explanation button">Open</div><div class="q4-explanation-header-content q4-system-text">Explanation:</div></div></div><div class="q4-explanation-content-container q4-explanation-content-hidden"><div class="q4-explanation-content"></div></div></div>');
b.q4viewfactory.registerClass("explanation_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="explanation_view";var d=null,c=null,e=null,f=null,g=null;a._render=function(j,h){var m={hidden:""};j.svgWorkaroundRenderExpanded||(m.hidden="q4-hidden");c=b.tmpl("explanation_viewtmpl",m);m=h.getHtmlNode().find("div.q4-explanation.q4-hidden");0<m.length?(c.insertAfter(m),m.remove()):(h.getHtmlNode().find("div.q4-explanation").detach(),c.appendTo(h.getHtmlNode()));
c.find("div.q4-explanation-header").touchclick(function(){a.getExplanation().toggleContent()});d=c.find("div.q4-explanation-content");e=c.find("div.q4-explanation-content-container");f=c.find("div.q4-explanation-header-control");g=c.find("div.q4-explanation-header-control-arrow");a.getExplanation().toggleContent()};a.getHtmlNode=function(){return d};var h=new function(){return{showExplanation:function(){c.removeClass("q4-hidden")},toggleContent:function(){e.hasClass("q4-explanation-content-hidden")?
(f.html("Close"),f.attr("aria-label","Close explanation button"),g.removeClass("q4-explanation-header-control-arrow-open"),g.addClass("q4-explanation-header-control-arrow-close"),e.removeClass("q4-explanation-content-hidden"),e.fadeTo(500,1)):(f.html("Open"),f.attr("aria-label","Open explanation button"),g.addClass("q4-explanation-header-control-arrow-open"),g.removeClass("q4-explanation-header-control-arrow-close"),e.addClass("q4-explanation-content-hidden"),e.fadeTo(0,0));k(".q4-numericEntry-control").each(function(){var a=
k(this);a.click();a.click()})}}};a.getExplanation=function(){return h};return a})})(k);(function(b){b.q4viewfactory.registerClass("fillIn_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="fillIn_view";var d=null;a._render=function(a,b){d=b.getHtmlNode()};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("graph_viewtmpl",'<div class="q4-graph-container"></div>');b.template("graph_viewSpan_tmpl",'<span class="q4-graph-container"></span>');
b.template("GRAPH_HELP_BAR",'<div class="q4-graph-help"><a class="q4-graph-help-link"></a></div>');b.q4viewfactory.registerClass("graph_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="graph_view";var d=null;a._render=function(a,e){d=b.tmpl("graph_viewtmpl");d.appendTo(e.getHtmlNode());if(null!==a.getHelpUrl()){var f=b.tmpl("GRAPH_HELP_BAR");f.appendTo(d);f.touchclick(function(){window.open(a.getHelpUrl())})}};a.getHtmlNode=function(){return d};return a})})(k);
(function(b){b.template("graph_disabled_viewtmpl",'<div class="q4-graph-disabled">Your browser does not support the display of this graph.<br/>Please use Internet Explorer 9+, Firefox 3.6+, Safari,<br/>Google Chrome, or an iPad to fully answer this question.</div>');b.q4viewfactory.registerClass("graph_disabled_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="graph_disabled_view";var d=null;a._render=function(a,e){d=b.tmpl("graph_disabled_viewtmpl");
d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("textEntry_viewtmpl",'<span class="q4-textEntry-control"><span class="q4-textEntry-measure q4-hidden"></span><input class="q4-textEntry-input" type="text" {{html maxLength}}/><div class="q4-textEntry-checkmark-control q4-hidden"><div class="q4-textEntry-dropdown-button" tabIndex="-1"></div><div class="q4-textEntry-checkmark-item-list" style="display:none"><input type="button" class="q4-textEntry-checkmark-item" value="'+
b.TextEntryConstants.CHECKMARK+'"><span class="q4-textEntry-checkmark-item-spacer"/></div></div><span class="q4-textEntry-correct q4-hidden"><img src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAADOZMz+fP0ylTFmsWWayZnK4cn+/f4zFjJnMmbLYsr/fv8zlzNjr2OXy5fL48gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhQAP8JHDjwgAGCCA8ECOAAocAFCw84/OdAQAABDR0WWJhA4EYFAhMsHPBAIIGLDRosDLBgIMQABAYsLIDQwMqFDRzKXIhgIoOFAiaGDAASYUAAOw=="/></span><span class="q4-textEntry-incorrect q4-hidden"><img src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAAP8AAP8PD/8fH/8vL/8/P/9PT/9fX/9vb/9/f/+fn/+vr/+/v//Pz//f3//v7wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhWAP8JHEhwoIEAAhwIVBAgAAOBDgQEKPAvYoADBBc0XEAgwIAHBRE0bPiw4L+OARKY/PdA4kSTDzoOaKiS4IGGDUQ6HJiApsCOAkD+S0B0oAOiJVcSDAgAOw=="/></span><div class="q4-textEntry-answer q4-hidden">(no answer)</div></span>');
b.q4viewfactory.registerClass("textEntry_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="textEntry_view";var d=null,c=null,e=null,f=null,g=null,h=null,j=null,l=null,m=!1,n=!1;a._render=function(a,g){d=a;var m={maxLength:""};if(void 0===d.getMaxLength()){var n=a.codex.getLongestEntry();""!==n&&d.setMaxLength(n.length)}void 0!==d.getMaxLength()&&(m.maxLength='maxlength="'+d.getMaxLength()+'"');c=b.tmpl("textEntry_viewtmpl",m);e=c.find("input.q4-textEntry-input");
c.appendTo(g.getHtmlNode());f=c.find("span.q4-textEntry-measure");h=c.find("span.q4-textEntry-correct");j=c.find("span.q4-textEntry-incorrect");l=c.find("div.q4-textEntry-answer");if(d.isMeasureTextWidth()&&""!==d.codex.getLongestEntry())if(-1!==d.codex.getLongestEntryMeasuredWidth()){var p=d.codex.getLongestEntryMeasuredWidth();e.css("width",p+"px");e.removeAttr("value")}else{var m=d.codex.getLongestEntry(),n=m.length,o=d.codex.getAllEntries();for(p in o)p=o[p],p!==b.TextEntryConstants.CHECKMARK&&
5>=n-p.length&&f.html(p).actual("width",{absolute:!0})>f.html(m).actual("width",{absolute:!0})&&(m=p);""!==m&&(f.html(m),p=f.actual("width",{absolute:!0})+2,e.css("width",p+"px"),e.removeAttr("value"),d.codex.setLongestEntryMeasuredWidth(p));null!==d.placeholder&&(p=f.html(d.placeholder).actual("width",{absolute:!0}),p>e.width()&&e.css("width",p+"px"))}q();w();x()};a.getHtmlNode=function(){return c};a.refreshClientInput=function(){var c=b.eventproxy.createTextFieldProxy(u(),o(),s());a.fireViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_BLUR,
c)};a.refreshCorrectness=function(){if(d.isGraded()&&!m){e.attr("readonly","readonly");e.addClass("q4-textEntry-input-disabled q4-actionable");e.bind("selectstart",function(){return!1});e.touchclick(function(){p()});var a=e.width()+2;l.css("left",a+"px");l.addClass("q4-actionable");l.touchclick(function(){p()});h.addClass("q4-actionable");h.touchclick(function(){p()});j.addClass("q4-actionable");j.touchclick(function(){p()});m=!0}if(d.isGraded()){h.removeClass("q4-hidden");j.removeClass("q4-hidden");
a="font-size font-style font-weight font-family line-height text-transform letter-spacing".split(" ");b(a).each(function(){var a=this.toString();l.css(a,e.css(a))});var f=e.attr("value");if(!f||""===f)f="&nbsp;";f=b('<div class="q4-textEntry-graded" style="width: '+e.width()+"px; height: "+e.height()+'px;">'+f+"</div>");e.replaceWith(f);e=f;e.touchclick(function(){p()});b(a).each(function(){var a=this.toString();e.css(a,l.css(a))});d.isCorrect()?(c.removeClass("q4-textEntry-control-incorrect"),c.unbind("click"),
c.unbind("touchstart"),c.unbind("keydown"),c.removeAttr("tabindex"),c.removeAttr("aria-haspopup"),c.removeAttr("aria-label"),j.addClass("q4-hidden"),l.removeClass("q4-actionable"),h.removeClass("q4-actionable"),j.removeClass("q4-actionable"),c.find("img").remove(),c.append('<img class="q4-textEntry-control-correctness" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAADOZMz+fP0ylTFmsWWayZnK4cn+/f4zFjJnMmbLYsr/fv8zlzNjr2OXy5fL48gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhQAP8JHDjwgAGCCA8ECOAAocAFCw84/OdAQAABDR0WWJhA4EYFAhMsHPBAIIGLDRosDLBgIMQABAYsLIDQwMqFDRzKXIhgIoOFAiaGDAASYUAAOw=="/>'),
c.attr("title",""),c.css("width",e.width()+12+8+"px")):(c.addClass("q4-textEntry-control-incorrect"),h.addClass("q4-hidden"),c.attr("title","click to show correct answer"),c.attr("tabindex","0"),c.attr("aria-haspopup","true"),c.attr("aria-label","click to show correct answer"));l.html(d.getCorrectString())}};var p=function(){d.isCorrect()||(l.is(":visible")?(l.attr("aria-hidden","true"),c.attr("title","click to show correct answer"),c.attr("aria-label","click to show correct answer")):(l.attr("aria-hidden",
"false"),c.attr("title","click to hide correct answer"),c.attr("aria-label","click to hide correct answer"),l.css("top",e.position().top-e.height()-8)),l.toggleClass("q4-hidden"))},q=function(){d.isCheckmarkSupported()&&(g=c.find("div.q4-textEntry-checkmark-control"),g.find(".q4-textEntry-dropdown-button").touchclickstart(function(){g.find(".q4-textEntry-checkmark-item-list").toggle();n=!0;g.find(".q4-textEntry-dropdown-button").focus();e.addClass("q4-textEntry-input-focused")}),g.find(".q4-textEntry-dropdown-button").bind("blur",
function(){g.addClass("q4-hidden");e.removeClass("q4-textEntry-input-focused");e.blur()}),g.find(".q4-textEntry-checkmark-item-list").touchclickstart(function(){var c=b.eventproxy.createTextFieldProxy(u(),o(),s());a.fireViewAction(b.TextEntryConstants.VIEW_ACTION_CHECKMARK_CLICKED,c);n=!1;setTimeout(function(){e.focus()},1)}))},k=function(a){return function(){a.preventDefault()}},s=function(){return function(){e.addClass("q4-text-entry-invalid")}},o=function(){return function(){e.removeClass("q4-text-entry-invalid")}},
u=function(){return function(a){e.attr("value",a)}},t=function(){var a=e.attr("value");null!==d.hint&&(""!==a.trim()&&""===d.getClientString().trim())&&(a="",e.val(""),e.removeClass("q4-text-entry-default-text"));return a},w=function(){e.bind("keydown",function(c){if(13==c.which)e.blur();else{var d=t();if(0==e.getSelection().length&&(8==c.which||46==c.which)){var f=b.eventproxy.createKeypressProxy(u(),k(c),o(),s());a.fireViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_KEYCODE,d,e.getSelection().start,
c.which,f)}}});e.bind("keypress",function(c){if(0==e.getSelection().length&&!(8==c.which||0==c.which)&&!c.metaKey){var d=t(),f=b.eventproxy.createKeypressProxy(u(),k(c),o(),s());a.fireViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_ASCII,d,e.getSelection().start,c.which,f)}});e.bind("paste",function(){e.hasClass("q4-text-entry-default-text")&&t()});e.bind("input",function(c){e.removeClass("q4-text-entry-default-text");var f=e.attr("value"),c=b.eventproxy.createKeypressProxy(u(),k(c),o(),s());a.fireViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_INPUT,
f,c);d.setClientString(e.attr("value"))})},x=function(){var c=b.eventproxy.createTextFieldProxy(u(),o(),s());e.bind("focus",function(){a.fireViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_FOCUS,c)});e.bind("blur",function(){a.fireViewAction(b.TextEntryConstants.VIEW_ACTION_HANDLE_BLUR,c)})};a.switchToEditingMode=function(){if(!d.graded&&(e.removeClass("q4-text-entry-default-text"),""===e.val().trim()&&null!==d.hint&&(e.val(d.hint),e.addClass("q4-text-entry-default-text")),e.removeClass("q4-text-entry-center-aligned"),
e.removeClass("q4-text-entry-right-aligned"),e.addClass("q4-text-entry-left-aligned"),d.isCheckmarkSupported()))n=!1,g.removeClass("q4-hidden"),g.find(".q4-textEntry-checkmark-item-list").hide()};a.switchToTextMode=function(){e.removeClass("q4-text-entry-default-text");var a=""+d.getClientString();""!==a.trim()?(null!==d.getPrefix()&&(a=d.getPrefix()+a,e.val(a)),null!==d.getSuffix()&&e.val(a+d.getSuffix())):(null!==d.placeholder&&(e.val(d.placeholder),e.addClass("q4-text-entry-default-text")),null!==
d.hint&&e.val(""));d.graded||(d.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_LEFT&&(e.removeClass("q4-text-entry-right-aligned"),e.removeClass("q4-text-entry-center-aligned"),e.addClass("q4-text-entry-left-aligned")),d.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_RIGHT&&(e.removeClass("q4-text-entry-left-aligned"),e.removeClass("q4-text-entry-center-aligned"),e.addClass("q4-text-entry-right-aligned")),d.getTextAlignment()===b.TableEntryConstants.TEXT_ALIGNMENT_CENTER&&(e.removeClass("q4-text-entry-left-aligned"),
e.removeClass("q4-text-entry-right-aligned"),e.addClass("q4-text-entry-center-aligned")),d.isCheckmarkSupported()&&(n||g.addClass("q4-hidden")))};a.lockInput=function(){e.attr("readonly","readonly");e.attr("tabindex","-1")};return a})})(k);(function(b){b.template("userMessaging.loadingMessage_viewtmpl",'<div class="q4-loadingMessage" style="display: none;" aria-hidden="true" role="dialog" tabindex="-1"><div class="q4-loadingMessage-text">Please Wait . . .</div><div class="q4-loadingMessage-logo"></div></div>');
b.q4viewfactory.registerClass("userMessaging.loadingMessage_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="userMessaging.loadingMessage_view";var d=null;a._render=function(a,e){d=b.tmpl("userMessaging.loadingMessage_viewtmpl");d.appendTo(e.getHtmlNode());d.keydown(function(a){if(a.ctrlKey||a.altKey)return!0;a.stopPropagation;return!1})};a.isBoxOpened=function(){return d.is(":visible")};a.showLoadingBox=function(){var a=b(".q4-loading-mask"),e=d.parents("div.q4-container-root").last();
0==e.length&&(e=d.parents("div.q4-container").last());var f=b(window).width();e&&e.position()&&(f=e.width());var e=b(window).height()/2-d.height()/2+b(window).scrollTop(),g=f/2-d.width()/2;d.css("top",e+"px");d.css("left",g+"px");d.show();e=b(document).height();a.css({width:f,height:e});d.attr("aria-hidden","false");a.show();d.focus()};a.hideLoadingBox=function(){var a=b(".q4-loading-mask");d.attr("aria-hidden","true");a.hide();d.hide();"undefined"!==typeof document.activeElement&&b(document.activeElement).blur()};
return a})})(k);(function(b){b.template("userMessaging.userMessage_viewtmpl",'<div class="q4-userMessage" style="display: none;"><div class="q4-userMessage-control"><div class="q4-userMessage-control-left"><a class="q4-userMessage-control-prev q4-userMessage-control-hidden"></a></div><div class="q4-userMessage-control-mid"><div class="q4-userMessage-counter-container"><span class="q4-userMessage-counter"></span></div><div class="q4-userMessage-body"></div><div class="q4-userMessage-action"><button class="q4-userMessage-control-close q4-button">Dismiss All</button></div></div><div class="q4-userMessage-control-right"><a class="q4-userMessage-control-next q4-userMessage-control-hidden"></a></div></div></div>');
b.q4viewfactory.registerClass("userMessaging.userMessage_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="userMessaging.userMessage_view";var d=null,c=null,e=null,f=null,g=null,h=null;a._render=function(a,m){d=b.tmpl("userMessaging.userMessage_viewtmpl");d.appendTo(m.getHtmlNode());f=d.find("button.q4-userMessage-control-close");g=d.find("a.q4-userMessage-control-next");h=d.find("a.q4-userMessage-control-prev");e=d.find("div.q4-userMessage-body");c=
d.find("span.q4-userMessage-counter");j()};a.updateControl=function(a,b,d,e){a?g.removeClass("q4-userMessage-control-hidden"):g.addClass("q4-userMessage-control-hidden");b?h.removeClass("q4-userMessage-control-hidden"):h.addClass("q4-userMessage-control-hidden");c.html("Message: "+(d+1)+" of "+e)};a.isBoxOpened=function(){return d.is(":visible")};a.getEventProxy=function(){return b.eventproxy.createAddViewHandler(function(a,c){a==b.q4presenterfactory.PRESENTER_EVENT_TOGGLE_DIALOG&&d.bind("message_view_show_dialog",
c)})};a.showBox=function(){var a=d.parents("div.q4-container-root").last();0==a.length&&(a=d.parents("div.q4-container").last());var c=b(window).width();a&&a.position()&&(c=a.width());a=b(window).height()/2-d.height()/2+b(window).scrollTop();c=c/2-d.width()/2;d.css("top",a+"px");d.css("left",c+"px");d.trigger("message_view_show_dialog",[d,!0]);d.is(":visible")||d.show()};a.hideBox=function(){d.trigger("message_view_show_dialog",[d,!1]);d.is(":visible")&&d.hide()};a.setMessage=function(a){for(var a=
a.getTextArray(),c="",d=0;d<a.length;d++)var f=b("<div/>").text(a[d]).html(),c=c+(f+"<br/>");e.html(c)};var j=function(){f.touchclick(function(){a.fireViewAction(b.UserMessagingConstants.VIEW_ACTION_HIDE_MESSAGING_PANEL)});g.touchclick(function(){a.fireViewAction(b.UserMessagingConstants.VIEW_ACTION_NEXT_MESSAGE)});h.touchclick(function(){a.fireViewAction(b.UserMessagingConstants.VIEW_ACTION_PREV_MESSAGE)})};return a})})(k);(function(b){b.template("chart_viewtmpl",'<div class="q4-chart"></div>');
b.q4viewfactory.registerClass("chart_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="chart_view";var d=null;a._render=function(a,e){d=b.tmpl("chart_viewtmpl");d.appendTo(e.getHtmlNode());var f=e.getHtmlNode().css("width").slice(0,-2),g=a.chartData,h=[],j=[],l=0;for(value in g)h.push(g[value].field),l+=g[value].field;g=Math.round(100*(g[1].field/l));isNaN(g)&&(g=0);j.push(g+"%");j[1]="";var m=Raphael(d[0],f,f),n=0;m.piechart(f/2,f/2,(f-20)/2,h,{colors:["#B0D4D8",
"#E2E2E2"]}).each(function(){m.label(this.x,this.y,j[n]).attr({font:"bold 12pt verdana",fill:"#000"}).show();n++})};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("image_viewtmpl",'<span class="q4-image-container">&nbsp;<img src="${url}" alt="${alt}"/>&nbsp;</span>');b.q4viewfactory.registerClass("image_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="image_view";var d=null;a._render=function(a,e){d=b.tmpl("image_viewtmpl",
{url:a.url,alt:a.description});var f=d.find("img");"undefined"!==typeof a.width&&f.attr("width",a.width);"undefined"!==typeof a.height&&f.attr("height",a.height);f.css("vertical-align","-"+a.descent+"px");d.appendTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("header_viewtmpl",'<th class="q4-datatable-column-header-cell" id="${id}"><div class="${additionalClass}"></div></th>');b.q4viewfactory.registerClass("header_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));
a.nodeName="header_view";var d=null,c=null;a._render=function(a,f){d=a;var g="q4-datatable-column-header-cell-"+a.parent.parent.parent.id+"-"+a.parent.id+"-"+a.id,h="";1<a.colspan&&(null!=a.id&&null===a.headerUnits)&&(h="q4-datatable-column-header-cell-bottom-rule");c=b.tmpl("header_viewtmpl",{id:g,additionalClass:h});if(f.getHtmlNode().is("td")){g=f.getHtmlNode();h=c;1<a.rowspan&&(h=b('<div class="q4-datatable-column-header-cell-right-rule"></div>'),h.append(c));if(0<g.find("th").length)g=b('<td class="q4-datatable-cell"></td>').append(h),
g.appendTo(f.getHtmlNode().parent());else{h.appendTo(g);for(var h=g.parent(),j=1;0<h.length;)0<h.find("td:first-child[rowspan="+j+"]").length&&g.parent().css("border-bottom","1px solid #AEAEAE"),j++,h=h.prev()}1<a.rowspan&&g.attr("rowspan",a.rowspan)}else c.appendTo(f.getHtmlNode()),1<a.colspan&&c.attr("colspan",a.colspan),1<a.rowspan&&c.attr("rowspan",a.rowspan);"categorizationTable"==d.parent.parent.type&&(d.rowspan==d.parent.parent.headerRowCount&&(d.isLastRow=!0),d.isFirstColumn&&d.isFirstRow&&
c.addClass("q4-categorizationTable-header-left"),d.isLastColumn&&c.addClass("q4-categorizationTable-header-right"),d.isLastRow&&c.addClass("q4-categorizationTable-header-bottom"),d.isFirstRow&&c.addClass("q4-categorizationTable-header-top"));null!==d.headerUnits&&(g="",1<d.colspan&&null!=d.id&&(g=" q4-datatable-column-header-cell-bottom-rule"),c.append(b('<div class="q4-datatable-header-units'+g+'">'+d.headerUnits+"</div>")));c=c.find("div:first-child");f.getHtmlNode().is("td")&&"inputDrivenMarket"===
d.parent.parent.parent.renderingStyle&&(g=b('<div class="q4-idmtable-line-symbol">&nbsp;</div>'),g.prependTo(c.parent()),null!==d.parent.idmColorMarker&&g.addClass("q4-idmtable-line-symbol-"+d.parent.idmColorMarker))};a.getHtmlNode=function(){return c};return a})})(k);(function(b){b.q4viewfactory.registerClass("numericEntry_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("numericEntry_base_view"));a.nodeName="numericEntry_view";var d=a._render;a._render=function(b,e){a.setShowSpinner(!0);
d(b,e)};return a})})(k);(function(b){b.template("checkYourSolution_viewtmpl",'<div class="q4-solveforx-checkyoursolution q4-hidden"><div class="q4-solveforx-checkyoursolution-header">Check Your Result:</div><div class="q4-solveforx-checkyoursolution-content"></div><div class="q4-solveforx-finalsolution-content"></div></div>');b.template("checkYourSolution_viewTableTmpl",'<table class="q4-solveforx-checkyoursolution-table"></table>');b.template("checkYourSolution_viewRowTmpl",'<tr class="q4-solveforx-checkyoursolution-row"><td class="q4-solveforx-checkyoursolution-row-lhs"><img src="${imageLHS}"/></td><td class="q4-solveforx-checkyoursolution-row-equals">=</td><td class="q4-solveforx-checkyoursolution-row-rhs"><img src="${imageRHS}"/></td></tr>');
b.template("checkYourSolution_viewRowInputTmpl",'<tr class="q4-solveforx-checkyoursolution-row"><td class="q4-solveforx-checkyoursolution-row-lhs"><span>Substitute </span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAAAjklEQVR42mNgQAVMQGwOxNJoYi7IikAKeoD4JRCfgYqJAvE5IP7PgAV0QCX4gLgViDmA2BibQj+owm1oTsAAPFCFsxmIAF+AeA0hRZVAfBKIv+FTZArEGUAcDrVeByouywB1sBs0KPqQJEAKi4DYHogdQYL1UMFz0CCBgQtA/AeIy5FD3hpKIwOQJg0YBwBQrBlGRx3JMQAAAABJRU5ErkJggg=="><span> = </span><input class="q4-solveforx-checkyoursolution-input" type="text" size="3"/><span> into &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><img src="${imageLHS}"/></td><td class="q4-solveforx-checkyoursolution-row-equals">=</td><td class="q4-solveforx-checkyoursolution-row-rhs"><img src="${imageRHS}"/></td></tr>');
b.template("checkYourSolution_viewCheckTmpl",'<tr class="q4-solveforx-checkyoursolution-row-action"><td class="q4-solveforx-checkyoursolution-check" colspan="3"><button class="q4-solveforx-checkyoursolution-check-button">Check</button><button class="q4-solveforx-checkyoursolution-check-back">Back to Equation</button></td></tr>');b.template("checkYourSolution_viewCheckAgainTmpl",'<tr class="q4-solveforx-checkyoursolution-row-action"><td class="q4-solveforx-checkyoursolution-checkagain" colspan="3"><button class="q4-solveforx-checkyoursolution-checkagain-button">Check Again</button><button class="q4-solveforx-checkyoursolution-checkagain-back">Back to Equation</button></td></tr>');
b.template("checkYourSolution_viewFinalSolutionTmpl",'<table class="q4-solveforx-checkyoursolution-table"><tr><td class="q4-solveforx-finalsolution-title"><span class="q4-solveforx-finalsolution-header">Solution:</span></td><td class="q4-solveforx-finalsolution-options"><span><input class="q4-solveforx-finalsolution-radio" type="radio" name="${name}" value="1"/></span><span class="q4-solveforx-finalsolution-image"><img src="${imageLHS}"/><span>=</span><img src="${imageRHS}"/></span><span><input class="q4-solveforx-finalsolution-radio" type="radio" name="${name}" value="2"/></span><span>No solution</span><span><input class="q4-solveforx-finalsolution-radio" type="radio" name="${name}" value="3"/></span><span>All real numbers</span></td><td class="q4-solveforx-finalsolution-action"></td></tr><tr class="q4-solveforx-finalsolution-feedback"><td class="q4-solveforx-finalsolution-feedback-col" colspan="3"></td></tr></table>');
b.template("checkYourSolution_viewStepFeedbacktmpl","<div></div>");b.template("checkYourSolution_viewGINTmpl",'<div class="q4-solveforx-temp-GIN"><button class="q4-button">Grade It Now</button></div>');b.q4viewfactory.registerClass("checkYourSolution_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="checkYourSolution_view";var d=null,c=null,e=null,f=null,g=null;a._render=function(a,g){f=a;d=b.tmpl("checkYourSolution_viewtmpl");d.appendTo(g.getHtmlNode());
c=d.find("div.q4-solveforx-checkyoursolution-content");e=d.find("div.q4-solveforx-finalsolution-content");h(d)};a.getHtmlNode=function(){return c};var h=function(c){var d=b.tmpl("checkYourSolution_viewGINTmpl");c.append(d);d.find("button").touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_TEMP_GRADE_IT_NOW)})};a.printCheckYourSolution=function(){var e=c.find("table"),g={imageLHS:f.getImageEquationLHS(),imageRHS:f.getImageEquationRHS()},g=b.tmpl("checkYourSolution_viewRowInputTmpl",
g);e.append(g);var h=g.find("input.q4-solveforx-checkyoursolution-input"),g=b.tmpl("checkYourSolution_viewCheckTmpl");e.append(g);var p=g.find("button.q4-solveforx-checkyoursolution-check-button"),q=function(a){p.removeAttr("disabled");var b=c.parents("div.q4-container-root").last();0==b.length&&(b=c.parents("div.q4-container").last());b.triggerHandler("communicationError",[a])};p.touchclick(function(){p.attr("disabled",!0);var c=f.getCanonicalEquationLHS(),d=f.getCanonicalEquationRHS(),e=h.attr("value");
a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CHECK_SOLUTION,c,d,e,q)});h.keydown(function(c){if(13===c.keyCode&&!p.attr("disabled")){p.attr("disabled",!0);var d=f.getCanonicalEquationLHS(),e=f.getCanonicalEquationRHS(),g=h.attr("value");a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CHECK_SOLUTION,d,e,g,q);c=k.Event(c);c.preventDefault();c.stopPropagation();c.stopImmediatePropagation()}});e=g.find("button.q4-solveforx-checkyoursolution-check-back");e.touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_BACK_TO_EQUATION)});
f.getSolveForXModel().isGraded()&&e.remove();j();d.fadeIn(500)};a.printCheckAgain=function(){var d=c.find("table"),e={imageLHS:f.getImageEquationLHS(),imageRHS:f.getImageEquationRHS()},e=b.tmpl("checkYourSolution_viewRowTmpl",e);d.append(e);for(var g=0;g<f.getChecks().length;g++)e=f.getChecks()[g],e={imageLHS:e.getImageEquationLHS(),imageRHS:e.getImageEquationRHS()},e=b.tmpl("checkYourSolution_viewRowTmpl",e),d.append(e);g=b.tmpl("checkYourSolution_viewCheckAgainTmpl");d.append(g);e=g.find("button.q4-solveforx-checkyoursolution-checkagain-button");
e.touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CHECK_AGAIN)});f.canCheckSolution()||e.attr("disabled","true");g=g.find("button.q4-solveforx-checkyoursolution-checkagain-back");g.touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_BACK_TO_EQUATION)});f.getSolveForXModel().isGraded()&&g.remove();d.fadeIn(500);j()};var j=function(){e.empty();var a=f.getSolveForXModel().getFinalEquation(),c=a.getInputEquationLHS(),d=a.getInputEquationRHS();/x/.test(c);/x/.test(d);
a={name:"solve-for-x-finalsolution-"+f.getSolveForXModel().uid,imageLHS:a.getImageEquationLHS(),imageRHS:a.getImageEquationRHS()};a=b.tmpl("checkYourSolution_viewFinalSolutionTmpl",a);f.getSolveForXModel().isShowFeedback()&&(c=b.q4domfactory.newInstanceByName("solveForXFeedback").initWithParams(f.getSolveForXModel().getIsCorrect(),[f.getSolveForXModel().getIsCorrect()?"Correct":"Incorrect"]),g=b.q4viewfactory.newInstanceByName("solveForXFeedback_view"),g.init(c),c=b.tmpl("checkYourSolution_viewStepFeedbacktmpl"),
d=g.printFeedbackDetail(c,"feedback-final",!0),g.printFeedbackIcon(a.find(".q4-solveforx-finalsolution-action"),"feedback-final",d,!0),a.find(".q4-solveforx-finalsolution-feedback-col").append(c));e.append(a)};a.removeBackToEquationButton=function(){c.find("button.q4-solveforx-checkyoursolution-check-back").remove();c.find("button.q4-solveforx-checkyoursolution-checkagain-back").remove()};a.clearDisplay=function(){c.empty();var a=b.tmpl("checkYourSolution_viewTableTmpl");c.append(a)};a.showCheckYourResult=
function(){a.clearDisplay();a.printCheckYourSolution();d.show()};a.hideCheckYourResult=function(){d.hide()};return a})})(k);(function(b){b.template("solveForX_viewtmpl",'<div class="q4-solveforx"><div class="q4-solveforx-container"><div class="q4-solveforx-header">Solve the following equation and check the result:<span class="q4-solveforx-helptext">?</span></div><div class="q4-solveforx-subheader">&nbsp;<span class="q4-solveforx-helptext">Erase</span></div><div class="q4-solveforx-steps"><table class="q4-solveforx-steps"></table></div></div></div>');
b.template("solveForX_viewSteptmpl",'<tr class="q4-solveforx-step${lastStep} ${feedbackDisabledClass}"><td class="q4-solveforx-step-lhs">{{html imageLHS}}</td><td class="q4-solveforx-step-equals">${inputEqualsSign}</td><td class="q4-solveforx-step-rhs">{{html imageRHS}}</td><td class="q4-solveforx-step-description"></td><td class="q4-solveforx-step-action"></td></tr>');b.template("solveForX_viewStepFeedbackShownLine1tmpl",'<tr class="q4-solveforx-step-feedback-shown-firstline${lastStep}"><td class="q4-solveforx-step-lhs">{{html imageLHS}}</td><td class="q4-solveforx-step-equals">${inputEqualsSign}</td><td class="q4-solveforx-step-rhs">{{html imageRHS}}</td><td class="q4-solveforx-step-description"></td><td class="q4-solveforx-step-action"></td></tr>');
b.template("solveForX_viewStepFeedbackShowntmpl",'<tr class="q4-solveforx-step-feedback-shown${lastStep}"><td class="q4-solveforx-step-lhs">{{html imageLHS}}</td><td class="q4-solveforx-step-equals">${inputEqualsSign}</td><td class="q4-solveforx-step-rhs">{{html imageRHS}}</td><td class="q4-solveforx-step-description"></td><td class="q4-solveforx-step-action"></td></tr>');b.template("solveForX_viewTransformActiontmpl",'<tr class="q4-solveforx-step-action"><td class="q4-solveforx-step-action-lhs">${inputLHS}</td><td class="q4-solveforx-step-action-equals">${inputEqualsSign}</td><td class="q4-solveforx-step-action-rhs">${inputRHS}</td><td class="q4-solveforx-step-action-action" colspan="2"></td></tr>');
b.template("solveForX_viewStepFeedbacktmpl",'<tr class="q4-solveforx-step-feedback${lastStep}"><td class="q4-solveforx-step-feedback-col" colspan="5"></td></tr>');b.template("solveForX_viewStepSimplifytmpl",'<tr class="q4-solveforx-step-action"><td class="q4-solveforx-step-action-lhs"></td><td class="q4-solveforx-step-action-equals">${inputEqualsSign}</td><td class="q4-solveforx-step-action-rhs" colspan="3"><span class="q4-solveforx-step-action-simplify-prompt">Simplify.</span></td></tr>');b.template("solveForX_viewEraseTmpl",
'<div role="button" tabindex="0" class="q4-solveforx-erase"><span class="q4-solveforx-erase-button"></span></div>');b.template("solveForX_viewfeedbackButtonTmpl",'<div class="q4-solveforx-toggle-feedback"><a class="q4-link">Toggle Feedback</a></div>');b.template("solveForX_viewactionTmpl",'<div class="q4-solveforx-action">${action}</div>');b.template("solveForX_viewline1Tmpl",'<div class="q4-solveforx-action-init">${action}</div>');b.template("solveForX_viewTransOptionstmpl",'<select class="q4-solveforx-operations"><option value="${typeChoose}">Choose...</option><option value="${typeAdd}">Add</option><option value="${typeSubtract}">Subtract</option><option value="${typeMultiply}">Multiply by</option><option value="${typeDivide}">Divide by</option></select>');
b.template("solveForX_viewTransInputtmpl",'<input type="text" size="3"/> on both sides&nbsp;&nbsp;');b.template("solveForX_viewTransButtontmpl","<button>Enter</button>");b.template("solveForX_viewTransCancelButtontmpl","<button>Cancel</button>");b.template("solveForX_viewSimInputtmpl",'<input class="q4-solveforx-simplify-input" type="text" size="8"/>');b.template("solveForX_viewSimInputButtontmpl","<button>Enter</button>");b.template("solveForX_viewAddAnotherStepButtontmpl",'<span><span class="q4-solveforx-add-another-step-prompt">Add Another Step?</span><button>Yes</button><button>No</button></span>');
b.template("solveForX_viewIAmDoneButtontmpl","<button>I am Done</button>");b.template("solveForX_viewConfirmGototmpl",'<tr><td colspan="5"><div role="region" tabindex="-1" class="q4-solveforx-erase-confirm q4-grow-xy">Would you like to permanently erase the steps below?<div class="q4-solveforx-erase-buttons" align="center"><button>Yes</button><button>No</button></div><div class="q4-solveforx-erase-showmessage"><input type="checkbox">Do not show this message again.</input></div></div></td></tr>');
b.template("solveForX_viewInvalidEntrytmpl",'<tr><td colspan="5"><div class="q4-solveforx-invalidentry q4-grow-xy"><div class="q4-solveforx-invalidentry-arrow-container"><div class="q4-solveforx-invalidentry-arrow-background q4-solveforx-feedback-arrow-background-negative"></div><div class="q4-solveforx-invalidentry-arrow q4-solveforx-feedback-arrow-negative"></div></div><div role="region" class="q4-solveforx-invalidentry-box"><div align="center">Invalid entry</div></div></div></td></tr>');b.q4viewfactory.registerClass("solveForX_view",
function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="solveForX_view";var d=null,c=null;a._render=function(e,f){c=e;var g=b.tmpl("solveForX_viewtmpl");d=g.find("table");g.appendTo(f.getHtmlNode());var m=b.tmpl("solveForX_viewfeedbackButtonTmpl");g.prepend(m);m.find("a").touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_TOGGLE_FEEDBACK_MODE)})};a.getHtmlNode=function(){return d};a.clearDisplay=function(){d.empty()};a.printEquation=function(e,
f,l,m,n,p){var q={inputLHS:e.getInputEquationLHS(),inputRHS:e.getInputEquationRHS(),imageLHS:null!=e.getImageEquationLHS()?'<img src="'+e.getImageEquationLHS()+'"/>':"",imageRHS:null!=e.getImageEquationRHS()?'<img src="'+e.getImageEquationRHS()+'"/>':"",inputEqualsSign:"=",lastStep:m?"-lastrow":"",feedbackDisabledClass:""},r=null;p&&c.isGraded()?(q.feedbackDisabledClass="q4-solveforx-step-feedback-disabled",r=b.tmpl("solveForX_viewSteptmpl",q)):r=c.isShowFeedback()&&!p?b.tmpl(1===e.getStepNumber()?
"solveForX_viewStepFeedbackShownLine1tmpl":"solveForX_viewStepFeedbackShowntmpl",q):b.tmpl("solveForX_viewSteptmpl",q);d.append(r);n&&e.getStepNumber()==c.getEquationCount()&&(r.hide(),r.fadeIn(500));g(r,e);q=r.find("td.q4-solveforx-step-description");r=r.find("td.q4-solveforx-step-action");f={action:f};f=1==e.getStepNumber()?b.tmpl("solveForX_viewline1Tmpl",f):b.tmpl("solveForX_viewactionTmpl",f);q.append(f);f=e.getFeedback();n=e.getFeedbackView();!p&&(null!=f&&c.isShowFeedback())&&(q={lastStep:m?
"-lastrow":""},p=b.tmpl("solveForX_viewStepFeedbacktmpl",q),d.append(p),m=!c.getStepByNumber(f.getStepNumber()).step.isToBeDeleted(),p=n.printFeedbackDetail(p.find(".q4-solveforx-step-feedback-col"),"feedback-"+f.getStepNumber(),m),n.printFeedbackIcon(r,"feedback-"+f.getStepNumber(),p,m));l&&c.isAllowInput()&&(l=b.tmpl("solveForX_viewEraseTmpl"),r.append(l),l.touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_ERASE_STEP,e)}),l.keydown(function(c){if(c.keyCode===13||c.keyCode===
32){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_ERASE_STEP,e);c=k.Event(c);c.preventDefault();c.stopPropagation();c.stopImmediatePropagation()}}))};a.printAddAnotherStep=function(e){if(c.isAllowInput()){var f=b.tmpl("solveForX_viewTransformActiontmpl");g(f,e);var l=f.find("td.q4-solveforx-step-action-action"),m=b.tmpl("solveForX_viewAddAnotherStepButtontmpl");l.append(m);l=m.find("button")[0];m=m.find("button")[1];b(l).touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_ADD_ANOTHER_STEP,
e)});b(m).touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_SHOW_CHECK_YOUR_RESULT)});d.append(f)}};a.printTransform=function(c){var j={typeChoose:b.SolveForXConstants.OPERATION_CHOOSE,typeAdd:b.SolveForXConstants.OPERATION_ADD,typeSubtract:b.SolveForXConstants.OPERATION_SUBTRACT,typeMultiply:b.SolveForXConstants.OPERATION_MULTIPLY,typeDivide:b.SolveForXConstants.OPERATION_DIVIDE},l=b.tmpl("solveForX_viewTransformActiontmpl",j);g(l,c);var m=l.find("td.q4-solveforx-step-action-action"),
n=b.tmpl("solveForX_viewTransOptionstmpl",j);m.append(n);var p=b.tmpl("solveForX_viewTransInputtmpl",j);m.append(p);var q=b.tmpl("solveForX_viewTransButtontmpl",j);m.append(q);var r=function(a){q.removeAttr("disabled");var b=d.parents("div.q4-container-root").last();0==b.length&&(b=d.parents("div.q4-container").last());b.triggerHandler("communicationError",[a])};q.touchclick(function(){q.attr("disabled",!0);var d=c.getLastStep().getCanonicalEquationLHS(),e=c.getLastStep().getCanonicalEquationRHS(),
f=n.attr("value"),g=p.attr("value");a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_TRANSFORM,c,d,e,f,g,r)});p.keydown(function(d){if(13===d.keyCode&&!q.attr("disabled")){q.attr("disabled",!0);var e=c.getLastStep().getCanonicalEquationLHS(),f=c.getLastStep().getCanonicalEquationRHS(),g=n.attr("value"),j=p.attr("value");a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_TRANSFORM,c,e,f,g,j,r);d=k.Event(d);d.preventDefault();d.stopPropagation();d.stopImmediatePropagation()}});n.bind("change",function(){var a=
n[0].value,b=p.attr("value");"Divide by"===a&&"0"===b||("Multiply by"===a||"Divide by"===a)&&b.match(/x/)?(q.attr("disabled",!0),e(l,p)):(q.attr("disabled",!1),f())});p.bind("input",function(){var a=p.attr("name"),b=p.attr("value");if(b.match(/^[0-9x\-\/*()\.]*$/)&&!b.match(/x.*x/)&&!b.match(/\.[^\.]*\./)){if(p.attr("name",b),q.attr("disabled",!1),f(),a=n[0].value,"Divide by"===a&&"0"===b||("Multiply by"===a||"Divide by"===a)&&b.match(/x/))q.attr("disabled",!0),e(l,p)}else p.attr("value",a),e(l,p)});
1<c.getLastStep().getStepNumber()&&(j=b.tmpl("solveForX_viewTransCancelButtontmpl"),j.touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CANCEL_TRANSFORM,c)}),m.append(j));d.append(l)};a.printConfirmGoto=function(c){var e=b.tmpl("solveForX_viewSteptmpl");g(e,c);var f=b.tmpl("solveForX_viewConfirmGototmpl");f.find(".q4-solveforx-erase-confirm").find("button:nth-child(1)").touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CONFIRM_GOTO,c)});f.find(".q4-solveforx-erase-confirm").find("button:nth-child(2)").touchclick(function(){a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_CANCEL_GOTO,
c)});d.append(e);e.before(f);f.find(".q4-solveforx-erase-confirm").addClass("q4-grow-xy");f.find(".q4-solveforx-erase-confirm").addClass("q4-width0-height0");setTimeout(function(){f.find(".q4-solveforx-erase-confirm").removeClass("q4-width0-height0")},1);f.focus()};var e=function(a,c){if(!(0<b(".q4-solveforx-invalidentry").length)){var d=c.offset().left+c.width()/2,e=b.tmpl("solveForX_viewInvalidEntrytmpl");a.after(e);var f=e.find(".q4-solveforx-invalidentry");f.offset({left:d-f.width()/2});e.find(".q4-solveforx-invalidentry-arrow-container").css("margin-right",
f.width()/2+8);f.addClass("q4-grow-xy");f.addClass("q4-width0-height0");setTimeout(function(){f.removeClass("q4-width0-height0")},1)}},f=function(){d.find(".q4-solveforx-invalidentry").parents("tr").remove()};a.printSimplify=function(c,j){var l=b.tmpl("solveForX_viewStepSimplifytmpl",{inputEqualsSign:"="});g(l,c);var m=l.find("td.q4-solveforx-step-action-lhs"),n=l.find("td.q4-solveforx-step-action-rhs"),p=b.tmpl("solveForX_viewSimInputtmpl");m.append(p);var q=b.tmpl("solveForX_viewSimInputButtontmpl"),
r=function(a){q.removeAttr("disabled");var b=d.parents("div.q4-container-root").last();0==b.length&&(b=d.parents("div.q4-container").last());b.triggerHandler("communicationError",[a])};q.touchclick(function(){q.attr("disabled",!0);var d=j.getCanonicalEquationLHS(),e=j.getCanonicalEquationRHS(),f=c.getLastStep().getCanonicalEquationLHS(),g=c.getLastStep().getCanonicalEquationRHS(),l=p.attr("value"),m=s.attr("value");a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_SIMPLIFY,c,d,e,f,g,l,m,r)});n.prepend(q);
var s=b.tmpl("solveForX_viewSimInputtmpl");n.prepend(s);l.find("input").keydown(function(d){if(13===d.keyCode&&!q.attr("disabled")){q.attr("disabled",!0);var e=j.getCanonicalEquationLHS(),f=j.getCanonicalEquationRHS(),g=c.getLastStep().getCanonicalEquationLHS(),l=c.getLastStep().getCanonicalEquationRHS(),m=p.attr("value"),n=s.attr("value");a.fireViewAction(b.SolveForXConstants.VIEW_ACTION_SIMPLIFY,c,e,f,g,l,m,n,r);d=k.Event(d);d.preventDefault();d.stopPropagation();d.stopImmediatePropagation()}});
l.find("input").bind("input",function(){var a=b(this),c=a.attr("name"),d=a.attr("value");d.match(/^[0-9x\-\/*()+\.]*$/)?(a.attr("name",d),f()):(a.attr("value",c),e(l,a))});l.find("input").bind("blur",function(){f()});d.append(l)};var g=function(a,b){b.isToBeDeleted()?a.addClass("q4-solveforx-step-tobedeleted"):a.removeClass("q4-solveforx-step-tobedeleted")};return a})})(k);(function(b){b.template("categorizationTableChoicePrompt_viewtmpl",'<td class="q4-categorizationTable-choice-prompt q4-categorizationTable-row-left" id="${id}"></td>');
b.q4viewfactory.registerClass("categorizationTableChoicePrompt_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="categorizationTableChoicePrompt_view";var d=null;a._render=function(a,e){d=b.tmpl("categorizationTableChoicePrompt_viewtmpl",{id:"q4-categorizationTable-choice-prompt-"+a.parent.parent.id+"-"+a.parent.id});d.prependTo(e.getHtmlNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("choice_viewtmpl",'<div><fieldset class="q4-choice"></fieldset></div>');
b.template("blankMarkup","");b.template("choice_viewtmplInline",'<span class="q4-select-container"><span class="q4-select-label" id="${id}">${content}</span><span class="q4-select-hitarea" role="button" aria-haspopup="true" tabindex="0" aria-labelledby="${id}"><span class="q4-select"><img class="q4-select-vertical-spacer"/><span class="q4-select-content">&nbsp;</span> <span class="q4-select-control-prompt">&nbsp;</span></span></span><span style="display:inline-block;"><\!-- This element is required for firefox to correctly compute the size of the hitarea. If it is removed, the size of hitarea element will change when the dropdown is displayed, causing the line to wrap differently. --\></span><span class="q4-select-control">&nbsp;</span></span>');
b.template("choice_viewtmplInlineBox",'<span class="q4-select-box-container"><div class="q4-select-box-arrow"></div><span><ul class="q4-select-box q4-select-box-unselected" role="listbox" aria-hidden="true"></ul></span></span>');b.q4viewfactory.registerClass("choice_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="choice_view";a.optionViews=[];var d=null,c=null,e=null,f=function(){var a={},c=null,e=null;a.setHtmlAnchor=function(a){c=a};a.setHtmlSelectBox=
function(a){e=a};a.getHtmlAnchor=function(){return c};a.showChoice=function(f){if(f){var f=b.evalMetric(c.css("padding-bottom")),g=d.parents("div.q4-container-root").last();0==g.length&&(g=d.parents("div.q4-container").last());var j=b(window).width(),s=b(window).height();g&&g.position()&&(j=g.position().left+g.width(),s=g.position().top+g.height(),g.position());g=0;e.width()<c.width()?(e.css({right:"auto"}),e.css("left",c.position().left),g=e.width()/2):c.position().left+e.width()>j-20?(e.css({left:"auto"}),
e.css("right",b(window).width()-j+20+"px"),g=e.width()-j+c.position().left+c.width()/2+20):(e.css({right:"auto"}),e.css("left",c.position().left),g=c.width()/2);e.css("top",c.position().top+20+f);c.position().top+e.height()>s&&c.position().top>e.height()?(f=c.find(".q4-select-content").position().top-e.height(),e.css("top",f+"px"),e.find("div.q4-select-box-arrow").appendTo(e),e.find("div.q4-select-box-arrow").addClass("q4-select-box-arrow-down"),e.find("div.q4-select-box-arrow-down").removeClass("q4-select-box-arrow")):
(e.find("div.q4-select-box-arrow-down").prependTo(e),e.find("div.q4-select-box-arrow-down").addClass("q4-select-box-arrow"),e.find("div.q4-select-box-arrow").removeClass("q4-select-box-arrow-down"));e.find("div.q4-select-box-arrow").css("background-position",g-15+"px 0px");e.find("div.q4-select-box-arrow-down").css("background-position",g-7+"px 0px");d.trigger("choice_view_show_dialog",[e,!0]);d.attr("aria-hidden","false");f=d.children().first();j=d.find('.q4-select-box-option[aria-selected="true"]');
h.hasOptionSelected()&&(0<j.length?(j.siblings().removeClass(".q4-select-box-option-focused"),j.addClass(".q4-select-box-option-focused"),f=j):0<d.children(".q4-select-box-option-focused").length&&(f=d.children(".q4-select-box-option-focused").first()));f.focus()}else a.closeDialog(),d.attr("aria-hidden","true"),setTimeout(function(){k(d).parents(".q4-select-box-container").siblings(".q4-select-hitarea").focus()},5)};a.closeDialog=function(){d.trigger("choice_view_show_dialog",[e,!1]);k(".q4-numericEntry-control-incorrect").each(function(){var a=
k(this);a.click();a.click()})};a.copyIntoAnchor=function(a){c.find("span.q4-select-content").html(a.html());var d=0;a.children().each(function(a,c){var e=b.evalMetric(b(c).css("vertical-align"));d=Math.min(d,e)});d=Math.abs(d);c.css("padding-bottom",d+"px");var a=12+d,e=c.find("img.q4-select-vertical-spacer");0==d?e.css("vertical-align","baseline"):e.css("vertical-align","-"+a+"px")};return a},g=null;a.getChoiceActions=function(){return g};a.fireShowCorrectAnswerEvent=function(){d.trigger("choice_view_correct_answer")};
a.getChoice=function(){return b.eventproxy.createAddViewHandler(function(a,c){a==b.q4presenterfactory.PRESENTER_EVENT_TOGGLE_DIALOG&&d.bind("choice_view_show_dialog",c)})};var h=null;a._render=function(a,c){h=a;switch(a.choiceType){case "radio":case "checkbox":d=a.getUseParentTdView()?b.tmpl("blankMarkup"):c.getHtmlNode().append(b.tmpl("choice_viewtmpl")).children().last().children().first();break;case "select":g=new f,j(a,c)}};var j=function(a,f){var j={id:"q4-select-label-"+a.uid,content:f.getHtmlNode().parents(".q4-task").children(".q4-instructions").children(".q4-text").text()+
" selector "+(f.getHtmlNode().parents(".q4-task").find(".q4-select").length+1)};c=j=b.tmpl("choice_viewtmplInline",j);j.appendTo(f.getHtmlNode());var h=j.find("span.q4-select"),q=b.tmpl("choice_viewtmplInlineBox");q.appendTo(j);e=q;d=q.find("ul.q4-select-box");g.setHtmlAnchor(h);g.setHtmlSelectBox(q);j=j.find("span.q4-select-hitarea");j.keydown(function(a){if(32===a.keyCode||13===a.keyCode)g.showChoice(!0),a=k.Event(a),a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()});j.touchclick(function(){g.showChoice(!0)})};
a._bindModel=function(){};a._refreshCorrectness=function(){for(var c=0;c<a.optionViews.length;c++)a.optionViews[c].clearCorrectness();for(c=0;c<h.options.length;c++)b(h.options[c]).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a.getHtmlNode=function(){return d};a.resizeWidth=function(){if("select"===h.choiceType){e.css("font-weight","bold");var a=e.width()-15;e.css("font-weight","");40>a&&(a=40);c.find("span.q4-select-content").css("width",a+"px")}};return a})})(k);(function(b){b.template("option_viewtmpl",
'<div class="q4-choice-option q4-choice-option-divider"><div class="q4-choice-option-control"><div class="q4-choice-option-input-container"><input class="q4-choice-option-input" type="${inputType}" name="${name}" value="${value}" id="${id}"><label class="q4-choice-option-label" for="${id}"></label></div></div></div><div class="q4-newline"></div>');b.template("option_viewtmplInline",'<li class="q4-select-box-option q4-select-box-option-divider" id="${id}" role="option" tabindex="-1" aria-selected="false"></li>');
b.q4viewfactory.registerClass("option_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="option_view";var d=null,c=null,e=null,f=null,g=null;a._render=function(b,c){g=b;f=c;void 0!==f.optionViews&&f.optionViews.push(a);switch(b.parent.choiceType){case "radio":case "checkbox":h(b,c);break;case "select":j(b,c)}};var h=function(a,f){e=b.tmpl("option_viewtmpl",{inputType:"radio"==a.parent.choiceType?"radio":"checkbox",name:"choice-option-parent"+a.parent.uid,
value:a.id,id:"choice-option-"+a.parent.uid+"-"+a.id});e.appendTo(f.getHtmlNode());c=e.find("input.q4-choice-option-input");b.inArray(a,a.parent.options)==a.parent.options.length-1&&e.removeClass("q4-choice-option-divider");d=e.find("label");e.find(".q4-choice-option-input").click(function(){l()})},j=function(a,c){e=b.tmpl("option_viewtmplInline",{id:"choice-option-"+a.parent.uid+"-"+a.id});e.appendTo(c.getHtmlNode());b.inArray(a,a.parent.options)==a.parent.options.length-1&&e.removeClass("q4-select-box-option-divider");
d=e;e.touchclick(function(){m()});e.focus(function(){e.siblings().removeClass("q4-select-box-option-focused");e.addClass("q4-select-box-option-focused")});e.mouseover(function(){e.focus()});e.keydown(function(a){if(32===a.keyCode||13===a.keyCode)m();else if(27===a.keyCode)f.getChoiceActions().showChoice(!1);else if(38===a.keyCode||37===a.keyCode){var d=e,d=0<d.prev().length?d.prev():d.parent().children().last();d.focus()}else if(40===a.keyCode||39===a.keyCode)d=e,d=0<d.next().length?d.next():d.parent().children().first(),
d.focus();else{var g=String.fromCharCode(a.keyCode),j=g.toLowerCase();"undefined"===typeof c.getHtmlNode().keylookup&&(c.getHtmlNode().keylookup="");0===e.find(".q4-text").text().indexOf(c.getHtmlNode().keylookup+g)?c.getHtmlNode().keylookup+=g:0===e.find(".q4-text").text().indexOf(c.getHtmlNode().keylookup+j)?c.getHtmlNode().keylookup+=j:e.siblings().find("span.q4-text").each(function(){var a=b(this).text();0===a.indexOf(c.getHtmlNode().keylookup+g)?(c.getHtmlNode().keylookup+=g,b(this).parent("li").focus()):
0===a.indexOf(c.getHtmlNode().keylookup+j)&&(c.getHtmlNode().keylookup+=j,b(this).parent("li").focus())});var h=c.getHtmlNode().keylookup;window.setTimeout(function(){c.getHtmlNode().keylookup===h&&(c.getHtmlNode().keylookup="")},1E3)}9===a.keyCode?(n(),f.getChoiceActions().closeDialog()):(a=k.Event(a),a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())})},l=function(){"radio"==g.parent.choiceType&&(b.each(g.parent.options,function(a,b){b.clientSelected=!1}),g.clientSelected=!0);
"checkbox"==g.parent.choiceType&&(g.clientSelected=!g.clientSelected);c.attr("checked",g.clientSelected);"radio"==g.parent.choiceType?b(g.parent).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS):b(g).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)},m=function(){e.siblings().attr("aria-selected","false");e.attr("aria-selected","true");var a=e.parents(".q4-select-container").find(".q4-select-hitarea"),c=e.parents(".q4-select-container").find(".q4-select-label");
a.attr("aria-labelledby",c.attr("id")+" "+e.attr("id"));e.parents(".q4-select-container").find(".q4-select-box").removeClass("q4-select-box-unselected");b.each(g.parent.options,function(a,b){b.clientSelected=!1});g.clientSelected=!0;f.getChoiceActions().copyIntoAnchor(e);f.getChoiceActions().showChoice(!1);b(g.parent).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)},n=function(){e.siblings().attr("aria-selected","false");e.attr("aria-selected","true");var a=e.parents(".q4-select-container").find(".q4-select-hitarea"),
c=e.parents(".q4-select-container").find(".q4-select-label");a.attr("aria-labelledby",c.attr("id")+" "+e.attr("id"));e.parents(".q4-select-container").find(".q4-select-box").removeClass("q4-select-box-unselected");b.each(g.parent.options,function(a,b){b.clientSelected=!1});g.clientSelected=!0;f.getChoiceActions().copyIntoAnchor(e);b(g.parent).triggerHandler(b.q4presenterfactory.PRESENTER_EVENT_REFRESH_CORRECTNESS)};a._bindModel=function(){};a._refreshClientSelection=function(a){if(a.clientSelected)switch("checkbox"==
a.parent.choiceType&&(a.clientSelected=!a.clientSelected),g.parent.choiceType){case "radio":case "checkbox":l();break;case "select":n()}};a._refreshCorrectness=function(b){switch(b.parent.choiceType){case "radio":case "checkbox":var d=e;a.clearCorrectness();d.find("div.q4-choice-option-control");d=c.attr("checked");"radio"==b.parent.choiceType&&(!b.parent.hasOptionSelected()&&b.correct?p():d&&(b.correct?q():p()));"checkbox"==b.parent.choiceType&&(d?b.isInitialCorrectnessDisplay?(!0===b.correctAsSubmitted?
q():!1===b.correctAsSubmitted&&p(),b.isInitialCorrectnessDisplay=!1):b.correct?q():p():b.isInitialCorrectnessDisplay?(!0===b.correctAsSubmitted?q():!1===b.correctAsSubmitted&&p(),b.isInitialCorrectnessDisplay=!1):b.correct?p():q());break;case "select":for(var d=!1,f=0;f<b.parent.options.length;f++)if(b.parent.options[f].clientSelected){d=!0;break}f=e.parents("span.q4-select-container").find("span.q4-select-control");d||(a.clearCorrectness(),f.prepend('<img alt="Incorrect" class="q4-choice-option-correctness-indicator" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAAP8AAP8PD/8fH/8vL/8/P/9PT/9fX/9vb/9/f/+fn/+vr/+/v//Pz//f3//v7wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhWAP8JHEhwoIEAAhwIVBAgAAOBDgQEKPAvYoADBBc0XEAgwIAHBRE0bPiw4L+OARKY/PdA4kSTDzoOaKiS4IGGDUQ6HJiApsCOAkD+S0B0oAOiJVcSDAgAOw=="/>'));
b.clientSelected&&(a.clearCorrectness(),b.correct?f.prepend('<img alt="Correct" class="q4-choice-option-correctness-indicator" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAADOZMz+fP0ylTFmsWWayZnK4cn+/f4zFjJnMmbLYsr/fv8zlzNjr2OXy5fL48gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhQAP8JHDjwgAGCCA8ECOAAocAFCw84/OdAQAABDR0WWJhA4EYFAhMsHPBAIIGLDRosDLBgIMQABAYsLIDQwMqFDRzKXIhgIoOFAiaGDAASYUAAOw=="/>'):
f.prepend('<img alt="Incorrect" class="q4-choice-option-correctness-indicator" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAAP8AAP8PD/8fH/8vL/8/P/9PT/9fX/9vb/9/f/+fn/+vr/+/v//Pz//f3//v7wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhWAP8JHEhwoIEAAhwIVBAgAAOBDgQEKPAvYoADBBc0XEAgwIAHBRE0bPiw4L+OARKY/PdA4kSTDzoOaKiS4IGGDUQ6HJiApsCOAkD+S0B0oAOiJVcSDAgAOw=="/>'))}};
var p=function(){d.parent().prepend('<img alt="Incorrect" class="q4-choice-option-icon q4-choice-option-correctness-indicator" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAAP8AAP8PD/8fH/8vL/8/P/9PT/9fX/9vb/9/f/+fn/+vr/+/v//Pz//f3//v7wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhWAP8JHEhwoIEAAhwIVBAgAAOBDgQEKPAvYoADBBc0XEAgwIAHBRE0bPiw4L+OARKY/PdA4kSTDzoOaKiS4IGGDUQ6HJiApsCOAkD+S0B0oAOiJVcSDAgAOw=="/>')},
q=function(){d.parent().prepend('<img alt="Correct" class="q4-choice-option-icon q4-choice-option-correctness-indicator" src="data:image/gif;base64,R0lGODlhDAAMAPcAAAAAADOZMz+fP0ylTFmsWWayZnK4cn+/f4zFjJnMmbLYsr/fv8zlzNjr2OXy5fL48gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAMAAwAAAhQAP8JHDjwgAGCCA8ECOAAocAFCw84/OdAQAABDR0WWJhA4EYFAhMsHPBAIIGLDRosDLBgIMQABAYsLIDQwMqFDRzKXIhgIoOFAiaGDAASYUAAOw=="/>')};
a.clearCorrectness=function(){switch(g.parent.choiceType){case "radio":case "checkbox":d.parent().find("img.q4-choice-option-correctness-indicator").remove();break;case "select":e.parents("span.q4-select-container").find("span.q4-select-control").find("img.q4-choice-option-correctness-indicator").remove(),e.parents("span.q4-select-container").find("span.q4-select-control-prompt").removeClass("q4-select-control-prompt")}};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("explanation_viewtmpl",
'<div class="q4-explanation ${hidden}"><div class="q4-explanation-header-container"><div class="q4-explanation-header"><div class="q4-explanation-header-control-arrow q4-explanation-header-control-arrow-open"></div><div class="q4-explanation-header-control q4-system-text" tabindex="0" role="button" aria-label="Open explanation button">Open Explanation</div><div class="q4-explanation-header-content q4-system-text">Explanation:</div></div></div><div class="q4-explanation-content-container q4-explanation-content-hidden"><div class="q4-explanation-content"></div></div></div>');
b.q4viewfactory.registerClass("explanation_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="explanation_view";var d=null,c=null,e=null,f=null,g=null;a._render=function(j,h){var m={hidden:""};j.svgWorkaroundRenderExpanded||(m.hidden="q4-hidden");c=b.tmpl("explanation_viewtmpl",m);m=h.getHtmlNode().find("div.q4-explanation.q4-hidden");0<m.length?(c.insertAfter(m),m.remove()):(h.getHtmlNode().find("div.q4-explanation").detach(),c.appendTo(h.getHtmlNode()));
c.find("div.q4-explanation-header").touchclick(function(){a.getExplanation().toggleContent()});d=c.find("div.q4-explanation-content");e=c.find("div.q4-explanation-content-container");f=c.find("div.q4-explanation-header-control");g=c.find("div.q4-explanation-header-control-arrow");f.keydown(function(b){if(b.keyCode===32||b.keyCode===13){a.getExplanation().toggleContent();b=k.Event(b);b.preventDefault();b.stopPropagation();b.stopImmediatePropagation()}});a.getExplanation().toggleContent()};a.getHtmlNode=
function(){return d};var h=new function(){return{showExplanation:function(){c.removeClass("q4-hidden")},toggleContent:function(){e.hasClass("q4-explanation-content-hidden")?(f.html("Close Explanation"),f.attr("aria-label","Close explanation button"),g.removeClass("q4-explanation-header-control-arrow-open"),g.addClass("q4-explanation-header-control-arrow-close"),e.removeClass("q4-explanation-content-hidden"),e.fadeTo(500,1)):(f.html("Open Explanation"),f.attr("aria-label","Open explanation button"),
g.addClass("q4-explanation-header-control-arrow-open"),g.removeClass("q4-explanation-header-control-arrow-close"),e.addClass("q4-explanation-content-hidden"),e.fadeTo(0,0));k(".q4-numericEntry-control").each(function(){var a=k(this);a.click();a.click()})}}};a.getExplanation=function(){return h};return a})})(k);(function(b){b.template("userMessaging.userMessage_viewtmpl",'<div class="q4-userMessage" style="display: none;" aria-hidden="true" role="dialog"><div class="q4-userMessage-control"><div class="q4-userMessage-control-left"><div class="q4-userMessage-control-focusable q4-userMessage-control-hidden" tabindex="1" aria-label="previous" role="button"><a class="q4-userMessage-control-prev" aria-hidden="true"></a></div></div><div class="q4-userMessage-control-mid"><div class="q4-userMessage-counter-container"><span class="q4-userMessage-counter" id="${counterid}"></span></div><div class="q4-userMessage-body" aria-labelledby="${counterid}" aria-live="polite"></div><div class="q4-userMessage-action"><button class="q4-userMessage-control-close q4-button" tabindex="3">Dismiss All</button></div></div><div class="q4-userMessage-control-right"><div class="q4-userMessage-control-focusable q4-userMessage-control-hidden" tabindex="2" aria-label="next" role="button"><a class="q4-userMessage-control-next" aria-hidden="true"></a></div></div></div></div>');
b.q4viewfactory.registerClass("userMessaging.userMessage_view",function(){var a=Object.create(b.q4viewfactory.newInstanceByName("base_view"));a.nodeName="userMessaging.userMessage_view";var d=null,c=null,e=null,f=null,g=null,h=null;a._render=function(m,n){d=b.tmpl("userMessaging.userMessage_viewtmpl",{counterid:"q4-message-counter-"+m.id});d.appendTo(n.getHtmlNode());f=d.find("button.q4-userMessage-control-close");g=d.find("a.q4-userMessage-control-next");h=d.find("a.q4-userMessage-control-prev");
e=d.find("div.q4-userMessage-body");c=d.find("span.q4-userMessage-counter");l();f.keydown(function(a){if(a.ctrlKey||a.altKey)return!0;switch(a.keyCode){case 9:if(a.shiftKey&&(!g.hasClass("q4-userMessage-control-hidden")||!h.hasClass("q4-userMessage-control-hidden")))break;else return a.stopPropagation,!1;case 27:case 13:case 32:return j(),a.stopPropagation,!1}return!0});h.parent().keydown(function(c){if(c.ctrlKey||c.altKey)return!0;switch(c.keyCode){case 9:if(c.shiftKey)return c.stopPropagation,!1;
break;case 27:return j(),c.stopPropagation,!1;case 13:case 32:return a.fireViewAction(b.UserMessagingConstants.VIEW_ACTION_PREV_MESSAGE),c.stopPropagation,!1}return!0});g.parent().keydown(function(c){if(c.ctrlKey||c.altKey)return!0;switch(c.keyCode){case 9:if(c.shiftKey&&h.hasClass("q4-userMessage-control-hidden"))return c.stopPropagation,!1;break;case 27:return j(),c.stopPropagation,!1;case 13:case 32:return a.fireViewAction(b.UserMessagingConstants.VIEW_ACTION_NEXT_MESSAGE),c.stopPropagation,!1}return!0})};
a.updateControl=function(a,b,d,e){a?g.parent().removeClass("q4-userMessage-control-hidden"):g.parent().addClass("q4-userMessage-control-hidden");b?h.parent().removeClass("q4-userMessage-control-hidden"):(h.parent().addClass("q4-userMessage-control-hidden"),g.parent().focus());!a&&b&&h.parent().focus();c.html("Message: "+(d+1)+" of "+e)};a.isBoxOpened=function(){return d.is(":visible")};a.getEventProxy=function(){return b.eventproxy.createAddViewHandler(function(a,c){a==b.q4presenterfactory.PRESENTER_EVENT_TOGGLE_DIALOG&&
d.bind("message_view_show_dialog",c)})};a.showBox=function(){var a=d.parents("div.q4-container-root").last();0==a.length&&(a=d.parents("div.q4-container").last());var c=b(window).width();a&&a.position()&&(c=a.width());a=b(window).height()/2-d.height()/2+b(window).scrollTop();c=c/2-d.width()/2;d.css("top",a+"px");d.css("left",c+"px");d.trigger("message_view_show_dialog",[d,!0]);d.attr("aria-hidden","false");d.is(":visible")||d.show();h.parent().hasClass("q4-userMessage-control-hidden")?f.focus():h.parent().focus()};
a.hideBox=function(){d.trigger("message_view_show_dialog",[d,!1]);d.is(":visible")&&d.hide();d.attr("aria-hidden","true");"undefined"!==typeof document.activeElement&&b(document.activeElement).blur()};a.setMessage=function(a){for(var a=a.getTextArray(),b="",c=0;c<a.length;c++)b+=a[c]+"<br/>";e.html(b)};var j=function(){a.fireViewAction(b.UserMessagingConstants.VIEW_ACTION_HIDE_MESSAGING_PANEL)},l=function(){f.touchclick(function(){j()});g.parent().touchclick(function(){a.fireViewAction(b.UserMessagingConstants.VIEW_ACTION_NEXT_MESSAGE)});
h.parent().touchclick(function(){a.fireViewAction(b.UserMessagingConstants.VIEW_ACTION_PREV_MESSAGE)})};return a})})(k);k.q4versions.add({module:"q4-html5-renderer-web-aplia",version:"7.9"});(function(b){b.extend({DiagramFrameworkFactory:new function(){var a={},b={};a.init=function(){};a.FIXED="fixed";a.FREE="free";a.DERIVED="derived";a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};a.getClassByName=function(a){return b[a]};return a}})})(k);
(function(b){b.extend({DiagramFrameworkViewFactory:new function(){var a={},b={};a.init=function(){};a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};a.getClass=function(a){return b[a]};return a}})})(k);(function(b){var a=function(){};a.getGlyphsForText=function(a){var c=[],e;if("string"===typeof a)e=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_glyph").init(),e.setBaselineType(e.BASELINE_TYPE_NORMAL),a=b.trim(a),e.setText(a),
c.push(e);else for(var f=0;f<a.length;f++){e=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_glyph").init();switch(a[f].baseline){case "superscript":e.setBaselineType(e.BASELINE_TYPE_SUPERSCRIPT);break;case "subscript":e.setBaselineType(e.BASELINE_TYPE_SUBSCRIPT);break;default:e.setBaselineType(e.BASELINE_TYPE_NORMAL)}e.setText(a[f].text);c.push(e)}return c};b.DiagramFrameworkViewFactory.registerClass("GlyphFactory",a)})(k);(function(b){b.DiagramFrameworkFactory.registerClass("DiagramModel",
function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));a.nodeName="DiagramModel";var d,c,e;a.getWorkingSpace=function(){return d};a.setWorkingSpace=function(a){d=a};a.getTargetSpace=function(){return c};a.setTargetSpace=function(a){c=a};a.getCartesianCoordinatePatch=function(){return e};a.setCartesianCoordinatePatch=function(a){e=a;d.invalidate(!0)};a.copyWorkingSpaceToCanonicalSpace=function(){};a._parse=function(){};a.initializeCanonicalSpace=function(){};a.initializeWorkingSpace=
function(){};a.addPrimitive=function(){};a.movePrimitiveByName=function(){};a.removePrimitiveByName=function(){};a.getPrimitiveByName=function(b){return a.getWorkingSpace().getPrimitiveByName(b)};a.validate=function(){};a.invalidateSpace=function(){a.getWorkingSpace().invalidate()};a.getEditablePropertyForPrimitiveByName=function(b){var b=a.getPrimitiveByName(b).getEditableProperties(),c=[],d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d];c.push({name:d,type:e.type,value:e.getter()})}return c};a.updateEditablePropertyForPrimitiveByName=
function(b,c,d){a.getPrimitiveByName(b).updateEditableProperty(c,d);a.invalidateSpace()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("base_model",function(){return{init:function(a,b,c){this._parse(a,b,c);return this},parseChildren:function(a,d,c,e,f){if(b.isArray(d))for(var g in d){var h=d[g],j=b.DiagramFrameworkFactory.newInstanceByName(e);null!=j&&(j.init(a,h,c),f.push(j))}else j=b.DiagramFrameworkFactory.newInstanceByName(e),null!=j&&(j.init(a,d,c),f.push(j))},updateByQDelta:function(){},
updateByClientDelta:function(){},getClientQDelta:function(){}}})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("CoordinateSystem",function(){var a={_NAME:"CoordinateSystem"},d=0,c=[],e=[],f=[];a.getDimensions=function(){return d};a.setDimensions=function(a){d=a};a.getLimits=function(){return c};a.getResolutions=function(){return e};a.getAxes=function(){return f};a.init=function(b,d,j){c=b;e=d;f=j;return a};a.getResolutionConstantsByIndex=function(b){var c=a.getResolutions()[b],d=c.getPeriodicInterval(),
b=d.getInclude(),d=d.getPeriod(),e=[],f=[],c=c.getAperiodicInterval();if(null!==c){for(var n=c.getNumbers(),p=0,q=n.length;p<q;p++)e.push(n[p].getValue());c=c.getExcludedNumbers();for(n=0;n<c.length;n++)f.push(c[n].getValue())}return{resolutionInclude:b,resolutionPeriod:d,resolutionAperiodicValues:e,resolutionAperiodicExcludedValues:f}};a.getLimitsConstantsByIndex=function(b,c,d,e){var f,n,p,b=a.getLimits()[b],q=[b.getNumber0(),b.getNumber1()],b=[q[0].getValue(),q[1].getValue()],k=[q[0].getIncluded(),
q[1].getIncluded()],s=e(b[0]),o=k[0],q=s+(s<b[0]||s===b[0]&&!o?c:0);f=0;for(n=d.length;f<n;f++)if(p=d[f],o&&p==b[0]||!o&&p>b[0]&&p<q)q=p;f=e(b[1]);e=k[1];c=f-(f>b[1]||s===b[1]&&!e?c:0);f=0;for(n=d.length;f<n;f++)if(p=d[f],e&&p==b[1]||!e&&p<b[0]&&p<c)c=p;return[q,c]};a.resolveCartesianValueToResolutionByIndex=function(a,c,d,e,f,n,p){if(!isFinite(c))return c;var d="undefined"!==typeof d?d:!1,q=b.BasicMathToolkit.round(c-e,f)+e,k=Math.abs(c-q);if(!d)return q;for(var a=d=NaN,s=0,o=n.length;s<o;s++){var u=
n[s],t=Math.abs(c-u);if(isNaN(d)||!isNaN(d)&&t<a)d=u,a=t}return isNaN(d)?q:-1!==b.inArray(q,p)?(n=b.BasicMathToolkit.round(c+f-e,f)+e,e=b.BasicMathToolkit.round(c-f-e,f)+e,f=Math.abs(c-n),p=Math.abs(c-e),c={},c[f]=n,c[p]=e,c[a]=d,d=Math.min(f,p,a),c[d]):k<a?q:d};a.resolveCartesianValueToLimits=function(a,b){return a<b[0]?b[0]:a>b[1]?b[1]:a};return a})})(k);(function(b){function a(){var c={};c._NAME=d;var e=NaN,f=null,g=null,h=null,j=!0,l=!1,m=!0,n,p=NaN,q=NaN,k=NaN,s=NaN,o=NaN,u=NaN,t=NaN,w=NaN,x=
NaN,B=NaN,y=null,z=[],A=[],D=[],C={},v=!1,F=null;c.getID=function(){return e};c.getName=function(){return f};c.getLabel=function(){return g};c.setLabel=function(a){g=a};c.getIsCorrect=function(){return h};c.setIsCorrect=function(a){if(h!==a&&(!0===a||!1===a))h=a,c.invalidate()};c.getIsFree=function(){return j};c.setIsFree=function(a){j=a};c.getIsGeneric=function(){return n};c.setIsGeneric=function(a){n=a};c.getX=function(){return p};c.setX=function(a){a!==p&&(H(),p=void 0===a?NaN:a)};c.getY=function(){return q};
c.setY=function(a){a!==q&&(H(),q=void 0===a?NaN:a)};c.getZ=function(){return k};c.setZ=function(a,b){a!==k&&(H(),k=void 0===a?NaN:a,c.invalidate(b))};c.setXId=function(a){s=a};c.getXId=function(){return s};c.setYId=function(a){o=a};c.getYId=function(){return o};c.getInitialX=function(){return u};c.setInitialX=function(a){u=a};c.getInitialY=function(){return t};c.setInitialY=function(a){t=a};c.getX0=function(){return c.getSpaceCoordinateSystem().getX0(p)};c.getSpace=function(){return y};c.getDescendants=
function(){return A};c.getSiblings=function(){return D};c.getSpaceCoordinateSystem=function(){return y.getCoordinateSystem()};c.getIsIncluded=function(){return m};c.setIsIncluded=function(a){m!==a&&(m=a,c.invalidate())};c.addEditableProperty=function(a,b,c,d){return C[a]={type:b,getter:c,setter:d}};c.getEditableProperties=function(){return C};c.init=function(b,d,g){e=b;b=g.getUniquePrimitiveIndex();"string"===typeof d?(f=d,n=!1):(f=a.GENERIC_NAME_PREFIX+b,n=!0);y=g;c.addEditableProperty("Included",
"boolean",c.getIsIncluded,c.setIsIncluded);return c};c.validate=function(){l=!0};c.invalidate=function(){l=!1;c.trigger("PRIMITIVE_INVALIDATED")};c.isValid=function(){return l};c.isInvalid=function(){return!l};c.addParent=function(a){z.push(a)};c.removeParent=function(a){for(var b=z.length-1;-1<b;b--)z[b]===a&&z.splice(b,1)};c.isDescendant=function(){return 0<z.length};c.addDescendant=function(a){c.removeDescendant(a);a.addParent(c);A.push(a)};c.removeDescendant=function(a){for(var b=A.length-1;-1<
b;b--)A[b]===a&&(a.removeParent(c),A.splice(b,1))};c.hasDescendant=function(a){for(var b=A.length-1;-1<b;b--){var c=A[b];if(c.getName()===a.getName()||c.hasDescendant(a))return!0}return!1};c.addSibling=function(a){c.getName()!==a.getName()&&D.push(a)};c.getSuperPrimitives=function(a){for(var a=y.getPrimitives({isDescendant:!1,isUsed:a}),b=[],d=a.length-1;-1<d;d--){var e=a[d];e.hasDescendant(c)&&b.push(e)}return 0===b.length?[c]:b};c.revertModelCartesionCoordinates=function(){c.setX(w);c.setY(x);c.setZ(B)};
c.bind=function(a,d,e){b(c).bind(a,d,e)};c.unbind=function(a,d){b(c).unbind(a,d)};c.trigger=function(a,d){b(c).trigger(a,d)};c.equals=function(){};c.startMove=function(){c.trigger("PRIMITIVE_MOVE_STARTED")};c.move=function(){throw Error("Unsupported operation on an abstract class.");};c.stopMove=function(){c.trigger("PRIMITIVE_MOVE_STOPPED")};c.updateEditableProperty=function(a,b){void 0!==C[a]&&C[a].setter(b)};c.generateClientQDelta=function(){return null};c.hasMoved=function(){throw Error("To support AreaGrading, Primitive.hasMoved must be implemented on a case-by-case basis, see PrimitivePolygonalCurve and ConstructArea");
};c.setHasMoved=function(a){v=a};c.getHasMoved=function(){return v};c.setPaletteType=function(a){F=a};c.getPaletteType=function(){return F};var H=function(){w=p;x=q;B=k};return c}var d="Primitive";a.GENERIC_NAME_PREFIX="Generic";b.DiagramFrameworkFactory.registerClass(d,a)})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Space",function(){var a={_NAME:"Space"},d={},c={},e={},f=0;a.getCoordinateSystem=function(){return d};a.getPrimitives=function(a){return g(a)};a.getPrimitiveByName=function(a){return c[a]};
a.getUniquePrimitiveIndex=function(){return f++};a.init=function(b){d=b;return a};a.addConstruct=function(a){a&&(e[a.getName()]=a)};a.getConstructs=function(){return e};a.addPrimitive=function(a){a&&(c[a.getName()]=a)};a.movePrimitiveByName=function(a,b,d,e,f){a=c[a];a.setIsCorrect(null);a.move(b,d,e,f)};a.removePrimitiveByName=function(b){a.removePrimitive(c[b])};a.removePrimitive=function(a){void 0!==a&&a.remove()};a.validate=function(){var a=[],b;for(b in c)if(c.hasOwnProperty(b)){var d=c[b];d.isInvalid()&&
(a.push(d),d.validate())}return a};a.invalidate=function(b){if("undefined"!==typeof b&&b)for(var d in c)c.hasOwnProperty(d)&&c[d].invalidate();a.trigger("SPACE_INVALIDATED")};a.getPoints=function(a){return h("Point",a)};a.getSegments=function(a){return h("Segment",a)};a.getRays=function(a){return h("Ray",a)};a.getLines=function(a){return h("Line",a)};a.bind=function(c,d,e){b(a).bind(c,d,e)};a.unbind=function(c,d){b(a).unbind(c,d)};a.trigger=function(c,d){b(a).trigger(c,d)};var g=function(a){var a=
"undefined"!==typeof a?a:{},b=a.isUsed,a=a.isDescendant,d=[],e;for(e in c)if(c.hasOwnProperty(e)){var f=c[e];(void 0===b||f.isUsed()===b)&&(void 0===a||f.isDescendant()==a)&&d.push(f)}return d},h=function(a,b){var c=[],d=g(b),e;for(e in d)if(d.hasOwnProperty(e)){var f=d[e];f._TYPE===a&&c.push(f)}return c};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("PrimitiveLine",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitiveSegment"));a._NAME="PrimitiveLine";
a._TYPE="Line";d=a.init;var c;a.init=function(b,f,g,h){c=!h?a:h;d(b,f,g,c);return a};a.updateByQDelta=function(b,c){void 0!==c["@correct-as-submitted"]&&(a.setIsCorrect(c["@correct-as-submitted"]),a.getSpace().invalidate())};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("PrimitivePoint",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="PrimitivePoint";a._TYPE="Point";var d=a.init,c=!1,e=!1,f=!1,g=!0;a.init=function(b,c,e){d(b,
c,e);return a};a.equals=function(){throw Error("Unsupported operation on an abstract class.");};a.setIsConstraint=function(a){c=a};a.isConstraint=function(){return c};a.setIsManipulablePoint=function(a){e=a};a.isManipulablePoint=function(){return e};a.setIsDerived=function(a){f=a};a.isDerived=function(){return f};a.setCanGenerateQDelta=function(a){g=a};a.canGenerateQDelta=function(){return g};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("PrimitivePointCollection",function(){var a,
d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="PrimitivePointCollection";d=a.init;var c=!0,e,f=[],g;a.setCanHaveConcurrentPoints=function(a){c=a};a.getCanHaveConcurrentPoints=function(){return c};a.getIsMoving=function(){return e};a.getPoints=function(){return f};a.init=function(b,c,e,f){d(b,c,e);g=!f?a:f;return a};a.isUsed=function(){if(0==f.length)return!1;for(var a=!0,b=f.length-1;-1<b;b--)if(!f[b].isUsed()){a=!1;break}return a};a.addPoint=function(b){a.addPointAt(b,
f.length)};a.addPointAt=function(b,c){b&&(b.bind("PRIMITIVE_INVALIDATED",g.onPrimitiveInvalidated),b.bind("PRIMITIVE_MOVE_STARTED",g.onPrimitiveMoveStarted),b.bind("PRIMITIVE_MOVE_STOPPED",g.onPrimitiveMoveStopped),a.addDescendant(b),f[c]=b,a.setIsFree(a.getIsFree()&&b.getIsFree()),g.invalidate())};a.replacePoint=function(b,c){var d=a.getPointIndex(b);b.unbind("PRIMITIVE_INVALIDATED",g.onPrimitiveInvalidated);b.unbind("PRIMITIVE_MOVE_STARTED",g.onPrimitiveMoveStarted);b.unbind("PRIMITIVE_MOVE_STOPPED",
g.onPrimitiveMoveStopped);a.removeDescendant(b);a.addPointAt(c,d)};a.move=function(b,c,d,m){a.setHasMoved(!0);e=d=!0;var n;for(n=f.length-1;-1<n;n--)var p=f[n],d=p.move(p.getX()+b,p.getY()+c,NaN,m,!1,!0)&&d;e=!1;d&&g.invalidate();return d};a.remove=function(){for(var b=a.getPoints(),c=b.length,d=0;d<c;d++)b[d].remove()};a.getPointIndex=function(a){for(var b=-1,c=f.length-1;-1<c;c--)if(f[c].getName()==a.getName()){b=c;break}return b};a.hasPoint=function(b){return 0<=a.getPointIndex(b)};a.onPrimitiveInvalidated=
function(){g.invalidate()};a.onPrimitiveMoveStarted=function(){a.startMove()};a.onPrimitiveMoveStopped=function(){a.stopMove()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("PrimitivePolygonalCurve",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="PrimitivePolygonalCurve";a._TYPE="PolygonalCurve";d=a.init;var c=!0,e,f=[],g;a.setIsRigid=function(){};a.setCanHaveConcurrentPoints=function(a){c=a};a.getCanHaveConcurrentPoints=
function(){return c};a.getIsMoving=function(){return e};a.getPoints=function(){return f};a.init=function(b,c,e,f){d(b,c,e);g=!f?a:f;return a};a.isUsed=function(){if(0==f.length)return!1;for(var a=!0,b=f.length-1;-1<b;b--)if(!f[b].isUsed()){a=!1;break}return a};a.addPoint=function(b){a.addPointAt(b,f.length)};a.addPointAt=function(b,c){b&&(b.bind("PRIMITIVE_INVALIDATED",g.onPrimitiveInvalidated),b.bind("PRIMITIVE_MOVE_STARTED",g.onPrimitiveMoveStarted),b.bind("PRIMITIVE_MOVE_STOPPED",g.onPrimitiveMoveStopped),
a.addDescendant(b),f[c]=b,a.setIsFree(a.getIsFree()&&b.getIsFree()),a.invalidate())};a.replacePoint=function(b,c){var d=a.getPointIndex(b);b.unbind("PRIMITIVE_INVALIDATED",g.onPrimitiveInvalidated);b.unbind("PRIMITIVE_MOVE_STARTED",g.onPrimitiveMoveStarted);b.unbind("PRIMITIVE_MOVE_STOPPED",g.onPrimitiveMoveStopped);a.removeDescendant(b);a.addPointAt(c,d)};a.removePoints=function(){for(var a=f.length-1;-1<a;a--){var b=f[a];b.unbind("PRIMITIVE_INVALIDATED",g.onPrimitiveInvalidated);b.unbind("PRIMITIVE_MOVE_STARTED",
g.onPrimitiveMoveStarted);b.unbind("PRIMITIVE_MOVE_STOPPED",g.onPrimitiveMoveStopped);f.splice(a,1)}};a.hasMoved=function(){return a.getHasMoved()};a.move=function(b,c,d,g){a.setHasMoved(!0);e=d=!0;var n;for(n=f.length-1;-1<n;n--)var p=f[n],d=p.move(p.getX()+b,p.getY()+c,NaN,g,!1)&&d;e=!1;a.invalidate();return d};a.remove=function(){for(var b=a.getPoints(),c=b.length,d=0;d<c;d++)b[d].remove()};a.getPointIndex=function(a){for(var b=-1,c=f.length-1;-1<c;c--)if(f[c].getName()==a.getName()){b=c;break}return b};
a.hasPoint=function(b){return 0<=a.getPointIndex(b)};a.onPrimitiveInvalidated=function(){e||(a.setHasMoved(!0),a.revertInvalidConcurrentPoints(),a.invalidate())};a.onPrimitiveMoveStarted=function(){a.setHasMoved(!1);a.startMove()};a.onPrimitiveMoveStopped=function(){a.stopMove()};a.equals=function(b){return a.getName()===b.getName()};a.updateByQDelta=function(b,c){void 0!==c["@correct-as-submitted"]&&(a.setIsCorrect(c["@correct-as-submitted"]),a.getSpace().invalidate())};a.revertInvalidConcurrentPoints=
function(){for(var a=0,b=f.length;a<b;a++){var c=f[a];if(c.isInvalid())for(var d=0;d<b;d++)a!==d&&c.equals(f[d])&&(c.revertModelCartesionCoordinates(),c.isValid())}};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("PrimitiveRay",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitiveSegment"));a._NAME="PrimitiveRay";a._TYPE="Ray";d=a.init;a.init=function(b,e,f){d(b,e,f);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("PrimitiveSegment",
function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitivePolygonalCurve"));a._NAME="PrimitiveSegment";a._TYPE="Segment";d=a.init;var c,e=!1;a.getPoint0=function(){return a.getPoints()[0]};a.setPoint0=function(b){a.addPointAt(b,0)};a.getPoint1=function(){return a.getPoints()[1]};a.setPoint1=function(b){a.addPointAt(b,1)};a.getIsConnectedPointSegment=function(){return e};a.setIsConnectedPointSegment=function(a){e=a};a.init=function(b,e,h,j){c=!j?a:j;d(b,e,h,c);return a};
return a})})(k);(function(b){function a(){}a.check=function(a,b,e,f){var g=function(a){for(var b={},c=0,d=a.length;c<d;c++){var e=a[c].getName();b[e]=null}return b},h=g(a),j=g(b);(function(){for(var g=0,m=a.length;g<m;g++){var n=a[g];if(n.getIsGeneric()){for(var p=n,n=!1,q=0,k=b.length;q<k;q++){var s=b[q],o=s.getName();if(s.getIsGeneric()&&null===j[o]&&e(p,s,f)){n=!0;j[o]=!0;break}}p=p.getName();h[p]=n}else{p=!1;q=n.getName();k=0;for(s=b.length;k<s;k++){var o=b[k],u=o.getName();u===q&&(null===j[u]&&
e(n,o,f))&&(p=!0,j[u]=!0)}h[q]=p}}})();(function(){for(var b=0,c=a.length;b<c;b++){var e=a[b],f=e.getName();e.setIsCorrect(h[f])}})();return function(){for(var a=0,d=b.length;a<d;a++){var e=b[a].getName();if(!j[e])return!1}return!0}()};b.DiagramFrameworkFactory.registerClass("PrimitiveCorrectnessChecker",a)})(k);(function(b){b.DiagramFrameworkFactory.registerClass("CoordinateSystem1",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("CoordinateSystem"));a._NAME="CoordinateSystem1";
var d=a.init,c,e,f=1,g=[],h=[],j;a.setXResolutionPeriodFactor=function(a){f=a};a.init=function(b,f,p){d(b,f,p);b=a.getResolutionConstantsByIndex(0);c=b.resolutionInclude;e=b.resolutionPeriod;g=b.resolutionAperiodicValues.concat();h=b.resolutionAperiodicExcludedValues.concat();j=a.getLimitsConstantsByIndex(0,e,g,l).concat();return a};a.resolveCartesianXToResolutionAndLimits=function(b,c){return a.resolveCartesianXToLimits(l(b,c))};var l=function(b,d){return a.resolveCartesianValueToResolutionByIndex(0,
b,d,c,e*f,g,h)};a.resolveCartesianXToLimits=function(b){return a.resolveCartesianValueToLimits(b,j)};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive1",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="Primitive1";d=a.init;a.init=function(b,e,f){d(b,e,f);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Space1",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Space"));
a._NAME="Space1";d=a.init;a.init=function(b){d(b);return a};a.getOrderedUsedPoints=function(){return a.getUsedPoints().sort(function(a,b){var d,g;d=a.getX();g=b.getX();return d<g?-1:d>g?1:0})};a.getNextLowestPoint=function(b){var d,f;f=a.getOrderedUsedPoints();for(d=0;d<f.length-1;d+=1)if(f[d+1].getX()>=b.getX())return f[d];return null};a.getNextHighestPoint=function(b){var d,f;f=a.getOrderedUsedPoints();for(d=f.length-1;0<d;d-=1)if(f[d-1].getX()<=b.getX())return f[d];return null};a.getAllPoints=
function(){var b,d,f,g;d=[];g=a.getPrimitives();for(b in g)g.hasOwnProperty(b)&&(f=g[b],"Point"===f._TYPE&&d.push(f));return d};a.getUsedPoints=function(){var b,d,f,g;g=[];f=a.getAllPoints();for(b=0;b<f.length;b+=1)d=f[b],d.isUsed()&&g.push(d);return g};a.getAllSegments=function(){var b,d,f,g;d=[];g=a.getPrimitives();for(b in g)g.hasOwnProperty(b)&&(f=g[b],"Segment"===f._TYPE&&d.push(f));return d};a.getUsedSegments=function(){var b,d,f,g;g=[];f=a.getAllSegments();for(b=0;b<f.length;b+=1)d=f[b],d.isUsed()&&
g.push(d);return g};a.getUnusedSegments=function(){var b,d,f,g;g=[];f=a.getAllSegments();for(b=0;b<f.length;b+=1)d=f[b],d.isUsed()||g.push(d);return g};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive1Point",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitivePoint"));a._NAME="Primitive1Point";a._TYPE="Point";var d=a.init;a.init=function(b,e,f){d(b,e,f);return a};a.isUsed=function(){var c=a.getX();return b.BasicMathToolkit.isNumber(c)};
a.isFinite=function(){var b=a.getX();return isFinite(b)};a.remove=function(){a.setX(NaN);a.invalidate()};a.equals=function(b){var d=a.getX(),b=b.getX();return d===b};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive1PointConstrainedByPoints",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive1PointFree"));a._NAME="Primitive1PointConstrainedByPoints";var d=a.init,c=a.remove,e=a.setX,f,g,h;a.setX=function(a){if(g&&h){var c=g.getX(),d=h.getX();
if(b.BasicMathToolkit.isNumber(c)&&b.BasicMathToolkit.isNumber(d))var j=Math.min(c,d),c=Math.max(c,d),d=void 0===f?0:f,a=Math.abs(c-j)>=2*d?b.BasicMathToolkit.constrain(a,[j+d,c-d]):NaN}e(a,!0,!0)};a.setBuffer=function(a){f=a};a.setPoint0=function(a){g&&g.unbind("PRIMITIVE_INVALIDATED",j);(g=a)&&g.bind("PRIMITIVE_INVALIDATED",j)};a.setPoint1=function(a){h&&h.unbind("PRIMITIVE_INVALIDATED",j);(h=a)&&h.bind("PRIMITIVE_INVALIDATED",j)};a.init=function(b,c,e){d(b,c,e);return a};a.move=function(b,c,d,
e){c=a.getX();a.setX(b,e);if(c!==a.getX())return a.invalidate(),!0};a.remove=function(){a.setPoint0(null);a.setPoint1(null);c()};var j=function(){var b;if(a.isUsed()){b=a.getSpace();if(void 0!==g&&!g.isUsed()){var c=b.getNextLowestPoint(a);a.setPoint0(c)}void 0!==g&&!h.isUsed()&&(b=b.getNextHighestPoint(a),a.setPoint1(b))}};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive1PointFixed",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive1Point"));
a._NAME="Primitive1PointFixed";var d=a.init;a.init=function(b,e,f){d(b,e,f);a.setIsFree(!1);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive1PointFree",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive1PointFixed"));a._NAME="Primitive1PointFree";var d=a.init,c=a.setX;a.setX=function(b,d,g){if("undefined"!==typeof d?d:1)g="undefined"!==typeof g?g:a.getSuperPrimitives()[0].getName()===a.getName(),b=a.getSpaceCoordinateSystem().resolveCartesianXToResolutionAndLimits(b,
g);c(b)};a.init=function(b,c,g){d(b,c,g);a.setIsFree(!0);return a};a.move=function(b,c,d,h){c=a.getX();a.setX(b,h);if(c!==a.getX())return a.invalidate(),!0};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive1Segment",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitiveSegment"));a._NAME="Primitive1Segment";a._TYPE="Segment";d=a.init;a.getLowestPoint=function(){var b,d;b=a.getPoint0();d=a.getPoint1();return b.getX()<d.getX()?b:d};a.getHighestPoint=
function(){var b,d;b=a.getPoint0();d=a.getPoint1();return b.getX()>d.getX()?b:d};a.init=function(b,e,f){d(b,e,f);return a};a.remove=function(){for(var b=a.getPoints(),d=b.length-1;-1<d;d--){var f=b[d];b.splice(d,1);f.unbind("PRIMITIVE_INVALIDATED",a.onPrimitiveInvalidated);f.unbind("PRIMITIVE_MOVE_STARTED",a.onPrimitiveMoveStarted);f.unbind("PRIMITIVE_MOVE_STOPPED",a.onPrimitiveMoveStopped);a.removeDescendant(f)}a.invalidate()};a.containsValue=function(c,d,f){return b.BasicMathToolkit.contains(c,
[a.getPoint0.getX(),a.getPoint1.getX()],d,f)};return a})})(k);(function(b){function a(){}a.doPointsMatch=function(a,b){var e=a.getX(),f=a.getLabel(),g=b.getX(),h=b.getLabel();return(isNaN(e)&&isNaN(g)||e===g)&&f===h};a.check=function(d,c,e){e="undefined"!==typeof e?e:a.doPointsMatch;return b.DiagramFrameworkFactory.getClassByName("PrimitiveCorrectnessChecker").check(d,c,e)};b.DiagramFrameworkFactory.registerClass("Primitive1PointCorrectnessChecker",a)})(k);(function(b){function a(){}a.check=function(a,
c){return b.DiagramFrameworkFactory.getClassByName("PrimitiveCorrectnessChecker").check(a,c,function(a,b){var c=a.getPoint0(),d=a.getPoint1(),j=b.getPoint0(),l=b.getPoint1();switch(!0){case void 0===c&&void 0===d&&void 0===j&&void 0===l:return!0;case void 0===c||void 0===d||void 0===j||void 0===l:return!1;default:return c=c.getX(),d=d.getX(),j=j.getX(),l=l.getX(),c==j&&d==l||c==l&&d==j}})};b.DiagramFrameworkFactory.registerClass("Primitive1SegmentCorrectnessChecker",a)})(k);(function(b){b.DiagramFrameworkFactory.registerClass("CoordinateSystem2",
function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("CoordinateSystem1"));a._NAME="CoordinateSystem2";var d=a.init,c,e,f=1,g=[],h=[],j;a.setYResolutionPeriodFactor=function(a){f=a};a.init=function(b,f,p){d(b,f,p);b=a.getResolutionConstantsByIndex(1);c=b.resolutionInclude;e=b.resolutionPeriod;g=b.resolutionAperiodicValues.concat();h=b.resolutionAperiodicExcludedValues.concat();j=a.getLimitsConstantsByIndex(1,e,g,l).concat();return a};a.resolveCartesianYToResolutionAndLimits=
function(b,c){return a.resolveCartesianYToLimits(l(b,c))};var l=function(b,d){return a.resolveCartesianValueToResolutionByIndex(1,b,d,c,e*f,g,h)};a.resolveCartesianYToLimits=function(b){return a.resolveCartesianValueToLimits(b,j)};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="Primitive2";d=a.init;a.init=function(b,e,f){d(b,e,f);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Space2",
function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Space"));a._NAME="Space2";var d=a.init,c=null;a.init=function(b,f){d(b);c=f;return a};a.getAllPoints=function(){var b,c,d,h;c=[];h=a.getPrimitives();for(b in h)h.hasOwnProperty(b)&&(d=h[b],"Point"===d._TYPE&&c.push(d));return c};a.getUsedPoints=function(){var b,c,d,h;h=[];d=a.getAllPoints();for(b=0;b<d.length;b+=1)c=d[b],c.isUsed()&&h.push(c);return h};a.getAllSegments=function(){};a.getUsedSegments=function(){};a.getUnusedSegments=
function(){};a.invalidateGroup=function(b){a.trigger("GROUP_INVALIDATED",b)};a.invalidateAllPrimitives=function(){var b=a.getPrimitives(),c;for(c in b)b.hasOwnProperty(c)&&b[c].invalidate();a.trigger("SPACE_INVALIDATED")};a.addToRegistry=function(a,b){c.registerNodeById(a,b)};a.addToClientVariableRegistry=function(a,b){c.getClientVariableRegistry().addClientVariableCreateValueChangedHandler(a,b)};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2CatmullRom",function(){var a,
d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PiecewiseBezierCurve"));a._NAME="Primitive2CatmullRom";a._TYPE="Primitive2CatmullRom";d=a.init;a.init=function(b,e,f,g){d(b,e,f,g?g:a);return a};a.onPrimitiveInvalidated=function(){a.invalidate()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2Circle",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="Primitive2Circle";a._TYPE="Circle";var c,
e,f;d=a.init;a.setCenterPoint=function(b){c&&h(c);g(b);c=b;a.invalidate()};a.getCenterPoint=function(){return c};a.setPointOnCircle=function(b){e&&h(e);g(b);e=b;a.invalidate()};a.getPointOnCircle=function(){return e};a.getRadius=function(){isNaN(f)&&(f=n(c,e));return f};a.getArea=function(){return Math.PI*Math.pow(a.getRadius(),2)};a.getCircumference=function(){return 2*Math.PI*a.getRadius()};var g=function(b){b.bind("PRIMITIVE_INVALIDATED",j);b.bind("PRIMITIVE_MOVE_STARTED",l);b.bind("PRIMITIVE_MOVE_STOPPED",
m);a.addDescendant(b);a.setIsFree(a.getIsFree()&&b.getIsFree())},h=function(b){b.unbind("PRIMITIVE_INVALIDATED",j);b.unbind("PRIMITIVE_MOVE_STARTED",l);b.unbind("PRIMITIVE_MOVE_STOPPED",m);a.removeDescendant(b)};a.hasMoved=function(){return a.getHasMoved()};var j=function(){f=NaN;a.setHasMoved(!0);a.invalidate()},l=function(){a.startMove()},m=function(){a.stopMove()},n=function(a,b){var c=a.getX()-b.getX(),d=a.getY()-b.getY();return Math.sqrt(c*c+d*d)};a.init=function(b,c,e){d(b,c,e);return a};a.isUsed=
function(){return c.isUsed()};a.hasPoint=function(a){return c===a||e===a};a.isOnCircle=function(d){return b.BasicMathToolkit.equal(a.getRadius(),n(c,d))};a.move=function(b,d,f,g){f=c.move(c.getX()+b,c.getY()+d,NaN,g)&&!0;f=e.move(e.getX()+b,e.getY()+d,NaN,g)&&f;a.invalidate();return f};a.remove=function(){c.remove();e.remove()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2Line",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitiveLine"));
a._NAME="Primitive2Line";var d=a.init;a.init=function(b,e,f){d(b,e,f);a.setIsFree(!1);return a};a.getSlope=function(){};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2NPointCurve",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitivePointCollection"));a._NAME="Primitive2NPointCurve";a._TYPE="Primitive2NPointCurve";d=a.init;var c=[];a.setIsRigid=function(){};a.addControlPoint=function(b){c.push(b);a.addPoint(b)};a.getControlPoints=
function(){return c};a.init=function(b,c,g,h){d(b,c,g,h);return a};a.hasMoved=function(){return a.getHasMoved()};a.onPrimitiveInvalidated=function(){a.setHasMoved(!0);a.invalidate()};a.updateByQDelta=function(b,c){a.setIsCorrect(c["@correct-as-submitted"]);a.getSpace().invalidate()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2Parabola",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="Primitive2Parabola";a._TYPE=
"Parabola";a.DOMAIN_X="x";a.DOMAIN_Y="y";var c,e,f,g,h;d=a.init;a.setVertex=function(b){e&&l(e);j(b);e=b;a.invalidate()};a.getVertex=function(){return e};a.setPointOnParabola=function(b){f&&l(f);j(b);f=b;a.invalidate()};a.getPointOnParabola=function(){return f};a.getDomain=function(){return g};a.setIsMoving=function(a){h=a};a.getIsMoving=function(){return h};var j=function(b){b.bind("PRIMITIVE_INVALIDATED",c.onPrimitiveInvalidated);b.bind("PRIMITIVE_MOVE_STARTED",m);b.bind("PRIMITIVE_MOVE_STOPPED",
n);a.addDescendant(b);a.setIsFree(a.getIsFree()&&b.getIsFree())},l=function(b){b.unbind("PRIMITIVE_INVALIDATED",c.onPrimitiveInvalidated);b.unbind("PRIMITIVE_MOVE_STARTED",m);b.unbind("PRIMITIVE_MOVE_STOPPED",n);a.removeDescendant(b)},m=function(){a.startMove()},n=function(){a.stopMove()};a.init=function(b,e,f,j,h){d(b,e,f);c=!h?a:h;g=j;return a};a.isUsed=function(){return e.isUsed()&&f.isUsed()};a.hasPoint=function(a){return e===a||f===a};a.move=function(b,c,d,g){h=!0;d=e.move(e.getX()+b,e.getY()+
c,NaN,g)&&!0;d=f.move(f.getX()+b,f.getY()+c,NaN,g)&&d;h=!1;a.invalidate();return d};a.remove=function(){e.remove();f.remove()};a.onPrimitiveInvalidated=function(){};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2ParabolaWithDomainX",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2Parabola"));a._NAME="Primitive2ParabolaWithDomainX";a._TYPE="ParabolaWithDomainX";d=a.init;a.init=function(b,e,f){d(b,e,f,a.DOMAIN_X,a);return a};
a.calculate=function(b){var d=a.getVertex(),f=d.getX(),d=d.getY(),g=a.getPointOnParabola(),h=g.getX();return(g.getY()-d)/Math.pow(h-f,2)*Math.pow(b-f,2)+d};a.onPrimitiveInvalidated=function(c){if(!a.getIsMoving()){var c=c.target,d=a.getVertex(),f=a.getPointOnParabola();if(b.BasicMathToolkit.equal(d.getX(),f.getX())){c.revertModelCartesionCoordinates();return}}a.invalidate()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2ParabolaWithDomainY",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2Parabola"));
a._NAME="Primitive2ParabolaWithDomainY";a._TYPE="ParabolaWithDomainY";d=a.init;a.init=function(b,e,f){d(b,e,f,a.DOMAIN_Y,a);return a};a.calculate=function(b){var d=a.getVertex(),f=d.getX(),d=d.getY(),g=a.getPointOnParabola(),h=g.getX(),g=g.getY();return(h-f)/Math.pow(g-d,2)*Math.pow(b-d,2)+f};a.onPrimitiveInvalidated=function(c){if(!a.getIsMoving()){var c=c.target,d=a.getVertex(),f=a.getPointOnParabola();if(b.BasicMathToolkit.equal(d.getY(),f.getY())){c.revertModelCartesionCoordinates();return}}a.invalidate()};
return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PiecewiseBezierCurve",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitivePointCollection"));a._NAME="Primitive2PiecewiseBezierCurve";a._TYPE="Primitive2PiecewiseBezierCurve";d=a.init;a.setIsRigid=function(){};a.init=function(b,e,f,g){d(b,e,f,g);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PiecewiseBezierCurve1",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PiecewiseBezierCurve"));
a._NAME="Primitive2PiecewiseBezierCurve1";a._TYPE="Primitive2PiecewiseBezierCurve1";d=a.init;a.init=function(b,e,f){d(b,e,f,a);return a};a.onPrimitiveInvalidated=function(){a.invalidate()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PiecewiseBezierCurve2",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PiecewiseBezierCurve"));a._NAME="Primitive2PiecewiseBezierCurve2";a._TYPE="Primitive2PiecewiseBezierCurve2";d=a.init;a.init=
function(b,e,f){d(b,e,f,a);return a};a.onPrimitiveInvalidated=function(){a.invalidate()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PiecewiseBezierCurve3",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PiecewiseBezierCurve"));a._NAME="Primitive2PiecewiseBezierCurve3";a._TYPE="Primitive2PiecewiseBezierCurve3";d=a.init;a.init=function(b,e,f,g){d(b,e,f,g?g:a);return a};a.onPrimitiveInvalidated=function(){a.invalidate()};
return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2Point",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitivePoint"));a._NAME="Primitive2Point";a._TYPE="Point";var d=a.init;a.init=function(b,e,f){d(b,e,f);return a};a.isUsed=function(){var c=a.getX(),d=a.getY();return b.BasicMathToolkit.isNumber(c)&&b.BasicMathToolkit.isNumber(d)};a.isFinite=function(){var b=a.getX(),d=a.getY();return isFinite(b)&&isFinite(d)};a.add=function(b,d){a.setX(b);
a.setY(d);a.invalidate()};a.remove=function(){a.setX(NaN);a.setY(NaN);a.invalidate()};a.equals=function(b){var d=a.getX(),f=a.getY(),g=b.getX(),b=b.getY();return d===g&&f===b};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PointDerived",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PointFree"));a._NAME="Primitive2PointDerived";var d=a.init;a.init=function(b,e,f){d(b,e,f);a.setIsDerived(!0);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PointFixed",
function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2Point"));a._NAME="Primitive2PointFixed";var d=a.init;a.init=function(b,e,f){d(b,e,f);a.setIsFree(!1);a.setCanGenerateQDelta(!1);return a};a.generateClientQDelta=function(){if(!a.canGenerateQDelta())return null;var b=a.getInitialX(),d=a.getInitialY(),f=a.getX(),g=a.getY();if(isNaN(b)&&isNaN(f)&&isNaN(d)&&isNaN(g))return null;var f=a.getSpaceCoordinateSystem().resolveCartesianXToLimits(f),g=a.getSpaceCoordinateSystem().resolveCartesianYToLimits(g),
h=[];b!==f&&(b={replace:{"@ref":a.getXId(),x:{"@id":a.getXId(),value:{$:isNaN(f)?"NaN":f}}}},h.push(b));d!==g&&(d={replace:{"@ref":a.getYId(),y:{"@id":a.getYId(),value:{$:isNaN(g)?"NaN":g}}}},h.push(d));return 0==h.length?null:h};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PointFree",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PointFixed"));a._NAME="Primitive2PointFree";var d=a.init,c=!1,e=null;a.init=function(b,c,e){d(b,
c,e);a.setIsFree(!0);a.setCanGenerateQDelta(!0);return a};a.move=function(b,c,d,e,l,m){e=void 0===e?!0:e;l=void 0===l?!0:l;a.isDerived()&&(e=!1);var d=a.getX(),n=a.getY(),p=b,q=c;e&&(e=a.getSpaceCoordinateSystem(),p=e.resolveCartesianXToResolutionAndLimits(b,l),q=e.resolveCartesianYToResolutionAndLimits(c,l));if(!0===m||a.allowMove(d,n,p,q))return a.setHasMoved(!0),a.setX(p),a.setY(q),d!==a.getX()||n!==a.getY()?(a.invalidate(),!0):!1};a.allowMove=function(){return!0};a.hasMoved=function(){return a.getHasMoved()};
a.updateByQDelta=function(b,c){if(void 0!==c["@correct-as-submitted"])a.setIsCorrect(c["@correct-as-submitted"]);else{if(void 0!==c.x){var d=parseFloat(c.x.value.$),d=a.getSpaceCoordinateSystem().resolveCartesianXToLimits(d);a.move(d,a.getY(),a.getZ(),!1)}void 0!==c.y&&(d=parseFloat(c.y.value.$),d=a.getSpaceCoordinateSystem().resolveCartesianYToLimits(d),a.move(a.getX(),d,a.getZ(),!1))}a.getSpace().invalidate()};a.createValueChangedHandler=function(b){return function(c){var d=null,d=null;"x"===b?
(d=a.getXId(),d={replace:{"@ref":d,x:{"@id":d,value:{$:c}}}}):(d=a.getYId(),d={replace:{"@ref":d,y:{"@id":d,value:{$:c}}}});a.updateByQDelta("replace",d.replace)}};a.isConnectedPoint=function(){return c};a.setIsConnectedPoint=function(a){c=a};a.getConnectedPoints=function(){return e};a.setConnectedPoints=function(a){e=a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2Polygon",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitivePointCollection"));
a._NAME="Primitive2Polygon";a._TYPE="Polygon";d=a.init;var c=[],e=[];a.setExteriorCycle=function(a){c=a};a.getExteriorCycle=function(){return c};a.setInteriorCycles=function(a){e=a};a.getInteriorCycles=function(){return e};a.setIsRigid=function(){};a.init=function(b,c,e,f){c?d(b,e,f,c):d(b,e,f,a);return a};a.hasMoved=function(){return a.getHasMoved()};a.onPrimitiveInvalidated=function(){a.setHasMoved(!0);a.invalidate()};a.getArea=function(){return a.getAreaWithPoints(a.getPoints())};a.getAreaWithPoints=
function(a){for(var b=a.length,c=0,d=0;d<b;d++)var e=d===b-1?0:d+1,c=c+(a[d].getX()*a[e].getY()-a[d].getY()*a[e].getX());return Math.abs(c/2)};a.getPerimeter=function(){for(var c=a.getPoints(),d=c.length,e=0,f=1;f<d;f++)if(e+=b.CoordinateGeometryToolkit.distancePointPoint({x:c[f-1].getX(),y:c[f-1].getY()},{x:c[f].getX(),y:c[f].getY()}),f===d-1){e+=b.CoordinateGeometryToolkit.distancePointPoint({x:c[f].getX(),y:c[f].getY()},{x:c[0].getX(),y:c[0].getY()});break}return e};a.updateByQDelta=function(b,
c){if(void 0!==c["@correct-as-submitted"]){var d=c["@correct-as-submitted"];a.setIsCorrect(d);for(var e=a.getPoints(),f=0;f<e.length;f++)e[f].setIsCorrect(d);a.getSpace().invalidate()}};var f=a.addPoint;a.addPoint=function(b){b.allowMove=a.allowMove;f(b)};a.allowMove=function(b,c,d,e){for(var f=a.getPoints().slice(0),n=0;n<f.length;n++){var p=f[n];p.getX()===b&&p.getY()===c&&(f[n]={getX:function(){return d},getY:function(){return e}})}return 0!==a.getAreaWithPoints(f)};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PolynomialCurve",
function(){var a,d,c,e;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitivePointCollection"));a._NAME="Primitive2PolynomialCurve";d=a.init;c=a.invalidate;var f,g=[],h;a.setIsRigid=function(){};a.getDomain=function(){return h};a.getCoefficients=function(){return g};a.getDegree=function(){return f};a.init=function(b,c,g,j,q,k){e=k;f=j;d(b,c,g,k);h=!q?"x":q.toLowerCase();return a};a.invalidate=function(){a.updatePolynomial();c()};a.updatePolynomial=function(){var c=a.getPoints(),d=
c.length;if(!(d<f+1)){for(var e,j=[],h=[],k=0;k<d;k++){e=c[k];var s=e.getX(),o=e.getY();e=[];var u=f,t;"y"===a.getDomain()?t=o:(t=s,s=o);for(;0<=u;)e.push(Math.pow(t,u--));j.push(e);h.push(s)}b.BasicMathToolkit.gaussianEliminationWithPartialPivots(j,h);for(c=0;c<=f;c++)g[c]=0;for(d=f;0<=d;){e=j[d];k=0;for(c=d+1;c<=f;c++)k+=g[c]*e[c];g[d]=(h[d]-k)/e[d];d--}}};a.onPrimitiveInvalidated=function(b){var c=a.getPoints(),d=c.length;if(!a.getIsMoving()&&0<d)for(var b=b.target,f=0;f<d;f++){var g=c[f];if(g.getName()!==
b.getName()&&("x"===h&&g.getX()===b.getX()||"y"===h&&g.getY()===b.getY())){b.revertModelCartesionCoordinates();return}}c.sort(j);e.invalidate()};var j=function(a,b){return"y"===h?a.getY()-b.getY():a.getX()-b.getX()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PolynomialCurve2",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PolynomialCurve"));a._NAME="Primitive2PolynomialCurve2";a._TYPE="Primitive2PolynomialCurve2";d=a.init;
a.getA=function(){var b=a.getCoefficients();return 0<b.length?b[0]:NaN};a.getB=function(){var b=a.getCoefficients();return 1<b.length?b[1]:NaN};a.init=function(b,e,f,g){d(b,e,f,1,g,a);return a};a.onPrimitiveInvalidated=function(){a.invalidate()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PolynomialCurve3",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PolynomialCurve"));a._NAME="Primitive2PolynomialCurve3";a._TYPE="Primitive2PolynomialCurve3";
d=a.init;a.getA=function(){var b=a.getCoefficients();return 0<b.length?b[0]:NaN};a.getB=function(){var b=a.getCoefficients();return 1<b.length?b[1]:NaN};a.getC=function(){var b=a.getCoefficients();return 2<b.length?b[2]:NaN};a.init=function(b,e,f,g){d(b,e,f,2,g,a);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2PolynomialCurve4",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PolynomialCurve"));a._NAME="Primitive2PolynomialCurve4";
a._TYPE="Primitive2PolynomialCurve4";d=a.init;a.getA=function(){var b=a.getCoefficients();return 0<b.length?b[0]:NaN};a.getB=function(){var b=a.getCoefficients();return 1<b.length?b[1]:NaN};a.getC=function(){var b=a.getCoefficients();return 2<b.length?b[2]:NaN};a.getD=function(){var b=a.getCoefficients();return 3<b.length?b[3]:NaN};a.init=function(b,e,f,g){d(b,e,f,3,g,a);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2Quadrilateral",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2Polygon"));
a._NAME="Primitive2Quadrilateral";a._TYPE="Quadrilateral";d=a.init;a.getPoint0=function(){return a.getPoints()[0]};a.setPoint0=function(b){a.addPointAt(b,0)};a.getPoint1=function(){return a.getPoints()[1]};a.setPoint1=function(b){a.addPointAt(b,1)};a.getPoint2=function(){return a.getPoints()[2]};a.setPoint2=function(b){a.addPointAt(b,2)};a.getPoint3=function(){return a.getPoints()[3]};a.setPoint3=function(b){a.addPointAt(b,3)};a.init=function(b,e,f,g){e?d(b,e,f,g):d(b,a,f,g);return a};return a})})(k);
(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2Rectangle",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2Quadrilateral"));a._NAME="Primitive2Rectangle";a._TYPE="Rectangle";var d=a.init;a.init=function(b,e,f){d(b,a,e,f);return a};a.createFunctionControlPointMove=function(b,d,f){return function(g,h,j,l,m,n){var m=b.getX(),p=b.getY(),q=g,j=h;l&&(l=a.getSpaceCoordinateSystem(),q=l.resolveCartesianXToResolutionAndLimits(g,!0),j=l.resolveCartesianYToResolutionAndLimits(h,
!0));if(n)return g=q,h=j,d.setX(g),f.setY(h),b.setX(g),b.setY(h),d.invalidate(),f.invalidate(),b.invalidate(),!0;if(m===q&&p===j||q===f.getX()||j===d.getY())return!1;g=q;h=j;d.setX(g);f.setY(h);b.setX(g);b.setY(h);d.invalidate();f.invalidate();b.invalidate();return!0}};a.move=function(b,d,f,g){var f=!0,h=a.getPoints(),j=h[0],f=j.move(j.getX()+b,j.getY()+d,NaN,g,!1,!0)&&f,h=h[2];return f=h.move(h.getX()+b,h.getY()+d,NaN,g,!1,!0)&&f};a.updateByQDelta=function(b,d){if(void 0!==d["@correct-as-submitted"]){var f=
d["@correct-as-submitted"];a.setIsCorrect(f);for(var g=a.getPoints(),h=0;h<g.length;h++)g[h].setIsCorrect(f);a.getSpace().invalidate()}};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2Triangle",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2Polygon"));a._NAME="Primitive2Triangle";a._TYPE="Triangle";d=a.init;a.getPoint0=function(){return a.getPoints()[0]};a.setPoint0=function(b){a.addPointAt(b,0)};a.getPoint1=function(){return a.getPoints()[1]};
a.setPoint1=function(b){a.addPointAt(b,1)};a.getPoint2=function(){return a.getPoints()[2]};a.setPoint2=function(b){a.addPointAt(b,2)};a.init=function(b,e,f){d(b,a,e,f);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2Function",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="Primitive2Function";a._TYPE="Function";var c,e,f;d=a.init;a.setPlot=function(a){f=a};a.getPlot=function(){return f};a.setRule=function(a){c=
a};a.getRule=function(){return c};a.setViewportInterval=function(a){e=a};a.getViewportInterval=function(){return e};a.getViewportIntervalTruncatedByXBounds=function(){var b=a.getPlot().getIndependentVarBounds(),c=a.getPlot().getIndependentVar(),d=a.getViewportInterval(),e,f;"x"===c?(e=b?b[0]:Math.MIN_VALUE,f=b?b[1]:Math.MAX_VALUE):"y"===c&&(e=b?b[0]:Math.MIN_VALUE,f=b?b[1]:Math.MAX_VALUE);b=[];for(c=0;c<d.length;c++){var n=d[c],n={startValue:Math.max(e,n.startValue),endValue:Math.min(f,n.endValue)};
b.push(n)}return b};a.init=function(b,c,e){d(b,c,e);return a};a.isUsed=function(){return!0};a.move=function(){a.invalidate();return!0};a.remove=function(){a.invalidate()};a.compute=function(a){return!c?NaN:c(a.independentVar)};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Primitive2Plot",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="Primitive2Plot";a._TYPE=b.GraphConstants.ELEMENT_TYPE_PLOT;var c,e,f=[],g,h,j=[],l;d=a.init;
a.setIndependentVar=function(a){c=a};a.getIndependentVar=function(){return c};a.setIndependentVarName=function(a){e=a};a.getIndependentVarName=function(){return e};a.setIndependentVarBounds=function(a){f=a};a.getIndependentVarBounds=function(){return f};a.setDependentVar=function(a){g=a};a.getDependentVar=function(){return g};a.setDependentVarName=function(a){h=a};a.getDependentVarName=function(){return h};a.setDependentVarBounds=function(a){j=a};a.getDependentVarBounds=function(){return j};a.setFunction=
function(a){l=a};a.getFunction=function(){return l};a.init=function(b,c,e){d(b,c,e);return a};a.isUsed=function(){return!0};a.move=function(){a.invalidate();return!0};a.remove=function(){a.invalidate()};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("FunctionCalculation",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("FunctionExpressionElement")),d;a.setEquation=function(b){d=b;return a};a.getEquation=function(){return d};a.init=function(){return a};
a.compute=function(a){return d(a.independentVar)};a.computeDerivative=function(){return 1};a.derivative=function(){return b.DiagramFrameworkFactory.newInstanceByName("FunctionValue").init().setValue(1)};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("FunctionExpressionElement",function(){var a={init:function(){return a},hasVariable:function(){return!1},compute:function(){}};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("FunctionOperator",function(){var a=
Object.create(b.DiagramFrameworkFactory.newInstanceByName("FunctionExpressionElement"));a.OPERATOR_TYPE_UNARY="Unary";a.OPERATOR_TYPE_BINARY="Binary";var d,c;a.getOperatorType=function(){return d};a.setOperands=function(a){c=a};a.getOperands=function(){return c};a.init=function(b){d=b;return a};a.hasVariable=function(){for(var a=!1,b=0;b<c.length;b++)a=a||c[b].hasVariable();return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("FunctionOperatorAddition",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("FunctionOperator")),
d=a.init;a.init=function(){d(a.OPERATOR_TYPE_BINARY);return a};a.compute=function(b){var d=a.getOperands();return 2>d.length?NaN:d[0].compute(b)+d[1].compute(b)};a.computeDerivative=function(b){var d=a.getOperands();return 2>d.length?NaN:d[0].computeDerivative(b)+d[1].computeDerivative(b)};a.derivative=function(){var a=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorAddition").init(),d=[];d.push(d[0].derivative());d.push(d[1].derivative());a.setOperands(d);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("FunctionOperatorCosine",
function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("FunctionOperator")),d=a.init;a.init=function(){d(a.OPERATOR_TYPE_BINARY);return a};a.compute=function(b){var d=a.getOperands();return 1>d.length?NaN:Math.cos(d[0].compute(b))};a.computeDerivative=function(b){var d=a.getOperands();return 1>d.length?NaN:-Math.sin(d[0].compute(b))*d[0].computeDerivative(b)};a.derivative=function(){var a=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorProduct").init(),d=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorSine").init(),
f=[];f.push(f[0]);d.setOperands(f);var g=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorProduct").init(),f=[];f.push(b.DiagramFrameworkFactory.newInstanceByName("FunctionValue").init().setValue(-1));f.push(d);g.setOperands(f);f.push(g);f.push(f[1].derivative());a.setOperands(f);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("FunctionOperatorLog",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("FunctionOperator")),d=a.init;a.init=
function(){d(a.OPERATOR_TYPE_UNARY);return a};a.compute=function(b){var d=a.getOperands();return 1>d.length?NaN:Math.log(d[0].compute(b))/Math.log(10)};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("FunctionOperatorPower",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("FunctionOperator")),d=a.init,c,e;a.setBase=function(a){c=a};a.getBase=function(){return c};a.setExponent=function(a){e=a};a.getExponent=function(){return e};a.init=function(){d(a.OPERATOR_TYPE_BINARY);
return a};a.compute=function(a){return!c||!e?NaN:Math.pow(c.compute(a),e.compute(a))};a.hasVariable=function(){return c&&c.hasVariable()||e&&e.hasVariable()};a.computeDerivative=function(d){if(!c||!e)return NaN;if(!a.hasVariable())return 0;var g;b.BasicMathToolkit.equal(c.compute(d),Math.E)&&(g=c.compute(d)*e.computeDerivative(d));c.hasVariable()&&!e.hasVariable()?g=e.compute(d)*Math.pow(c.compute(d),e.compute(d)-1)*c.computeDerivative(d):!c.hasVariable()&&e.hasVariable()&&(g=a.compute(d)*Math.log(c.compute(d))*
e.computeDerivative(d));return g};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("FunctionOperatorProduct",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("FunctionOperator")),d=a.init;a.init=function(){d(a.OPERATOR_TYPE_BINARY);return a};a.compute=function(b){var d=a.getOperands();return 2>d.length?NaN:d[0].compute(b)*d[1].compute(b)};a.computeDerivative=function(b){var d=a.getOperands();return 2>d.length?NaN:d[0].computeDerivative(b)*d[1].compute(b)+
d[0].compute(b)*d[1].computeDerivative(b)};a.derivative=function(){var a=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorAddition").init(),d=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorProduct").init(),f=[];f.push(f[0].derivative());f.push(f[1]);d.setOperands(f);var g=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorProduct").init(),f=[];f.push(f[0]);f.push(f[1].derivative());g.setOperands(f);f=[];f.push(d);f.push(g);a.setOperands(f);return a};return a})})(k);
(function(b){b.DiagramFrameworkFactory.registerClass("FunctionOperatorSine",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("FunctionOperator")),d=a.init;a.init=function(){d(a.OPERATOR_TYPE_BINARY);return a};a.compute=function(b){var d=a.getOperands();return 1>d.length?NaN:Math.sin(d[0].compute(b))};a.computeDerivative=function(b){var d=a.getOperands();return 1>d.length?NaN:Math.cos(d[0].compute(b))*d[0].computeDerivative(b)};a.derivative=function(){var a=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorProduct").init(),
d=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorCosine").init(),f=[];f.push(f[0]);d.setOperands(f);f.push(d);f.push(f[1].derivative());a.setOperands(f);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("FunctionValue",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("FunctionExpressionElement")),d;a.setValue=function(b){d=b;return a};a.getValue=function(){return d};a.init=function(){return a};a.compute=function(){return d};a.computeDerivative=
function(){return 0};a.derivative=function(){return b.DiagramFrameworkFactory.newInstanceByName("FunctionValue").init().setValue(0)};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("FunctionVariable",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("FunctionExpressionElement")),d;a.setVariable=function(b){d=b;return a};a.getVariable=function(){return d};a.init=function(){return a};a.hasVariable=function(){return!0};a.compute=function(a){return void 0!==
a[d]?a[d]:NaN};a.computeDerivative=function(){return 1};a.derivative=function(){return b.DiagramFrameworkFactory.newInstanceByName("FunctionValue").init().setValue(1)};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Interval",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));a.nodeName="Interval";a.parent=null;var d;a.getNumbers=function(){return d};a._parse=function(c,e,f){a.parent=f;d=b.jsonutil.executeForChild(e,"number",function(d){return b.DiagramFrameworkFactory.newInstanceByName("Number").init(c,
d,a)});0===d.length&&(e=b.DiagramFrameworkFactory.newInstanceByName("Number"),e.setValue(-Infinity),e.setIncluded(!1),d[0]=e);1===d.length&&(e=b.DiagramFrameworkFactory.newInstanceByName("Number"),e.setValue(Infinity),e.setIncluded(!1),d[1]=e)};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Limits",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));a.nodeName="Limits";a.parent=null;var d,c="x";a.getNumber0=function(){return d.getNumbers()[0]};
a.getNumber1=function(){return d.getNumbers()[1]};a.getCoordinate=function(){return c};a._parse=function(e,f,g){a.parent=g;c=f["@coordinate"];f.hasOwnProperty("interval")&&(d=b.DiagramFrameworkFactory.newInstanceByName("Interval").init(e,f.interval,a))};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Number",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));a.nodeName="Number";a.parent=null;var d,c,e,f;a.getValue=function(){return d};a.setValue=
function(a){d=a};a.getIncluded=function(){return c};a.setIncluded=function(a){c=a};a.getLabel=function(){return e};a.setLabel=function(a){e=a};a.getScale=function(){return f};a._parse=function(g,h,j){a.parent=j;d=b.jsonutil.executeForFirstChild(h,"value",function(a){a=b.jsonutil.parseCalcValueForChild(a).value.toString().replace(",","");f=b.BasicMathToolkit.computeScale(a);return parseFloat(a)});c=b.jsonutil.executeForFirstChild(h,"included",function(a){return b.jsonutil.parseCalcValueForChild(a).value});
e=b.jsonutil.executeForFirstChild(h,"label",function(a){return b.jsonutil.parseCalcValueForChild(a).value});return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("AperiodicInterval",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));a.nodeName="AperiodicInterval";a.parent=null;var d=[],c=0,e=[];a.getNumbers=function(){return d};a.getExcludedNumbers=function(){return e};a.getScale=function(){return c};a._parse=function(f,g,h){a.parent=
h;d=[];for(var g=b.jsonutil.getChildren(g),h=0,j=g.length;h<j;h++){var l=g[h].value;switch(g[h].name){case "number":l=b.DiagramFrameworkFactory.newInstanceByName("Number").init(f,l,a),!1===l.getIncluded()?e.push(l):d.push(l),c=Math.max(c,l.getScale())}}};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("PeriodicInterval",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));a.nodeName="PeriodicInterval";a.parent=null;var d=NaN,c=1,e="",f=0;a.getInclude=
function(){return d};a.getPeriod=function(){return c};a.getPeriodString=function(){return e};a.getScale=function(){return f};a._parse=function(g,h,j){a.parent=j;g=b.jsonutil.getChildren(h);h=0;for(j=g.length;h<j;h++){var l=g[h].name,m=b.jsonutil.parseCalcValueForChild(g[h].value).value;switch(l){case "include":l=m.toString().replace(",","");d=parseFloat(l);f=Math.max(f,l);break;case "period":e=m.toString().replace(",",""),-1!==e.indexOf("/")&&(l=e.split("/"),e=(l[0]/l[1]).toString()),c=parseFloat(e),
f=Math.max(f,b.BasicMathToolkit.computeScale(e))}}};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Resolution",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));a.nodeName="Resolution";var d=a.parent=null,c=null,e="x";a.getPeriodicInterval=function(){return d};a.getAperiodicInterval=function(){return c};a.getCoordinate=function(){return e};a._parse=function(f,g,h){a.parent=h;e=g["@coordinate"];for(var g=b.jsonutil.getChildren(g),h=0,j=
g.length;h<j;h++){var l=g[h].value;switch(g[h].name){case "periodic":d=b.DiagramFrameworkFactory.newInstanceByName("PeriodicInterval").init(f,l,a);break;case "aperiodic":c=b.DiagramFrameworkFactory.newInstanceByName("AperiodicInterval").init(f,l,a)}}};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("BasePresenter",function(){return{init:function(a,b,c,e){a=this._init(a,b,c,e);void 0!==a._bindModel&&a._bindModel();a._createView(e);void 0!==a._bindCommandBus&&a._bindCommandBus();
void 0!==a._bindView&&a._bindView();void 0!==a._createChildPresenters&&a._createChildPresenters();void 0!==a._initView&&a._initView();return a},createView:function(a){return b.q4viewfactory.newInstanceByName(a.nodeName+"_view")}}})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("base_view",function(){var a={init:function(a,b){void 0!==this._bindModel&&this._bindModel(a);this._render(a,b);return this},refreshCorrectness:function(a){a.graded&&void 0!==this._refreshCorrectness&&this._refreshCorrectness(a)},
refreshClientSelection:function(a){void 0!==this._refreshClientSelection&&this._refreshClientSelection(a)},bindViewAction:function(d,c){b(a).bind(d,c)},fireViewAction:function(d){for(var c=[],e=0;e<arguments.length;e++)0!=e&&c.push(arguments[e]);b(a).triggerHandler(d,c)}};return a})})(k);(function(b){b.extend({DiagramFrameworkViewConstants:new function(){var a={TYPE_POINT:"point",TYPE_LINE:"line",TYPE_POLYGON:"polygon",TYPE_AREA:"area",TYPE_GRID:"grid",TYPE_TOOLTIP:"tooltip",TYPE_CORRECTNESS:"correctness",
TYPE_LABEL:"label",PLANE_TOOLTIP:"plane_tooltip",PLANE_CORRECTNESS:"plane_correctness",PLANE_LABEL:"plane_label",PLANE_POINT:"plane_point",PLANE_LINE:"plane_line",PLANE_AREA:"plane_area",PLANE_GRID:"plane_grid",HITAREAPLANE_POINT:"hitareaplane_point",HITAREAPLANE_LINE:"hitareaplane_line",HITAREAPLANE_AREA:"hitareaplane_area",HITAREAPLANE_GRID:"hitareaplane_grid",HITAREA_TYPE_DECORATION:"decoration",HITAREA_TYPE_MAIN:"main",OFFSCREEN_COORDINATE:-100,POINT_RADIUS:6,POINT_STROKE_WIDTH:2,RECT_POINT_WIDTH:13,
RECT_POINT_HEIGHT:13,RECT_STROKE_WIDTH:3,TRIANGLE_POINT_WIDTH:14,TRIANGLE_STROKE_WIDTH:2,PLUS_POINT_RADIUS:14,PLUS_POINT_RADIUS_HIT_AREA_ADDITION:1,SQUARE_POINT_WIDTH:10,DIAMOND_POINT_WIDTH:10,DASH_POINT_WIDTH:14,DASH_POINT_HEIGHT:6,STAR_POINT_WIDTH:14,SEGMENT_STROKE_WIDTH:4,POINT_RADIUS_SMALL:4,POINT_STROKE_WIDTH_SMALL:1,RECT_POINT_WIDTH_SMALL:4,RECT_POINT_HEIGHT_SMALL:4,RECT_STROKE_WIDTH_SMALL:1,TRIANGLE_POINT_WIDTH_SMALL:8,TRIANGLE_STROKE_WIDTH_SMALL:1,PLUS_POINT_RADIUS_SMALL:8,SQUARE_POINT_WIDTH_SMALL:6,
DIAMOND_POINT_WIDTH_SMALL:6,DASH_POINT_WIDTH_SMALL:9,DASH_POINT_HEIGHT_SMALL:4,STAR_POINT_WIDTH_SMALL:8,SEGMENT_STROKE_WIDTH_SMALL:2,TICK_TYPE_MAJOR:"major",TICK_TYPE_SEMIMAJOR:"semimajor",TICK_TYPE_MINOR:"minor"};a.TEXT_MEASUREMENT_NODE;a.DISPLAY_OBJECT_SIZE_LARGE="large";a.DISPLAY_OBJECT_SIZE_SMALL="small";a.INCORRECT_UNDERLAY_COLOR="#E04820";a.INCORRECT_UNDERLAY_OPACITY=0.2;a.INCORRECT_OVERLAY_COLOR="red";a.UNDERLAY_CIRCLE_SIZE_ADDITION=10;a.HITAREA_CIRCLE_SIZE_ADDITION=10;a.HITAREA_LINE_SIZE_ADDITION=
14;a.POINT_LABEL_OFFSET=17;a.DROPLINE_LABEL_OFFSET=6;a.CLIPRECT_SLACK=5;return a}})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("DiagramView",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("base_view")),d,c={};a.getHtmlNode=function(){return d};a.getViewBinder=function(){return c};a.init=function(a,c,g){void 0!==this._bindModel&&this._bindModel(a);b.template("DiagramViewtmpl",'<div class="q4-diagram-container" onselectstart="return false"><span class="q4-diagram"></span></div>');
d=b.tmpl("DiagramViewtmpl");d.appendTo(g.getHtmlNode());var h=b.DiagramFrameworkViewConstants;b.template("textmeasurementtmpl",'<div class="q4-textmeasurement"></div>');var j=b.tmpl("textmeasurementtmpl");j.hide();j.appendTo(document.body);h.TEXT_MEASUREMENT_NODE=j;this._render(a,c,g);return this};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("DisplayObject",function(){var a={nodeName:"DisplayObject"},b,c,e=!1,f,g=null,h=null;a.init=function(a,e){b=a;c=e};a.equals=function(b){return a.getId()===
b.getId()};a.getId=function(){return b};a.getCoordinateMapper=function(){return c};a.setGraphicStack=function(a){f=a;void 0!==this._bindGraphicStack&&this._bindGraphicStack(f)};a.getGraphicStack=function(){return f};a.setCurrentLayer=function(a){h=a};a.getCurrentLayer=function(){return h};a.setCurrentGroup=function(a){g=a};a.getCurrentGroup=function(){return g};a.getWidth=function(){return a.getGraphicStack().getWidth()};a.appearAbove=function(a){this.getGraphicStack().appearAbove(a.getGraphicStack())};
a.screenToDomainX=function(a){return c.screenToCartesianX(a)};a.screenToDomainY=function(a){return c.screenToCartesianY(a)};a.roundedScreenToDomainX=function(a){return c.roundedScreenToCartesianX(a)};a.roundedScreenToDomainY=function(a){return c.roundedScreenToCartesianY(a)};a.domainToScreenX=function(a){return c.cartesianToScreenX(a)};a.domainToScreenY=function(b){var d=a.screenToDomainY(c.getYMax()),e;b>d?(e=c.getYMax(),e+=c.unroundedCartesianDeltaToScreenYDelta(b-d)):e=c.cartesianToScreenY(b);
return e};a.getActualWidth=function(){return c.getActualWidth()};a.getActualHeight=function(){return c.getActualHeight()};a.isGhost=function(){return e};a.setIsGhost=function(a){e=a};return a})})(k);(function(b){b.extend({InteractiveEvents:new function(){return{DRAG_START_INITIATED:"interactive_drag_start",DRAG_INITIATED:"interactive_drag",DRAG_STOP_INITIATED:"interactive_drag_stop"}}})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("InteractiveObject",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("DisplayObject")),
d=a.init,c=null,e=null,f=null,g=!1,h=!1,j=null,l;a.nodeName="InteractiveObject";a.init=function(b,g,h,l,k,s){d(b,g);j=k;c=s;e=h;f=l;b=a.getDescription().getDecorations();a.setIsGhost("ghost"===b.appearance);return a};a.getStyle=function(){return j};a.getPaper=function(){return e};a.getPalette=function(){return f};a.getInGradedMode=function(){return l};a.updateDescription=function(b,d){c=b;(l=d)&&h&&a.showCorrectness()};a.getDescription=function(){return c};a.getGroupId=function(){return a.getDescription().getGroupId()};
a.getIsDraggable=function(){return a.getDescription().getIsDraggable()};a.getIsCorrect=function(){return a.getDescription().getIsCorrect()};a.getLabel=function(){return a.getDescription().getLabel()};a.getDecorations=function(){return a.getDescription().getDecorations()};a.getDecoration=function(b){return a.getDescription().getDecorations()[b]};a.isObjectInBounds=function(){return a.getDescription().getIsInBounds()};a.isHidden=function(){return g};a._bindGraphicStack=function(){a.bindEvent(b.GraphicStackEvents.GRAPHIC_DRAG_START,
a.onGraphicDragStart);a.bindEvent(b.GraphicStackEvents.GRAPHIC_DRAG,a.onGraphicDrag);a.bindEvent(b.GraphicStackEvents.GRAPHIC_DRAG_STOP,a.onGraphicDragStop)};a.bindEvent=function(c,d){b(a).bind(c,d)};a.triggerDragEvent=function(c,d,e){b(a).triggerHandler(c,[d,e])};a.render=function(){};a.onGraphicDragStart=function(c,d,e){a.getGraphicStack().setIsDragging(!0);a.showTooltip();a.hideCorrectness();a.isGhost()?(a.getCurrentLayer().getLayerStack().clearActiveGroup(),a.getCurrentGroup().focusBundle(a,!1)):
(a.getCurrentLayer().getLayerStack().clearActiveGroup(),a.getCurrentGroup().focusBundle(a,!0),a.getCurrentLayer().moveToFront(a,!1));a.getCurrentLayer().getLayerStack().setActiveGroup(a.getCurrentGroup());a.getIsDraggable()&&a.dispatchEvent(b.InteractiveEvents.DRAG_START_INITIATED,[d,e])};a.onGraphicDrag=function(c,d,e){a.getIsDraggable()&&a.dispatchEvent(b.InteractiveEvents.DRAG_INITIATED,[d,e])};a.onGraphicDragStop=function(c,d,e){a.getGraphicStack().setIsDragging(!1);a.getGraphicStack().hideTooltip();
a.showCorrectness();a.isGhost()?a.getCurrentGroup().unfocusBundle(a,!1):(a.getCurrentGroup().unfocusBundle(a,!0),a.getCurrentLayer().moveToFront(a));a.getIsDraggable()&&a.dispatchEvent(b.InteractiveEvents.DRAG_STOP_INITIATED,[d,e])};a.dispatchEvent=function(c,d){b(a).triggerHandler(c,d)};a.move=function(){};a.hide=function(){g=!0;a.hideCorrectness();a.getGraphicStack().hide()};a.show=function(){g&&(g=!1,l&&a.showCorrectness(),a.getGraphicStack().show())};a.showOnGrid=function(){g=!1;a.showCorrectness();
a.getGraphicStack().showOnGrid()};a.hideControlLevers=function(){a.getGraphicStack().getDisplay().hideControlLevers()};a.showTooltip=function(){a.isObjectInBounds()?a.getGraphicStack().showTooltip():a.getGraphicStack().hideTooltip()};a.showCorrectness=function(){h=!0;null===a.getIsCorrect()||a.getIsCorrect()?a.getGraphicStack().getDisplay().showCorrect():a.getGraphicStack().getDisplay().showIncorrect()};a.hideCorrectness=function(){h=!1;a.getGraphicStack().getDisplay().hideCorrectness()};return a})})(k);
(function(b){b.DiagramFrameworkViewFactory.registerClass("StaticObject",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("DisplayObject")),d=a.init;a.nodeName="StaticObject";a.init=function(b,e,f){d(b,e,f);return a};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("DiagramFramework_Axis",function(){var a=b.DiagramFrameworkFactory.newInstanceByName("base_model");a.nodeName="DiagramFramework_Axis";a.parent=null;a.ticks=[];a.numericLabels=[];a.alphaNumericLabels=
[];a.resolution=null;a.range=null;a.gridlines=null;a.title="";var d="x";a.getCoordinate=function(){return d};a.getDecimals=function(a){var b=new String,b=a.toString();return-1<b.indexOf(".")?b.length-b.indexOf(".")-1:NaN};a._parse=function(c,e,f){a.parent=f;d=e["@coordinate"];for(var e=b.jsonutil.getChildren(e),f=0,g=e.length;f<g;f++){var h=e[f].value;switch(e[f].name){case "title":if(b.isArray(h.$)){a.title="";for(var j=0;j<h.$.length;j++)a.title+=b.jsonutil.parseCalcValueForChild(h.$[j]).value}else if(b.isArray(h._)){a.title=
"";for(j=0;j<h._.length;j++)a.title+=b.jsonutil.parseCalcValueForChild(h._[j]).value}else a.title=b.jsonutil.parseCalcValueForChild(h).value;case "resolution":a.resolution=b.DiagramFrameworkFactory.newInstanceByName("Resolution");a.resolution.init(c,h,a);break;case "bounds":a.range=b.DiagramFrameworkFactory.newInstanceByName("Range");a.range.init(c,h,a);break;case "gridLines":a.gridlines=b.DiagramFrameworkFactory.newInstanceByName("Gridline");a.gridlines.init(c,h,a);break;case "tickMarks":a.ticks[h["@type"]]=
b.DiagramFrameworkFactory.newInstanceByName("diagramFramework_tickMark");a.ticks[h["@type"]].init(c,h,a);break;case "numericLabels":if(a.numericLabels[h["@type"]]=b.DiagramFrameworkFactory.newInstanceByName("diagramFramework_tickLabel"),a.numericLabels[h["@type"]].init(c,h,a),h.hasOwnProperty("@decimalPlaces"))a.numericLabels[h["@type"]].decimalPlaces=h["@decimalPlaces"];else{var j=a.getDecimals(a.numericLabels[h["@type"]].periodicInterval.getPeriodString()),l=a.getDecimals(a.range.getMinString());
isNaN(j)&&(j=-Infinity);isNaN(l)&&(l=-Infinity);j=Math.max(j,l);a.numericLabels[h["@type"]].decimalPlaces=-Infinity===j?NaN:j}}}null===a.range&&(a.range=b.DiagramFrameworkFactory.newInstanceByName("Range"),a.range.setMin(0),a.range.setMax(1))};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Gridline",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));a.nodeName="Gridline";var d=a.parent=null,c=null;a.getPeriodicInterval=function(){return d};
a.getAperiodicInterval=function(){return c};a._parse=function(e,f,g){a.parent=g;for(var f=b.jsonutil.getChildren(f),g=0,h=f.length;g<h;g++){var j=f[g].value;switch(f[g].name){case "periodic":d=b.DiagramFrameworkFactory.newInstanceByName("PeriodicInterval").init(e,j,a);break;case "aperiodic":c=b.DiagramFrameworkFactory.newInstanceByName("AperiodicInterval").init(e,j,a)}}};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("Range",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));
a.nodeName="Range";a.parent=null;var d,c,e,f;a._parse=function(d,e,f){a.parent=f;d=b.jsonutil.getChildren(e);for(e=0;e<d.length;e++){var f=d[e].name,l=b.jsonutil.parseCalcValueForChild(d[e].value).value;switch(f){case "min":a.setMin(parseFloat(l.toString().replace(",","")));c=l.toString().replace(",","");break;case "max":a.setMax(parseFloat(l.toString().replace(",","")))}}};a.isWithinRange=function(a,b){return b?d<=a&&e>=a:d<a&&e>a};a.getClosestBoundToZero=function(){var a;Math.abs(d)<=Math.abs(e)?
a=d:a=e;return a};a.setMin=function(a){d=a;f=e-d};a.getMin=function(){return d};a.getMinString=function(){return c};a.setMax=function(a){e=a;f=e-d};a.getMax=function(){return e};a.getDifference=function(){return f};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("diagramFramework_tickLabel",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));a.nodeName="diagramFramework_tickLabel";a.parent=null;a.periodicInterval=null;a.aperiodicInterval=
null;a._parse=function(d,c,e){a.parent=e;for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "periodic":var h=b.DiagramFrameworkFactory.newInstanceByName("PeriodicInterval");h.init(d,g,a);a.periodicInterval=h;break;case "aperiodic":h=b.DiagramFrameworkFactory.newInstanceByName("AperiodicInterval"),h.init(d,g,a),a.aperiodicInterval=h}}};return a})})(k);(function(b){b.DiagramFrameworkFactory.registerClass("diagramFramework_tickMark",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("base_model"));
a.nodeName="diagramFramework_tickMark";a.parent=null;a.periodicInterval=null;a.aperiodicInterval=null;a.showGridlines=!1;a._parse=function(d,c,e){a.parent=e;c.hasOwnProperty("@showGridlines")&&(a.showGridlines=c["@showGridlines"]);for(var c=b.jsonutil.getChildren(c),e=0,f=c.length;e<f;e++){var g=c[e].value;switch(c[e].name){case "periodic":var h=b.DiagramFrameworkFactory.newInstanceByName("PeriodicInterval");h.init(d,g,a);a.periodicInterval=h;break;case "aperiodic":h=b.DiagramFrameworkFactory.newInstanceByName("AperiodicInterval"),
h.init(d,g,a),a.aperiodicInterval=h}}};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("DiagramFramework_Axis",function(){var a={},d,c,e,f=NaN,g=NaN,h=0;a.setNegInfinityCoord=function(a){f=a};a.getNegInfinityCoord=function(){return f};a.setInfinityCoord=function(a){g=a};a.getInfinityCoord=function(){return g};a.getModel=function(){return e};a.init=function(a,b,f){d=a;c=b;e=f;return this};a.initializeLine=function(){};var j=function(a,b,c){var f;if(void 0!==b){f=b.getPeriod();
b=b.getInclude();if(void 0===b||isNaN(b))b=e.range.getMin();if(f){var g,j;for(j=b;j>e.range.getMax();)j-=f;for(j;j>=e.range.getMin();j-=f)g=j,g=d.getPixelForValue(g),a[g]={type:c};for(j=b+f;j<e.range.getMin();)j+=f;for(j;j<=e.range.getMax();j+=f)g=j,g=d.getPixelForValue(g),a[g]={type:c}}}},l=function(a,b,c){for(var b=b.getNumbers(),e,f,g=0;g<b.length;g++)f=b[g].getValue(),e=d.getPixelForValue(f),f=void 0!==b[g].getLabel()?b[g].getLabel():f.toString(),a[e]={type:c,label:f},!1===b[g].getIncluded()&&
delete a[e]};a.truncateLabel=function(a,c,d){a=a[c];c=d;c=void 0!==a.decimalPlaces&&!isNaN(a.decimalPlaces)?c.toFixed(a.decimalPlaces):c.toFixed(b.BasicMathToolkit.computeScale(d,h));0===parseFloat(c)&&(c="0");return c};a.getPixelForValue=function(){};a.getValueStringForPixel=function(){};a.constructTickMarkMap=function(){var a={},c=null,d=null,f=null,g;for(g in e.ticks)switch(g){case b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR:c=e.ticks[g];break;case b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR:d=
e.ticks[g];break;case b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR:f=e.ticks[g]}if(null!==f&&(null!==f.periodicInterval&&(h=Math.max(h,f.periodicInterval.getScale()),j(a,f.periodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR)),null!==f.aperiodicInterval))h=Math.max(h,f.aperiodicInterval.getScale()),l(a,f.aperiodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR);if(null!==d&&(null!==d.periodicInterval&&(h=Math.max(h,d.periodicInterval.getScale()),j(a,d.periodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR)),
null!==d.aperiodicInterval))h=Math.max(h,d.aperiodicInterval.getScale()),l(a,d.aperiodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR);if(null!==c&&(null!==c.periodicInterval&&(h=Math.max(h,c.periodicInterval.getScale()),j(a,c.periodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR)),null!==c.aperiodicInterval))h=Math.max(h,c.aperiodicInterval.getScale()),l(a,c.aperiodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR);return a};a.constructTickLabelMap=function(){var a=
{},c=null,d=null,f=null,g;for(g in e.numericLabels)switch(g){case b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR:c=e.numericLabels[g];break;case b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR:d=e.numericLabels[g];break;case b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR:f=e.numericLabels[g]}if(null!==f&&(null!==f.periodicInterval&&(h=Math.max(h,f.periodicInterval.getScale()),j(a,f.periodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR)),null!==f.aperiodicInterval))h=Math.max(h,f.aperiodicInterval.getScale()),
l(a,f.aperiodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR);if(null!==d&&(null!==d.periodicInterval&&(h=Math.max(h,d.periodicInterval.getScale()),j(a,d.periodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR)),null!==d.aperiodicInterval))h=Math.max(h,d.aperiodicInterval.getScale()),l(a,d.aperiodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR);if(null!==c&&(null!==c.periodicInterval&&(h=Math.max(h,c.periodicInterval.getScale()),j(a,c.periodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR)),
null!==c.aperiodicInterval))h=Math.max(h,c.aperiodicInterval.getScale()),l(a,c.aperiodicInterval,b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR);return a};a.initializeTicks=function(){};a.createLabelForValue=function(a,b,d){c.text(a,b+4,d)};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("DiagramFramework_HorizontalAxis",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("DiagramFramework_Axis")),d=a.init,c,e,f,g,h,j,l,m,n=[];a.getModel=function(){return e};
a.getXMin=function(){return f};a.getXMax=function(){return g};a.init=function(b,n,k,s,o,u,t,w){d(a,b,n,k);c=b;e=n;m=k;f=s;g=o;l=w;h=t;j=u;return this};a.initializeLine=function(b,c){var d=m.getArrowSize(),e=g-f,j,h=a.getNegInfinityCoord(),k=a.getInfinityCoord();b?(h=f-d,a.setNegInfinityCoord(h),j=h):j=f;c?(k=f+e+d,a.setInfinityCoord(k),e=k):e=f+e;n.push([["M",j,l],["L",e,l]]);b&&(n.push([["M",h,l],["L",h+d/2,l-d/2]]),n.push([["M",h,l],["L",h+d/2,l+d/2]]));c&&(n.push([["M",k,l],["L",k-d/2,l-d/2]]),
n.push([["M",k,l],["L",k-d/2,l+d/2]]));return a};a.renderLine=function(){var b=m.getAxisLineColor(),d=m.getAxisLineWidth();c.path(n).attr({stroke:b,"stroke-width":d});return a};a.getPixelForValue=function(a){return b.PixelValueConverter.getRoundedAscPixelFromValue(a,e,f,j,h)};a.getValueStringForPixel=function(c,d,g){g=b.PixelValueConverter.getUnroundedValueForAscPixel(g,e,f,j,h);return a.truncateLabel(c,d,g)};a.initializeTicks=function(d){var f=m.getMinorTickLength(),g=m.getSemimajorTickLength(),
j=m.getMajorTickLength(),h=a.constructTickMarkMap(),n,k=[];for(n in h){switch(h[n].type){case b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR:k.push([["M",parseInt(n),Math.round(l-j/2)],["L",parseInt(n),Math.round(l+j/2)]]);break;case b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR:k.push([["M",parseInt(n),Math.round(l-g/2)],["L",parseInt(n),Math.round(l+g/2)]]);break;case b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR:k.push([["M",parseInt(n),Math.round(l-f/2)],["L",parseInt(n),Math.round(l+
f/2)]])}delete h[n]}c.path(k).attr({stroke:m.getTickColor(),"stroke-width":m.getTickWidth()});if(!d)return a;d=l+j/2;g=l+g/2;f=l+f/2;j=m.getTickLabelOffset();h=a.constructTickLabelMap();for(n in h){var k=parseInt(n),w,x=h[n];switch(x.type){case b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR:w=d;break;case b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR:w=g;break;case b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR:w=f}w+=j;k=Math.round(k);w=Math.round(w);void 0!==x.label?a.createLabelForValue(k,
w,x.label):a.createLabelForValue(k,w,a.getValueStringForPixel(e.numericLabels,x.type,n));delete h[n]}return a};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("DiagramFramework_VerticalAxis",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("DiagramFramework_Axis")),d=a.init,c,e,f,g,h,j,l,m,n=[];a.getModel=function(){return e};a.getYMin=function(){return f};a.getYMax=function(){return g};a.init=function(b,n,k,s,o,u,t,w){d(a,b,n,k);c=b;e=n;m=k;
f=s;g=o;l=w;j=t;h=u;return this};a.initializeLine=function(b,c){var d=m.getArrowSize(),e=g-f,j,h=a.getNegInfinityCoord(),k=a.getInfinityCoord();c?(k=f-d,a.setInfinityCoord(k),j=k):j=f;b?(h=f+e+d,a.setNegInfinityCoord(h),e=h):e=f+e;n.push([["M",l,j],["L",l,e]]);c&&(n.push([["M",l,k],["L",l-d/2,k+d/2]]),n.push([["M",l,k],["L",l+d/2,k+d/2]]));b&&(n.push([["M",l,h],["L",l-d/2,h-d/2]]),n.push([["M",l,h],["L",l+d/2,h-d/2]]));return a};a.renderLine=function(){var b=m.getAxisLineColor(),d=m.getAxisLineWidth();
c.path(n).attr({stroke:b,"stroke-width":d});return a};a.getPixelForValue=function(a){return b.PixelValueConverter.getRoundedDescPixelFromValue(a,e,f,g,h,j)};a.getValueStringForPixel=function(c,d,l){l=b.PixelValueConverter.getUnroundedValueForDescPixel(l,e,f,g,h,j);return a.truncateLabel(c,d,l)};a.initializeTicks=function(d){var f=m.getMinorTickLength(),g=m.getSemimajorTickLength(),j=m.getMajorTickLength(),h=a.constructTickMarkMap(),n,k=[];for(n in h){switch(h[n].type){case b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR:k.push([["M",
Math.round(l-j/2),parseInt(n)],["L",Math.round(l+j/2),parseInt(n)]]);break;case b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR:k.push([["M",Math.round(l-g/2),parseInt(n)],["L",Math.round(l+g/2),parseInt(n)]]);break;case b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR:k.push([["M",Math.round(l-f/2),parseInt(n)],["L",Math.round(l+f/2),parseInt(n)]])}delete h[n]}c.path(k).attr({stroke:m.getTickColor(),"stroke-width":m.getTickWidth()});if(!d)return a;d=l-j/2;g=l-g/2;f=l-f/2;j=m.getTickLabelOffset();
h=a.constructTickLabelMap();for(n in h){var w,k=parseInt(n),x=h[n];switch(x.type){case b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR:w=d;break;case b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR:w=g;break;case b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR:w=f}w+=j;w=Math.round(w);k=Math.round(k);void 0!==x.label?a.createLabelForValue(w,k,x.label):a.createLabelForValue(w,k,a.getValueStringForPixel(e.numericLabels,x.type,n));delete h[n]}return a};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("AxisStyle",
function(){var a={},b={tickLabelFontSize:10,tickLabelColor:"#000000",tickLabelOffset:10,tickLabelAtIntersectionOffset:20,tickColor:"#000000",tickWidth:2,majorTickLength:30,semimajorTickLength:40,minorTickLength:20,axisLineColor:"#000000",axisLineWidth:2,axisLabelFontSize:14,axisLabelOffset:40,axisLabelPosition:"AlongAxis",arrowSize:10,arrowLineWidth:2},c={};a.AXIS_LABEL_POSITION_ALONG_AXIS="AlongAxis";a.init=function(b){void 0!==b&&null!==b&&(c=b);return a};var e=function(a){var e;c.hasOwnProperty(a)?
e=c[a]:e=b[a];return e};a.getTickLabelFontSize=function(){return e("tickLabelFontSize")};a.getTickLabelColor=function(){return e("tickLabelColor")};a.getTickLabelOffset=function(){return e("tickLabelOffset")};a.getTickLabelAtIntersectionOffset=function(){return e("tickLabelAtIntersectionOffset")};a.getTickColor=function(){return e("tickColor")};a.getTickWidth=function(){return e("tickWidth")};a.getMajorTickLength=function(){return e("majorTickLength")};a.getSemimajorTickLength=function(){return e("semimajorTickLength")};
a.getMinorTickLength=function(){return e("minorTickLength")};a.getAxisLineColor=function(){return e("axisLineColor")};a.getAxisLineWidth=function(){return e("axisLineWidth")};a.getAxisLabelFontSize=function(){return e("axisLabelFontSize")};a.getAxisLabelPosition=function(){return e("axisLabelPosition")};a.getAxisLabelOffset=function(){return e("axisLabelOffset")};a.getArrowSize=function(){return e("arrowSize")};a.getArrowLineWidth=function(){return e("arrowLineWidth")};a.getStyles=function(){return c};
a.merge=function(b){var b=b.getStyles(),d;for(d in b)c[d]=b[d];return a};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("CorrectTag",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("StaticObject")),d=a.init,c,e,f,g,h,j;a.init=function(b,e,f,g){d(b,a.TYPE_GRID,e);c=g;return a};a.render=function(a,d){e=a-100;f=d-20;h=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(c).draw(e,f,100,20,2).stroke("#4ABD4F",
2,1).fill("#ffffff",1).opacity(0);g=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_checkmarkGraphic").init(c).draw(e-33,f,10,3,0,0).opacity(0);j=c.text(e+3,f+4,"Correct").attr("opacity",0);j.attr({font:"12px Arial","font-weight":"bold"})};a.hide=function(){g.opacity(0);h.opacity(0);j.attr("opacity",0)};a.show=function(){g.opacity(1);h.opacity(1);j.attr("opacity",1)};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("IncorrectTag",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("StaticObject")),
d=a.init,c,e,f,g,h,j;a.init=function(b,e,f,g){d(b,a.TYPE_GRID,e);c=g;return a};a.render=function(a,d){e=a-100;f=d-20;h=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(c).draw(e,f,100,20,2).stroke("#E04820",2,1).fill("#ffffff",1).opacity(0);g=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_crossmarkGraphic").init(c).draw(e-33,f,10,3,0,0).opacity(0);j=c.text(e+8,f+4,"Incorrect").attr("opacity",0);j.attr({font:"12px Arial","font-weight":"bold"})};
a.hide=function(){g.opacity(0);h.opacity(0);j.attr("opacity",0)};a.show=function(){g.opacity(1);h.opacity(1);j.attr("opacity",1)};return a})})(k);(function(b){b.extend({PixelValueConverter:new function(){return{getPixelsPerUnit:function(a,b,c,e){return Math.floor((c-b)/(a.range.getDifference()/e))},getActualDimensions:function(a,b,c){return a.range.getDifference()/b*c},getUnroundedValueForAscPixel:function(a,b,c,e,f){return b.range.getMin()+(a-c)*e/f},getUnroundedValueForDescPixel:function(a,b,c,
e,f,g){return b.range.getMin()+(e-a)*f/g},getUnresolvedValueForAscPixel:function(a,b,c,e){return b.range.getMin()+(a-c)/((e-c)/b.range.getDifference())},getUnresolvedValueForDescPixel:function(a,b,c,e){return b.range.getMin()+(e-a)/((e-c)/b.range.getDifference())},getUnresolvedAscPixelForValue:function(a,b,c,e){return c+(a-b.range.getMin())*(e-c)/b.range.getDifference()},getUnresolvedDescPixelForValue:function(a,b,c,e){return e-(a-b.range.getMin())*(e-c)/b.range.getDifference()},getRoundedAscPixelFromValue:function(a,
b,c,e,f){return Infinity===a||-Infinity===a?a:Math.floor(c+(a-b.range.getMin())/e*f)},getRoundedDescPixelFromValue:function(a,b,c,e,f,g){return Infinity===a||-Infinity===a?a:Math.floor(e-(a-b.range.getMin())/f*g)}}}})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("CartesianCoordinateMapper1",function(){var a={nodeName:"CartesianCoordinateMapper1"},d,c,e,f,g,h,j,l,m;a.init=function(n,p){l=n;g=p.containerXMin;h=p.containerXMax;e=p.viewportXMin;c=l.getModel().getResolutions()[0].getPeriodicInterval().getPeriod();
d=b.PixelValueConverter.getPixelsPerUnit(l.getAxis(),e,p.viewportXMax,c);j=b.PixelValueConverter.getActualDimensions(l.getAxis(),c,d);f=e+j;m={};var k=l.getModel().getLimits(),r,s=null;for(r in k)s=k[r],m[s.getCoordinate()]=s;return a};a.getXResolution=function(){return c};a.getXPixelsPerUnit=function(){return d};a.getContainerXMin=function(){return g};a.getContainerXMax=function(){return h};a.setContainerXMax=function(a){h=a};a.getDomainXRange=function(){return l.getAxis().range};a.getActualWidth=
function(){return j};a.screenToCartesianX=function(a){return b.PixelValueConverter.getUnroundedValueForAscPixel(a,l.getAxis(),e,c,d)};a.roundedScreenToCartesianX=function(a){return l.getModel().resolveXToResolutionAndLimits(b.PixelValueConverter.getUnroundedValueForAscPixel(a,l.getAxis(),e,c,d))};a.unroundedScreenDeltaToCartesianXDelta=function(a){return a/d*c};a.cartesianToScreenX=function(a){return b.PixelValueConverter.getRoundedAscPixelFromValue(a,l.getAxis(),e,c,d)};a.unroundedCartesianDeltaToScreenXDelta=
function(a){return a/c*d};a.roundToResolution=function(a){return l.getModel().resolveXToResolutionAndLimits(a)};a.getLimitsForCoordinate=function(a){return m[a]};a.getXMoveThreshold=function(){return 5};a.getYMoveThreshold=function(){return 5};a.getXMin=function(){return e};a.getXMax=function(){return f};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("CartesianCoordinateMapper2",function(){var a={nodeName:"CartesianCoordinateMapper2"},d,c,e,f,g,h,j,l,m,n,p,k,r,s,o,u,t,w,
x=!1;a.init=function(r,s){t=r;m=s.containerXMin;n=s.containerXMax;p=s.containerYMin;k=s.containerYMax;g=s.viewportXMin;j=s.viewportYMin;x=s.hideGrid;e=t.getModel().getResolutions()[0].getPeriodicInterval().getPeriod();f=t.getModel().getResolutions()[1].getPeriodicInterval().getPeriod();d=b.PixelValueConverter.getPixelsPerUnit(t.getHorizontalAxis(),g,s.viewportXMax,e);c=b.PixelValueConverter.getPixelsPerUnit(t.getVerticalAxis(),j,s.viewportYMax,f);var z="";4>d&&r.getUse()!=t.USE_STATIC&&(z+="Warning: Not enough pixels ("+
d+") have been allocated for each resolution period on the horizontal axis.\n\nAs a result, this problem will likely be unusable on mobile devices.\n\nPlease update the problem such that\n (axis max - axis min) â¤ "+(s.viewportXMax-g)/4+" * (periodic interval of horizontal resolution)");4>c&&r.getUse()!=t.USE_STATIC&&(0<z.length&&(z+="\n\n\n"),z+="Warning: Not enough pixels ("+c+") have been allocated for each resolution period on the vertical axis.\n\nAs a result, this problem will likely be unusable on mobile devices.\n\nPlease update the problem such that\n (axis max - axis min) â¤ "+
(s.viewportYMax-j)/4+" * (periodic interval of vertical resolution)");t.showAuthoringWarning()&&0<z.length&&alert(z);o=b.PixelValueConverter.getActualDimensions(t.getHorizontalAxis(),e,d);u=b.PixelValueConverter.getActualDimensions(t.getVerticalAxis(),f,c);h=g+o;l=j+u;w={};var z=t.getModel().getLimits(),A,D=null;for(A in z)D=z[A],w[D.getCoordinate()]=D;return a};a.getXResolution=function(){return e};a.getYResolution=function(){return f};a.getXPixelsPerUnit=function(){return d};a.getYPixelsPerUnit=
function(){return c};a.getContainerXMin=function(){return m};a.getContainerXMax=function(){return n};a.getContainerYMin=function(){return p};a.getContainerYMax=function(){return k};a.setContainerXMax=function(a){n=a};a.getDomainXRange=function(){return t.getHorizontalAxis().range};a.getDomainYRange=function(){return t.getVerticalAxis().range};a.getActualWidth=function(){return o};a.getActualHeight=function(){return u};a.setOrigin=function(a,b){r=a;s=b};a.getOrigin=function(){return{x:r,y:s}};a.screenToCartesianX=
function(a){return b.PixelValueConverter.getUnresolvedValueForAscPixel(a,t.getHorizontalAxis(),g,h)};a.screenToCartesianY=function(a){return b.PixelValueConverter.getUnresolvedValueForDescPixel(a,t.getVerticalAxis(),j,l)};a.roundedScreenToCartesianX=function(a){return t.getModel().resolveXToResolutionAndLimits(b.PixelValueConverter.getUnroundedValueForAscPixel(a,t.getHorizontalAxis(),g,e,d))};a.roundedScreenToCartesianY=function(a){return t.getModel().resolveYToResolutionAndLimits(b.PixelValueConverter.getUnroundedValueForDescPixel(a,
t.getVerticalAxis(),j,l,f,c))};a.unroundedScreenDeltaToCartesianXDelta=function(a){return a/d*e};a.unroundedScreenDeltaToCartesianYDelta=function(a){return-(a/c)*f};a.cartesianToScreenX=function(a){return b.PixelValueConverter.getUnresolvedAscPixelForValue(a,t.getHorizontalAxis(),g,h)};a.cartesianToScreenY=function(a){return b.PixelValueConverter.getUnresolvedDescPixelForValue(a,t.getVerticalAxis(),j,l)};a.unroundedCartesianDeltaToScreenXDelta=function(a){return a/e*d};a.unroundedCartesianDeltaToScreenYDelta=
function(a){return-(a/f)*c};a.roundToResolution=function(a,b){return"x"===b?t.getModel().resolveXToResolutionAndLimits(a):t.getModel().resolveYToResolutionAndLimits(a)};a.getLimitsForCoordinate=function(a){return w[a]};a.getXMoveThreshold=function(){return 5};a.getYMoveThreshold=function(){return 5};a.getXMin=function(){return g};a.getXMax=function(){return h};a.getYMin=function(){return j};a.getYMax=function(){return l};a.isHideGrid=function(){return x};a.isPointerCurrentlyInViewport=function(b,
c){var d=!1,e=b-g,f=c-j;0<=e&&(e<=a.getActualWidth()&&0<=f&&f<=a.getActualHeight())&&(d=!0);return d};a.restrictXToBounds=function(b){var c=a.getXMax();b<a.getXMin()?b=a.getXMin():b>c&&(b=c);return b};a.restrictYToBounds=function(b){var c=a.getYMax();b<a.getYMin()?b=a.getYMin():b>c&&(b=c);return b};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("GraphicStack",function(){var a={nodeName:"GraphicStack"};a._id;var d=null,c=null,e=null,f=null,g=null,h=null,j=null,l=null,m=null,
n=null,p=null,k=[],r=[],s=null,o=[],u=null,t=null,w=null,x=!1,B,y;a.init=function(c,d,e,f,g,j,h,o){a._id=c;u=d;t=e;m=f;n=g;p=j;y=h;l=b.DiagramFrameworkViewFactory.newInstanceByName("VisibleSet").init(m);B=o;return a};a.getId=function(){return a._id};a.addRender=function(a){k.push(a)};a.getRenders=function(){return k};a.getPaper=function(){return m};a.getTooltipManager=function(){return p};a.getStyle=function(){return y};a.getNumTooltipTextElements=function(){return B};a.addHitArea=function(c){c.getHitAreaType()==
c.HITAREA_TYPE_DECORATION&&o.push(c);c.getHitAreaType()==c.HITAREA_TYPE_MAIN&&(s=c);r.push(c);var d=b.DiagramFrameworkViewFactory.newInstanceByName("DragProxy").init(n,a.getX,a.getY);c.setDragHandlers(F(c),v(c),H(c));c.setDragProxy(d)};a.getHitAreaMain=function(){return s};a.getHitAreasDecoration=function(){return o};a.setFocusOverlay=function(b){d=b;a.addRender(b)};a.setMainUnderlay=function(b){c=b;a.addRender(b)};a.setTooltipOverlay=function(b){e=b;a.addRender(b)};a.setMain=function(b){f=b;a.addRender(b)};
a.setFocusUnderlay=function(b){g=b;a.addRender(b)};a.setCorrectnessOverlay=function(b){h=b;a.addRender(b)};a.setDecorator=function(b){j=b;a.addRender(b)};a.getHitAreas=function(){return r};a.getFocusOverlay=function(){return d};a.getMainUnderlay=function(){return c};a.getTooltipOverlay=function(){return e};a.getMain=function(){return f};a.getFocusUnderlay=function(){return g};a.getCorrectnessOverlay=function(){return h};a.getDecorator=function(){return j};a.getWidth=function(){return f.getWidth()};
a.getCoordinateMapper=function(){return n};a.getVisibleSet=function(){return l};a.addToVisibleSet=function(a){l.push(a.getGraphic())};a.appearAbove=function(b){null!=a.getDecorator()&&null!=b.getDecorator()&&a.getDecorator().getGraphic().appearAbove(b.getDecorator().getGraphic());a.getVisibleSet().insertAfter(b.getVisibleSet())};a.hide=function(){a.getVisibleSet().hide();a.hideTooltip()};a.show=function(){a.getMain()&&a.getMain().getGraphic().opacity(1)};a.showOnGrid=function(){void 0!==a.getMain()&&
void 0!==this.isControlLever&&this.isControlLever()||a.getMain()&&a.getMain().getGraphic().opacity(1)};a.clipToViewport=function(){a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().clipRect(n.getXMin()-b.DiagramFrameworkViewConstants.CLIPRECT_SLACK,n.getYMin()-b.DiagramFrameworkViewConstants.CLIPRECT_SLACK,n.getActualWidth()+2*b.DiagramFrameworkViewConstants.CLIPRECT_SLACK,n.getActualHeight()+2*b.DiagramFrameworkViewConstants.CLIPRECT_SLACK);a.getMain()&&a.getMain().getGraphic().clipRect(n.getXMin()-
b.DiagramFrameworkViewConstants.CLIPRECT_SLACK,n.getYMin()-b.DiagramFrameworkViewConstants.CLIPRECT_SLACK,n.getActualWidth()+2*b.DiagramFrameworkViewConstants.CLIPRECT_SLACK,n.getActualHeight()+2*b.DiagramFrameworkViewConstants.CLIPRECT_SLACK)};a.unClipToViewport=function(){var b;a.getMain()&&(b=a.getMain().getGraphic(),b.clipRect(n.getContainerXMin(),n.getContainerYMin(),n.getContainerXMax()-n.getContainerXMin(),n.getContainerYMax()-n.getContainerYMin()));a.getFocusUnderlay()&&(b=a.getFocusUnderlay().getGraphic(),
b.clipRect(n.getContainerXMin(),n.getContainerYMin(),n.getContainerXMax()-n.getContainerXMin(),n.getContainerYMax()-n.getContainerYMin()));a.getHitAreaMain()&&(b=a.getHitAreaMain().getGraphic(),b.clipRect(n.getContainerXMin(),n.getContainerYMin(),n.getContainerXMax()-n.getContainerXMin(),n.getContainerYMax()-n.getContainerYMin()))};a.createTooltip=function(){return p.addTooltip(a._id,B)};var z,A;a.setCenterX=function(a){z=a};a.getCenterX=function(){return z};a.setCenterY=function(a){A=a};a.getCenterY=
function(){return A};a.getInteractiveObject=function(){return t};a.updateTooltipText=function(){};a.showTooltip=function(){!1===u.updateTooltipText(!0)?p.showTooltip(a._id,b.DiagramFrameworkViewConstants.OFFSCREEN_COORDINATE,b.DiagramFrameworkViewConstants.OFFSCREEN_COORDINATE,y.getTooltipStrokeColor()):p.showTooltip(a._id,z,A,y.getTooltipStrokeColor())};a.hideTooltip=function(){p.hideTooltip(a._id)};a.isTooltipVisible=function(){return p.isVisible(a._id)};a.getDisplay=function(){return{bindEvent:function(c,
d){b(a).bind(c,d)},focus:function(){b(a).triggerHandler(b.GraphicStackEvents.DISPLAY_STATE_FOCUS)},unfocus:function(){b(a).triggerHandler(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS)},showCorrect:function(){b(a).triggerHandler(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT)},showIncorrect:function(){b(a).triggerHandler(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT)},hideCorrectness:function(){b(a).triggerHandler(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS)},moveInBounds:function(){b(a).triggerHandler(b.GraphicStackEvents.DISPLAY_STATE_MOVEINBOUNDS)},
moveOutBounds:function(){b(a).triggerHandler(b.GraphicStackEvents.DISPLAY_STATE_MOVEOUTBOUNDS)},hideControlLevers:function(){b(a).triggerHandler(b.GraphicStackEvents.DISPLAY_STATE_HIDE_CONTROL_LEVERS)}}};a.getX=function(){return a.getMain().getGraphic().getX()};a.getY=function(){return a.getMain().getGraphic().getY()};a.setIsDragging=function(a){x=a};a.isDragging=function(){return x};var D,C,v=function(c){return function(d,e){D=a.getX();C=a.getY();w=c;t.triggerDragEvent(b.GraphicStackEvents.GRAPHIC_DRAG_START,
t.screenToDomainX(d),t.screenToDomainY(e))}},F=function(){return function(a,c,d,e){var f=w;null!=f&&(d=f.processX(D,a),e=f.processY(C,c));t.triggerDragEvent(b.GraphicStackEvents.GRAPHIC_DRAG,t.screenToDomainX(d),t.screenToDomainY(e))}},H=function(){return function(a,c){t.triggerDragEvent(b.GraphicStackEvents.GRAPHIC_DRAG_STOP,t.screenToDomainX(a),t.screenToDomainY(c))}};a.createGlyph=function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_glyph").init();a.setBaselineType(a.BASELINE_TYPE_NORMAL);
return a};a.createXYTooltip=function(a,c){var d=a.toFixed(b.BasicMathToolkit.computeScale(a,2)),d=parseFloat(d).toString(),e=c.toFixed(b.BasicMathToolkit.computeScale(c,2)),e=parseFloat(e).toString();return d+", "+e};return a})})(k);(function(b){b.extend({GraphicStackEvents:new function(){return{DISPLAY_STATE_FOCUS:"display_state_focus",DISPLAY_STATE_UNFOCUS:"display_state_unfocus",DISPLAY_STATE_SHOWCORRECT:"display_state_showcorrect",DISPLAY_STATE_SHOWINCORRECT:"display_state_showincorrect",DISPLAY_STATE_HIDECORRECTNESS:"display_state_hidecorrectness",
DISPLAY_STATE_MOVEINBOUNDS:"display_state_moved_in_bounds",DISPLAY_STATE_MOVEOUTBOUNDS:"display_state_moved_out_bounds",DISPLAY_STATE_HIDE_CONTROL_LEVERS:"display_state_hide_control_levers",GRAPHIC_DRAG_START:"graphic_drag_start",GRAPHIC_DRAG:"graphic_drag",GRAPHIC_DRAG_STOP:"graphic_drag_stop"}}})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_checkmarkGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),d,c,e,f,g,
h,j;a.init=function(b){d=b;return a};var l=function(a,b){var c=[],d=null,e;for(e=0;e<a.length;e++)d=a[e],0===e?c.push(["M",d.x,d.y]):b?c.push(["l",d.x,d.y]):c.push(["L",d.x,d.y]);return c},m=function(a,b){h=a;j=b;var c=e/3;return[{x:a+f-e/2,y:b+g-e/2+2*c},{x:c,y:c},{x:2*c,y:-e}]};a.draw=function(b,j,h,k,s,o){e=h;f=s;g=o;c=d.set();c.push(d.path(l(m(b,j),!0)).attr({"stroke-width":k,stroke:"#4ABD4F"}),d.path(l([{x:0,y:0},{x:0,y:0}])));return a};a.getStrokeColor=function(){return c.attr("stroke")};a.getStrokeWidth=
function(){return c.attr("stroke-width")};a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};a.stroke=function(b,d,e){c.attr({stroke:b,"stroke-width":d,opacity:e});return a};a.getX=function(){return h};a.getY=function(){return j};a.opacity=function(b){c.attr({opacity:b});return a};a.getWidth=function(){return c.getTotalLength()};a.sendToBack=function(){c.toBack()};a.bringToFront=function(){c.toFront()};a.resize=function(b){c.attr({path:a.convertToPathCoords(b)})};a.drag=function(a,b,d){c.drag(a,
b,d)};a.getGraphic=function(){return c};a.move=function(a,b){c[0].attr({path:l(m(a,b),!0)})};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_circleGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),d,c,e,f;a.init=function(b){d=b;return a};a.draw=function(b,h,j){e=b;f=h;c=d.circle(b,h,j);a.stroke("#000000",0,0);return a};a.getFillColor=function(){return c.attr("fill")};a.getFillOpacity=function(){return c.attr("fill-opacity")};
a.fill=function(b,d){_fillColor=b;_fillOpacity=d;c.attr({fill:b,"fill-opacity":d});return a};a.getStrokeColor=function(){return c.attr("stroke")};a.getStrokeWidth=function(){return c.attr("stroke-width")};a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};a.stroke=function(b,d,e,f){c.attr({stroke:b,"stroke-width":d,"stroke-opacity":e});switch(f){case void 0:case "solid":c.attr({"stroke-dasharray":[]});break;case "dotted":c.attr({"stroke-dasharray":["."]});break;case "dashed":c.attr({"stroke-dasharray":["-"]})}return a};
a.strokeDashArray=function(b){c.attr({"stroke-dasharray":b});return a};a.getX=function(){return e};a.getY=function(){return f};a.opacity=function(b){c.attr({opacity:b});return a};a.getWidth=function(){return 2*c.attr("r")+2*c.attr("stroke-width")};a.sendToBack=function(){c.toBack()};a.move=function(a,b){e=a;f=b;c.attr({cx:a,cy:b})};a.drag=function(a,b,d){c.drag(a,b,d)};a.undrag=function(a,b,d){c.undrag(a,b,d)};a.remove=function(){c.remove()};a.getGraphic=function(){return c};a.getHTMLNode=function(){return c[0]};
return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_crossmarkGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),d,c,e,f,g,h,j,l,m;a.init=function(b){d=b;return a};var n=function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e[1].x,g=e[1].y;c.push(["M",e[0].x,e[0].y]);b?c.push(["l",f,g]):c.push(["L",f,g])}return c};a.draw=function(b,k,r,s,o,u){l=b;m=k;c=d.set();g=r;h=o;j=u;o=n([[{x:b,y:k},{x:b+r+2,y:k+r+
2}],[{x:b,y:k},{x:b+r+2,y:k-r-2}]],!1);r=n([[{x:b,y:k},{x:b+r,y:k+r}],[{x:b+r,y:k},{x:b,y:k+r}]],!1);e=d.path(o).attr({"stroke-width":s+2,stroke:"#ffffff"});f=d.path(r).attr({"stroke-width":s,stroke:"#E04820"});c.push();a.move(b,k);return a};a.getX=function(){return l};a.getY=function(){return m};a.opacity=function(b){e.attr({opacity:b});f.attr({opacity:b});return a};a.getWidth=function(){return c.getTotalLength()};a.sendToBack=function(){c.toBack()};a.bringToFront=function(){c.toFront()};a.drag=
function(a,b,d){c.drag(a,b,d)};a.getGraphic=function(){return c};a.move=function(a,b){l=a;m=b;var c=0,d=0;void 0!==h&&(c=h);void 0!==j&&(d=j);var o=g/2,k=a+c-o-1,t=b+d-o-1,c=a+c-o,d=b+d-o;e.attr({path:n([[{x:k,y:t},{x:k+g+2,y:t+g+2}],[{x:k,y:t+g+2},{x:k+g+2,y:t}]],!1)});f.attr({path:n([[{x:c,y:d},{x:c+g,y:d+g}],[{x:c,y:d+g},{x:c+g,y:d}]],!1)})};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_curveGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),
d,c,e=!1,f;a.init=function(b){d=b;return a};a.convertToPathCoords=function(a){var b=[],c=null,d=0,f=a.length,c=a[d];b.push(["M",c.x,c.y]);d++;c=a[d];b.push(["C",c.x,c.y]);d++;if(10===f||13===f)for(var n=10===f?2:3,p=0;p<n;p++)c=a[d],b.push([c.x,c.y]),d++,c=a[d],b.push([c.x,c.y]),b.push(["M",c.x,c.y]),d++,c=a[d],b.push(["C",c.x,c.y]),d++;for(d;d<f;d++)c=a[d],b.push([c.x,c.y]);e&&b.push(["Z"]);return b};a.draw=function(b,f){e=f;c=d.path(a.convertToPathCoords(b));return a};a.getStrokeColor=function(){return c.attr("stroke")};
a.getStrokeWidth=function(){return c.attr("stroke-width")};a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};a.stroke=function(b,d,e,f){c.attr({stroke:b,"stroke-width":d,opacity:e});a.setStrokeStyle(f);return a};a.setStrokeStyle=function(b){if(f!==b){f=b;switch(b){case void 0:case "solid":c.attr({"stroke-dasharray":[]});break;case "dotted":c.attr({"stroke-dasharray":["."]});break;case "dashed":c.attr({"stroke-dasharray":["-"]})}return a}};a.segmentCapStyle=function(b){c.attr({"stroke-linecap":b});
return a};a.getX=function(){return c.attr("path")[0][1]};a.getY=function(){return c.attr("path")[0][2]};a.opacity=function(b){c.attr({opacity:b});return a};a.getWidth=function(){return c.getTotalLength()};a.sendToBack=function(){c.toBack()};a.bringToFront=function(){c.toFront()};a.resize=function(b){c.attr({path:a.convertToPathCoords(b)})};a.drag=function(a,b,d){c.drag(a,b,d)};a.getGraphic=function(){return c};a.clipRect=function(a,b,d,e){c.attr({"clip-rect":a+","+b+","+d+","+e})};return a})})(k);
(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_diamondGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),d,c,e,f,g,h,j;a.init=function(b){d=b;return a};var l=function(){var a=e/1.4;return[["M",f,g-a],["l",a,a],["l",-a,a],["l",-a,-a],["Z"]]};a.draw=function(b,n,p){isNaN(b)?f=0:f=b;isNaN(n)?g=0:g=n;h=f;j=g;e=p;c=d.path(l(b,n));return a};a.getFillColor=function(){return c.attr("fill")};a.getFillOpacity=function(){return c.attr("fill-opacity")};
a.fill=function(b,d){c.attr({fill:b,"fill-opacity":d});return a};a.getStrokeColor=function(){return c.attr("stroke")};a.getStrokeWidth=function(){return c.attr("stroke-width")};a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};a.stroke=function(b,d,e){c.attr({stroke:b,"stroke-width":d,"stroke-opacity":e});return a};a.getX=function(){return h};a.getY=function(){return j};a.opacity=function(b){c.attr({opacity:b});return a};a.getWidth=function(){return e+2*c.attr("stroke-width")};a.sendToBack=
function(){c.toBack()};a.move=function(a,b){h=a;j=b;isNaN(a)?f=0:f=a;isNaN(b)?g=0:g=b;c.attr({path:l(a,b)})};a.drag=function(a,b,d){c.drag(a,b,d)};a.undrag=function(a,b,d){c.undrag(a,b,d)};a.remove=function(){c.remove()};a.getGraphic=function(){return c};a.getHTMLNode=function(){return c[0]};a.rotate=function(a){c.rotate(a,!0)};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_doubleSlashGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),
d,c;a.init=function(b){d=b;return a};a.convertToPathCoords=function(a,b){var c=[],d=null,e;for(e=0;e<a.length;e++)d=a[e],0===e?c.push(["M",d.x,d.y]):b?c.push(["l",d.x,d.y]):c.push(["L",d.x,d.y]);return c};var e=function(a){var c=a[0],d=a[1],a=c.x,c=c.y,e=d.x,d=d.y;isNaN(e)&&(e=0);isNaN(d)&&(d=0);isNaN(a)&&(a=0);isNaN(c)&&(c=0);var l=(e+a)/2,m=(d+c)/2,n=[],p=[],k=b.CoordinateGeometryToolkit.extendAlongLine({x:l,y:m},{x:a,y:c},5);null===k&&(k={x:l,y:m});var r=b.CoordinateGeometryToolkit.extendAlongLine({x:k.x,
y:k.y},{x:e,y:d},18);null===r&&(r={x:e,y:d});p.push({x:r.x,y:r.y});p.push({x:k.x,y:k.y});n.push(p);p=[];k=b.CoordinateGeometryToolkit.extendAlongLine({x:l,y:m},{x:e,y:d},5);null===k&&(k={x:l,y:m});r=b.CoordinateGeometryToolkit.extendAlongLine({x:k.x,y:k.y},{x:a,y:c},18);null===r&&(r={x:a,y:c});p.push({x:k.x,y:k.y});p.push({x:r.x,y:r.y});n.push(p);return n};a.draw=function(b){c=d.set();if(!(2>b.length))return b=e(b),c.push(d.path(a.convertToPathCoords(b[0],!1)).attr({"stroke-width":5,stroke:"#ffffff"}),
d.path(a.convertToPathCoords(b[1],!1)).attr({"stroke-width":5,stroke:"#ffffff"}),d.path(a.convertToPathCoords(b[0],!1)).attr({"stroke-width":3,stroke:"#E04820"}),d.path(a.convertToPathCoords(b[1],!1)).attr({"stroke-width":3,stroke:"#E04820"})),c.push(d.path(a.convertToPathCoords([{x:0,y:0},{x:0,y:0}]))),c[0].rotate(-45,(b[0][0].x+b[0][1].x)/2,(b[0][0].y+b[0][1].y)/2),c[1].rotate(-45,(b[1][0].x+b[1][1].x)/2,(b[1][0].y+b[1][1].y)/2),c[2].rotate(-45,(b[0][0].x+b[0][1].x)/2,(b[0][0].y+b[0][1].y)/2),c[3].rotate(-45,
(b[1][0].x+b[1][1].x)/2,(b[1][0].y+b[1][1].y)/2),a};a.getStrokeColor=function(){return c.attr("stroke")};a.getStrokeWidth=function(){return c.attr("stroke-width")};a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};a.stroke=function(b,d,e){c.attr({stroke:b,"stroke-width":d,opacity:e});return a};a.getX=function(){return c.attr("path")[0][1]};a.getY=function(){return c.attr("path")[0][2]};a.opacity=function(b){c.attr({opacity:b});return a};a.getWidth=function(){return c.getTotalLength()};
a.sendToBack=function(){c.toBack()};a.bringToFront=function(){c.toFront()};a.resize=function(b){c.attr({path:a.convertToPathCoords(b)})};a.drag=function(a,b,d){c.drag(a,b,d)};a.getGraphic=function(){return c};a.move=function(b){2>b.length||(b=e(b),c[0].attr({path:a.convertToPathCoords(b[0],!1)}),c[0].rotate(-45,(b[0][0].x+b[0][1].x)/2,(b[0][0].y+b[0][1].y)/2),c[1].attr({path:a.convertToPathCoords(b[1],!1)}),c[1].rotate(-45,(b[1][0].x+b[1][1].x)/2,(b[1][0].y+b[1][1].y)/2),c[2].attr({path:a.convertToPathCoords(b[0],
!1)}),c[2].rotate(-45,(b[0][0].x+b[0][1].x)/2,(b[0][0].y+b[0][1].y)/2),c[3].attr({path:a.convertToPathCoords(b[1],!1)}),c[3].rotate(-45,(b[1][0].x+b[1][1].x)/2,(b[1][0].y+b[1][1].y)/2))};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_graphic",function(){var a={appearAbove:function(b){0!=b.getGraphic().length&&a.getGraphic().insertAfter(b.getGraphic())}};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_pathGraphic",
function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),d,c;a.init=function(b){d=b;return a};a.convertToPathCoords=function(a,b){var c=[],d=null,j,l,m=a.length;for(j=0;j<m;j++){var n=a[j],p=n.length;for(l=0;l<p;l++)d=n[l],0===l?c.push(["M",d.x,d.y]):c.push(["L",d.x,d.y]);b&&c.push(["Z"])}return c};a.draw=function(b,f){c=d.path(a.convertToPathCoords(b,f));return a};a.getStrokeColor=function(){return c.attr("stroke")};a.getStrokeWidth=function(){return c.attr("stroke-width")};
a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};a.stroke=function(b,d,g,h){c.attr({stroke:b,"stroke-width":d,opacity:g});switch(h){case void 0:case "solid":c.attr({"stroke-dasharray":[]});break;case "dotted":c.attr({"stroke-dasharray":["."]});break;case "dashed":c.attr({"stroke-dasharray":["-"]})}return a};a.segmentCapStyle=function(b){c.attr({"stroke-linecap":b});return a};a.getX=function(){return c.attr("path")[0][1]};a.getY=function(){return c.attr("path")[0][2]};a.opacity=function(b){c.attr({opacity:b});
return a};a.getWidth=function(){return c.getTotalLength()};a.sendToBack=function(){c.toBack()};a.bringToFront=function(){c.toFront()};a.resize=function(b){c.attr({path:a.convertToPathCoords(b)})};a.drag=function(a,b,d){c.drag(a,b,d)};a.getGraphic=function(){return c};a.clipRect=function(a,b,d,h){c.attr({"clip-rect":a+","+b+","+d+","+h})};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_plusSignGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),
d,c,e,f,g,h,j;a.init=function(b){d=b;return a};var l=function(){var a=e/3;return[["M",f-e/2,g-e/6],["l",a,0],["l",0,-a],["l",a,0],["l",0,a],["l",a,0],["l",0,a],["l",-a,0],["l",0,a],["l",-a,0],["l",0,-a],["l",-a,0],["Z"]]};a.draw=function(b,n,p){isNaN(b)?f=0:f=b;isNaN(n)?g=0:g=n;h=f;j=g;e=p;c=d.path(l(b,n));return a};a.getFillColor=function(){return c.attr("fill")};a.getFillOpacity=function(){return c.attr("fill-opacity")};a.fill=function(b,d){c.attr({fill:b,"fill-opacity":d});return a};a.getStrokeColor=
function(){return c.attr("stroke")};a.getStrokeWidth=function(){return c.attr("stroke-width")};a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};a.stroke=function(b,d,e){c.attr({stroke:b,"stroke-width":d,"stroke-opacity":e});return a};a.getX=function(){return h};a.getY=function(){return j};a.opacity=function(b){c.attr({opacity:b});return a};a.getWidth=function(){return e+2*c.attr("stroke-width")};a.sendToBack=function(){c.toBack()};a.move=function(a,b){h=a;j=b;isNaN(a)?f=0:f=a;isNaN(b)?
g=0:g=b;c.attr({path:l(a,b)})};a.drag=function(a,b,d){c.drag(a,b,d)};a.undrag=function(a,b,d){c.undrag(a,b,d)};a.remove=function(){c.remove()};a.getGraphic=function(){return c};a.getHTMLNode=function(){return c[0]};a.rotate=function(a){c.rotate(a,!0)};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_rectangleGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),d,c,e=0,f=0,g=0;a.init=function(b){d=b;return a};
a.draw=function(b,j,l,m,n){g=l;e=b;f=j;c=d.rect(b-l/2,j-m/2,l,m,n);return a};a.getGraphic=function(){return c};a.getFillColor=function(){return c.attr("fill")};a.getFillOpacity=function(){return c.attr("fill-opacity")};a.fill=function(b,d){c.attr({fill:b,"fill-opacity":d});return a};a.setStrokeColor=function(a){c.attr({stroke:a})};a.getStrokeColor=function(){return c.attr("stroke")};a.getStrokeWidth=function(){return c.attr("stroke-width")};a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};
a.stroke=function(b,d,e){c.attr({stroke:b,"stroke-width":d,"stroke-opacity":e});return a};a.rotate=function(b){c.rotate(b);return a};a.getX=function(){return e};a.getY=function(){return f};a.opacity=function(b){c.attr({opacity:b});return a};a.getRectangleWidth=function(){return g};a.setWidth=function(a){c.attr({width:a+2*c.attr("stroke-width")})};a.setHeight=function(a){c.attr({height:a+2*c.attr("stroke-width")})};a.getWidth=function(){return c.attr("width")+2*c.attr("stroke-width")};a.sendToBack=
function(){c.toBack()};a.move=function(a,b){e=a;f=b;c.attr({x:a-c.attr("width")/2,y:b-c.attr("height")/2})};a.drag=function(a,b,d){c.drag(a,b,d)};a.undrag=function(a,b,d){c.undrag(a,b,d)};a.remove=function(){c.remove()};a.getGraphic=function(){return c};a.getHTMLNode=function(){return c[0]};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_segmentGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),d,c,e;a.init=
function(b){d=b;return a};a.convertToPathCoords=function(a,b){var c=[],d=null,e=null,m;for(m=0;m<a.length;m++)0!==m&&(e=a[m-1]),d=a[m],0===m||400<a.length&&(100<Math.abs(d.x-e.x)||100<Math.abs(d.y-e.y))?c.push(["M",d.x,d.y]):c.push(["L",d.x,d.y]);b&&c.push(["Z"]);return c};a.draw=function(b,e){c=d.path(a.convertToPathCoords(b,e));return a};a.getStrokeColor=function(){return c.attr("stroke")};a.getStrokeWidth=function(){return c.attr("stroke-width")};a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};
a.stroke=function(b,d,e,j){c.attr({stroke:b,"stroke-width":d,opacity:e});a.setStrokeStyle(j);return a};a.setStrokeStyle=function(b){if(e!==b){e=b;switch(b){case void 0:case "solid":c.attr({"stroke-dasharray":[]});break;case "dotted":c.attr({"stroke-dasharray":["."]});break;case "dashed":c.attr({"stroke-dasharray":["-"]})}return a}};a.segmentCapStyle=function(b){c.attr({"stroke-linecap":b});return a};a.getX=function(){return c.attr("path")[0][1]};a.getY=function(){return c.attr("path")[0][2]};a.opacity=
function(b){c.attr({opacity:b});return a};a.getWidth=function(){return c.getTotalLength()};a.sendToBack=function(){c.toBack()};a.bringToFront=function(){c.toFront()};a.resize=function(b){c.attr({path:a.convertToPathCoords(b)})};a.drag=function(a,b,d){c.drag(a,b,d)};a.getGraphic=function(){return c};a.clipRect=function(a,b,d,e){c.attr({"clip-rect":a+","+b+","+d+","+e})};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_starGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),
d,c,e,f,g,h,j,l;a.init=function(b){d=b;return a};var m=function(){return[["M",g,h-f/2],["L",g+e/5,h-f/4],["L",g+e/2,h-f/4],["L",g+e/3,h],["L",g+e/2,h+f/4],["L",g+e/5,h+f/4],["L",g,h+f/2],["L",g-e/5,h+f/4],["L",g-e/2,h+f/4],["L",g-e/3,h],["L",g-e/2,h-f/4],["L",g-e/5,h-f/4],["Z"]]};a.draw=function(b,p,k){isNaN(b)?g=0:g=b;isNaN(p)?h=0:h=p;j=g;l=h;f=e=k;c=d.path(m(b,p));return a};a.getFillColor=function(){return c.attr("fill")};a.getFillOpacity=function(){return c.attr("fill-opacity")};a.fill=function(b,
d){c.attr({fill:b,"fill-opacity":d});return a};a.getStrokeColor=function(){return c.attr("stroke")};a.getStrokeWidth=function(){return c.attr("stroke-width")};a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};a.stroke=function(b,d,e){c.attr({stroke:b,"stroke-width":d,"stroke-opacity":e});return a};a.getX=function(){return j};a.getY=function(){return l};a.opacity=function(b){c.attr({opacity:b});return a};a.getWidth=function(){return e+2*c.attr("stroke-width")};a.sendToBack=function(){c.toBack()};
a.move=function(a,b){j=a;l=b;isNaN(a)?g=0:g=a;isNaN(b)?h=0:h=b;c.attr({path:m(a,b)})};a.drag=function(a,b,d){c.drag(a,b,d)};a.undrag=function(a,b,d){c.undrag(a,b,d)};a.remove=function(){c.remove()};a.getGraphic=function(){return c};a.getHTMLNode=function(){return c[0]};a.rotate=function(a){c.rotate(a,!0)};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("Tooltip",function(){var a={},d,c,e,f,g,h=0,j=0;a.init=function(c,n){d=c;g=[];e=[];f=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(d).draw(0,
0,70,18,9).fill("#ffffff",1).stroke("#000000",1,1);for(var p=h=j=0;p<n;p++){var k=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(""),k=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_labelGraphic").init(d,b.DiagramFrameworkViewConstants.TEXT_MEASUREMENT_NODE).setFontFamily("Arial").setFontSize("12").setFontWeight("bold").setGlyphs(k);e.push(k);h=Math.max(h,k.getWidth());k=k.getHeight();j+=k;p!==n-1&&(j+=l)}a.hide();return a};a.setTextEntries=function(b){g=
b;return a};a.setFillColor=function(a){a!==c&&(c=a,f.setStrokeColor(a))};var l=0;a.move=function(b,c){var d=b-2,k=c-40-j/2+j/(2*g.length),r;j=h=0;var s=g.length;for(r=0;r<s;r++){var o=e[r];o.setGlyphs(g[r]);o.move(d,k);h=Math.max(h,o.getWidth());o=o.getHeight();j+=o;k+=o+l;r!==s-1&&(j+=l)}f.setHeight(j);f.setWidth(h+15);f.move(b,c-40);return a};a.hide=function(){f.opacity(0);for(var c=0;c<e.length;c++)e[c].opacity(0);a.move(b.DiagramFrameworkViewConstants.OFFSCREEN_COORDINATE,b.DiagramFrameworkViewConstants.OFFSCREEN_COORDINATE);
return a};a.show=function(b,c){f.opacity(1);for(var d=0;d<e.length;d++)e[d].opacity(1);a.move(b,c);return a};a.appearAbove=function(){for(var a=0;a<e.length;a++)e[a].appearAbove(f)};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_triangleGraphic",function(){var a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_graphic"),d,c,e,f,g,h,j,l;a.init=function(b){d=b;return a};var m=function(){return[["M",g,h-f/2],["L",g+e/2,h+f/2],["L",g-e/2,h+
f/2],["Z"]]};a.draw=function(b,p,k){isNaN(b)?g=0:g=b;isNaN(p)?h=0:h=p;j=g;l=h;e=k;f=2/3*k;c=d.path(m(b,p));return a};a.getFillColor=function(){return c.attr("fill")};a.getFillOpacity=function(){return c.attr("fill-opacity")};a.fill=function(b,d){c.attr({fill:b,"fill-opacity":d});return a};a.getStrokeColor=function(){return c.attr("stroke")};a.getStrokeWidth=function(){return c.attr("stroke-width")};a.getStrokeOpacity=function(){return c.attr("stroke-opacity")};a.stroke=function(b,d,e){c.attr({stroke:b,
"stroke-width":d,"stroke-opacity":e});return a};a.getX=function(){return j};a.getY=function(){return l};a.opacity=function(b){c.attr({opacity:b});return a};a.getWidth=function(){return e+2*c.attr("stroke-width")};a.sendToBack=function(){c.toBack()};a.move=function(a,b){j=a;l=b;isNaN(a)?g=0:g=a;isNaN(b)?h=0:h=b;c.attr({path:m(a,b)})};a.drag=function(a,b,d){c.drag(a,b,d)};a.undrag=function(a,b,d){c.undrag(a,b,d)};a.remove=function(){c.remove()};a.getGraphic=function(){return c};a.getHTMLNode=function(){return c[0]};
a.rotate=function(a){c.rotate(a,!0)};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("VisibleSet",function(){var a={},b;a.init=function(c){b=c.set();return a};a.push=function(a){if("set"===a.type)for(var e=0;e<a.length;e++)b.push(a[e]);else b.push(a)};a.insertAfter=function(a){b.insertAfter(a.getSet())};a.hide=function(){b.attr({opacity:0})};a.show=function(){b.attr({opacity:1})};a.getSet=function(){return b};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("diagramFramework_glyph",
function(){var a={BASELINE_TYPE_NORMAL:1,BASELINE_TYPE_SUBSCRIPT:2,BASELINE_TYPE_SUPERSCRIPT:4},b,c;a.init=function(){return a};a.setBaselineType=function(a){c=a};a.getBaselineType=function(){return c};a.setText=function(a){b=a};a.getText=function(){return b};return a})})(k);(function(b){var a={};b.DiagramFrameworkViewFactory.registerClass("diagramFramework_labelGraphic",function(){var d={},c,e,f,g="12",h="Arial",j,l,m,n,p,k,r,s,o,u={},t=!1;d.init=function(a,b){c=a;n=b;r=[];s=c.set();var e=c.rect(0,
0,60,20).attr("fill","white").attr("stroke",0);s.push(e);return d};d.setGlyphs=function(a){r=a;var b=r.length,n=s.length-1;if(b>n)for(a=n;a<b;a++){var p=c.text(l,m+0,"");p.attr({"font-size":g+"px","font-weight":j,"font-family":h,opacity:1});s.push(p)}else if(n>b)for(a=b;a<n;a++)p=a+1,s[p].attr({text:""});for(a=f=e=0;a<b;a++){var n=r[a],o=n.getText()+"",k=w(o),p=a+1;s[p].attr({text:o});switch(n.getBaselineType()){case n.BASELINE_TYPE_SUBSCRIPT:case n.BASELINE_TYPE_SUPERSCRIPT:s[p].attr({"font-size":parseInt(g)-
2+"px"});f=Math.max(f,Math.floor(4/3*k.height));break;default:s[p].attr({"font-size":g+"px"}),f=Math.max(f,k.height)}e+=k.width}x();return d};d.getX=function(){return l};d.getY=function(){return m};d.getWidth=function(){return e};var w=function(b,c){if(void 0!==b){var d="";void 0!==h&&(d+=h.toLowerCase());void 0!==g&&(d+=g.toLowerCase());void 0!==j&&(d+=j.toLowerCase());0==d.length&&(d="Default");if(u[""+c+b])d=u[""+c+b];else{n.removeAttr("style");n.hide();void 0!==h&&n.css("font-family",h);void 0!==
g&&n.css("font-size",g+"px");void 0!==j&&n.css("font-weight",j);var e=0,f=0;n.empty();n.append(b);void 0===a[d]&&(a[d]={});void 0===a[d][b]&&(a[d][b]={},a[d][b].width=n.width(),a[d][b].height=n.height());f=a[d][b].width;e=a[d][b].height;d={height:e,width:f};u[""+c+b]=d}return d}},x=function(){var a,c=0;o&&(c=8);var d=!1,e=!1,f=!1;a=0;for(var g=[],j=0;j<r.length;j++){var h=r[j],n=h.getBaselineType(),u=h.getText()+"",n=w(u,n);n.start=a;n.glyph=h;a+=n.width;g.push(n)}for(j=0;j<g.length;j++){var h=g[j],
n=Math.floor(h.height/3),u=h.glyph.getText(),t;t=l;var x=m,J=a,I=h.start,E=h.glyph;if(void 0!==E.getText()&&void 0!==E.getText()[0]&&" "===E.getText()[0]){for(var N=0,P=0;P<E.getText().length&&" "===E.getText()[P];P++)N++;I+=2*N}E.getBaselineType()===E.BASELINE_TYPE_SUBSCRIPT||E.getBaselineType();E=null;switch(p){case "n":E={x:t-J/2,y:x-k,"text-anchor":"start",start:I};break;case "e":E={x:t+k,y:x,"text-anchor":"start",start:I};break;case "s":E={x:t-J/2,y:x+k,"text-anchor":"start",start:I};break;case "w":E=
{x:t-k-J,y:x,"text-anchor":"start",start:I};break;case "ne":E={x:t+k,y:x-k,"text-anchor":"start",start:I};break;case "se":E={x:t+k,y:x+k,"text-anchor":"start",start:I};break;case "sw":E={x:t-k-J,y:x+k,"text-anchor":"start",start:I};break;case "nw":E={x:t-k-J,y:x-k,"text-anchor":"start",start:I};break;case "center":E={x:t-J/2,y:x,"text-anchor":"start",start:I};break;default:E={x:t-J/2,y:x,"text-anchor":"start",start:I}}t=E;if(b.BasicMathToolkit.isNumber(t.x)&&b.BasicMathToolkit.isNumber(t.y))switch(d||
(d=0,d=e?10:5,x=10,e&&(x+=5),f&&(x+=5),s[0].attr({x:t.x,y:c+t.y-d+0,width:a,height:x}),d=!0),h.glyph.getBaselineType()){case h.glyph.BASELINE_TYPE_SUBSCRIPT:s[j+1].attr({text:u,x:t.x+t.start,y:c+t.y+0+n,"text-anchor":t["text-anchor"]});f=!0;break;case h.glyph.BASELINE_TYPE_SUPERSCRIPT:s[j+1].attr({text:u,x:t.x+t.start,y:c+t.y+0-n,"text-anchor":t["text-anchor"]});e=!0;break;default:s[j+1].attr({text:u,x:t.x+t.start,y:c+t.y+0,"text-anchor":t["text-anchor"]})}}};d.getHeight=function(){return f};d.getFontSize=
function(){return g};d.setFontSize=function(a){g=a;for(var b=r.length,c=0;c<b;c++){var e=r[c];switch(e.getBaselineType()){case e.BASELINE_TYPE_SUBSCRIPT:case e.BASELINE_TYPE_SUPERSCRIPT:s[c+1].attr({"font-size":parseInt(a)-2+"px"});break;default:s[c+1].attr({"font-size":a+"px"})}}return d};d.setFontWeight=function(a){j=a;s.attr({"font-weight":a});return d};d.setFontFamily=function(a){h=a;s.attr({"font-family":a});return d};d.setSmallGraph=function(a){o=a;return d};d.setDirection=function(a,b){p=a;
var c=b;switch(a){case "e":case "w":c-=5;break;case "ne":case "se":case "sw":case "nw":c=Math.round(b/Math.sqrt(2))-2}k=c;return d};d.sendToBack=function(){s.toBack()};d.move=function(a,b){l=a;m=b;for(var c=s.length,e=r.length;e<c;e++)s[e].attr({text:""});x();return d};d.drag=function(a,b,c){s.drag(a,b,c)};d.getGraphic=function(){return s};d.appearAbove=function(a){s.insertAfter(a.getGraphic())};d.rotate=function(a){s.rotate(a,d.getX(),d.getY())};d.setHideBackground=function(a){t=a;return d};d.opacity=
function(a){var b;!1===t&&0<a?s[0].attr({opacity:0.65}):s[0].attr({opacity:0});for(b=0;b<r.length;b++)s[b+1].attr({opacity:a});if(0<r.length)for(b=r.length;b<s.length-1;b++)s[b+1].attr({opacity:0});return d};return d})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("Group",function(){var a={nodeName:"Group"},d=b.DiagramFrameworkViewFactory.newInstanceByName("PointBundleRegistry").init(),c={},e,f,g;a.init=function(b,c,d){e=b;f=c;g=d;return a};a.getId=function(){return e};a.addDisplayObject=
function(b){b.setCurrentGroup(a);c[b.getId()]=b};a.focusBundle=function(c,d){for(var e=a.getBundle(c),f=0;f<e.length;f++){var g=e[f];if(d){var p=g.getGraphicStack().getRenders();b.each(p,function(a,b){b.moveToFront()})}g&&!g.isHidden()&&g.getGraphicStack().getDisplay().focus()}};a.unfocusBundle=function(c,d){for(var e=a.getBundle(c),f=0;f<e.length;f++){var g=e[f];if(d){var p=g.getGraphicStack().getRenders();b.each(p,function(a,b){b.moveToFront()})}g&&!g.isHidden()&&g.getGraphicStack().getDisplay().unfocus()}};
a.getBundle=function(a){for(var b=[],d=f(a.getId()),e=d.superPrimitiveNames,d=d.dependentPrimitiveNames,n=0;n<e.length;n++)b.push(c[e[n]]);for(e=0;e<d.length;e++)b.push(c[d[e]]);a=g(a.getId());for(e=0;e<a.length;e++)b.push(c[a[e]]);return b};a.getDisplayObjects=function(){return c};a.getPointBundleRegistry=function(){return d};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("HitAreaPlane",function(){var a={},b,c=null,e=!1,f=[];a.init=function(c){b=c;return a};a.getId=function(){return b};
a.addHitArea=function(b){e||(c=b,e=!0);b.setCurrentHitAreaPlane(a);f.push(b)};a.moveToFront=function(a){a!==c&&(a.appearAbove(c),c=a)};a.render=function(){for(var a=f.length-1;0<=a;a--)f[a].render()};a.toString=function(){for(var a="",b=0;b<f.length;b++)a+=f[b]._id+" ";return a};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("HitAreaPlaneStack",function(){var a={},d={};a.init=function(){d[b.DiagramFrameworkViewConstants.HITAREAPLANE_POINT]=b.DiagramFrameworkViewFactory.newInstanceByName("HitAreaPlane").init(b.DiagramFrameworkViewConstants.HITAREAPLANE_POINT);
d[b.DiagramFrameworkViewConstants.HITAREAPLANE_LINE]=b.DiagramFrameworkViewFactory.newInstanceByName("HitAreaPlane").init(b.DiagramFrameworkViewConstants.HITAREAPLANE_LINE);d[b.DiagramFrameworkViewConstants.HITAREAPLANE_AREA]=b.DiagramFrameworkViewFactory.newInstanceByName("HitAreaPlane").init(b.DiagramFrameworkViewConstants.HITAREAPLANE_AREA);d[b.DiagramFrameworkViewConstants.HITAREAPLANE_GRID]=b.DiagramFrameworkViewFactory.newInstanceByName("HitAreaPlane").init(b.DiagramFrameworkViewConstants.HITAREAPLANE_GRID);
return a};a.addHitArea=function(a){switch(a.getType()){case a.TYPE_POINT:d[b.DiagramFrameworkViewConstants.HITAREAPLANE_POINT].addHitArea(a);break;case a.TYPE_LINE:d[b.DiagramFrameworkViewConstants.HITAREAPLANE_LINE].addHitArea(a);break;case a.TYPE_AREA:d[b.DiagramFrameworkViewConstants.HITAREAPLANE_AREA].addHitArea(a);break;case a.TYPE_GRID:d[b.DiagramFrameworkViewConstants.HITAREAPLANE_GRID].addHitArea(a)}};a.render=function(){d[b.DiagramFrameworkViewConstants.HITAREAPLANE_GRID].render();d[b.DiagramFrameworkViewConstants.HITAREAPLANE_AREA].render();
d[b.DiagramFrameworkViewConstants.HITAREAPLANE_LINE].render();d[b.DiagramFrameworkViewConstants.HITAREAPLANE_POINT].render()};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("Layer",function(){var a={nodeName:"Layer"},d={},c,e,f;a.init=function(b,d,f){c=b;e=f;return a};a.getId=function(){return c};a.addGroup=function(a){d[a.getId()]=a};a.getGroup=function(a){return d[a]};a.getGroups=function(){return d};a.setLayerStack=function(a){f=a};a.getLayerStack=function(){return f};
a.addHitArea=function(a){if(void 0!==a.getGraphicStack())for(var b=0;b<a.getGraphicStack().getHitAreas().length;b++){var c=a.getGraphicStack().getHitAreas()[b];e.addHitArea(c)}};a.moveToFront=function(a,c){var e=!1===c,f=null,m=null,n=null,p;for(p in d){var k=d[p].getDisplayObjects(),r;for(r in k){var s=k[r].getGraphicStack().getHitAreas(),o=k[r].getGraphicStack().getRenders();if(k[r].equals(a))n=d[p].getBundle(a),f=s,m=o;else if(k[r].getIsDraggable()){if(!e)for(var u=0;u<s.length;u++)s[u].moveToFront();
for(s=0;s<o.length;s++)o[s].moveToFront()}}}if(!e)for(e=0;e<f.length;e++){f[e].moveToFront();for(r=0;r<n.length;r++)s=n[r].getGraphicStack().getHitAreas(),b.each(s,function(a,b){b.moveToFront()})}for(f=0;f<m.length;f++)m[f].moveToFront()};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("LayerStack",function(){var a={},d=null,c=null,e={},f=[],g=null,h=null;a.nodeName="LayerStack";a.init=function(){g=b.DiagramFrameworkViewFactory.newInstanceByName("PlaneStack").init();h=b.DiagramFrameworkViewFactory.newInstanceByName("HitAreaPlaneStack").init();
return a};a.createLayer=function(a){return b.DiagramFrameworkViewFactory.newInstanceByName("Layer").init(a,g,h)};a.addLayer=function(b){e[b.getId()]=b;b.setLayerStack(a);f.push(b);c=b};a.getLayer=function(a){return e[a]};a.moveToFront=function(a){a!==c&&(c=a)};a.render=function(){for(var a=f,b=[a[0]],c=a.length-1;1<=c;c--){var d=a[c],e=!1,k;for(k in d.getGroups()){var r=d.getGroups()[k].getDisplayObjects(),s;for(s in r)if(r[s].isGhost()){e=!0;break}}e&&b.push(d)}for(c=a.length-1;1<=c;c--){d=a[c];
e=!1;for(k in d.getGroups())for(s in r=d.getGroups()[k].getDisplayObjects(),r)if(r[s].isGhost()){e=!0;break}e||b.push(d)}f=b;for(a=f.length-1;0<=a;a--){var b=f[a],c=b.getGroups(),o;for(o in c){var d=c[o].getDisplayObjects(),u;for(u in d)g.addRenders(d[u].getGraphicStack().getRenders()),d[u].setCurrentLayer(b)}}g.render();for(o=f.length-1;0<=o;o--){u=f[o];var a=u.getGroups(),t;for(t in a){var b=a[t].getDisplayObjects(),w;for(w in b)u.addHitArea(b[w])}}h.render()};a.setActiveGroup=function(a){d=a};
a.getActiveGroup=function(){return d};a.clearActiveGroup=function(){if(null!==d){var a=d.getDisplayObjects(),b;for(b in a){var c=a[b];c.isHidden()||c.getGraphicStack().getDisplay().hideControlLevers()}}d=null};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("Plane",function(){var a={nodeName:"Plane"},b,c=null,e=!1,f=[];a.init=function(c){b=c;return a};a.getId=function(){return b};a.addRender=function(b){e||(c=b,e=!0);b.setCurrentPlane(a);f.push(b)};a.render=function(){for(var a=
f.length-1;0<=a;a--)f[a].render()};a.moveToFront=function(a){a!==c&&(a.appearAbove(c),c=a)};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("PlaneStack",function(){var a={nodeName:"PlaneStack"},d={};a.init=function(){d[b.DiagramFrameworkViewConstants.PLANE_TOOLTIP]=b.DiagramFrameworkViewFactory.newInstanceByName("Plane").init(b.DiagramFrameworkViewConstants.PLANE_TOOLTIP);d[b.DiagramFrameworkViewConstants.PLANE_LABEL]=b.DiagramFrameworkViewFactory.newInstanceByName("Plane").init(b.DiagramFrameworkViewConstants.PLANE_LABEL);
d[b.DiagramFrameworkViewConstants.PLANE_CORRECTNESS]=b.DiagramFrameworkViewFactory.newInstanceByName("Plane").init(b.DiagramFrameworkViewConstants.PLANE_CORRECTNESS);d[b.DiagramFrameworkViewConstants.PLANE_POINT]=b.DiagramFrameworkViewFactory.newInstanceByName("Plane").init(b.DiagramFrameworkViewConstants.PLANE_POINT);d[b.DiagramFrameworkViewConstants.PLANE_LINE]=b.DiagramFrameworkViewFactory.newInstanceByName("Plane").init(b.DiagramFrameworkViewConstants.PLANE_LINE);d[b.DiagramFrameworkViewConstants.PLANE_AREA]=
b.DiagramFrameworkViewFactory.newInstanceByName("Plane").init(b.DiagramFrameworkViewConstants.PLANE_AREA);d[b.DiagramFrameworkViewConstants.PLANE_GRID]=b.DiagramFrameworkViewFactory.newInstanceByName("Plane").init(b.DiagramFrameworkViewConstants.PLANE_GRID);return a};a.addRenders=function(a){for(var e=a.length-1;0<=e;e--){var f=a[e];switch(f.getType()){case f.TYPE_TOOLTIP:d[b.DiagramFrameworkViewConstants.PLANE_TOOLTIP].addRender(f);break;case f.TYPE_CORRECTNESS:d[b.DiagramFrameworkViewConstants.PLANE_CORRECTNESS].addRender(f);
break;case f.TYPE_POINT:d[b.DiagramFrameworkViewConstants.PLANE_POINT].addRender(f);break;case f.TYPE_LINE:d[b.DiagramFrameworkViewConstants.PLANE_LINE].addRender(f);break;case f.TYPE_AREA:d[b.DiagramFrameworkViewConstants.PLANE_AREA].addRender(f);break;case f.TYPE_LABEL:d[b.DiagramFrameworkViewConstants.PLANE_LABEL].addRender(f);break;case f.TYPE_GRID:d[b.DiagramFrameworkViewConstants.PLANE_GRID].addRender(f)}}};a.render=function(){d[b.DiagramFrameworkViewConstants.PLANE_GRID].render();d[b.DiagramFrameworkViewConstants.PLANE_AREA].render();
d[b.DiagramFrameworkViewConstants.PLANE_LINE].render();d[b.DiagramFrameworkViewConstants.PLANE_CORRECTNESS].render();d[b.DiagramFrameworkViewConstants.PLANE_POINT].render();d[b.DiagramFrameworkViewConstants.PLANE_LABEL].render();d[b.DiagramFrameworkViewConstants.PLANE_TOOLTIP].render()};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("HitArea",function(){var a={};a.TYPE_POINT=b.DiagramFrameworkViewConstants.TYPE_POINT;a.TYPE_LINE=b.DiagramFrameworkViewConstants.TYPE_LINE;
a.TYPE_AREA=b.DiagramFrameworkViewConstants.TYPE_AREA;a.TYPE_GRID=b.DiagramFrameworkViewConstants.TYPE_GRID;a.HITAREA_TYPE_DECORATION=b.DiagramFrameworkViewConstants.HITAREA_TYPE_DECORATION;a.HITAREA_TYPE_MAIN=b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN;a._id;var d,c,e,f,g,h,j,l,m=b.DiagramFrameworkViewConstants.OFFSCREEN_COORDINATE,n=!0,p=0,k=0,r=!1,s=!1,o;a.init=function(b,d,e,f,g){a._id=b;j=d;l=e;c=f;void 0!==g&&(!0===g.lockX&&(r=!0),!0===g.lockY&&(s=!0));return a};a.setDragProxy=function(a){o=
a};a.processX=function(a,b){return r?a:a+b};a.processY=function(a,b){return s?a:a+b};a.getGraphic=function(){return h};a.getType=function(){return j};a.getHitAreaType=function(){return l};a.setCurrentHitAreaPlane=function(a){d=a};a.getCurrentHitAreaPlane=function(){return d};a.appearAbove=function(a){h.appearAbove(a.getGraphic());o.resetDragHandlers()};a.moveToFront=function(){d.moveToFront(a)};a.drag=function(a,b,c){h.drag(a,b,c)};a.move=function(a,b){p=a;k=b;n&&h.move(a,b)};a.resize=function(a){h.resize(a)};
a.setDragHandlers=function(a,b,c){f=a;e=b;g=c};a.render=function(){h=c();o.setHitArea(a)};a.disable=function(){n=!1;h.move(m,m)};a.enable=function(){n=!0;a.move(p,k)};a.onDragStart=function(a,b){e(a,b)};a.onDragMove=function(a,b,c,d){f(a,b,c,d)};a.onDragStop=function(a,b){g(a,b)};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("PointBundleRegistry",function(){var a={},d=null,c=null;a.init=function(){d={};c={};return a};var e=function(a){var c=d[a];void 0===c&&(c=b.DiagramFrameworkViewFactory.newInstanceByName("Squeeze").init(),
d[a]=c);return c};a.add=function(a,b,d){b=e(b);c[a]=b;b.addToBack(d)};a.move=function(a,g,h){var j=a<=g,g=e(g);if(null!=a){var a=h.getId(),l=h.getXValue(),m=c[a];void 0===m&&(m=b.DiagramFrameworkViewFactory.newInstanceByName("Squeeze").init(),c[a]=m,d[l]=m);m.remove(h)}j?g.addToFront(h):g.addToBack(h);h=h.getId();c[h]=g};a.toArray=function(){var a=[],b;for(b in d)a.push(b);a.sort(function(a,b){return a-b});b=[];for(var c=0;c<a.length;c++)b=b.concat(d[a[c]].toArray());return b};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("Render",
function(){var a={};a.TYPE_TOOLTIP=b.DiagramFrameworkViewConstants.TYPE_TOOLTIP;a.TYPE_CORRECTNESS=b.DiagramFrameworkViewConstants.TYPE_CORRECTNESS;a.TYPE_LABEL=b.DiagramFrameworkViewConstants.TYPE_LABEL;a.TYPE_POINT=b.DiagramFrameworkViewConstants.TYPE_POINT;a.TYPE_LINE=b.DiagramFrameworkViewConstants.TYPE_LINE;a.TYPE_AREA=b.DiagramFrameworkViewConstants.TYPE_AREA;a.TYPE_GRID=b.DiagramFrameworkViewConstants.TYPE_GRID;a._id;var d,c,e,f;a.init=function(b,d,e){a._id=b;f=d;c=e;return a};a.getGraphic=
function(){return e};a.getType=function(){return f};a.setCurrentPlane=function(a){d=a};a.getCurrentHitAreaPlane=function(){return d};a.appearAbove=function(a){e.appearAbove(a.getGraphic())};a.moveToFront=function(){d.moveToFront(a)};a.render=function(){e=c()};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("Squeeze",function(){var a={},b=null;a.init=function(){b=[];return a};a.addToFront=function(a){b.splice(0,0,a)};a.addToBack=function(a){b.push(a)};a.toArray=function(){return b};
a.remove=function(a){if(0!=b.length){if(b[0].equals(a))return b.shift();if(b[b.length-1].equals(a))return b.pop();for(var e=1;e<b.length-1;e++)if(b[e].equals(a))return b.splice(e,1),a}return null};return a})})(k);(function(b){b.template("root_viewtmpl",'<div class="q4-renderer"></div>');b.DiagramFrameworkViewFactory.registerClass("root_view",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("base_view"));a.nodeName="root_view";var d=null;a._render=function(a){d=b.tmpl("root_viewtmpl");
d.prependTo(a)};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("DragProxy",function(){var a={nodeName:"DragProxy"},b,c,e,f,g,h,j,l,m,n,p;a.init=function(b,d,f){c=d;e=f;n=b.getXMoveThreshold();p=b.getYMoveThreshold();b.getContainerXMin();b.getContainerXMax();b.getContainerYMin();b.getContainerYMax();return a};a.setHitArea=function(a){b=a;b.getGraphic().drag(r,k,s)};a.resetDragHandlers=function(){var a=b.getGraphic().getGraphic();a.undrag();
a.drag(r,k,s)};var k=function(){f=c();g=e();j=f;h=g;m=l=0;if(void 0!==b.onDragStart)b.onDragStart(f,g)},r=function(a,c){if(Math.abs(l-a)>=n||Math.abs(m-c)>=p)if(l=a,m=c,h=g+c,j=f+a,void 0!==b.onDragMove)b.onDragMove(a,c,j,h)},s=function(){if(void 0!==b.onDragStop)b.onDragStop(j,h)};return a})})(k);(function(b){b.DiagramFrameworkViewFactory.registerClass("TooltipManager",function(){var a={nodeName:"TooltipManager"},d,c,e,f,g;a.init=function(b,f){g=b;d=f;c={};e={};return a};a.addTooltip=function(a,
d){void 0===c[d]&&(c[d]=b.DiagramFrameworkViewFactory.newInstanceByName("Tooltip").init(g,d));e[a]=c[d];return e[a]};a.showTooltip=function(b,c,g,m){var n=e[b];d&&a.forceHideTooltip();void 0!==n&&(void 0!==f&&e[f].hide(),n.setFillColor(m),n.show(c,g),f=b)};a.hideTooltip=function(a){!d&&(void 0!==e[a]&&f===a)&&(e[f].hide(),f=void 0)};a.forceHideTooltip=function(){void 0!==f&&e[f].hide()};a.isVisible=function(a){return f===a};return a})})(k);k.q4versions.add({module:"q4-diagram-framework",version:"7.9"});
(function(b){b.extend({GraphFactory:new function(){var a={},b={};a.init=function(){};a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};a.getClassByName=function(a){return b[a]};return a}})})(k);(function(b){b.extend({GraphPresenterFactory:new function(){var a={PRESENTER_EVENT_MODEL_INVALIDATED:"__graph_presenter_event_model_invalidated",PRESENTER_EVENT_GROUP_INVALIDATED:"__graph_presenter_event_group_invalidated",PRESENTER_EVENT_VIEW_READY:"__graph_presenter_view_ready",
PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT:"__graph_presenter_drag_inside_viewport",PRESENTER_EVENT_RENDER_DRAG_OUTSIDE_VIEWPORT:"__graph_presenter_drag_outside_viewport",PRESENTER_EVENT_SWAP_MODEL:"__graph_presenter_swap_model",PRESENTER_EVENT_SET_GRAPH_NON_INTERACTIVE:"__graph_presenter_non_interactive",PRESENTER_EVENT_SEND_QDELTA_FEEDBACK:"__graph_presenter_send_qdelta_feedback",PRESENTER_EVENT_SEND_RESOLVE_AREA_REQUEST:"__graph_presenter_send_resolve_area_request"},b={};a.init=function(){};a.registerClass=
function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};a.getClass=function(a){return b[a]};return a}})})(k);(function(b){b.extend({GraphViewFactory:new function(){var a={},b={};a.init=function(){};a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};return a}})})(k);(function(b){b.extend({GraphIconFactory:new function(){return{createIconByObjectType:function(a){var d;switch(a){case b.GraphConstants.ELEMENT_TYPE_POINT:d=
b.GraphViewFactory.newInstanceByName("PointIcon");break;case b.GraphConstants.ELEMENT_TYPE_LINE:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_SLOPE_INTERCEPT:d=b.GraphViewFactory.newInstanceByName("LineIcon");break;case b.GraphConstants.ELEMENT_TYPE_SEGMENT:d=b.GraphViewFactory.newInstanceByName("SegmentIcon");break;case b.GraphConstants.ELEMENT_TYPE_RAY:d=b.GraphViewFactory.newInstanceByName("RayIcon");break;case b.GraphConstants.ELEMENT_TYPE_RECTANGLE:d=
b.GraphViewFactory.newInstanceByName("RectangleIcon");break;case b.GraphConstants.ELEMENT_TYPE_QUADRILATERAL:d=b.GraphViewFactory.newInstanceByName("QuadrilateralIcon");break;case b.GraphConstants.ELEMENT_TYPE_TRIANGLE:d=b.GraphViewFactory.newInstanceByName("TriangleIcon");break;case b.GraphConstants.ELEMENT_TYPE_POLYGON:d=b.GraphViewFactory.newInstanceByName("PolygonIcon");break;case b.GraphConstants.ELEMENT_TYPE_CIRCLE:d=b.GraphViewFactory.newInstanceByName("CircleIcon");break;case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_1:case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_2:case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_3:case b.GraphConstants.ELEMENT_TYPE_N_POINT_CURVE:d=
b.GraphViewFactory.newInstanceByName("PiecewiseBezierCurveIcon");break;case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_2:case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_3:case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_4:d=b.GraphViewFactory.newInstanceByName("PolynomialCurveIcon");break;case b.GraphConstants.ELEMENT_TYPE_AREA:d=b.GraphViewFactory.newInstanceByName("AreaIcon");break;case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_X:d=b.GraphViewFactory.newInstanceByName("ParabolaIcon");
break;case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_Y:d=b.GraphViewFactory.newInstanceByName("ParabolaIcon");break;case b.GraphConstants.ELEMENT_TYPE_CATMULL_ROM:d=b.GraphViewFactory.newInstanceByName("CatmullRomIcon");break;case b.GraphConstants.ELEMENT_TYPE_MONOTONIC_ARC:d=b.GraphViewFactory.newInstanceByName("MonotonicArcIcon");break;case b.GraphConstants.ELEMENT_TYPE_DROP_MARKER:d=b.GraphViewFactory.newInstanceByName("PointIcon")}return d}}}})})(k);(function(b){b.extend({GraphVOFactory:new function(){var a=
{},b={};a.init=function(){};a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};return a}})})(k);(function(b){b.extend({GraphConstants:new function(){return{PRESENTER_EVENT_CARTESIAN_MODEL_PATCH_CHANGED:"__q4_presenter_event_cartesian_model_path_changed",VIEW_EVENT_RENDER_DRAG_START:"__q4_view_event_render_drag_start",VIEW_EVENT_RENDER_DRAG:"__q4_view_event_render_drag",VIEW_EVENT_RENDER_DRAG_STOP:"__q4_view_event_render_drag_stop",VIEW_EVENT_RENDER_UPDATE_PROPERTY:"__q4_view_event_render_update_property",
PRESENTER_EVENT_SHOW_UPDATE_PROPERTIES:"__q4_presenter_event_show_update_properties",VIEW_GROUP_CORRECTNESS_UPDATED:"__q4_view_event_group_correctness_updated",VIEW_EVENT_PALETTE_WIDTH_UPDATED:"__q4_view_event_palette_width_updated",PRESENTER_EVENT_INVALIDATE_SPACE:"__q4_presenter_event_invalidate_space",PRESENTER_EVENT_REFRESH_CORRECTNESS:"__q4_presenter_event_check_numberline_refresh_correctness",PRESENTER_EVENT_REFRESH_GROUP:"__q4_presenter_event_refresh_group",ELEMENT_TYPE_POINT:"Point",ELEMENT_TYPE_LINE:"Line",
ELEMENT_TYPE_SEGMENT:"Segment",ELEMENT_TYPE_RAY:"Ray",ELEMENT_TYPE_RECTANGLE:"Rectangle",ELEMENT_TYPE_QUADRILATERAL:"Quadrilateral",ELEMENT_TYPE_TRIANGLE:"Triangle",ELEMENT_TYPE_POLYGON:"Polygon",ELEMENT_TYPE_CIRCLE:"Circle",ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_1:"Primitive2PiecewiseBezierCurve1",ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_2:"Primitive2PiecewiseBezierCurve2",ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_3:"Primitive2PiecewiseBezierCurve3",ELEMENT_TYPE_N_POINT_CURVE:"Primitive2NPointCurve",ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_2:"Primitive2PolynomialCurve2",
ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_3:"Primitive2PolynomialCurve3",ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_4:"Primitive2PolynomialCurve4",ELEMENT_TYPE_CATMULL_ROM:"Primitive2CatmullRom",ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE:"LineDefinedByPointSlope",ELEMENT_TYPE_LINE_DEFINED_BY_SLOPE_INTERCEPT:"LineDefinedBySlopeIntercept",ELEMENT_TYPE_CONNECTED_POINTS:"ConnectedPoints",ELEMENT_TYPE_FUNCTION:"Function",ELEMENT_TYPE_PLOT:"Plot",ELEMENT_TYPE_AREA:"Area",ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_X:"ParabolaWithDomainX",
ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_Y:"ParabolaWithDomainY",ELEMENT_TYPE_MONOTONIC_ARC:"Construct2MonotonicArc",ELEMENT_TYPE_DROP_MARKER:"DropMarker"}}})})(k);(function(b){b.GraphFactory.registerClass("ConstructArea",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="ConstructArea";a._TYPE="Area";d=a.init;var c,e,f=[],g=null,h,j=!1;a.getIsMoving=function(){};a.setPoint=function(b){b&&(b.bind("PRIMITIVE_MOVE_STARTED",h.onPrimitiveMoveStartedCallback(b)),
b.bind("PRIMITIVE_MOVE_STOPPED",h.onPrimitiveMoveStoppedCallback(b)),c=b.move,b.move=a.pointMove,e=b)};a.getPoint=function(){return e};a.setConstraints=function(b){for(var c=b.length-1;0<=c;c++)a.addConstraint(b[c])};a.getConstraints=function(){return f};a.getSerializedConstraints=function(){if(null==g){for(var a=[],c=0;c<f.length;c++){var d=f[c],e="";switch(d._NAME){case "PrimitiveLine":case "Construct2LineDefinedByPointSlope":e=b.BasicMathToolkit.serializeLine(d);break;case "PrimitiveSegment":e=
b.BasicMathToolkit.serializeSegment(d);break;case "Primitive2Rectangle":e=b.BasicMathToolkit.serializePolygon(d);break;case "Primitive2Polygon":e=b.BasicMathToolkit.serializePolygon(d);break;case "Construct2MonotonicArc":e=b.BasicMathToolkit.serializeMonotonicArc(d);break;case "Primitive2NPointCurve":e=b.BasicMathToolkit.serializeNPointCurve(d);break;case "Primitive2Plot":e=b.BasicMathToolkit.serializePlot(d);break;case "Primitive2Circle":e=b.BasicMathToolkit.serializeCircle(d)}""!=e&&a.push(e)}g=
a.sort().join("|")}return g};a.init=function(b,c,e,f){d(b,c,e);h=!f?a:f;return a};a.removeAllConstraints=function(){for(var a=f.length-1;0<=a;a--)f[a].unbind("PRIMITIVE_MOVE_STARTED",h.onPrimitiveMoveStartedCallback),f[a].unbind("PRIMITIVE_MOVE_STOPPED",h.onPrimitiveMoveStoppedCallback),f.splice(a,1);g=null};a.addConstraint=function(a){void 0!==a&&(a.bind("PRIMITIVE_MOVE_STARTED",h.onPrimitiveMoveStartedCallback(a)),a.bind("PRIMITIVE_MOVE_STOPPED",h.onPrimitiveMoveStoppedCallback(a)),a.move=h.onPrimitiveMoveCallback(a),
f.push(a),g=null)};a.isUsed=function(){var a=e.getX();return b.BasicMathToolkit.isNumber(a)};a.pointMove=function(b,d,e,f){var g=this.getX(),j=this.getY(),h=a.getSpaceCoordinateSystem();h.setXResolutionPeriodFactor(0.25);h.setYResolutionPeriodFactor(0.25);c(b,d,e,f);h.setXResolutionPeriodFactor(1);h.setYResolutionPeriodFactor(1);return g!==this.getX()||j!==this.getY()?(this.invalidate(),a.invalidate(),!0):!1};a.remove=function(){e.setX(NaN);e.setY(NaN);h.invalidate()};a.onPrimitiveMoveStartedCallback=
function(b){return function(){b.setHasMoved(!1);a.startMove()}};a.onPrimitiveMoveCallback=function(a){var b=a.move;return function(a,c,d,e){b(a,c,d,e)}};a.onPrimitiveMoveStoppedCallback=function(b){return function(){b.hasMoved()&&(g=null);a.stopMove();a.invalidate();a.getSpace().invalidate();j&&(e.setX(NaN),e.setY(NaN),e.invalidate())}};a.setIsPointOnConstraint=function(a){j=a};return a})})(k);(function(b){b.GraphFactory.registerClass("ConstructManipulable",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));
a._NAME="ConstructManipulable";a._TYPE="Manipulable";d=a.init;var c,e,f,g=!0;a.setDefaultLabels=function(a){e=a};a.getDefaultLabels=function(){return e};a.setOverlapLabels=function(a){c=a};a.getOverlapLabels=function(){return c};a.getPossibleSnapTos=function(){return f};a.init=function(b,c,e,g){d(b,c,e,g);f=[];return a};a.addPossibleSnapTo=function(a){f.push(a)};a.setCanGenerateQDelta=function(a){g=a};a.canGenerateQDelta=function(){return g};return a})})(k);(function(b){b.GraphFactory.registerClass("Cycle",
function(){var a={_NAME:"Cycle"},b,c,e,f=[],g;a.init=function(c){b=c;return a};a.getId=function(){return b};a.setConnectedPointsId=function(a){c=a};a.getConnectedPointsId=function(){return c};a.addPoint=function(a){f.push(a)};a.getPoints=function(){return f};a.setGrade=function(a){g=!0===a};a.getGrade=function(){return g};a.setConnectedPointsGrade=function(a){e=!0===a};a.getConnectedPointsGrade=function(){return e};return a})})(k);(function(b){b.GraphFactory.registerClass("Fill",function(){var a=
{_NAME:"Fill"},d=[],c=0;a.init=function(){return a};a.clear=function(){d=[];c=0};a.addCycle=function(a){d.push(a);c=0};a.getCycles=function(){return d};a.getSize=function(){0==c&&(c=b.CoordinateGeometryToolkit.areaOfPolygon(d));return c};return a})})(k);(function(b){b.GraphFactory.registerClass("Construct2ConnectedPoints",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitivePointCollection"));a._NAME="Construct2ConnectedPoints";a._TYPE="ConnectedPoints";d=a.init;
var c=[],e=[],f=[],g=[],h=!1,j=[],l={},m=null,n=!1;a.getIncludedPoints=function(){return c};a.getIncludedSegments=function(){return e};a.getAllSegments=function(){return f};a.getAllPoints=function(){return g};a.getIsMoving=function(){return h};a.init=function(c,e,f,j){d(c,e,f,a);for(c=0;c<j.length;c++)e=j[c].getPoint(),g.push(e);c=[];for(e=0;e<j.length;e++){var h=j[e],n=h.getPoint().isUsed(),h=b.GraphFactory.newInstanceByName("ConnectedPointPosition").init(n,h);c.push(h)}m=b.GraphFactory.newInstanceByName("ConnectedPointPositions").init(c);
j=m.getPositionArray();for(c=0;c<j.length;c++)e=j[c].getConnectedPoint().getPoint().getName(),void 0===l[e]&&(l[e]=[]);f.addConstruct(a);return a};var p=function(a){var b=a.getPoints();if(0!==b.length){var c=l[b[0].getName()],d;for(d=c.length-1;0<=d;d--)if(c[d]===a){c.splice(d,1);break}b=l[b[1].getName()];for(d=b.length-1;0<=d;d--)if(b[d]===a){b.splice(d,1);break}a.removePoints();a.invalidate();j.push(a)}};a.addSegment=function(a){f.push(a);a.setIsFree(!1);a.setCanHaveConcurrentPoints(!1);var b=a.getPoint0(),
c=a.getPoint1(),d=!0;if(!b&&!c)j.push(a);else{if(!b||!c||isNaN(b.getX())||isNaN(b.getY())||isNaN(c.getX())||isNaN(c.getY()))d=!1;d?(e.push(a),l[b.getName()].push(a),l[c.getName()].push(a)):p(a)}};a.getSegment=function(a,b){for(var c=l[a.getName()],d=0;d<c.length;d++)if(c[d].getPoint1().getName()===b.getName())return c[d]};a.addPoint=function(b){b.bind("PRIMITIVE_MOVE_STARTED",a.onPrimitiveMoveStarted);b.bind("PRIMITIVE_MOVE_STOPPED",a.onPrimitiveMoveStopped);!isNaN(b.getX())&&!isNaN(b.getY())&&(b.getName(),
c.push(b));r();s(b)};a.removePoint=function(a){for(var b=c.length,d=!1,e=0;e<b;e++)if(c[e]===a){c.splice(e,1);d=!0;break}d&&a.getName()};a.onPrimitiveMoveStarted=function(){h=!0;a.startMove()};a.onPrimitiveMoveStopped=function(b){h=!1;b=b.target.getName();k(b);a.stopMove()};a.invalidate=function(){for(var a=c.length,b=0;b<a;b++)c[b].invalidate()};var k=function(b,c){if(m.arePositionsResolved()){var d=a.getSpace().getPrimitiveByName(b);d.invalidate();var e=m.findPositionByPointId(d.getID()).isInViewport(),
f=d.isUsed();e!==f&&(f?m.moveToViewport(d.getID()):m.moveToPalette(d.getID()));r(c)}},r=function(c){for(var d=e.length-1;0<=d;d--)p(e[d]),e.splice(d,1);var d=m.getNumberOfPointsInViewport(),f=m.getPositionArray();if(1<d){void 0===c&&(c=!0);if(c){var c=f,g=!1;if(1<c.length){for(var h=1;h<c.length;h++)!isNaN(c[h].getConnectedPoint().getPoint().getX())&&isNaN(c[h-1].getConnectedPoint().getPoint().getX())&&(g=!0);c=g}else c=!1}if(c){g=m.getPositionArray();f=[];c=[];for(h=0;h<g.length;h++)if(isNaN(g[h].getConnectedPoint().getPoint().getX()))c.push(g[h].getConnectedPoint());
else{var n=g[h].getConnectedPoint(),k=n.getPoint().isUsed(),k=b.GraphFactory.newInstanceByName("ConnectedPointPosition").init(k,n);f.push(k)}for(g=0;g<c.length;g++)k=c[g].getPoint().isUsed(),k=b.GraphFactory.newInstanceByName("ConnectedPointPosition").init(k,c[g]),f.push(k);m=b.GraphFactory.newInstanceByName("ConnectedPointPositions").init(f);f=m.getPositionArray()}for(c=1;c<d;c++)g=f[c-1].getConnectedPoint().getPoint(),h=f[c].getConnectedPoint().getPoint(),k=j.pop(),k.setPoint0(g),k.setPoint1(h),
k.removeDescendant(g),k.removeDescendant(h),k.setHasMoved(!0),e.push(k),l[g.getName()].push(k),l[h.getName()].push(k)}a.invalidate()},s=function(b){var c=b.updateByQDelta,d=b.getName();b.updateByQDelta=function(e,f){c(e,f);m.findPositionByPointId(b.getID()).setInViewport(b.isUsed());n?k(d,!1):k(d);a.getSpace().invalidate()}};a.generateClientQDelta=function(){for(var a=[],b=m.getPositionArray(),c=0;c<b.length;c++){var d=b[c],e=d.getConnectedPoint().getInitPosition();c!=e-1&&(d={replaceAttributes:{"@ref":d.getConnectedPoint().getPositionId(),
"@position":c+1}},a.push(d))}return 0==a.length?null:a};a.updateByQDelta=function(b,c){if("replaceAttributes"===b)if(void 0!==c["@position"]){var d=c["@position"],f=m.findIndexByPositionId(c["@ref"]),g=m.findPositionByIndex(f);m.moveByIndex(f,g.getConnectedPoint().getPoint().getID(),d-1);d=g.getConnectedPoint().getPoint().getName();k(d,!1)}else if(void 0!==c["@correct-as-submitted"]){d=c["@correct-as-submitted"];for(f=0;f<e.length;f++)e[f].setIsCorrect(d);a.getSpace().invalidate()}};a.beforeInvalidation=
function(a,b){void 0!==b["@position"]&&(m.revertToInitPositions(),n=!0)};a.areCoordinatesColliding=function(a,b){for(var c=0;c<g.length;c++){var d=g[c],e=d.getX(),d=d.getY();if(!(void 0===e||void 0===d||NaN===e||NaN===d)&&e===a&&d===b)return!0}return!1};return a})})(k);(function(b){b.GraphFactory.registerClass("Construct2DropMarker",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PointFree"));a._NAME="Construct2DropMarker";a._TYPE="DropMarker";d=a.init;var c=
null,e=null,f=null,g=-1,h=-1,j=-1,l=-1;a.init=function(b,c,e){d(b,c,e,a);b=e.getCoordinateSystem().getAxes();g=b[0].range.getMin();h=b[0].range.getMax();j=b[1].range.getMin();l=b[1].range.getMax();return a};a.setHorizontalSegment=function(a){c=a;f.isManipulablePoint()?c.move=function(){}:(c.bind("PRIMITIVE_MOVE_STOPPED",function(){var a=c.getPoint1().getX(),b=c.getPoint1().getY();isNaN(a)&&isNaN(b)&&(c.getPoint0().setX(NaN),c.getPoint0().setY(NaN),c.getPoint1().setX(NaN),c.getPoint1().setY(NaN),null!==
e&&(e.getPoint0().setX(NaN),e.getPoint0().setY(NaN),e.getPoint1().setX(NaN),e.getPoint1().setY(NaN),e.invalidate()),f.setX(NaN),f.setY(NaN),f.invalidate())}),c.move=function(a,b,d,g){a=c.getPoints();for(d=a.length-1;-1<d;d--){var j=a[d];j.move(j.getX(),j.getY()+b,NaN,g)}b=c.getPoint1().getY();g=c.getPoint1().getX();null!==e&&(e.getPoint1().setY(b),e.invalidate());f.setX(g);f.setY(b);f.invalidate()})};a.getHorizontalSegment=function(){return c};a.setVerticalSegment=function(a){e=a;f.isManipulablePoint()?
e.move=function(){}:(e.bind("PRIMITIVE_MOVE_STOPPED",function(){var a=e.getPoint1().getX(),b=e.getPoint1().getY();isNaN(a)&&isNaN(b)&&(null!==c&&(c.getPoint0().setX(NaN),c.getPoint0().setY(NaN),c.getPoint1().setX(NaN),c.getPoint1().setY(NaN),c.invalidate()),e.getPoint0().setX(NaN),e.getPoint0().setY(NaN),e.getPoint1().setX(NaN),e.getPoint1().setY(NaN),f.setX(NaN),f.setY(NaN),f.invalidate())}),e.move=function(a,b,d,g){b=e.getPoints();for(d=b.length-1;-1<d;d--){var j=b[d];j.move(j.getX()+a,j.getY(),
NaN,g)}a=e.getPoint1().getY();g=e.getPoint1().getX();null!==c&&(c.getPoint1().setX(g),c.invalidate());f.setX(g);f.setY(a);f.invalidate()})};a.getVerticalSegment=function(){return e};a.setMarkerPoint=function(b){f=b;f.bind("PRIMITIVE_INVALIDATED",a.onPrimitiveInvalidated);f.bind("PRIMITIVE_MOVE_STARTED",a.onPrimitiveMoveStarted);f.bind("PRIMITIVE_MOVE_STOPPED",a.onPrimitiveMoveStopped)};a.getMarkerPoint=function(){return f};var m=void 0,n=void 0;a.onPrimitiveInvalidated=function(){var b=a.getHorizontalSegment(),
c=a.getVerticalSegment(),d=a.getMarkerPoint(),e=d.getX(),d=d.getY();if(!(e===m&&d===n))if(m=e,n=d,isNaN(e)&&isNaN(d)){if(null!==b&&(b.getPoint0().setX(NaN),b.getPoint0().setY(NaN),b.getPoint1().setX(NaN),b.getPoint1().setY(NaN),b.getPoint0().invalidate()),null!==c)c.getPoint0().setX(NaN),c.getPoint0().setY(NaN),c.getPoint1().setX(NaN),c.getPoint1().setY(NaN),c.getPoint0().invalidate()}else if(null!==b&&(b.getPoint0().setX(g),b.getPoint0().setY(d),b.getPoint1().setX(e),b.getPoint1().setY(d),b.getPoint0().invalidate()),
null!==c)c.getPoint0().setX(e),c.getPoint0().setY(j),c.getPoint1().setX(e),c.getPoint1().setY(d),c.getPoint0().invalidate()};a.onPrimitiveMoveStarted=function(){};a.onPrimitiveMoveStopped=function(){var b=a.getHorizontalSegment(),c=a.getVerticalSegment();null!==b&&b.invalidate();null!==c&&c.invalidate()};a.getXAxisMin=function(){return g};a.getXAxisMax=function(){return h};a.getYAxisMin=function(){return j};a.getYAxisMax=function(){return l};return a})})(k);(function(b){b.GraphFactory.registerClass("Construct2LineDefinedByPointSlope",
function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("PrimitiveLine"));a._NAME="Construct2LineDefinedByPointSlope";a._TYPE="LineDefinedByPointSlope";d=a.init;var c,e=!1;a.defineSecondPointUsingSlope=function(){return e};a.setSlope=function(b){c=b;e=!0;a.invalidate()};a.getSlope=function(){return c};a.init=function(b,c,e){d(b,c,e);return a};a.adjustSecondPointUsingSlope=function(d,g,h,j,l,m,n){e=!1;var p=a.getPoint0(),k=a.getPoint1(),r=p.getX(),s=p.getY(),o=k.getX(),u=k.getY(),
t=s-c*r;if(!(r>=j&&r<=m)||!(s>=l&&s<=n))p.setX(NaN),p.setY(NaN),k.setX(NaN),k.setY(NaN);else{var w,x;if(void 0!==c&&void 0!==p){for(var B=0;j+B<=m;){w=g(j+B);x=h(c*w+t);if(!b.BasicMathToolkit.equal(r,w)&&x>=l&&x<=n)if(b.BasicMathToolkit.equal((x-s)/(w-r),c))break;else x=w=NaN;else x=w=NaN;B+=d}if(!isNaN(w)&&!isNaN(x))k.setX(w),k.setY(x);else if(!(o>=j&&o<=m)||!(u>=l&&u<=n))if(isFinite(c)){o=j;for(u=c*o+t;!(u>=l&&u<=n)||o>m;)o+=(m-j)/500,u=c*o+t;k.setX(o);k.setY(u)}else k.setX(r),k.setY((l+n)/2)}else k.setX(NaN),
k.setY(NaN);k.invalidate();p.setCanGenerateQDelta(!1);k.setCanGenerateQDelta(!1)}};return a})})(k);(function(b){b.GraphFactory.registerClass("Construct2LineDefinedBySlopeIntercept",function(){var a,d;a=Object.create(b.GraphFactory.newInstanceByName("Construct2LineDefinedByPointSlope"));a._NAME="Construct2LineDefinedBySlopeIntercept";a._TYPE="LineDefinedBySlopeIntercept";d=a.init;var c,e=!1;a.defineFirstPointUsingIntercept=function(){return e};a.setYIntercept=function(b){c=b;e=!0;a.invalidate()};a.getYIntercept=
function(){return c};a.init=function(b,c,e){d(b,c,e);return a};a.adjustFirstPointUsingIntercept=function(c,d,h,j,l,m,n){e=!1;var p=a.getPoint0(),k=a.getPoint1(),r=p.getX(),s=p.getY(),o=k.getX(),k=k.getY(),u=a.getYIntercept(),t=a.defineSecondPointUsingSlope()?a.getSlope():(k-u)/o;if(void 0!==u)for(var w=0;j+w<=m;){r=d(j+w);s=h(t*r+u);if(s>=l&&s<=n)if(b.BasicMathToolkit.equal((k-s)/(o-r),t))break;else s=r=NaN;else k=o=NaN;w+=c}else s=r=NaN;p.setX(r);p.setY(s);p.invalidate()};return a})})(k);(function(b){b.GraphFactory.registerClass("Construct2ManipulableLine",
function(){var a,d;a=Object.create(b.GraphFactory.newInstanceByName("ConstructManipulable"));a._NAME="Construct2ManipulableLine";a._TYPE="ManipulableLine";d=a.init;var c,e=-1,f,g;a.setInitialNameRef=function(a){f=a};a.setNameRefID=function(a){g=a};a.init=function(b,c,e){d(b,c,e,a);return a};a.getPoint0=function(){return c.getPoint0()};a.getPoint1=function(){return c.getPoint1()};a.getPoints=function(){return c.getPoints()};a.getLine=function(){return c};a.setLine=function(b){c=b;c.move=a.move;c.generateClientQDelta=
a.generateClientQDelta};a.move=function(d,f){var g=c.getPoint0(),n=c.getPoint1(),p,k=a.getDefaultLabels(),r=a.getOverlapLabels(),s=a.getPossibleSnapTos(),o=s.length;if(0<o){var u={P0:{x:g.getX()+d,y:g.getY()+f},P1:{x:n.getX()+d,y:n.getY()+f}};p=0;for(var t=s[p],w=h(t),w=b.CoordinateGeometryToolkit.distanceLineLine(u,w),x=1;x<o;x++){var B=s[x],y=h(B),y=b.CoordinateGeometryToolkit.distanceLineLine(u,y);y<w&&(t=B,w=y,p=x)}o=t.getPoint0();t=t.getPoint1();u=o.getX();w=o.getY();x=t.getX();B=t.getY();if(0<=
e&&(s=s[e],y=k[s.getPoint0().getName()],void 0!==y&&(s.getPoint0().setLabel(y),s.getPoint0().invalidate()),k=k[s.getPoint1().getName()],void 0!==k))s.getPoint1().setLabel(k),s.getPoint1().invalidate();e=p;p=r[o.getName()];void 0!==p&&(o.setLabel(p),o.invalidate());r=r[t.getName()];void 0!==r&&(t.setLabel(r),t.invalidate());g.setX(u);g.setY(w);g.invalidate();n.setX(x);n.setY(B);n.invalidate()}return!1};var h=function(a){var b=a.getPoint0(),a=a.getPoint1();return{P0:{x:b.getX(),y:b.getY()},P1:{x:a.getX(),
y:a.getY()}}};a.generateClientQDelta=function(){if(!a.canGenerateQDelta())return null;var b;b=a.getPossibleSnapTos()[e].getName();return f!==b?{replace:{"@ref":g,nameRef:{"@id":g,$:b}}}:null};a.updateByQDelta=function(b,d){if(void 0!==d["@correct-as-submitted"])c.setIsCorrect(d["@correct-as-submitted"]);else{var e;a:{e=d.nameRef.$;for(var f=a.getPossibleSnapTos(),g=0;g<f.length;g++){var h=f[g];if(e===h.getName()){e=h;break a}}e=null}e=e.getPoint0();f=c.getPoint0();a.move(e.getX()-f.getX(),e.getY()-
f.getY(),0,!0)}a.getSpace().invalidate()};a.createValueChangedHandler=function(){return function(b){var c=null;a.getXId();c={replace:{"@ref":g,nameRef:{"@id":g,$:b}}};a.updateByQDelta("replace",c.replace)}};return a})})(k);(function(b){b.GraphFactory.registerClass("Construct2ManipulablePoint",function(){var a,d,c;a=Object.create(b.GraphFactory.newInstanceByName("ConstructManipulable"));a._NAME="Construct2ManipulablePoint";d=a.init;c=a.addPossibleSnapTo;var e,f,g=-1,h,j;a.setPoint=function(b){if(f=
b)f.setIsManipulablePoint(!0),e=f.move,f.move=a.move,f.generateClientQDelta=a.generateClientQDelta};a.setInitialNameRef=function(a){h=a};a.setNameRefID=function(a){j=a};a.init=function(b,c,e){d(b,c,e,a);return a};a.addPossibleSnapTo=function(b){c(b);b.bind("PRIMITIVE_INVALIDATED",a.onPrimitiveInvalidated)};a.move=function(c,d){var e=a.getPossibleSnapTos(),f=e.length,g;if(0<f){g=0;for(var j=e[g],j=b.CoordinateGeometryToolkit.distancePointPoint({x:c,y:d},{x:j.getX(),y:j.getY()}),h=1;h<f;h++){var k=
e[h],k=b.CoordinateGeometryToolkit.distancePointPoint({x:c,y:d},{x:k.getX(),y:k.getY()});k<j&&(j=k,g=h)}a.moveToSnapToIndex(g)}return!1};a.moveToSnapToIndex=function(b){var c=a.getPossibleSnapTos(),d=a.getOverlapLabels(),j=a.getDefaultLabels(),h=c[b];if(b!==g||isNaN(f.getX())||isNaN(f.getY())||f.getX()!==h.getX()||f.getY()!==h.getY())return 0<=g&&(c=c[g],j=j[c.getName()],void 0!==j&&(c.setLabel(j),c.isValid()&&c.invalidate())),g=b,b=d[h.getName()],void 0!==b&&(h.setLabel(b),h.isValid()&&h.invalidate()),
e(h.getX(),h.getY(),NaN,!1)};a.generateClientQDelta=function(){var b;b=a.getPossibleSnapTos()[g].getName();return h!==b?{replace:{"@ref":j,nameRef:{"@id":j,$:b}}}:null};a.updateByQDelta=function(b,c){if("replace"===b){var d;a:{var e=c.nameRef.$;d=a.getPossibleSnapTos();for(var g=0;g<d.length;g++){var j=d[g];if(e===j.getName()){d=j;break a}}d=null}e=d.getX();d=d.getY();a.move(e,d,0,!0);a.getSpace().invalidate()}"replaceAttributes"===b&&(e=c["@correct-as-submitted"],void 0!==e&&(f.setIsCorrect(e),a.getSpace().invalidate()))};
a.onPrimitiveInvalidated=function(){a.moveToSnapToIndex(g)};return a})})(k);(function(b){b.GraphFactory.registerClass("Construct2ManipulablePointConstrainedByLine",function(){var a,d;a=Object.create(b.GraphFactory.newInstanceByName("Construct2ManipulablePoint"));a._NAME="Construct2ManipulablePointConstrainedByLine";d=a.init;var c,e,f;a.init=function(b,c,e){d(b,c,e);return a};a.setPoint=function(b){if(e=b)c=e.move,e.move=a.move};a.setLine=function(b){f=b;f.bind("PRIMITIVE_INVALIDATED",a.onLineInvalidated)};
a.move=function(d,h){var j=a.getPossibleSnapTos(),l=j.length;if(0<l){for(var m=f.getPoint0(),n=f.getPoint1(),p={P0:{x:m.getX(),y:m.getY()},P1:{x:n.getX(),y:n.getY()}},m=[],k,n=0;n<l;n++)k=j[n],b.BasicMathToolkit.equal(b.CoordinateGeometryToolkit.separationLinePoint(p,{x:k.getX(),y:k.getY()})[0],0)&&m.push(k);if(0===m.length)return!1;j=m[0];p=b.CoordinateGeometryToolkit.distancePointPoint({x:d,y:h},{x:j.getX(),y:j.getY()});l=m.length;for(n=1;n<l;n++){k=m[n];var r=b.CoordinateGeometryToolkit.distancePointPoint({x:d,
y:h},{x:k.getX(),y:k.getY()});r<p&&(j=k,p=r)}e.setLabel(j.getLabel());c(j.getX(),j.getY(),NaN,!1);return!0}return!1};a.onLineInvalidated=function(){if(!a.move(e.getX(),e.getY(),NaN,!1)){var b=f.getPoint0(),d=f.getPoint1();c((b.getX()+d.getX())/2,(b.getY()+d.getY())/2,NaN,!1)}};return a})})(k);(function(b){b.GraphFactory.registerClass("Construct2MonotonicArc",function(){var a,d;a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PiecewiseBezierCurve3"));a._NAME="Construct2MonotonicArc";
a._TYPE="Construct2MonotonicArc";d=a.init;var c=0.5,e=null,f=null;a.init=function(b,c,e){d(b,c,e,a);return a};a.getConcavity=function(){return c};a.setConcavity=function(a){c=a};a.setPoint0=function(a){e=a};a.setPoint1=function(a){f=a};a.getPoint0=function(){return e};a.getPoint1=function(){return f};a.hasMoved=function(){return a.getHasMoved()};a.onPrimitiveInvalidated=function(){a.setHasMoved(!0);var b=a.getPoints(),d=b[0],e=b[1],f=b[2],b=b[3];d.getY()<b.getY()?0<=c?(e.setX(d.getX()),e.setY(d.getY()+
(b.getY()-d.getY())*c),f.setX(b.getX()-(b.getX()-d.getX())*c),f.setY(b.getY())):0>c&&(e.setX(d.getX()+(b.getX()-d.getX())*-c),e.setY(d.getY()),f.setX(b.getX()),f.setY(b.getY()-(b.getY()-d.getY())*-c)):d.getY()===b.getY()?(e.setX(d.getX()+1/3*(b.getX()-d.getX())),e.setY(d.getY()),f.setX(d.getX()+2/3*(b.getX()-d.getX())),f.setY(d.getY())):d.getX()===b.getX()?(e.setX(d.getX()),d.getX()<=b.getX()?(e.setY(d.getY()+1/3*(b.getY()-d.getY())),f.setY(d.getY()+2/3*(b.getY()-d.getY()))):(e.setY(b.getY()+1/3*
(d.getY()-b.getY())),f.setY(b.getY()+2/3*(d.getY()-b.getY()))),f.setX(d.getX())):0<=c?(e.setX(d.getX()+(b.getX()-d.getX())*c),e.setY(d.getY()),f.setX(b.getX()),f.setY(b.getY()+(d.getY()-b.getY())*c)):0>c&&(e.setX(d.getX()),e.setY(d.getY()-(d.getY()-b.getY())*-c),f.setX(b.getX()-(b.getX()-d.getX())*-c),f.setY(b.getY()));a.invalidate()};a.updateByQDelta=function(b,c){a.setIsCorrect(c["@correct-as-submitted"]);a.getSpace().invalidate()};return a})})(k);(function(b){b.GraphFactory.registerClass("Construct2PointConstrainedByLine",
function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive"));a._NAME="Construct2PointConstrainedByLine";var d=a.init,c,e,f,g=0;a.getLine=function(){return e};a.setLine=function(b){if(b&&(e=b,e.bind("PRIMITIVE_INVALIDATED",a.onLineInvalidated),e)){var c=e.getPoint0(),d=e.getPoint1(),b=c.getX()+g*(d.getX()-c.getX()),c=c.getY()+g*(d.getY()-c.getY());f.move(b,c,NaN,!1)}};a.init=function(b,e,l,m,n){d(b,e,l);f=m;c=f.move;f.move=a.move;g=n;return a};a.move=function(a,d,g,m){var m=
void 0===m?!0:m,g=f.getX(),n=f.getY(),p;m?(m=f.getSpaceCoordinateSystem(),p=f.getSuperPrimitives()[0].getName()===f.getName(),a=m.resolveCartesianXToResolutionAndLimits(a,p),p=m.resolveCartesianYToResolutionAndLimits(d,p)):p=d;var k=e.getPoint0(),r=e.getPoint1(),d={x:k.getX(),y:k.getY()},m={x:r.getX(),y:r.getY()};k.isFinite()&&r.isFinite()?(g=(a-d.x)*(m.x-d.x)+(p-d.y)*(m.y-d.y),n=b.CoordinateGeometryToolkit.distancePointPoint(d,m),g/=n*n,a=d.x+g*(m.x-d.x),p=d.y+g*(m.y-d.y)):(a=g,p=n);return c(a,p,
NaN,!1)};a.onLineInvalidated=function(){var a=e.getPoint0(),d=e.getPoint1(),a={x:a.getX(),y:a.getY()},d={x:d.getX(),y:d.getY()},g=f.getX(),m=f.getY(),g=(g-a.x)*(d.x-a.x)+(m-a.y)*(d.y-a.y),m=b.CoordinateGeometryToolkit.distancePointPoint(a,d),g=g/(m*m);return c(a.x+g*(d.x-a.x),a.y+g*(d.y-a.y),NaN,!1)};return a})})(k);(function(b){b.GraphFactory.registerClass("Construct2PointConstrainedByLineLine",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Primitive2PointFree"));a._NAME=
"Construct2PointConstrainedByLineLine";var d=a.init,c,e=[],f=function(){if(!(2>e.length)){var a=e[0],d=a.getPoint0(),a=a.getPoint1(),f={P0:{x:d.getX(),y:d.getY()},P1:{x:a.getX(),y:a.getY()}},l=e[1],m=l.getPoint0(),l=l.getPoint1(),n={P0:{x:m.getX(),y:m.getY()},P1:{x:l.getX(),y:l.getY()}};if(!d.isFinite()||!a.isFinite()||!m.isFinite()||!l.isFinite()||b.CoordinateGeometryToolkit.gradientPointPoint(f.P0,f.P1)===b.CoordinateGeometryToolkit.gradientPointPoint(n.P0,n.P1)&&!b.CoordinateGeometryToolkit.areLinesCoincident(f.P0,
f.P1,n.P0,n.P1))c.remove();else if(d=b.CoordinateGeometryToolkit.intersectionLineLine(f,n))a=d.y,c.setX(d.x),c.setY(a),c.invalidate()}};a.getPoint=function(){return c};a.getLines=function(){return e};a.addLine=function(b){if(b){e.push(b);for(var b=b.getPoints(),c=b.length,d=0;d<c;d++)b[d].bind("PRIMITIVE_INVALIDATED",a.onPrimitiveInvalidated);f()}};a.init=function(b,e,f,l){d(b,e,f);c=l;return a};a.remove=function(){a.setX(Infinity);a.setY(Infinity);a.invalidate()};a.move=function(){};a.onPrimitiveInvalidated=
function(){f()};return a})})(k);(function(b){b.GraphFactory.registerClass("ConnectedPoint",function(){var a={_NAME:"ConnectedPoint"},b,c,e,f;a.init=function(f,h,j){b=f;c=h;e=j;e.allowMove=a.allowMove;return a};a.setConnectedPoints=function(a){f=a};a.getInitPosition=function(){return c};a.getPositionId=function(){return b};a.getPoint=function(){return e};a.allowMove=function(a,b,c,d){return!f.areCoordinatesColliding(c,d)};return a})})(k);(function(b){b.GraphFactory.registerClass("ConnectedPointPosition",
function(){var a={_NAME:"ConnectedPointPosition"},b=null,c=!1;a.init=function(e,f){c=e;b=f;return a};a.getConnectedPoint=function(){return b};a.isInViewport=function(){return c};a.setInViewport=function(a){c=a};return a})})(k);(function(b){b.GraphFactory.registerClass("ConnectedPointPositions",function(){var a={_NAME:"ConnectedPointPositions"},d=null;a.init=function(c){d=b.GraphFactory.newInstanceByName("FixedLengthLinkedList").initWithArray(c);return a};a.moveToPalette=function(a){var b=d.getIndexByPointId(a),
f=d.findByIndex(b),g=d.getLength()-1;d.insert(b,a,g);d.TEMPgetPositionList();f.setInViewport(!1)};a.moveToViewport=function(a){for(var b=d.getIndexByPointId(a),f=d.findByIndex(b),g=!1,h=d.getAllEntries(),j=h.length-1;0<=j;j--){var l=h[j];if(l.getConnectedPoint().getPoint().getID()!==a&&l.isInViewport()){d.insert(b,a,j+1);g=!0;break}}g||d.insert(b,a,0);f.setInViewport(!0)};a.moveByIndex=function(a,b,f){d.move(a,b,f)};a.getPositionArray=function(){return d.getAllEntries()};a.findPositionByPointId=function(a){return d.findByIndex(d.getIndexByPointId(a))};
a.findIndexByPositionId=function(a){return d.getIndexByPositionId(a)};a.findPositionByIndex=function(a){return d.findByIndex(a)};a.getNumberOfPointsInViewport=function(){for(var a=0,b=d.getAllEntries(),f=0;f<b.length;f++)b[f].isInViewport()&&a++;return a};a.arePositionsResolved=function(){return d.arePositionsResolved()};a.printPositionArray=function(){d.printAllEntries()};a.revertToInitPositions=function(){d.revertToInitPositions()};return a})})(k);(function(b){b.GraphFactory.registerClass("FixedLengthLinkedList",
function(){var a={_NAME:"FixedLengthLinkedList"},d,c=[];a.initWithArray=function(e){d=e.length;for(var f=0;f<d;f++)c[f]=b.GraphFactory.newInstanceByName("PositionQueue").init(f),c[f].add(e[f]);return a};a.TEMPgetPositionList=function(){return c};a.getLength=function(){return d};a.getAllEntries=function(){for(var a=[],b=0;b<d;b++){var g=c[b].getAllEntries();a.push.apply(a,g)}return a};a.printAllEntries=function(){for(var a=0;a<d;a++){var f=c[a].getAllEntries();b.each(f,function(a,b){b.getConnectedPoint().getPositionId();
b.getConnectedPoint().getPoint().getID()})}};a.insert=function(a,b,d){a!==d&&(a=c.splice(a,1),c.splice(d,0,a[0]))};a.move=function(a,b,d){a!==d&&(a=c[a].remove(b),c[d].add(a))};a.getIndexByPointId=function(a){for(var b=0;b<c.length;b++)if(null!==c[b].findByPointId(a))return b;throw Error("FixedLengthLinkedList.findById: id "+a+" not found.");};a.getIndexByPositionId=function(a){for(var b=0;b<c.length;b++)if(null!==c[b].findByPositionId(a))return b;throw Error("FixedLengthLinkedList.findByPositionId: id "+
a+" not found.");};a.findByIndex=function(a,b){return void 0===b?c[a].peek():c[a].findByPointId(b)};a.arePositionsResolved=function(){for(var a=0;a<c.length;a++)if(1!==c[a].getLength())return!1;return!0};a.revertToInitPositions=function(){for(var b=[],d=0;d<c.length;d++)for(var g=c[d].getAllEntries(),h=0;h<g.length;h++){var j=g[h],l=j.getConnectedPoint().getInitPosition()-1,m=d,j=j.getConnectedPoint().getPoint().getID();b.push({fromIndex:m,fromPointId:j,toIndex:l})}for(d=0;d<b.length;d++)g=b[d],a.move(g.fromIndex,
g.fromPointId,g.toIndex);if(!a.arePositionsResolved())throw Error("FixedLengthLinkedList.revertToInitPositions: Positions are not resolved correctly");};return a})})(k);(function(b){b.GraphFactory.registerClass("PositionQueue",function(){var a={_NAME:"PositionQueue"},b,c=[];a.init=function(c){b=c;return a};a.getPositionNumber=function(){return b};a.add=function(a){c.push(a)};a.peek=function(){return c[0]};a.remove=function(a){for(var b=0;b<c.length;b++){var d=c[b],h=d.getConnectedPoint().getPoint().getID();
if(a===h)return c.splice(b,1),d}throw Error("PositionQueue.remove, connectedPointId not found: "+a);};a.findByPointId=function(a){for(var b=0;b<c.length;b++){var d=c[b],h=d.getConnectedPoint().getPoint().getID();if(a===h)return d}return null};a.findByPositionId=function(a){for(var b=0;b<c.length;b++){var d=c[b],h=d.getConnectedPoint().getPositionId();if(a===h)return d}return null};a.getAllEntries=function(){for(var a=[],b=0;b<c.length;b++)a.push(c[b]);return a};a.getLength=function(){return c.length};
return a})})(k);(function(b){b.GraphFactory.registerClass("GraphGroup",function(){var a={_NAME:"GraphGroup"},d,c,e,f,g=null,h,j=[];a.getName=function(){return d};a.getAppearance=function(){return c};a.getLabel=function(){return e};a.setIsCorrect=function(a){if(!0===a||!1==a)g=a};a.getIsCorrect=function(){return g};a.init=function(b,g,j,l,k){d=b;c=g;e=j;f=k;h=l;return a};a.canReturnToPalette=function(){return h};a.addPrimitive=function(a){j.push(a)};a.getPrimitives=function(a){return l(null,a)};a.getPoints=
function(a){return l(b.GraphConstants.ELEMENT_TYPE_POINT,a)};a.getSegments=function(a){return l(b.GraphConstants.ELEMENT_TYPE_SEGMENT,a)};a.getRays=function(a){return l(b.GraphConstants.ELEMENT_TYPE_RAY,a)};a.getLines=function(a){return l(b.GraphConstants.ELEMENT_TYPE_LINE,a)};a.getLinesDefinedByPointSlope=function(a){return l(b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE,a)};a.getLinesDefinedBySlopeIntercept=function(a){return l(b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_SLOPE_INTERCEPT,
a)};a.getPolygons=function(a){return b.merge(b.merge(b.merge(l(b.GraphConstants.ELEMENT_TYPE_RECTANGLE,a),l(b.GraphConstants.ELEMENT_TYPE_QUADRILATERAL,a)),l(b.GraphConstants.ELEMENT_TYPE_TRIANGLE,a)),l(b.GraphConstants.ELEMENT_TYPE_POLYGON,a))};a.getCircles=function(a){return l(b.GraphConstants.ELEMENT_TYPE_CIRCLE,a)};a.getConnectedPoints=function(a){return l(b.GraphConstants.ELEMENT_TYPE_CONNECTED_POINTS,a)};a.getParabolas=function(a){return l(b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_X,
a).concat(l(b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_Y,a))};a.getCatmullRoms=function(a){return l(b.GraphConstants.ELEMENT_TYPE_CATMULL_ROM,a)};a.getAreas=function(a){return l(b.GraphConstants.ELEMENT_TYPE_AREA,a)};a.getPiecewiseBezierCurvesWithDegree1=function(a){return l(b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_1,a)};a.getPiecewiseBezierCurvesWithDegree3=function(a){return l(b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_3,a)};a.getNPointCurves=function(a){return l(b.GraphConstants.ELEMENT_TYPE_N_POINT_CURVE,
a)};a.getMonotonicArcs=function(a){return l(b.GraphConstants.ELEMENT_TYPE_MONOTONIC_ARC,a)};a.getPrimitiveByName=function(a){for(var b=0,c=j.length;b<c;b++){var d=j[b];if(d.getName()===a)return d}};a.updateByQDelta=function(b,c){a.setIsCorrect(c["@correct-as-submitted"]);f.invalidateGroup(a)};var l=function(a,b){for(var b="undefined"!==typeof b?b:{},c=b.isUsed,d=b.isDescendant,e=b.isNamed,f=b.isConstraint,g=[],h=0,l=j.length;h<l;h++){var k=j[h];(null===a||k._TYPE===a)&&((void 0===c||k.isUsed()===
c)&&(void 0===d||k.isDescendant()===d)&&(!e||!k.getIsGeneric())&&(void 0===f||k.isConstraint()===f))&&g.push(k)}return g};return a})})(k);(function(b){b.GraphFactory.registerClass("GraphInventory",function(){return{_NAME:"GraphInventory",init:function(a){var d=[],c=a.groupRegistry,e;for(e in c)if(c.hasOwnProperty(e)){var f=c[e],f=Object.create(b.GraphFactory.newInstanceByName("GraphInventoryGroup")).init(a,f);d.push(f)}return d}}})})(k);(function(b){b.GraphFactory.registerClass("GraphInventoryGroup",
function(){var a={_NAME:"GraphInventoryGroup"},d,c;a.getName=function(){return d.getName()};a.getAppearance=function(){return d.getAppearance()};a.getLabel=function(){return d.getLabel()};a.getInventoryObjects=function(){return c};a.init=function(e,f){d=f;for(var g=[],h=d.getPrimitives(),j=0,l=h.length;j<l;j++){var m=h[j],n;a:{var p=e;n=m;switch(n._TYPE){case b.GraphConstants.ELEMENT_TYPE_POINT:for(var k=!1,p=p.getPrimitives(),r=0,s=p.length;r<s;r++){var o=p[r];o._TYPE!==b.GraphConstants.ELEMENT_TYPE_POINT&&
o._TYPE!==b.GraphConstants.ELEMENT_TYPE_AREA&&(k=k||o.hasDescendant(n))}n=k;break a;case b.GraphConstants.ELEMENT_TYPE_SEGMENT:k=!1;p=p.getPrimitives();r=0;for(s=p.length;r<s;r++)o=p[r],o._TYPE!==b.GraphConstants.ELEMENT_TYPE_SEGMENT&&(k=k||o.hasDescendant(n));n=k;break a}n=!1}n||(m=Object.create(b.GraphFactory.newInstanceByName("GraphInventoryObject")).init(m),g.push(m))}c=g;return a};return a})})(k);(function(b){b.GraphFactory.registerClass("GraphInventoryObject",function(){var a={_NAME:"GraphInventoryObject"},
b;a.getName=function(){return b.getName()};a.getType=function(){return b._TYPE};a.getPaletteType=function(){return b.getPaletteType()};a.getLabel=function(){return b.getLabel()};a.getFlags=function(){return b.flags};a.isDraggable=function(){return b.getIsFree()};a.isUsed=function(){return b.isUsed()};a.init=function(c){b=c;return a};return a})})(k);(function(b){function a(){}a.parseAreas=function(d,c,e){b.jsonutil.executeForChild(d,"area",function(b){a.parseArea(b,c,e)})};a.parseArea=function(d,c,
e){for(var f=d["@id"],g=d["@name"],h=d["@gradeByName"],j=b.jsonutil.getChildren(d),l,m=null,n=0,p=j.length;n<p;n++){var k=j[n],r=k.value;switch(k.name){case "point":l=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(k,c,e,!0);l.setPaletteType(b.GraphConstants.ELEMENT_TYPE_AREA);break;case "constraints":m=a.parseConstraints(r,c,e)}}d=a.createArea(c,e,f,g,l,m,h,d);d.addDescendant(l);c.addPrimitive(d);e.addPrimitive(d);c.addToRegistry(l.getID(),d);return d};a.parseConstraints=function(a,
c){for(var e=b.jsonutil.getChildren(a),f=[],g=0;g<e.length;g++){var h=e[g],j=h.value;switch(h.name){case "nameRef":if(h=b.jsonutil.parseCalcValueForChild(j).value,h=c.getPrimitiveByName(h),void 0!==h){if("Primitive2PointFree"===h._NAME&&h.isConnectedPoint())for(var j=h.getConnectedPoints().getAllPoints(),l=0;l<j.length;l++)f.push(j[l]);j=h.getDescendants();for(l=0;l<j.length;l++)f.push(j[l]);j=h.getSiblings();for(l=0;l<j.length;l++)f.push(j[l]);f.push(h)}}}return f};a.createArea=function(a,c,e,f,
g,h,j,l){a=b.GraphFactory.newInstanceByName("ConstructArea").init(e,f,a);void 0!==j&&(null!==j&&!j)&&a.setIsGeneric(!0);a.setPoint(g);a.setIsFree(!1);for(var m in h)a.addConstraint(h[m]);a.flags={};var n,p,k;void 0!==l&&(n=l["@showArea"],k=l["@showCoordinates"],p=l["@showPerimeter"]);a.flags.showArea=void 0!==n?n:!0;a.flags.showPerimeter=void 0!==p?p:!0;a.flags.showCoordinates=void 0!==k?k:!0;a.flags.isVisible=!0;a.invalidate();return a};b.GraphFactory.registerClass("GraphAreaJSONParser",a)})(k);
(function(b){function a(){}a.parseCatmullRoms=function(d,c,e){b.jsonutil.executeForChild(d,"catmullRom",function(b){a.parseCatmullRom(b,c,e)})};a.parseCatmullRom=function(d,c,e){for(var f=d["@id"],g=d["@name"],h=d["@gradeByName"],j=b.jsonutil.getChildren(d),l=[],m=0,n=j.length;m<n;m++){var p=j[m];(p=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(p,c,e,!0))&&l.push(p)}d=a.createCurve(c,e,f,g,l,h,d);c.addPrimitive(d);e.addPrimitive(d);return d};a.createCurve=function(a,c,e,f,g,h,j){a=
b.DiagramFrameworkFactory.newInstanceByName("Primitive2CatmullRom").init(e,f,a);void 0!==h&&(null!==h&&!h)&&a.setIsGeneric(!0);h=g.length;for(c=0;c<h;c++)a.addPoint(g[c]);a.setIsRigid(!0);a.flags={};var l;void 0!==j&&(l=j["@linePattern"],a.flags.appearance=j["@appearance"]);a.flags.linePattern=void 0!==l?l:"solid";a.flags.isVisible=!0;return a};b.GraphFactory.registerClass("GraphCatmullRomJSONParser",a)})(k);(function(b){function a(){}a.parseCircles=function(d,c,e){b.jsonutil.executeForChild(d,"circle",
function(b){a.parseCircle(b,c,e)})};a.parseCircle=function(d,c,e){for(var f=d["@id"],g=d["@name"],h=d["@gradeByName"],j=d["@isIncluded"],l=b.jsonutil.getChildren(d),m,n,p=0,k=l.length;p<k;p++){var r=l[p],s=r.value;switch(r.name){case "centerPoint":n=b.jsonutil.getChildren(s);n=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(n[0],c,e,!0);break;case "circumPoint":m=b.jsonutil.getChildren(s),m=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(m[0],c,e,!0)}}d=a.createCircle(c,
e,f,g,n,m,j,h,d);c.addPrimitive(d);e.addPrimitive(d);return d};a.createCircle=function(a,c,e,f,g,h,j,l,m){a=b.DiagramFrameworkFactory.newInstanceByName("Primitive2Circle").init(e,f,a);void 0!==l&&(null!==l&&!l)&&a.setIsGeneric(!0);a.setCenterPoint(g);a.setPointOnCircle(h);void 0!==j&&a.setIsIncluded(j);a.flags={};var n,p,k,r;void 0!==m&&(n=m["@showArea"],p=m["@showRadius"],k=m["@showCircumference"],r=m["@fillPattern"],a.flags.appearance=m["@appearance"]);a.flags.showArea=void 0!==n?n:!0;a.flags.showRadius=
void 0!==p?p:!0;a.flags.showCircumference=void 0!==k?k:!0;a.flags.fillPattern=void 0!==r?r:"solid";a.flags.isVisible=!0;return a};b.GraphFactory.registerClass("GraphCircleJSONParser",a)})(k);(function(b){function a(){}a.parseConnectedPointsDegree3=function(d,c,e){b.jsonutil.executeForChild(d,"connectedPoints",function(b){a.parseConnectedPointDegree3(b,c,e)})};a.parseConnectedPointDegree3=function(d,c,e){var f=d["@id"],g=d["@name"],h=d["@gradeByName"];if(3===parseInt(d["@degree"])){for(var j=b.jsonutil.getChildren(d),
l=[],m=0,n=j.length;m<n;m++){var p=b.jsonutil.getChildren(j[m].value),p=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(p[0],c,e,!0);p.flags.connection=!0;p&&l.push(p)}d=a.createCurve(c,e,f,g,l,h,d);c.addPrimitive(d);e.addPrimitive(d);return d}};a.createCurve=function(a,c,e,f,g,h,j){c=g.length;f=b.DiagramFrameworkFactory.newInstanceByName("Primitive2NPointCurve").init(e,f,a);a.addToRegistry(e,f);for(a=0;a<c;a++)f.addControlPoint(g[a]);void 0!==h&&(null!==h&&!h)&&f.setIsGeneric(!0);
f.setIsRigid(!0);f.flags={};var l;void 0!==j&&(l=j["@linePattern"],f.flags.appearance=j["@appearance"]);f.flags.linePattern=void 0!==l?l:"solid";f.flags.isVisible=!0;return f};b.GraphFactory.registerClass("GraphConnectedPointsDegree3JSONParser",a)})(k);(function(b){function a(){}a.parseConnectedPoints=function(c,d,g){b.jsonutil.executeForChild(c,"connectedPoints",function(b){a.parseConnectedPoint(b,d,g)})};a.parseConnectedPoint=function(c,d,g){var h=c["@id"],j=c["@name"],l=c["@gradeByName"];if(3!==
parseInt(c["@degree"])){for(var m=b.jsonutil.getChildren(c),n=[],p=0,k=m.length;p<k;p++){var r=m[p],s=r.value["@id"],o=r.value["@position"],r=b.jsonutil.getChildren(r.value);0==p&&void 0!==j&&(r[0].value["@name"]=j);r=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(r[0],d,g,!0);r.flags.connection=!0;s=b.GraphFactory.newInstanceByName("ConnectedPoint").init(s,o,r);r&&n.push(s)}c=a.createConnectedPoint(d,g,h,j,n,l,c);for(g=0;g<n.length;g++)s=n[g],h=s.getPositionId(),d.addToRegistry(h,
c);return c}};a.createConnectedPoint=function(a,f,g,h,j,l,m){var n=function(a,c,d,e,f,g,j,h){d=b.GraphFactory.getClassByName("GraphSegmentJSONParser").createSegment(a,c,d,e,f,g,j,h);b.GraphFactory.getClassByName("GraphSegmentJSONParser").addSegment(a,c,d);d.setIsConnectedPointSegment(!0);return d},g=b.GraphFactory.newInstanceByName("Construct2ConnectedPoints").init(g,h,a,j);void 0!==l&&(null!==l&&!l)&&g.setIsGeneric(!0);l=j.length;for(h=1;h<l;h++)g.addSegment(n(a,f,null,null,null,null,null,m));for(h=
0;h<l;h++)g.addPoint(j[h].getPoint()),j[h].setConnectedPoints(g);j[0].getPoint().setIsConnectedPoint(!0);j[0].getPoint().setConnectedPoints(g);g.setIsFree(!1);f.addPrimitive(g);a.addToRegistry(g.getID(),g);d(g,m);c(g);g.invalidate();return g};var d=function(a,b){a.flags={};var c;void 0!==b&&(c=b["@linePattern"],a.flags.appearance=b["@appearance"]);a.flags.linePattern=void 0!==c?c:"solid";return a},c=function(a){var c=a.getAllPoints(),d=a.getAllSegments();b.each(c,function(a,c){b.each(d,function(a,
b){c.addSibling(b)})});b.each(d,function(a,c){b.each(d,function(a,b){c.addSibling(b)})})};b.GraphFactory.registerClass("GraphConnectedPointsJSONParser",a)})(k);(function(b){function a(){}a.parseDropMarker=function(c,d,e){b.jsonutil.executeForChild(c,"dropMarker",function(b){a._parseDropMarker(b,d,e)})};a._parseDropMarker=function(c,g,h){var j=c["@id"],l=c["@name"],m=c["@gradeByName"];if(void 0===c["@appearance"]){var n=h.getAppearance();c["@appearance"]=void 0===n?"blackPlus":n}for(var n=c["@appearance"],
p=b.jsonutil.getChildren(c),k=null,r=!1,s=null,o=null,u=0,t=p.length;u<t;u++){var w=p[u],x=w.value;switch(w.name){case "horizontal":w=b.jsonutil.getValue(x,["label"]);w={name:"point",value:d(w,!0)};r||(w.value["@usage"]="derived");s=e(w,g,h,!0);s.setCanGenerateQDelta(!1);s.flags.isShortLabelDistance=!0;break;case "vertical":w=b.jsonutil.getValue(x,["label"]);w={name:"point",value:d(w,!1)};r||(w.value["@usage"]="derived");o=e(w,g,h,!0);o.setCanGenerateQDelta(!1);o.flags.isShortLabelDistance=!0;break;
default:void 0!==l&&(w.value["@name"]=l),w.value["@appearance"]=n,k=e(w,g,h,!0),r="point"===w.name}}return a.createDropMarker(g,h,j,l,k,s,o,m,c)};var d=function(a,b){var c={"@grade":!0,"@id":"__dummy","@showPoints":!1,"@type":"free",_:[{x:{"@id":"__dummy",value:{$:""}}},{y:{"@id":"__dummy",value:{$:""}}}]};if(void 0===a||void 0===a.$&&void 0===a.calc&&void 0===a._)return c;a["@align"]=b?"left":"below";c._.push({label:a});return c};a.createDropMarker=function(a,d,e,j,l,m,n,p,k){j=b.GraphFactory.newInstanceByName("Construct2DropMarker").init(e,
j,a);j.setMarkerPoint(l);null!==m&&c(a,d,m,l,j,k,!0);null!==n&&c(a,d,n,l,j,k,!1);j.addDescendant(l);l.flags.xDropLine=null!==m;l.flags.yDropLine=null!==n;l.flags.isDropMarker=!0;j.invalidate();a.addToRegistry(e,l);return j};var c=function(a,c,d,j,l,m,n){var p=j.getIsFree(),p=e({name:"point",value:{"@showPoints":!1,"@type":p?"free":"fixed",_:[{x:{value:{"@id":101,$:j.getX()}}},{y:{value:{"@id":102,$:j.getY()}}}]}},a,c,!0);p.setCanGenerateQDelta(!1);if(isNaN(j.getX())&&isNaN(j.getY()))d.setInitialX(NaN),
d.setInitialY(NaN);else{var k=l.getXAxisMin(),r=l.getYAxisMin();n?(d.setInitialX(k),d.setInitialY(j.getY()),d.setX(k),d.setY(j.getY())):(d.setInitialX(j.getX()),d.setInitialY(r),d.setX(j.getX()),d.setY(r))}m=b.GraphFactory.getClassByName("GraphSegmentJSONParser").createSegment(a,c,null,null,d,p,null,m,!1);b.GraphFactory.getClassByName("GraphSegmentJSONParser").addSegment(a,c,m);m.setCanHaveConcurrentPoints(!0);m.flags.returnToPalette=c.canReturnToPalette();m.flags.linePattern="dashed";m.flags.appearance=
j.flags.appearance;n?l.setHorizontalSegment(m):l.setVerticalSegment(m);j.addDescendant(d);j.addDescendant(p);j.addDescendant(m)},e=function(a,c,d,e){return b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(a,c,d,e)};b.GraphFactory.registerClass("GraphDropMarkerJSONParser",a)})(k);(function(b){b.GraphFactory.registerClass("GraphJSONParser",function(){var a={_NAME:"GraphJSONParser"},d=0,c={limits:{"@coordinate":"x","@id":19,interval:{"@id":20,_:[{number:{"@id":21,_:[{value:{"@id":22,
$:-Infinity}},{included:{"@id":23,$:!1}}]}},{number:{"@id":24,_:[{value:{"@id":25,$:Infinity}},{included:{"@id":26,$:!1}}]}}]}}},e={limits:{"@coordinate":"y","@id":52,interval:{"@id":53,_:[{number:{"@id":54,_:[{value:{"@id":55,$:-Infinity}},{included:{"@id":56,$:!1}}]}},{number:{"@id":57,_:[{value:{"@id":58,$:Infinity}},{included:{"@id":59,$:!1}}]}}]}}};a.injectDefaults=function(a){0===b.jsonutil.countChildrenWithAttributeValue(a,"limits","@coordinate","x")&&a._.push(c);0===b.jsonutil.countChildrenWithAttributeValue(a,
"limits","@coordinate","y")&&a._.push(e)};a.parseState=function(a,c){for(var d=b.jsonutil.getChildren(a),e=0;e<d.length;e++){var m=d[e];if("group"===m.name){var m=m.value,n=c,p=f(m,n);b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoints(m,n,p);b.GraphFactory.getClassByName("GraphLineJSONParser").parseLines(m,n,p);b.GraphFactory.getClassByName("GraphSegmentJSONParser").parseSegments(m,n,p);b.GraphFactory.getClassByName("GraphRayJSONParser").parseRays(m,n,p);b.GraphFactory.getClassByName("GraphRectangleJSONParser").parseRectangles(m,
n,p);b.GraphFactory.getClassByName("GraphPolygonJSONParser").parsePolygons(m,n,p);b.GraphFactory.getClassByName("GraphCircleJSONParser").parseCircles(m,n,p);b.GraphFactory.getClassByName("GraphPiecewiseBezierCurveJSONParser").parsePiecewiseBezierCurves(m,n,p);b.GraphFactory.getClassByName("GraphPolynomialCurveJSONParser").parsePolynomialCurves(m,n,p);b.GraphFactory.getClassByName("GraphMonotonicArcJSONParser").parseMonotonicArcs(m,n,p);b.GraphFactory.getClassByName("GraphConnectedPointsJSONParser").parseConnectedPoints(m,
n,p);b.GraphFactory.getClassByName("GraphConnectedPointsDegree3JSONParser").parseConnectedPointsDegree3(m,n,p);b.GraphFactory.getClassByName("GraphPlotJSONParser").parsePlots(m,n,p);b.GraphFactory.getClassByName("GraphAreaJSONParser").parseAreas(m,n,p);b.GraphFactory.getClassByName("GraphParabolaJSONParser").parseParabolas(m,n,p);b.GraphFactory.getClassByName("GraphCatmullRomJSONParser").parseCatmullRoms(m,n,p);b.GraphFactory.getClassByName("GraphDropMarkerJSONParser").parseDropMarker(m,n,p)}}};a.parseLimits=
function(c){return b.DiagramFrameworkFactory.newInstanceByName("Limits").init(null,c,a)};a.parseResolution=function(c){return b.DiagramFrameworkFactory.newInstanceByName("Resolution").init(null,c,a)};a.parseAxis=function(c){return b.DiagramFrameworkFactory.newInstanceByName("DiagramFramework_Axis").init(null,c,a)};var f=function(a,c){var e=a["@id"],f="string"===typeof a["@name"]?a["@name"]:"Generic"+d++,m=a["@appearance"],n=b.jsonutil.executeForFirstChild(a,"label",function(a){var c;if(b.isArray(a.$)){c=
"";for(var d=0;d<a.$.length;d++)c+=b.jsonutil.parseCalcValueForChild(a.$[d]).value}else if(void 0!==a._)for(d in a=b.jsonutil.getChildren(a),c=[],a){var e=a[d];"$"===e.name?(e.text=e.value,e.baseline="normal"):(e.text=e.value.$,e.baseline=e.name);c.push(e)}else c=b.jsonutil.parseCalcValueForChild(a).value;return c}),p=!1===a["@returnToPalette"]?!1:!0,m=b.GraphFactory.newInstanceByName("GraphGroup").init(f,m,n,p,c);c.addToRegistry(e,m);return c.groupRegistry[f]=m};return a})})(k);(function(b){function a(){}
a.parseLabel=function(b){return a.parseLabelWithGlyphPadding(b,-1)};a.parseLabelWithGlyphPadding=function(a,c){var e=b.jsonutil.parseCalcValueForChild(a).value,f=[],f=[];if("string"===typeof e)f.push({text:e});else for(var e=b.jsonutil.getChildren(a),g=e.length,f=[],h=0;h<g;h++)switch(e[h].name){case "subscript":case "superscript":f.push({text:b.jsonutil.parseCalcValueForChild(e[h].value).value,baseline:e[h].name});break;default:void 0===a._?f.push({text:b.jsonutil.parseCalcValueForChild(a).value}):
f.push({text:b.jsonutil.parseCalcValueForChild(a._[h]).value})}if(-1!=c){e=c-f.length;for(g=0;g<e;g++)f.push({text:""})}return f=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(f)};b.GraphFactory.registerClass("GraphLabelJSONParser",a)})(k);(function(b){function a(){}a.parseLines=function(c,d,e){b.jsonutil.executeForChild(c,"line",function(b){a.parseStandardLine(b,d,e,!0)});b.jsonutil.executeForChild(c,"lineConstrainedByLines",function(a){b.GraphFactory.getClassByName("GraphManipulableLineJSONParser").parseManipulableLine(a,
d,e,!0)})};a.parseLine=function(c,d,e,f){var m;switch(c.name){case "line":m=a.parseStandardLine(c.value,d,e,f);break;case "lineConstrainedByLines":m=b.GraphFactory.getClassByName("GraphManipulableLineJSONParser").parseManipulableLine(c.value,d,e,f)}return m};var d=function(a,c,d){return b.GraphFactory.getClassByName("GraphPointJSONParser").addPoint(a,c,d)},c=function(a,b){for(var c in a.flags)a.flags.hasOwnProperty(c)&&(b.flags[c]=a.flags[c])};a.parseLineFlags=function(a){var b={};b.showSlope=a["@showSlope"];
b.showXIntercept=a["@showXIntercept"];b.showYIntercept=a["@showYIntercept"];b.appearance=a["@appearance"];return b};a.parseStandardLine=function(c,d,e,f){var m,n,p=c["@id"],k=c["@name"],r=c["@usage"],s=c["@gradeByName"];m=b.jsonutil.getChildren(c);for(var o=[],u,t,w=c["@isIncluded"],x=0,B=m.length;x<B;x++){u=m[x];var y=u.value;switch(u.name){case "slope":t=b.jsonutil.parseCalcValueForChild(y).value;"string"===typeof t&&-1!==t.indexOf("/")&&(t=t.split("/"),t=parseInt(t[0],10)/parseInt(t[1],10).toString());
t=parseFloat(t);break;case "yIntercept":n={value:parseFloat(b.jsonutil.parseCalcValueForChild(y).value),flags:b.GraphFactory.getClassByName("GraphPointJSONParser").parsePointFlags(y)};break;default:(u=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(u,d,e,void 0))&&o.push(u)}}c=a.parseLineFlags(c);m=t;var x=o[0],z;"ghost"===r&&(c.appearance="ghost");void 0!==m?void 0!==n?z=a.createLineDefinedBySlopeIntercept(d,e,p,k,r,m,n,w,s,c):1===o.length&&(z=a.createLineDefinedByPointSlope(d,e,
p,k,r,x,m,w,s,c)):z=a.createLine(d,e,p,k,r,x,o[1],w,s,c);f&&a.addLine(d,e,z);return z};a.createLine=function(a,c,d,l,m,n,p,k,r,s){a=b.DiagramFrameworkFactory.newInstanceByName("PrimitiveLine").init(d,l,a);a.addPoint(n);a.addPoint(p);a.setIsRigid(!0);void 0!==r&&(null!==r&&!r)&&a.setIsGeneric(!0);void 0!==k&&a.setIsIncluded(k);f(a,c,s,m);"ghost"===m&&e(a);return a};a.createLineDefinedByPointSlope=function(a,d,j,l,m,n,p,k,r,s){j=b.GraphFactory.newInstanceByName("Construct2LineDefinedByPointSlope").init(j,
l,a);j.addPoint(n);var l=n.getX(),o=n.getY(),u=l+1,a=b.GraphFactory.getClassByName("GraphPointJSONParser").createPoint(a,d,null,null,void 0,null,u,p*u+(o-p*l),null,null,{});c(n,a);j.addPoint(a);j.setSlope(p);void 0!==r&&(null!==r&&!r)&&j.setIsGeneric(!0);j.setIsRigid(!0);void 0!==k&&j.setIsIncluded(k);f(j,d,s,m);"ghost"===m&&e(j);return j};a.createLineDefinedBySlopeIntercept=function(a,d,j,l,m,n,p,k,r,s){j=b.GraphFactory.newInstanceByName("Construct2LineDefinedBySlopeIntercept").init(j,l,a);l=b.GraphFactory.getClassByName("GraphPointJSONParser").createPoint(a,
d,null,null,void 0,null,0,p.value,null,null,p.flags);j.addPoint(l);var o=l.getX()+1,u=n*o+p.value,a=b.GraphFactory.getClassByName("GraphPointJSONParser").createPoint(a,d,null,null,void 0,null,o,u,null,null,{});c(l,a);j.addPoint(a);j.setYIntercept(p.value);j.setSlope(n);void 0!==r&&(null!==r&&!r)&&j.setIsGeneric(!0);j.setIsRigid(!0);void 0!==k&&j.setIsIncluded(k);f(j,d,s,m);"ghost"===m&&e(j);return j};a.addLine=function(a,b,c){d(a,b,c.getPoint0());d(a,b,c.getPoint1());a.addPrimitive(c);b.addPrimitive(c);
a.addToRegistry(c.getID(),c)};var e=function(a){a.flags.appearance="ghost";a.setIsFree(!1)},f=function(a,b,c,d){a.flags={};var e,f,p;void 0!==c&&(e=c.showSlope,f=c.showXIntercept,p=c.showYIntercept,a.flags.appearance=c.appearance);a.flags.returnToPalette=b.canReturnToPalette();a.flags.showSlope=void 0!==e?e:!0;a.flags.showXIntercept=void 0!==f?f:!1;a.flags.showYIntercept=void 0!==p?p:!0;a.flags.isVisible="constraint"===d?!1:!0;return a};b.GraphFactory.registerClass("GraphLineJSONParser",a)})(k);(function(b){function a(){}
a.MANIPULABLE_LABEL_PADDING_COUNT=5;a.parseLabelsChildren=function(d,c,e,f){var d=b.jsonutil.getChildren(d.value),g,h,j;h=0;for(g=d.length;h<g;h++){j=d[h];var l=b.jsonutil.parseNameRef(j.value),m=j.value["@align"],n=b.jsonutil.getChildren(j.value),p;j=0;for(p=n.length;j<p;j++){var k=n[j],r={$:"TBD-renderer"};null!=k.value&&(r=k.value);r={content:b.GraphFactory.getClassByName("GraphLabelJSONParser").parseLabelWithGlyphPadding(r,a.MANIPULABLE_LABEL_PADDING_COUNT),alignment:m};switch(k.name){case "overlap":f[l]=
r;break;case "default":e[l]=r,c.getPrimitiveByName(l).setLabel(r),c.getPrimitiveByName(l).invalidate()}}}};b.GraphFactory.registerClass("GraphManipulableJSONParser",a)})(k);(function(b){function a(){}a.parseMonotonicArcs=function(c,d,f){b.jsonutil.executeForChild(c,"monotonicArc",function(b){a.parseMonotonicArc(b,d,f)})};a.parseMonotonicArc=function(c,e,f){for(var g=c["@id"],h=c["@name"],j=c["@gradeByName"],l=c["@usage"],m=b.jsonutil.getChildren(c),n=[],k,q=0,r=m.length;q<r;q++){var s=m[q],o=s.value;
switch(s.name){case "concavity":k=b.jsonutil.parseCalcValueForChild(o).value;break;default:(s=d(s,e,f,!0,!1))&&n.push(s)}}m=n[0];n=n[1];e.addToRegistry(m.getID(),m);e.addToRegistry(n.getID(),n);c=a.createMonotonicArc(e,f,g,h,l,m,n,k,j,c);e.addPrimitive(c);f.addPrimitive(c);return c};a.createMonotonicArc=function(a,e,f,g,h,j,l,m,n,k){g=b.GraphFactory.newInstanceByName("Construct2MonotonicArc").init(f,g,a);a.addToRegistry(f,g);void 0!==n&&(null!==n&&!n)&&g.setIsGeneric(!0);void 0!==m&&g.setConcavity(m);
g.addPoint(j);g.setPoint0(j);f=d({name:"point",value:{"@showPoints":!1,_:[{x:{value:{"@id":101,$:0}}},{y:{value:{"@id":102,$:0}}}]}},a,e,!0,!0);f.setCanGenerateQDelta(!1);g.addPoint(f);a=d({name:"point",value:{"@showPoints":!1,_:[{x:{value:{"@id":101,$:0}}},{y:{value:{"@id":102,$:0}}}]}},a,e,!0,!0);a.setCanGenerateQDelta(!1);g.addPoint(a);g.addPoint(l);g.setPoint1(l);l.invalidate();g.setIsRigid(!0);g.flags={};var q;void 0!==k&&(q=k["@linePattern"],g.flags.appearance=k["@appearance"]);g.flags.linePattern=
void 0!==q?q:"solid";g.flags.isVisible=!0;"ghost"===h&&(g.flags.appearance="ghost",a.flags.appearance="ghost",f.flags.appearance="ghost",l.flags.appearance="ghost",j.flags.appearance="ghost",g.setIsFree(!1));g.invalidate();return g};var d=function(a,d,f,g,h){return b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(a,d,f,g,h)};b.GraphFactory.registerClass("GraphMonotonicArcJSONParser",a)})(k);(function(b){function a(){}a.parseParabolas=function(d,c,e){b.jsonutil.executeForChild(d,"parabola",
function(b){a.parseParabola(b,c,e)})};a.parseParabola=function(d,c,e){for(var f=d["@id"],g=d["@name"],h=d["@domain"],j=d["@isIncluded"],l=d["@gradeByName"],m=b.jsonutil.getChildren(d),n,k,q=0,r=m.length;q<r;q++){var s=m[q],o=s.value;switch(s.name){case "vertex":n=b.jsonutil.getChildren(o);n=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(n[0],c,e,!0);break;default:k=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(s,c,e,!0)}}d=a.createParabola(c,e,f,g,h,n,k,j,l,d);
c.addPrimitive(d);e.addPrimitive(d);return d};a.createParabola=function(a,c,e,f,g,h,j,l,m,n){a="y"===g?b.DiagramFrameworkFactory.newInstanceByName("Primitive2ParabolaWithDomainY").init(e,f,a):b.DiagramFrameworkFactory.newInstanceByName("Primitive2ParabolaWithDomainX").init(e,f,a);void 0!==m&&(null!==m&&!m)&&a.setIsGeneric(!0);a.setVertex(h);a.setPointOnParabola(j);void 0!==l&&a.setIsIncluded(l);a.flags={};void 0!==n&&(a.flags.appearance=n["@appearance"]);a.flags.isVisible=!0;return a};b.GraphFactory.registerClass("GraphParabolaJSONParser",
a)})(k);(function(b){function a(){}a.parsePiecewiseBezierCurves=function(d,c,e){b.jsonutil.executeForChild(d,"piecewiseBezierCurve",function(b){a.parsePiecewiseBezierCurve(b,c,e)})};a.parsePiecewiseBezierCurve=function(d,c,e){for(var f=d["@id"],g=d["@name"],h=d["@degree"],j=d["@gradeByName"],l=b.jsonutil.getChildren(d),m=[],n=0,k=l.length;n<k;n++){var q=l[n];(q=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(q,c,e,!0))&&m.push(q)}d=a.createCurve(c,e,f,g,h,m,j,d);c.addPrimitive(d);
e.addPrimitive(d);return d};a.createCurve=function(a,c,e,f,g,h,j,l){var m,c=h.length;switch(g){case 1:m=b.DiagramFrameworkFactory.newInstanceByName("Primitive2PiecewiseBezierCurve1").init(e,f,a);break;case 2:m=b.DiagramFrameworkFactory.newInstanceByName("Primitive2PiecewiseBezierCurve2").init(e,f,a);break;case 3:m=b.DiagramFrameworkFactory.newInstanceByName("Primitive2PiecewiseBezierCurve3").init(e,f,a)}for(a=0;a<c;a++)m.addPoint(h[a]);void 0!==j&&(null!==j&&!j)&&m.setIsGeneric(!0);m.setIsRigid(!0);
h=m;h.flags={};var n,k,q;void 0!==l&&(n=l["@linePattern"],k=l["@arrows"],q=l["@extension"],h.flags.appearance=l["@appearance"]);h.flags.linePattern=void 0!==n?n:"solid";h.flags.arrows=void 0!==k?k:"none";h.flags.extension=void 0!==q?q:"none";h.flags.isVisible=!0;return h};b.GraphFactory.registerClass("GraphPiecewiseBezierCurveJSONParser",a)})(k);(function(b){function a(){}a.parsePoints=function(d,c,e){b.jsonutil.executeForChild(d,"point",function(b){a.parseStandardPoint(b,c,e,!0)});b.jsonutil.executeForChild(d,
"constrainedPoint",function(a){b.GraphFactory.getClassByName("GraphConstrainedPointJSONParser").parseConstrainedPoint(a,c,e,!0)});b.jsonutil.executeForChild(d,"intersectionPoint",function(a){b.GraphFactory.getClassByName("GraphIntersectionPointJSONParser").parseIntersectionPoint(a,c,e,!0)});b.jsonutil.executeForChild(d,"pointConstrainedByPoints",function(a){b.GraphFactory.getClassByName("GraphManipulablePointJSONParser").parseManipulablePoint(a,c,e,!0)});b.jsonutil.executeForChild(d,"manipulableConstrainedPoint",
function(a){b.GraphFactory.getClassByName("GraphManipulableConstrainedPointJSONParser").parseManipulableConstrainedPoint(a,c,e,!0)})};a.parsePoint=function(d,c,e,f,g){var h;switch(d.name){case "point":h=a.parseStandardPoint(d.value,c,e,f,g);break;case "constrainedPoint":h=b.GraphFactory.getClassByName("GraphConstrainedPointJSONParser").parseConstrainedPoint(d.value,c,e,f);break;case "pointConstrainedByPoints":h=b.GraphFactory.getClassByName("GraphManipulablePointJSONParser").parseManipulablePoint(d.value,
c,e,f);break;case "manipulableConstrainedPoint":h=b.GraphFactory.getClassByName("GraphManipulableConstrainedPointJSONParser").parseManipulableConstrainedPoint(d.value,c,e,f);break;case "intersectionPoint":h=b.GraphFactory.getClassByName("GraphIntersectionPointJSONParser").parseIntersectionPoint(d.value,c,e,f)}return h};a.parsePointChildren=function(d){var c=d["@id"],e=d["@name"],f=d["@usage"],g=d["@type"],h=d["@gradeByName"],j=b.jsonutil.getChildren(d),l,m,n,k,q;l=0;for(m=j.length;l<m;l++){var r=
j[l],s=r.name,r=r.value;b.jsonutil.parseCalcValueForChild(r);switch(s){case "x":var o=r;n=b.jsonutil.getChildren(o);for(var u=r=s=void 0,t=void 0,w=void 0,o=o["@id"],s=0,r=n.length;s<r;s++){var x=n[s],B=x.name,y=b.jsonutil.parseCalcValueForChild(x.value).value;switch(B){case "value":void 0!==x.value.inputCalc?w=x.value.inputCalc.$:u=parseFloat(y.toString().replace(",",""));break;case "label":t=b.GraphFactory.getClassByName("GraphLabelJSONParser").parseLabel(x.value)}}n={value:u,label:t,id:o,inputCalc:w};
break;case "y":o=r;k=b.jsonutil.getChildren(o);w=t=u=r=s=void 0;o=o["@id"];r=0;for(s=k.length;r<s;r++)switch(x=k[r],B=x.name,y=b.jsonutil.parseCalcValueForChild(x.value).value,B){case "value":void 0!==x.value.inputCalc?w=x.value.inputCalc.$:u=parseFloat(y.toString().replace(",",""));break;case "label":t=b.GraphFactory.getClassByName("GraphLabelJSONParser").parseLabel(x.value);break;case "yId":o=y}k={value:u,label:t,id:o,inputCalc:w};break;case "label":q={content:b.GraphFactory.getClassByName("GraphLabelJSONParser").parseLabel(r),
alignment:r["@align"]}}}d=a.parsePointFlags(d);return{id:c,name:e,usage:f,gradeByName:h,type:g,x:n,y:k,label:q,flags:d}};a.parsePointFlags=function(a){var b={};b.connected=a["@connected"];b.xConnected=a["@xConnected"];b.yConnected=a["@yConnected"];b.xDropLine=a["@xDropLine"];b.yDropLine=a["@yDropLine"];b.showPoints=a["@showPoints"];b.showCoordinates=a["@showCoordinates"];b.linePattern=a["@linePattern"];b.appearance=a["@appearance"];return b};a.parseStandardPoint=function(b,c,e,f,g){var h;if(b["@nameRef"]&&
(h=c.getPrimitiveByName(b["@nameRef"])))return h;var b=a.parsePointChildren(b),j=b.x?b.x.label:void 0,l=b.y?b.y.label:void 0,m=b.x?b.x.id:void 0,n=b.y?b.y.id:void 0,k=b.x?b.x.inputCalc:void 0,q=b.y?b.y.inputCalc:void 0;h=a.createPoint(c,e,b.id,b.name,b.usage,b.type,b.x?b.x.value:NaN,b.y?b.y.value:NaN,b.label,b.gradeByName,b.flags,g);h.xLabel=j;h.yLabel=l;h.setXId(m);h.setYId(n);void 0!==k&&c.addToClientVariableRegistry(k,h.createValueChangedHandler("x"));void 0!==q&&c.addToClientVariableRegistry(q,
h.createValueChangedHandler("y"));c.addToRegistry(b.id,h);c.addToRegistry(n,h);c.addToRegistry(m,h);f&&a.addPoint(c,e,h);return h};a.createPoint=function(d,c,e,f,g,h,j,l,m,n,k,q){switch(g){case "ghost":d=a.getPointInstanceForType(e,f,d,b.DiagramFrameworkFactory.FIXED);k.pointType=k.appearance;k.appearance="ghost";break;case "derived":d=a.getPointInstanceForType(e,f,d,b.DiagramFrameworkFactory.DERIVED);break;default:d=a.getPointInstanceForType(e,f,d,h)}void 0!==n&&(null!==n&&!n)&&d.setIsGeneric(!0);
d.setX(b.BasicMathToolkit.isNumber(j)?j:NaN);d.setY(b.BasicMathToolkit.isNumber(l)?l:NaN);d.setInitialX(d.getX());d.setInitialY(d.getY());d.setLabel(m?m:void 0);!0===q&&d.setIsConstraint(!0);j=d;j.flags={};var r,s,o,u,t,w,x,B;void 0!==k&&(r=k.connected,s=k.xConnected,o=k.yConnected,u=k.xDropLine,t=k.yDropLine,w=k.showPoints,x=k.showCoordinates,B=k.linePattern,j.flags.pointType=k.pointType,j.flags.appearance=k.appearance);j.flags.returnToPalette=c.canReturnToPalette();j.flags.connected=void 0!==r?
r:!1;j.flags.xConnected=void 0!==s?s:!1;j.flags.yConnected=void 0!==o?o:!1;j.flags.xDropLine=void 0!==u?u:!1;j.flags.yDropLine=void 0!==t?t:!1;j.flags.isVisible=void 0!==w?w:!0;j.flags.showCoordinates=void 0!==x?x:!0;j.flags.linePattern=void 0!==B?B:"solid";return j};a.addPoint=function(a,b,e){a.addPrimitive(e);b.addPrimitive(e)};a.getPointInstanceForType=function(a,c,e,f){switch(f){case b.DiagramFrameworkFactory.FIXED:a=b.DiagramFrameworkFactory.newInstanceByName("Primitive2PointFree").init(a,c,
e);a.setIsFree(!1);a.setCanGenerateQDelta(!1);break;case b.DiagramFrameworkFactory.DERIVED:a=b.DiagramFrameworkFactory.newInstanceByName("Primitive2PointDerived").init(a,c,e);break;default:a=b.DiagramFrameworkFactory.newInstanceByName("Primitive2PointFree").init(a,c,e)}return a};b.GraphFactory.registerClass("GraphPointJSONParser",a)})(k);(function(b){function a(){}a.parsePolygons=function(d,c,e){b.jsonutil.executeForChild(d,"polygon",function(b){a.parsePolygon(b,c,e,!0)})};a.parsePolygon=function(d,
c,e,f){var g=d["@id"],h=d["@name"],j=d["@gradeByName"],l=b.jsonutil.getChildren(d),m=[],n,k,q=[],r=[];n=0;for(k=l.length;n<k;n++){var s=l[n].value,o=s["@boundary"],s=b.GraphFactory.getClassByName("GraphCycleJSONParser").parseCycle(s,c,e,f);"interior"==o&&r.unshift([]);for(var u=0;u<s.length;u++){var t=s[u];"exterior"==o?(q.push(t),m.push(t)):r[0].push(t)}}d=a.createPolygon(c,e,g,h,m,j,d);d.setExteriorCycle(q);d.setInteriorCycles(r);c.addPrimitive(d);e.addPrimitive(d);c.addToRegistry(g,d);return d};
a.createPolygon=function(a,c,e,f,g,h,j){c=g.length;a=b.DiagramFrameworkFactory.newInstanceByName("Primitive2Polygon").init(e,null,f,a);switch(c){case 3:a._TYPE=b.GraphConstants.ELEMENT_TYPE_TRIANGLE;break;case 4:a._TYPE=b.GraphConstants.ELEMENT_TYPE_QUADRILATERAL}for(e=0;e<c;e++)a.addPoint(g[e]);void 0!==h&&(null!==h&&!h)&&a.setIsGeneric(!0);a.setIsRigid(!0);a.flags={};var l,m,n,k;void 0!==j&&(l=j["@showArea"],m=j["@showPerimeter"],n=j["@linePattern"],k=j["@fillPattern"],a.flags.appearance=j["@appearance"]);
a.flags.showArea=void 0!==l?l:!0;a.flags.showPerimeter=void 0!==m?m:!0;a.flags.linePattern=void 0!==n?n:"solid";a.flags.fillPattern=void 0!==k?k:"solid";a.flags.isVisible=!0;return a};b.GraphFactory.registerClass("GraphPolygonJSONParser",a)})(k);(function(b){function a(){}a.parsePolynomialCurves=function(d,c,e){b.jsonutil.executeForChild(d,"polynomialCurve",function(b){a.parsePolynomialCurve(b,c,e)})};a.parsePolynomialCurve=function(d,c,e){for(var f=d["@id"],g=d["@name"],h=d["@domain"],j=d["@gradeByName"],
l=b.jsonutil.getChildren(d),m=[],n=0,k=l.length;n<k;n++){var q=l[n];(q=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(q,c,e,!0))&&m.push(q)}d=a.createCurve(c,e,f,g,h,m,j,d);c.addPrimitive(d);e.addPrimitive(d);return d};a.createCurve=function(a,c,e,f,g,h,j,l){var m,c=h.length;switch(c){case 2:m=b.DiagramFrameworkFactory.newInstanceByName("Primitive2PolynomialCurve2").init(e,f,a,g);break;case 3:m=b.DiagramFrameworkFactory.newInstanceByName("Primitive2PolynomialCurve3").init(e,f,a,
g);break;case 4:m=b.DiagramFrameworkFactory.newInstanceByName("Primitive2PolynomialCurve4").init(e,f,a,g)}for(a=0;a<c;a++)m.addPoint(h[a]);void 0!==j&&(null!==j&&!j)&&m.setIsGeneric(!0);m.setIsRigid(!0);h=m;h.flags={};var n,k,q,r;void 0!==l&&(n=l["@linePattern"],k=l["@arrows"],q=l["@extension"],r=l["@showPolynomial"],h.flags.appearance=l["@appearance"]);h.flags.linePattern=void 0!==n?n:"solid";h.flags.arrows=void 0!==k?k:"none";h.flags.extension=void 0!==q?q:"none";h.flags.showPolynomial=void 0!==
r?r:!1;h.flags.isVisible=!0;return h};b.GraphFactory.registerClass("GraphPolynomialCurveJSONParser",a)})(k);(function(b){function a(){}a.parseRays=function(d,c,e){b.jsonutil.executeForChild(d,"ray",function(b){a.parseRay(b,c,e)})};a.parseRay=function(d,c,e){for(var f=d["@id"],g=d["@name"],h=d["@gradeByName"],j=b.jsonutil.getChildren(d),l=[],m=0,n=j.length;m<n;m++){var k=j[m];(k=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(k,c,e,!0))&&l.push(k)}d=a.createRay(c,e,f,g,l[0],l[1],h,
d);c.addPrimitive(d);e.addPrimitive(d);return d};a.createRay=function(a,c,e,f,g,h,j,l){a=b.DiagramFrameworkFactory.newInstanceByName("PrimitiveRay").init(e,f,a);a.addPoint(g);a.addPoint(h);a.setIsRigid(!0);void 0!==j&&(null!==j&&!j)&&a.setIsGeneric(!0);a.flags={};var m;void 0!==l&&(m=l["@linePattern"],a.flags.appearance=l["@appearance"]);a.flags.linePattern=void 0!==m?m:"solid";a.flags.isVisible=!0;return a};b.GraphFactory.registerClass("GraphRayJSONParser",a)})(k);(function(b){function a(){}a.parseRectangles=
function(c,d,g){b.jsonutil.executeForChild(c,"rectangle",function(b){a.parseRectangle(b,d,g)})};a.parseRectangle=function(e,f,g){for(var h=function(a,c,d,e,f,g,j,h,l,m){d=b.GraphFactory.getClassByName("GraphPointJSONParser").createPoint(a,c,d,e,void 0,f,g,j,h,l,m);b.GraphFactory.getClassByName("GraphPointJSONParser").addPoint(a,c,d);return d},j=e["@id"],l=e["@name"],m=e["@gradeByName"],n=!1!==e["@showPoints"]?!0:!1,k=b.jsonutil.getChildren(e),q=[],r=0,s=k.length;r<s;r++){var o=k[r];(o=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(o,
f,g,!0))&&q.push(o)}var u;switch(q.length){case 2:k=q[0];r=q[1];q=k.getX();u=k.getY();var o=r.getX(),t=r.getY(),s=h(f,g,null,null,b.DiagramFrameworkFactory.FREE,q,t,"",null,{showPoints:n});s.setCanGenerateQDelta(!1);h=h(f,g,null,null,b.DiagramFrameworkFactory.FREE,o,u,"",null,{showPoints:n});h.setCanGenerateQDelta(!1);u=q<o?u<t?a.createRectangle(f,g,j,l,k,s,r,h,m,e):a.createRectangle(f,g,j,l,s,k,h,r,m,e):u<t?a.createRectangle(f,g,j,l,h,r,s,k,m,e):a.createRectangle(f,g,j,l,r,h,k,s,m,e);break;case 4:k=
q[0],r=q[1],s=q[2],h=q[3],u=a.createRectangle(f,g,j,l,k,r,s,h,m,e)}d(u);c(f,g,u,j);return u};var d=function(a){var b=a.getPoints(),c=b[0],d=b[1],j=b[2],b=b[3];c.move=a.createFunctionControlPointMove(c,b,d);d.move=a.createFunctionControlPointMove(d,j,c);j.move=a.createFunctionControlPointMove(j,d,b);b.move=a.createFunctionControlPointMove(b,c,j)};a.createRectangle=function(a,c,d,h,j,l,m,n,k,q){a=b.DiagramFrameworkFactory.newInstanceByName("Primitive2Rectangle").init(d,h,a);a.addPoint(j);a.addPoint(l);
a.addPoint(m);a.addPoint(n);a.setIsRigid(!0);void 0!==k&&(null!==k&&!k)&&a.setIsGeneric(!0);a.flags={};var r,s,o,u;void 0!==q&&(r=q["@showArea"],s=q["@showPerimeter"],o=q["@linePattern"],u=q["@fillPattern"],a.flags.appearance=q["@appearance"]);a.flags.showArea=void 0!==r?r:!0;a.flags.showPerimeter=void 0!==s?s:!0;a.flags.linePattern=void 0!==o?o:"solid";a.flags.fillPattern=void 0!==u?u:"solid";a.flags.isVisible=!0;return a};var c=function(a,b,c,d){a.addPrimitive(c);b.addPrimitive(c);a.addToRegistry(d,
c)};b.GraphFactory.registerClass("GraphRectangleJSONParser",a)})(k);(function(b){function a(){}a.parseSegments=function(d,c,e){b.jsonutil.executeForChild(d,"segment",function(b){a.parseSegment(b,c,e,!0)})};a.parseSegment=function(d,c,e,f){for(var g=d["@id"],h=d["@name"],j=d["@gradeByName"],l=b.jsonutil.getChildren(d),m=[],n=0,k=l.length;n<k;n++){var q=l[n];(q=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(q,c,e,f))&&m.push(q)}d=a.createSegment(c,e,g,h,m[0],m[1],j,d);c.addToRegistry(g,
d);f&&a.addSegment(c,e,d);return d};a.createSegment=function(a,c,e,f,g,h,j,l,m){a=b.DiagramFrameworkFactory.newInstanceByName("PrimitiveSegment").init(e,f,a);a.addPoint(g);a.addPoint(h);!1===m?a.setIsRigid(!1):a.setIsRigid(!0);void 0!==j&&(null!==j&&!j)&&a.setIsGeneric(!0);a.flags={};var n,k;void 0!==l&&(n=l["@linePattern"],k=l["@arrows"],a.flags.appearance=l["@appearance"]);a.flags.returnToPalette=c.canReturnToPalette();a.flags.linePattern=void 0!==n?n:"solid";a.flags.arrows=void 0!==k?k:"none";
a.flags.isVisible=!0;return a};a.addSegment=function(a,b,e){a.addPrimitive(e);b.addPrimitive(e)};b.GraphFactory.registerClass("GraphSegmentJSONParser",a)})(k);(function(b){function a(){}a.parseExpression=function(a,c){var e;if(a["@nameRef"]&&(e=c.getPrimitiveByName(a["@nameRef"])))return e;switch(a.name){case "value":e=b.GraphFactory.getClassByName("GraphFunctionValueJSONParser").parseValue(a.value);break;case "variable":e=b.GraphFactory.getClassByName("GraphFunctionVariableJSONParser").parseVariable(a.value);
break;case "plus":e=b.GraphFactory.getClassByName("GraphFunctionOperatorAdditionJSONParser").parseAddition(a.value);break;case "times":e=b.GraphFactory.getClassByName("GraphFunctionOperatorProductJSONParser").parseProduct(a.value);break;case "power":e=b.GraphFactory.getClassByName("GraphFunctionOperatorPowerJSONParser").parsePower(a.value);break;case "sin":e=b.GraphFactory.getClassByName("GraphFunctionOperatorSineJSONParser").parseSine(a.value);break;case "cos":e=b.GraphFactory.getClassByName("GraphFunctionOperatorCosineJSONParser").parseCosine(a.value);
break;case "log":e=b.GraphFactory.getClassByName("GraphFunctionOperatorLogJSONParser").parseLog(a.value)}return e};b.GraphFactory.registerClass("GraphFunctionExpressionJSONParser",a)})(k);(function(b){function a(){}a.parseFunction=function(c,e,f,g){var h,j=b.jsonutil.parseNameRef(c);if(j&&(h=e.getPrimitiveByName(j)))return h;var j=c["@id"],l=c["@name"],m=b.jsonutil.getChildren(c),n=1;"function"===m[0].name&&(n=m.length);for(var k=[],q=0;q<n;q++){k[q]={};if(1<n){var r=b.jsonutil.getChildren(m[q].value);
h=b.jsonutil.getChildren(r[0].value)}else h=b.jsonutil.getChildren(m[0].value);h=b.jsonutil.getChildren(h[1].value);for(var s=[],o=0;o<h.length;o++){var u=b.jsonutil.getChildren(h[o].value),t=b.jsonutil.getChildren(u[0].value),u=b.jsonutil.getChildren(u[1].value);s[o]={startValue:t[0].value.$,startIncluded:t[1].value.$,endValue:u[0].value.$,endIncluded:u[1].value.$}}1<n?eval("_transientFunction = "+r[1].value.$):eval("_transientFunction = "+m[1].value.$);h=a.createFunction(e,f,j,l,s,_transientFunction);
g&&a.addFunction(e,f,h);k[q]=h}return d(k,c)};a.addFunction=function(a,b,d){a.addPrimitive(d);b.addPrimitive(d)};a.createFunction=function(a,d,f,g,h,j){a=b.DiagramFrameworkFactory.newInstanceByName("Primitive2Function").init(f,g,a);a.setIsFree(!1);a.setRule(j);a.setViewportInterval(h);return a};var d=function(a,b){for(var d=0;d<a.length;d++)a[d].flags={},void 0!==b&&(a[d].flags.appearance=b["@appearance"]),a[d].flags.isVisible=!0;return a};b.GraphFactory.registerClass("GraphFunctionJSONParser",a)})(k);
(function(b){function a(){}a.parseAddition=function(d){var c=d["@id"],e=d["@name"],d=b.jsonutil.getChildren(d),f,g,h=[];f=0;for(g=d.length;f<g;f++){var j=d[f];h.push(b.GraphFactory.getClassByName("GraphFunctionExpressionJSONParser").parseExpression(j))}return a.createAddition(c,e,h)};a.createAddition=function(a,c,e){a=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorAddition").init();a.setOperands(e);return a};b.GraphFactory.registerClass("GraphFunctionOperatorAdditionJSONParser",a)})(k);
(function(b){function a(){}a.parseCosine=function(d){var c=d["@id"],e=d["@name"],d=b.jsonutil.getChildren(d),f,g,h=[];f=0;for(g=d.length;f<g;f++){var j=d[f];h.push(b.GraphFactory.getClassByName("GraphFunctionExpressionJSONParser").parseExpression(j))}return a.createCosine(c,e,h)};a.createCosine=function(a,c,e){a=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorCosine").init();a.setOperands(e);return a};b.GraphFactory.registerClass("GraphFunctionOperatorCosineJSONParser",a)})(k);(function(b){function a(){}
a.parseLog=function(d){var c=d["@id"],e=d["@name"],d=b.jsonutil.getChildren(d),f,g,h=[];f=0;for(g=d.length;f<g;f++){var j=d[f];h.push(b.GraphFactory.getClassByName("GraphFunctionExpressionJSONParser").parseExpression(j))}return a.createLog(c,e,h)};a.createLog=function(a,c,e){a=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorLog").init();a.setOperands(e);return a};b.GraphFactory.registerClass("GraphFunctionOperatorLogJSONParser",a)})(k);(function(b){function a(){}a.parsePower=function(d){var c=
d["@id"],e=d["@name"],d=b.jsonutil.getChildren(d),f,g,h,j;f=0;for(g=d.length;f<g;f++){var l=d[f],m=l.name,n=l.value;b.jsonutil.parseCalcValueForChild(n);switch(m){case "base":h=b.GraphFactory.getClassByName("GraphFunctionExpressionJSONParser").parseExpression(b.jsonutil.getChildren(n)[0]);break;case "exponent":j=b.GraphFactory.getClassByName("GraphFunctionExpressionJSONParser").parseExpression(b.jsonutil.getChildren(n)[0]);break;default:0===f?h=b.GraphFactory.getClassByName("GraphFunctionExpressionJSONParser").parseExpression(l):
j=b.GraphFactory.getClassByName("GraphFunctionExpressionJSONParser").parseExpression(l)}}return a.createPower(c,e,h,j)};a.createPower=function(a,c,e,f){a=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorPower").init();a.setBase(e);a.setExponent(f);return a};b.GraphFactory.registerClass("GraphFunctionOperatorPowerJSONParser",a)})(k);(function(b){function a(){}a.parseProduct=function(d){var c=d["@id"],e=d["@name"],d=b.jsonutil.getChildren(d),f,g,h=[];f=0;for(g=d.length;f<g;f++){var j=d[f];
h.push(b.GraphFactory.getClassByName("GraphFunctionExpressionJSONParser").parseExpression(j))}return a.createProduct(c,e,h)};a.createProduct=function(a,c,e){a=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorProduct").init();a.setOperands(e);return a};b.GraphFactory.registerClass("GraphFunctionOperatorProductJSONParser",a)})(k);(function(b){function a(){}a.parseSine=function(d){var c=d["@id"],e=d["@name"],d=b.jsonutil.getChildren(d),f,g,h=[];f=0;for(g=d.length;f<g;f++){var j=d[f];h.push(b.GraphFactory.getClassByName("GraphFunctionExpressionJSONParser").parseExpression(j))}return a.createSine(c,
e,h)};a.createSine=function(a,c,e){a=b.DiagramFrameworkFactory.newInstanceByName("FunctionOperatorSine").init();a.setOperands(e);return a};b.GraphFactory.registerClass("GraphFunctionOperatorSineJSONParser",a)})(k);(function(b){function a(){}a.parseValue=function(d){var c=d["@id"],e=d["@name"],d=1===b.jsonutil.getChildren(d).length?b.jsonutil.parseCalcValueForChild(d).value:NaN;return a.createValue(c,e,d)};a.createValue=function(a,c,e){a=b.DiagramFrameworkFactory.newInstanceByName("FunctionValue").init();
a.setValue(e);return a};b.GraphFactory.registerClass("GraphFunctionValueJSONParser",a)})(k);(function(b){function a(){}a.parseVariable=function(d){var c=d["@id"],e=d["@name"],d=1===b.jsonutil.getChildren(d).length?b.jsonutil.parseCalcValueForChild(d).value:NaN;return a.createVariable(c,e,d)};a.createVariable=function(a,c,e){a=b.DiagramFrameworkFactory.newInstanceByName("FunctionVariable").init();a.setVariable(e);return a};b.GraphFactory.registerClass("GraphFunctionVariableJSONParser",a)})(k);(function(b){function a(){}
a.parsePlots=function(d,c,e){b.jsonutil.executeForChild(d,"plot",function(b){a.parsePlot(b,c,e,!0)})};a.parsePlot=function(d,c,e,f){var g,h;if(g=b.jsonutil.parseNameRef(d))if(g=c.getPrimitiveByName(g))return g;g=d["@id"];var j=d["@name"];h=b.jsonutil.getChildren(d);var l=h[0].value["@coordinate"];if(void 0!==h[0].value.name)var m=h[0].value.name;else{var n=b.jsonutil.getChildren(h[0].value),m=n[0].value.$,k=b.jsonutil.getChildren(n[1].value),n=[];n[0]=k[0].value.$;n[1]=k[1].value.$}var k=h[1].value["@coordinate"],
q=h[1].value.name,r=b.jsonutil.getChildren(h[1].value),q=r[1].value.$,s="bounds"===r[1].name?2:1;if(2===s){h=b.jsonutil.getChildren(r[1].value);var o=[];o[0]=h[0].value.$;o[1]=h[1].value.$}h=null;void 0!==r[s].value&&(h=b.GraphFactory.getClassByName("GraphFunctionJSONParser").parseFunction(r[s].value,c,e,f));g=a.createPlot(c,e,g,j,l,m,n,k,q,o,h);for(o=0;o<h.length;o++)h[o].setPlot(g);f&&a.addPlot(c,e,g);c=g;c.flags={};void 0!==d&&(c.flags.appearance=d["@appearance"]);c.flags.isVisible=!0;return c};
a.addPlot=function(a,b,e){a.addPrimitive(e)};a.createPlot=function(a,c,e,f,g,h,j,l,m,n,k){a=b.DiagramFrameworkFactory.newInstanceByName("Primitive2Plot").init(e,f,a);a.setIsFree(!1);a.setIndependentVar(g);a.setIndependentVarName(h);a.setIndependentVarBounds(j);a.setDependentVar(l);a.setDependentVarName(m);a.setDependentVarBounds(n);a.setFunction(k);return a};b.GraphFactory.registerClass("GraphPlotJSONParser",a)})(k);(function(b){function a(){}b.extend(a,b.GraphFactory.getClassByName("GraphManipulableJSONParser"));
var d=function(a,d,f,g,h,j,l,m,n,k){return b.GraphFactory.getClassByName("GraphPointJSONParser").createPoint(a,d,f,g,void 0,h,j,l,m,n,k)};a.parseManipulableLine=function(c,e,f,g){var h=c["@id"],j=c["@name"],l=c["@gradeByName"],m=c["@isIncluded"],n,k,q=b.jsonutil.getChildren(c),r,s=[],o,u,t={},w={},x,B=-1,y=null;n=0;for(r=q.length;n<r;n++)if(k=q[n],u=k.name,"constraints"===u){u=b.jsonutil.getChildren(k.value);var z;k=0;for(z=u.length;k<z;k++){var A=u[k],A=b.GraphFactory.getClassByName("GraphLineJSONParser").parseLine(A,
e,f,!0),D=A.getPoint0(),C=A.getPoint1();D.flags.isVisible=!1;C.flags.isVisible=!1;A.flags.isVisible=!1;s.push(A)}}else"current"===u?(B=b.jsonutil.parseNameRef(k.value),void 0===B?(B=b.jsonutil.getValue(k.value,["nameRef"])["@id"],y=b.jsonutil.getValue(k.value,["nameRef","inputCalc","$"]),o=b.GraphFactory.getClassByName("GraphLineJSONParser").parseLineFlags(c),o["@showPoints"]=!1,u=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePointFlags(c),u["@showPoints"]=!1,k=d(e,f,null,null,b.DiagramFrameworkFactory.FIXED,
NaN,NaN,null,null,u),u=d(e,f,null,null,b.DiagramFrameworkFactory.FIXED,NaN,NaN,null,null,u)):(x=e.getPrimitiveByName(B),B=b.jsonutil.getValue(k.value,["nameRef"])["@id"],k=x.getPoint0(),z=x.getPoint1(),o=b.GraphFactory.getClassByName("GraphLineJSONParser").parseLineFlags(c),u=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePointFlags(c),k=d(e,f,null,null,b.DiagramFrameworkFactory.FIXED,k.getX()+100,k.getY()+100,null,null,u),u=d(e,f,null,null,b.DiagramFrameworkFactory.FIXED,z.getX()+100,
z.getY()+100,null,null,u)),o=b.GraphFactory.getClassByName("GraphLineJSONParser").createLine(e,f,h,j,null,k,u,m,l,o),o.flags.isVisible=!0,g&&b.GraphFactory.getClassByName("GraphLineJSONParser").addLine(e,f,o)):"labels"===u&&a.parseLabelsChildren(k,e,t,w);a.createManipulableLine(e,f,h,null,o,x,t,w,s,B,y);return o};a.createManipulableLine=function(a,d,f,g,h,j,l,m,n,k,q){h.getPoint0().setIsFree(!1);h.getPoint1().setIsFree(!1);null===q&&h.setIsFree(!0);h.setIsRigid(!0);d=b.GraphFactory.newInstanceByName("Construct2ManipulableLine").init(f,
g,a);null!==q&&(a.addToClientVariableRegistry(q,d.createValueChangedHandler()),d.setCanGenerateQDelta(!1));a.addToRegistry(f,d);a.addToRegistry(k,d);d.setLine(h);d.setDefaultLabels(l);d.setOverlapLabels(m);d.setNameRefID(k);void 0!==j&&d.setInitialNameRef(j.getName());for(var r in n)d.addPossibleSnapTo(n[r]);d.move(-100,-100);return d.getLine()};b.GraphFactory.registerClass("GraphManipulableLineJSONParser",a)})(k);(function(b){function a(){}a.parseConstrainedPoint=function(d,c,e,f){var g,h=b.jsonutil.parseNameRef(d);
if(h&&(g=c.getPrimitiveByName(h)))return g;var j=b.jsonutil.getChildren(d),h=[],l=0,m,n,k;m=0;for(n=j.length;m<n;m++){k=j[m];var q=k.value;switch(k.name){case "parameter":l=q.$;break;default:var r=void 0;g||(r=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(k,c,e,f));r?g=r:(q=b.jsonutil.parseNameRef(q))?h.push(q):(k=b.GraphFactory.getClassByName("GraphLineJSONParser").parseLine(k,c,e,f),h.push(k.getName()))}}var s,o,u,t,w;g||(s=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePointChildren(d),
o=s.x?s.x.value:NaN,u=s.y?s.y.value:NaN,t=s.x?s.x.label:void 0,w=s.y?s.y.label:void 0);m=0;for(d=h.length;m<d;m++)k=c.getPrimitiveByName(h[m]),void 0===k&&(k=b.GraphFactory.getClassByName("GraphLineJSONParser").parseLine({line:{}},c,e,f),h[m]=k.getName());switch(h.length){case 1:g||(g=b.GraphFactory.getClassByName("GraphPointJSONParser").createPoint(c,e,s.id,s.name,s.usage,null,o,u,void 0,s.flags,void 0),g.xLabel=t,g.yLabel=w,f&&b.GraphFactory.getClassByName("GraphPointJSONParser").addPoint(c,e,g)),
a.createPointConstrainedByLine(c,e,null,null,g,c.getPrimitiveByName(h[0]),l)}return g};a.createPointConstrainedByLine=function(a,c,e,f,g,h,j){b.GraphFactory.newInstanceByName("Construct2PointConstrainedByLine").init(null,null,a,g,j).setLine(h);return g};a.createPointConstrainedByLineLine=function(a,c,e,f,g,h,j){a=b.GraphFactory.newInstanceByName("Construct2PointConstrainedByLineLine").init(e,f,a,g);a.addLine(h);a.addLine(j);return g};b.GraphFactory.registerClass("GraphConstrainedPointJSONParser",
a)})(k);(function(b){function a(){}a.parseIntersectionPoint=function(d,c,e,f){var g,h=b.jsonutil.getValue(d,["constraints"]),j=b.jsonutil.getChildren(h),l,m,h=[];l=0;for(m=j.length;l<m;l++)g=b.jsonutil.parseNameRef({nameRef:j[l].value}),g=c.getPrimitiveByName(g),void 0!==g&&(g._TYPE===b.GraphConstants.ELEMENT_TYPE_LINE||g._TYPE===b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE||g._TYPE===b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_SLOPE_INTERCEPT)&&h.push(g);g=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePointChildren(d);
d=g.x?g.x.label:void 0;j=g.y?g.y.label:void 0;l=g.x?g.x.id:void 0;m=g.y?g.y.id:void 0;g=b.GraphFactory.getClassByName("GraphPointJSONParser").createPoint(c,e,g.id,g.name,g.usage,b.DiagramFrameworkFactory.FIXED,NaN,NaN,void 0,null,g.flags);g.xLabel=d;g.yLabel=j;g.setXId(l);g.setYId(m);a.createPointConstrainedByLineLine(c,e,null,null,g,h);f&&b.GraphFactory.getClassByName("GraphPointJSONParser").addPoint(c,e,g);return g};a.createPointConstrainedByLineLine=function(a,c,e,f,g,h){a=b.GraphFactory.newInstanceByName("Construct2PointConstrainedByLineLine").init(e,
f,a,g);for(c=0;c<h.length;c++)a.addLine(h[c]);return g};b.GraphFactory.registerClass("GraphIntersectionPointJSONParser",a)})(k);(function(b){function a(){}b.extend(a,b.GraphFactory.getClassByName("GraphManipulableJSONParser"));a.parseManipulableConstrainedPoint=function(d,c,e,f){var g,h=b.jsonutil.parseNameRef(d);if(h&&(g=c.getPrimitiveByName(h)))return g;var j,l=d["@id"],m=d["@name"],n=d["@gradeByName"],k=b.jsonutil.getChildren(d),q,r={},s={},o=[],u,t=[],w,h=0;for(q=k.length;h<q;h++){j=k[h];var x=
j.name;if("constraints"===x){var x=b.jsonutil.getChildren(j.value),B;j=0;for(B=x.length;j<B;j++){var y=x[j],y=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(y,c,e,!0);y.flags.isVisible=!1;o.push(y)}}else"current"===x?(w=b.jsonutil.parseNameRef(j.value),w=c.getPrimitiveByName(w),g=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePointFlags(d),g=b.GraphFactory.getClassByName("GraphPointJSONParser").createPoint(c,e,l,m,void 0,b.DiagramFrameworkFactory.FREE,NaN,NaN,null,n,
g),g.flags.isVisible=!0,f&&b.GraphFactory.getClassByName("GraphPointJSONParser").addPoint(c,e,g)):"labels"===x?a.parseLabelsChildren(j,c,r,s):(x=b.jsonutil.parseNameRef(j))?t.push(x):(u=b.GraphFactory.getClassByName("GraphLineJSONParser").parseLine(j,c,e,f),t.push(u.getName()))}h=0;for(d=t.length;h<d;h++)u=c.getPrimitiveByName(t[h]),void 0===u&&(u=b.GraphFactory.getClassByName("GraphLineJSONParser").parseLine({line:{}},c,e,f),t[h]=u.getName());a.createManipulableConstrainedPoint(c,e,null,null,g,w,
r,s,o,u);return g};a.createManipulableConstrainedPoint=function(a,c,e,f,g,h,j,l,m,n){a=b.GraphFactory.newInstanceByName("Construct2ManipulablePointConstrainedByLine").init(e,f,a);a.setPoint(g);a.setLine(n);a.setDefaultLabels(j);a.setOverlapLabels(l);for(var k in m)a.addPossibleSnapTo(m[k]);return g};b.GraphFactory.registerClass("GraphManipulableConstrainedPointJSONParser",a)})(k);(function(b){function a(){}b.extend(a,b.GraphFactory.getClassByName("GraphManipulableJSONParser"));a.parseManipulablePoint=
function(d,c,e,f){var g,h=b.jsonutil.parseNameRef(d);if(h&&(g=c.getPrimitiveByName(h)))return g;var j,l=d["@id"],m=d["@name"],n=d["@gradeByName"],k=b.jsonutil.getChildren(d),q,r={},s={},o=[],u=-1,t,h=0;for(q=k.length;h<q;h++){j=k[h];var w=j.name;if("constraints"===w){var w=b.jsonutil.getChildren(j.value),x;j=0;for(x=w.length;j<x;j++){var B=w[j],B=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(B,c,e,!0,!0);B.flags.isVisible=!1;o.push(B)}}else"current"===w?(t=b.jsonutil.parseNameRef(j.value),
u=b.jsonutil.getValue(j.value,["nameRef"])["@id"],t=c.getPrimitiveByName(t),g=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePointFlags(d),g=b.GraphFactory.getClassByName("GraphPointJSONParser").createPoint(c,e,l,m,void 0,b.DiagramFrameworkFactory.FREE,NaN,NaN,null,n,g),g.flags.isVisible=!0,f&&b.GraphFactory.getClassByName("GraphPointJSONParser").addPoint(c,e,g)):"labels"===w&&a.parseLabelsChildren(j,c,r,s)}a.createManipulablePoint(c,e,l,null,g,t,r,s,o,u);return g};a.createManipulablePoint=
function(a,c,e,f,g,h,j,l,m,n){c=b.GraphFactory.newInstanceByName("Construct2ManipulablePoint").init(e,f,a);a.addToRegistry(e,c);a.addToRegistry(n,c);c.setNameRefID(n);c.setInitialNameRef(h.getName());c.setPoint(g);c.setDefaultLabels(j);c.setOverlapLabels(l);for(var k in m)c.addPossibleSnapTo(m[k]);c.move(h.getX(),h.getY());return g};b.GraphFactory.registerClass("GraphManipulablePointJSONParser",a)})(k);(function(b){function a(){}a.parseCycle=function(a,c,e){for(var a=b.jsonutil.getChildren(a.connectedPoints),
f=[],g=0,h=a.length;g<h;g++){var j=a[g],l=parseInt(j.value["@position"]),j=b.jsonutil.getChildren(j.value);f[l-1]=b.GraphFactory.getClassByName("GraphPointJSONParser").parsePoint(j[0],c,e,!0)}return f};b.GraphFactory.registerClass("GraphCycleJSONParser",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){var g=a.getPoints(),h=g.length,j=Math.floor(h/2),l=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod();
if("x"===a.getDomain()){a=b-j*l;e+=f;for(j=0;j<h;j++)g[j].setX(a),g[j].setY(e),g[j].invalidate(),a+=l,e=0===j%2?e-=2*f:e+=2*f}else{a=b+l;e-=j*f;for(j=0;j<h;j++)g[j].setX(a),g[j].setY(e),g[j].invalidate(),e+=f,a=0===j%2?a-=2*l:a+=2*l}};b.GraphFactory.registerClass("Graph2DPolynomialCurveAdder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){var g=a.getCenterPoint(),a=a.getPointOnCircle(),f=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod();g.setX(b);g.setY(e);
g.invalidate();a.setX(b+f);a.setY(e);a.invalidate()};b.GraphFactory.registerClass("GraphCircleAdder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){var g=a.getPoint0(),a=a.getPoint1(),f=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod();g.setX(b-2*f);g.setY(e);g.invalidate();a.setX(b+2*f);a.setY(e);a.invalidate()};b.GraphFactory.registerClass("GraphLineAdder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){a=a.getPoint0();f=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod();
a.setX(b-f);a.setY(e);a.invalidate()};b.GraphFactory.registerClass("GraphLineDefinedByPointSlopeAdder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){var a=a.getPoints(),g=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod();a[0].setX(b-g);a[0].setY(e+f);a[0].invalidate();a[1].setX(b);a[1].setY(e+f);a[1].invalidate();a[2].setX(b+g);a[2].setY(e);a[2].invalidate();a[3].setX(b+g);a[3].setY(e-
f);a[3].invalidate()};b.GraphFactory.registerClass("GraphMonotonicArcAdder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){for(var a=a.getPoints(),g=a.length,h=Math.floor(g/2),j=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod(),b=b-h*j,e=e+f,h=0;h<g;h++)a[h].setX(b),a[h].setY(e),a[h].invalidate(),b+=j,e=0===h%2?e-=2*f:e+=2*f};b.GraphFactory.registerClass("GraphNPointCurveAdder",
a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){var g=a.getVertex(),a=a.getPointOnParabola(),h=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod();g.setX(b);g.setY(e);g.invalidate();a.setX(b+h);a.setY(e+f);a.invalidate()};b.GraphFactory.registerClass("GraphParabolaAdder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){for(var a=a.getPoints(),g=a.length,h=Math.floor(g/2),
j=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod(),b=b-h*j,e=e+f,h=0;h<g;h++)a[h].setX(b),a[h].setY(e),a[h].invalidate(),b+=j,e=0===h%2?e-=2*f:e+=2*f};b.GraphFactory.registerClass("GraphPiecewiseBezierCurve1Adder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){for(var a=a.getPoints(),g=a.length,h=Math.floor(g/2),j=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),
f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod(),b=b-h*j,e=e+f,h=0;h<g&&!(h===g-1||h+2>=g);h++)a[h].setX(b),a[h].setY(e),a[h].invalidate(),b+=j,e=0===++h%2?e-=2*f:e+=2*f,a[h].setX(b),a[h].setY(e),a[h].invalidate(),b+=j,e=0===++h%2?e-=2*f:e+=2*f,a[h].setX(b),a[h].setY(e),a[h].invalidate()};b.GraphFactory.registerClass("GraphPiecewiseBezierCurve2Adder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){for(var a=a.getPoints(),g=a.length,h=Math.floor(g/2),j=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),
f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod(),b=b-h*j,e=e+f,h=0;h<g&&!(h===g-1||h+3>=g);h++)a[h].setX(b),a[h].setY(e),a[h].invalidate(),b+=j,e=0===++h%2?e-=2*f:e+=2*f,a[h].setX(b),a[h].setY(e),a[h].invalidate(),b+=j,e=0===++h%2?e-=2*f:e+=2*f,a[h].setX(b),a[h].setY(e),a[h].invalidate(),b+=j,e=0===++h%2?e-=2*f:e+=2*f,a[h].setX(b),a[h].setY(e),a[h].invalidate()};b.GraphFactory.registerClass("GraphPiecewiseBezierCurve3Adder",a)})(k);(function(b){function a(){}a.add=function(a,
b,e){a.add(b,e)};b.GraphFactory.registerClass("GraphPointAdder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){var a=a.getPoints(),g=a.length,h=4*f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod(),b=b-h/2,j=e-f/2,e=b,l=j,m=Math.floor(g/2),n;for(n=0;n<m;n++)e+=h/m,a[n].setX(e),a[n].setY(l),a[n].invalidate();e=b+h;l=j+f;f=g-m;for(n=m;n<g;n++)e-=h/f,a[n].setX(e),a[n].setY(l),a[n].invalidate()};
b.GraphFactory.registerClass("GraphPolygonAdder",a)})(k);(function(b){function a(){}a.add=function(a,c,e,f){switch(a._TYPE){case b.GraphConstants.ELEMENT_TYPE_POINT:b.GraphFactory.getClassByName("GraphPointAdder").add(a,c,e);break;case b.GraphConstants.ELEMENT_TYPE_SEGMENT:b.GraphFactory.getClassByName("GraphSegmentAdder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_RAY:b.GraphFactory.getClassByName("GraphRayAdder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_LINE:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_SLOPE_INTERCEPT:b.GraphFactory.getClassByName("GraphLineAdder").add(a,
c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_RECTANGLE:b.GraphFactory.getClassByName("GraphRectangleAdder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_QUADRILATERAL:b.GraphFactory.getClassByName("GraphQuadrilateralAdder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_TRIANGLE:b.GraphFactory.getClassByName("GraphTriangleAdder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_POLYGON:b.GraphFactory.getClassByName("GraphPolygonAdder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_CIRCLE:b.GraphFactory.getClassByName("GraphCircleAdder").add(a,
c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_1:b.GraphFactory.getClassByName("GraphPiecewiseBezierCurve1Adder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_2:b.GraphFactory.getClassByName("GraphPiecewiseBezierCurve2Adder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_3:case b.GraphConstants.ELEMENT_TYPE_CATMULL_ROM:b.GraphFactory.getClassByName("GraphPiecewiseBezierCurve3Adder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_N_POINT_CURVE:b.GraphFactory.getClassByName("GraphNPointCurveAdder").add(a,
c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_2:case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_3:case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_4:b.GraphFactory.getClassByName("Graph2DPolynomialCurveAdder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE:b.GraphFactory.getClassByName("GraphLineDefinedByPointSlopeAdder").add(a,c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_X:case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_Y:b.GraphFactory.getClassByName("GraphParabolaAdder").add(a,
c,e,f);break;case b.GraphConstants.ELEMENT_TYPE_MONOTONIC_ARC:b.GraphFactory.getClassByName("GraphMonotonicArcAdder").add(a,c,e,f)}};b.GraphFactory.registerClass("GraphPrimitiveAdder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){var g=a.getPoints(),a=g[0],h=g[1],j=g[2],g=g[3],l=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod();a.setX(b-3*l);a.setY(e-f);a.invalidate();h.setX(b-
l/0.75);h.setY(e+f);h.invalidate();j.setX(b+0.75*l);j.setY(e+f);j.invalidate();g.setX(b+0.75*l);g.setY(e-f);g.invalidate()};b.GraphFactory.registerClass("GraphQuadrilateralAdder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){var g=a.getPoint0(),a=a.getPoint1(),f=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod();g.setX(b-f/2);g.setY(e);g.invalidate();a.setX(b+f/2);a.setY(e);a.invalidate()};b.GraphFactory.registerClass("GraphRayAdder",a)})(k);(function(b){function a(){}
a.add=function(a,b,e,f){var g=a.getPoint0(),h=a.getPoint1(),j=a.getPoint2(),a=a.getPoint3(),l=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod();g.setX(b-0.75*l);g.setY(e-f/2);g.invalidate();h.setX(b-0.75*l);h.setY(e+f/2);h.invalidate();j.setX(b+0.75*l);j.setY(e+f/2);j.invalidate();a.setX(b+0.75*l);a.setY(e-f/2);a.invalidate()};b.GraphFactory.registerClass("GraphRectangleAdder",a)})(k);(function(b){function a(){}
a.add=function(a,b,e,f){var g=a.getPoint0(),a=a.getPoint1(),f=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod();g.setX(b-f/2);g.setY(e);g.invalidate();a.setX(b+f/2);a.setY(e);a.invalidate()};b.GraphFactory.registerClass("GraphSegmentAdder",a)})(k);(function(b){function a(){}a.add=function(a,b,e,f){var g=a.getPoints(),a=g[0],h=g[1],g=g[2],j=f.getCoordinateSystem().getResolutions()[0].getPeriodicInterval().getPeriod(),f=f.getCoordinateSystem().getResolutions()[1].getPeriodicInterval().getPeriod();
a.setX(b-0.75*j);a.setY(e-f/2);a.invalidate();h.setX(b-0.75*j);h.setY(e+f/2);h.invalidate();g.setX(b+0.75*j);g.setY(e-f/2);g.invalidate()};b.GraphFactory.registerClass("GraphTriangleAdder",a)})(k);(function(b){function a(){}a.remove=function(a,c){a.remove();var e=c.getPrimitives(),f;for(f in e)if(e.hasOwnProperty(f)){var g=e[f];g._TYPE!==b.GraphConstants.ELEMENT_TYPE_POINT&&g.hasDescendant(a)&&b.GraphFactory.getClassByName("GraphPrimitiveRemover").remove(g,c)}};b.GraphFactory.registerClass("GraphPointRemover",
a)})(k);(function(b){function a(){}a.remove=function(a,c){switch(a._TYPE){case b.GraphConstants.ELEMENT_TYPE_POINT:b.GraphFactory.getClassByName("GraphPointRemover").remove(a,c);break;default:a.remove()}};b.GraphFactory.registerClass("GraphPrimitiveRemover",a)})(k);(function(b){b.GraphPresenterFactory.registerClass("GraphPresenter",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("BasePresenter")),d=null,c=null,e=null,f=null,g=null,h=null,j,l,m={},n={},k={},q={},r={},s,o,
u=null;a._init=function(b,e,j,l){h=b;d=j;f=l;c=d.getModel();g=e;return a};a._createView=function(){e=b.GraphViewFactory.newInstanceByName("graph_view")};a._bindModel=function(){b(c).bind(b.GraphPresenterFactory.PRESENTER_EVENT_MODEL_INVALIDATED,t());b(c).bind(b.GraphPresenterFactory.PRESENTER_EVENT_GROUP_INVALIDATED,w());b(b.GraphPresenterFactory.getClass("GraphAreaRenderDescriber")).unbind(b.GraphPresenterFactory.PRESENTER_EVENT_SEND_RESOLVE_AREA_REQUEST);b(b.GraphPresenterFactory.getClass("GraphAreaRenderDescriber")).bind(b.GraphPresenterFactory.PRESENTER_EVENT_SEND_RESOLVE_AREA_REQUEST,
function(a,c,d){g.fireCommand(b.q4appcontroller.COMMAND_SEND_RESOLVE_AREA_REQUEST,c,d)});b(d).bind(b.GraphPresenterFactory.PRESENTER_EVENT_SWAP_MODEL,function(){c==d.getCorrectModel()?(c=d.getModel(),a.getView().setGraphTypeTitle(!1)):(c=d.getCorrectModel(),a.getView().setGraphTypeTitle(!0));b(c).unbind(b.GraphPresenterFactory.PRESENTER_EVENT_MODEL_INVALIDATED);b(c).bind(b.GraphPresenterFactory.PRESENTER_EVENT_MODEL_INVALIDATED,t());b(c).unbind(b.GraphPresenterFactory.PRESENTER_EVENT_GROUP_INVALIDATED);
b(c).bind(b.GraphPresenterFactory.PRESENTER_EVENT_GROUP_INVALIDATED,w());a.getView().switchModel(c);a.getModel().getWorkingSpace().invalidateAllPrimitives()});b(d).bind(b.GraphPresenterFactory.PRESENTER_EVENT_SET_GRAPH_NON_INTERACTIVE,function(){c.setAllPrimitivesToFixed();a.getView().switchModel(d.getModel());a.getModel().getWorkingSpace().invalidateAllPrimitives()})};a._bindCommandBus=function(){null!=g&&(g.addCommandHandler(b.q4appcontroller.COMMAND_GET_CLIENT_QDELTA,function(){var a=c.generateClientQDelta();
h.addClientQDelta(a)}),g.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){a.getModel().graded=!0}),g.addCommandHandler(b.q4appcontroller.COMMAND_TEMP_REFRESH_ALL_GRAPH_VIEWS,function(){a.getView().refreshView();a.getModel().getWorkingSpace().invalidateAllPrimitives()}),g.addCommandHandler(b.q4appcontroller.COMMAND_TEMP_REFRESH_ALL_GRAPH_VIEWS,function(){a.getView().refreshView();a.getModel().getWorkingSpace().invalidateAllPrimitives()}),g.addCommandHandler(b.q4appcontroller.COMMAND_RECEIVE_RESOLVE_AREA_RESPONSE,
function(c,d,e){b.GraphPresenterFactory.getClass("GraphAreaRenderDescriber").setFills(d,e);a.getModel().getWorkingSpace().invalidate()}))};a._bindView=function(){b(e.getViewBinder()).bind(b.GraphPresenterFactory.PRESENTER_EVENT_VIEW_READY,function(b,c){var d=c.viewportBounds;a.setViewportBounds(d[0],d[1]);d=c.viewportBuffer;s=d.x;o=d.y;a.getModel().invalidateSpace()});b(e.getViewBinder()).bind(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_START,function(c,d,e,f){e=B(e);f=y(f);a.getModel().addPrimitiveByName(d,
e,f);m[d]=e;n[d]=f;c=a.getModel().getPrimitiveByName(d);c=b.GraphPresenterFactory.getClass("GraphPrimitiveHomePointCalculator").calculate(c);k[d]=c;q[d]=e-k[d].getX();r[d]=f-k[d].getY();a.getModel().getPrimitiveByName(d).startMove()});b(e.getViewBinder()).bind(b.GraphConstants.VIEW_EVENT_RENDER_DRAG,function(b,c,d,e){d=B(d);e=y(e);b=d-m[c];e-=n[c];d=x(c,b,e);a.getModel().movePrimitiveByName(c,b,e,d)});b(e.getViewBinder()).bind(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_STOP,function(c,d){var f=a.getModel().getPrimitiveByName(d);
!x(d,0,0)&&!1!==f.flags.returnToPalette&&a.getModel().removePrimitiveByName(d);a.getModel().commitMovePrimitiveByName(d);a.getModel().graded&&a.refreshCorrectness();if(f.isUsed()&&(f=a.getModel().getSuperPrimitivesForPrimitiveByName(d)[0],f===d)){var g=a.getModel().getPrimitiveByName(f),j=a.getModel().getEditablePropertyForPrimitiveByName(f);if(0!==j.length)switch(g._TYPE){case b.GraphConstants.ELEMENT_TYPE_LINE:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_SLOPE_INTERCEPT:case b.GraphConstants.ELEMENT_TYPE_CIRCLE:case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_X:case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_Y:var h=
{},l;switch(g._TYPE){case b.GraphConstants.ELEMENT_TYPE_LINE:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_SLOPE_INTERCEPT:h=g.getPoint0();l=g.getPoint1();h={x:(h.getX()+l.getX())/2,y:(h.getY()+l.getY())/2};break;case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_X:h=g.getVertex();l=g.getPointOnParabola();h=(h.getX()+l.getX())/2;h={x:h,y:g.calculate(h)};break;case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_Y:h=g.getVertex();
l=g.getPointOnParabola();h=(h.getY()+l.getY())/2;h={x:g.calculate(h),y:h};break;case b.GraphConstants.ELEMENT_TYPE_CIRCLE:h=g.getRadius(),l=g.getPointOnCircle(),g=g.getCenterPoint(),h=g.getY()-h!==l.getY()?{x:g.getX(),y:g.getY()-h}:{x:g.getX()+h,y:g.getY()}}g=h;b(e.getViewBinder()).triggerHandler(b.GraphConstants.PRESENTER_EVENT_SHOW_UPDATE_PROPERTIES,[f,g.x,g.y,j])}}});b(e.getViewBinder()).bind(b.GraphConstants.VIEW_EVENT_RENDER_UPDATE_PROPERTY,function(b,c,d,e){a.getModel().updateEditablePropertyForPrimitiveByName(c,
d,e);a.getModel().graded&&a.refreshCorrectness()})};a._initView=function(){a.getView().init(a.getDomain(),a.getModel(),f)};a.getLastInvalidPrimitives=function(){return u};var t=function(){return function(c,d){for(var e=0,f=d.length;e<f;e++){var g=d[e].getName();void 0!==k[g]&&(m[g]=k[g].getX()+q[g],n[g]=k[g].getY()+r[g])}var e=u=d,e=b.GraphPresenterFactory.getClass("GraphPrimitiveRenderDescriber").describe(a.getModel(),e,j,l),h;for(h in e)e[h].setIsInBounds(x(h));a.getView().updateRenders({},e)}},
w=function(){return function(a,c){b(e.getViewBinder()).triggerHandler(b.GraphConstants.PRESENTER_EVENT_REFRESH_GROUP,[c])}},x=function(c,d,e){c=a.getModel().getPrimitiveByName(c);return b.GraphPresenterFactory.getClass("GraphPrimitiveInclusionChecker").check(c,j,l,d,e)},B=function(a){return a<j.x&&a>=j.x-s?j.x:a>l.x&&a<=l.x+s?l.x:a},y=function(a){return a<j.y&&a>=j.y-o?j.y:a>l.y&&a<=l.y+o?l.y:a};a.getDomain=function(){return d};a.getModel=function(){return c};a.setModel=function(a){c=a};a.getView=
function(){return e};a.setView=function(a){e=a};a.setViewportBounds=function(a,b){j=a;l=b};a.setViewportBuffers=function(a,b){s=a;o=b};a.setGraphTypeTitle=function(a){e.setGraphTypeTitle(a)};return a})})(k);(function(b){b.GraphPresenterFactory.registerClass("SmallGraphPresenter",function(){var a=Object.create(b.GraphPresenterFactory.newInstanceByName("GraphPresenter")),d=null,c=a._init;a._init=function(b,f,g,h){c(b,f,g,h);d=h;a.setModel(g.getCorrectModel());return a};a._createView=function(){a.setView(b.GraphViewFactory.newInstanceByName("small_graph_view"))};
a._bindView=function(){b(a.getView().getViewBinder()).bind(b.GraphPresenterFactory.PRESENTER_EVENT_VIEW_READY,function(b,c){var d=c.viewportBounds;a.setViewportBounds(d[0],d[1]);d=c.viewportBuffer;a.setViewportBuffers(d.x,d.y);a.getModel().invalidateSpace()})};a.createSVGClickMask=function(){a.getView().createSVGClickMask()};a._initView=function(){a.getView().init(a.getDomain(),a.getModel(),d)};a.showDisplay=function(){a.getView().showDisplay()};return a})})(k);(function(b){function a(){}a.convert=
function(a,b,e){var f=a.getPoints(),g=a.getA(),h=a.getB(),j=a.getC(),l=[],m,n,k,q;"both"==a.extension||"left"==a.extension?"x"===a.getDomain()?(b=b.x,m=g*Math.pow(b,2)+h*b+j):(m=b.y,b=g*Math.pow(m,2)+h*m+j):(b=f[0].getX(),m=f[0].getY());"both"==a.extension||"right"==a.extension?"x"===a.getDomain()?(e=e.x,f=g*Math.pow(e,2)+h*e+j):(f=e.y,e=g*Math.pow(f,2)+h*f+j):(e=f[2].getX(),f=f[2].getY());k=e-b;q=f-m;"x"===a.getDomain()?(a=b+k/3,n=g*Math.pow(a,2)+h*a+j,k=b+2*k/3,q=g*Math.pow(k,2)+h*k+j):(n=m+q/3,
a=g*Math.pow(n,2)+h*n+j,q=m+2*q/3,k=g*Math.pow(q,2)+h*q+j);l.push({x:b,y:m},{x:(-5*b+18*a-9*k+2*e)/6,y:(-5*m+18*n-9*q+2*f)/6},{x:(2*b-9*a+18*k-5*e)/6,y:(2*m-9*n+18*q-5*f)/6},{x:e,y:f});return l};b.GraphPresenterFactory.registerClass("Graph2DPolynomialCurve3Converter",a)})(k);(function(b){function a(){}a.convert=function(a,b,e){var f=a.getPoints(),g=[],h=a.getA(),j=a.getB(),l=a.getC(),m=a.getD(),n,k,q,r;"both"==a.extension||"left"==a.extension?"x"===a.getDomain()?(b=b.x,n=h*Math.pow(b,3)+j*Math.pow(b,
2)+l*b+m):(n=b.y,b=h*Math.pow(n,3)+j*Math.pow(n,2)+l*n+m):(b=f[0].getX(),n=f[0].getY());"both"==a.extension||"right"==a.extension?"x"===a.getDomain()?(e=e.x,f=h*Math.pow(e,3)+j*Math.pow(e,2)+l*e+m):(f=e.y,e=h*Math.pow(f,3)+j*Math.pow(f,2)+l*f+m):(e=f[3].getX(),f=f[3].getY());q=e-b;r=f-n;"x"===a.getDomain()?(a=b+q/3,k=h*Math.pow(a,3)+j*Math.pow(a,2)+l*a+m,q=b+2*q/3,r=h*Math.pow(q,3)+j*Math.pow(q,2)+l*q+m):(k=n+r/3,a=h*Math.pow(k,3)+j*Math.pow(k,2)+l*k+m,r=n+2*r/3,q=h*Math.pow(r,3)+j*Math.pow(r,2)+
l*r+m);g.push({x:b,y:n},{x:(-5*b+18*a-9*q+2*e)/6,y:(-5*n+18*k-9*r+2*f)/6},{x:(2*b-9*a+18*q-5*e)/6,y:(2*n-9*k+18*r-5*f)/6},{x:e,y:f});return g};b.GraphPresenterFactory.registerClass("Graph2DPolynomialCurve4Converter",a)})(k);(function(b){function a(){}a.convert=function(a){return(a=a.getFill())?a.getCycles():[]};b.GraphPresenterFactory.registerClass("GraphAreaConverter",a)})(k);(function(b){function a(){}a.convert=function(b){var c=b.length,e,f=[];for(e=0;e<c;e++){var g=b[e];f.push({x:g.getX(),y:g.getY()})}return a.constructCurve(f,
20)};a.constructCurve=function(a,b){isNaN(b)&&(b=10);var e=a.length;if(4>e||0==b||0>b)return null;var f=[],g=2*a[0].x-a[1].x,h=2*a[0].y-a[1].y,j=2*a[e-1].x-a[e-2].x,l=2*a[e-1].y-a[e-2].y;f.push({x:a[0].x,y:a[0].y});for(var m=0;m<e-1;m++){var n=a[m].x,k=a[m+1].x,q=m==e-2?j:a[m+2].x,r=a[m].y,s=a[m+1].y,o=m==e-2?l:a[m+2].y;f.push({x:(-(0==m?g:a[m-1].x)+6*n+k)/6,y:(-(0==m?h:a[m-1].y)+6*r+s)/6});f.push({x:(n+6*k-q)/6,y:(r+6*s-o)/6});f.push({x:k,y:s})}return f};b.GraphPresenterFactory.registerClass("GraphCatmullRomConverter",
a)})(k);(function(b){function a(){}a.convert=function(a){for(var b=a.getCenterPoint().getX(),e=a.getCenterPoint().getY(),a=a.getRadius(),f=[],g,h=0;360>=h;h+=0.72)g=h*(Math.PI/180),f.push({x:b+a*Math.cos(g),y:e+a*Math.sin(g)});g=0;f.push({x:b+a*Math.cos(g),y:e+a*Math.sin(g)});return f};b.GraphPresenterFactory.registerClass("GraphCircleConverter",a)})(k);(function(b){function a(){}a.convert=function(b){return a.calculateHiddenPoints(b,b.getControlPoints())};a.calculateHiddenPoints=function(a,b){var e=
[],f,g,h;f=b[0];g=b[1];h=b[2];var j,l,m,n,k,q,r,s,o,u,t;j=f.getX();f=f.getY();l=g.getX();g=g.getY();m=h.getX();h=h.getY();if(3===b.length)n=(7*j+6*l-m)/12,k=(7*f+6*g-h)/12,q=j/6+l-m/6,r=f/6+g-h/6,s=-j/6+l+m/6,o=-f/6+g+h/6,u=-j/12+l/2+7*m/12,t=-f/12+g/2+7*h/12,e.push({x:j,y:f}),e.push({x:n,y:k}),e.push({x:q,y:r}),e.push({x:l,y:g}),e.push({x:s,y:o}),e.push({x:u,y:t}),e.push({x:m,y:h});else if(4===b.length){k=b[3];n=k.getX();k=k.getY();var w,x,B,y,z,A;q=(26*j+24*l-6*m+n)/45;r=(26*f+24*g-6*h+k)/45;s=
7*j/45+16*l/15-4*m/15+2*n/45;o=7*f/45+16*g/15-4*h/15+2*k/45;u=-7*j/45+14*l/15+4*m/15-2*n/45;t=-7*f/45+14*g/15+4*h/15-2*k/45;w=-2*j/45+4*l/15+14*m/15-7*n/45;x=-2*f/45+4*g/15+14*h/15-7*k/45;B=2*j/45-4*l/15+16*m/15+7*n/45;y=2*f/45-4*g/15+16*h/15+7*k/45;z=j/45-2*l/15+8*m/15+26*n/45;A=f/45-2*g/15+8*h/15+26*k/45;e.push({x:j,y:f});e.push({x:q,y:r});e.push({x:s,y:o});e.push({x:l,y:g});e.push({x:u,y:t});e.push({x:w,y:x});e.push({x:m,y:h});e.push({x:B,y:y});e.push({x:z,y:A});e.push({x:n,y:k})}else if(5===b.length){k=
b[3];n=k.getX();k=k.getY();r=b[4];q=r.getX();r=r.getY();var D,C,v,F,H,L;s=(97*j+90*l-24*m+6*n-q)/168;o=(97*f+90*g-24*h+6*k-r)/168;u=-j+(97*j+90*l-24*m+6*n-q)/84;t=-f+(97*f+90*g-24*h+6*k-r)/84;w=-13*j/84+13*l/14+2*m/7-n/14+q/84;x=-13*f/84+13*g/14+2*h/7-k/14+r/84;B=-j/24+l/4+m-n/4+q/24;y=-f/24+g/4+h-k/4+r/24;z=j/24-l/4+m+n/4-q/24;A=f/24-g/4+h+k/4-r/24;D=j/84-l/14+2*m/7+13*n/14-13*q/84;C=f/84-g/14+2*h/7+13*k/14-13*r/84;v=-j/84+l/14-2*m/7+15*n/14+13*q/84;F=-f/84+g/14-2*h/7+15*k/14+13*r/84;H=-j/168+l/
28-m/7+15*n/28+97*q/168;L=-f/168+g/28-h/7+15*k/28+97*r/168;e.push({x:j,y:f});e.push({x:s,y:o});e.push({x:u,y:t});e.push({x:l,y:g});e.push({x:w,y:x});e.push({x:B,y:y});e.push({x:m,y:h});e.push({x:z,y:A});e.push({x:D,y:C});e.push({x:n,y:k});e.push({x:v,y:F});e.push({x:H,y:L});e.push({x:q,y:r})}return e};b.GraphPresenterFactory.registerClass("GraphNPointCurveConverter",a)})(k);(function(b){function a(){}a.convert=function(a,c,e){var f=a.getDomain(),g=a.getVertex().getX(),h=a.getVertex().getY(),j=a.getPointOnParabola().getX(),
l=a.getPointOnParabola().getY(),m=[];if(isNaN(g)||isNaN(h)||isNaN(j)||isNaN(l))return[{x:NaN,y:NaN},{x:NaN,y:NaN}];if(b.BasicMathToolkit.equal(l,h))return[{x:c.x,y:l},{x:e.x,y:l}];if(b.BasicMathToolkit.equal(j,g))return[{x:j,y:c.y},{x:j,y:e.y}];g=(j=g>=c.x&&g<=e.x&&h>=c.y&&h<=e.y&&j>=c.x&&j<=e.x&&l>=c.y&&l<=e.y)?e.x:2*e.x;e=j?e.y:2*e.y;h=j?c.x:2*c.x;l=j?c.y:2*c.y;switch(f){case "y":j=(e-l)/500;for(f=l;f<=e;f+=j)l=a.calculate(f),Infinity>l&&-Infinity<l?m.push({x:l,y:f}):Infinity===l?m.push({x:1E3*
g,y:f}):0<=c.x?m.push({x:-1E6,y:f}):m.push({x:1E3*h,y:f});break;default:j=(g-h)/500;for(f=h;f<=g;f+=j)c=a.calculate(f),Infinity>c&&-Infinity<c?m.push({x:f,y:c}):Infinity===c?m.push({x:f,y:1E3*e}):0<=h?m.push({x:f,y:-1E6}):m.push({x:f,y:1E3*l})}return m};b.GraphPresenterFactory.registerClass("GraphParabolaConverter",a)})(k);(function(b){function a(){}a.convert=function(a,c,e,f){var g=a.getPoints(),h=g.length,j=[],l,m,n,k;if("left"===a.extension||"both"===a.extension)n=b.CoordinateGeometryToolkit.extendAlongLine({x:g[1].getX(),
y:g[1].getY()},{x:g[0].getX(),y:g[0].getY()},2*f),j.push(n),n=!0;for(l=0;l<h;l++)k=g[l],j.push({x:k.getX(),y:k.getY()});if("right"===a.extension||"both"===a.extension)m=b.CoordinateGeometryToolkit.extendAlongLine({x:g[g.length-2].getX(),y:g[g.length-2].getY()},{x:g[g.length-1].getX(),y:g[g.length-1].getY()},2*f),j.push(m),m=!0;n&&(a=j[0],f=j[1],0==b.CoordinateGeometryToolkit.computeOutCode(f,c,e)&&(j[0]=b.CoordinateGeometryToolkit.clipLine(a,f,c,e)[0]));m&&(a=j[j.length-2],f=j[j.length-1],0==b.CoordinateGeometryToolkit.computeOutCode(a,
c,e)&&(j[j.length-1]=b.CoordinateGeometryToolkit.clipLine(a,f,c,e)[1]));return j};b.GraphPresenterFactory.registerClass("GraphPiecewiseBezierCurve1Converter",a)})(k);(function(b){function a(){}a.convert=function(a){var a=a.getPoints(),b=a.length,e=[],f,g,h,j,l;for(l=0;l<b&&!(l===b-1||l+2>=b);l+=2)f=a[l],g=a[l+1],h=a[l+2],f={x:f.getX(),y:f.getY()},g={x:g.getX(),y:g.getY()},h={x:h.getX(),y:h.getY()},j={x:h.x,y:h.y},g={x:1/3*(f.x+2*g.x),y:1/3*(f.y+2*g.y)},h={x:1/3*(2*g.x+h.x),y:1/3*(2*g.y+h.y)},e.push(f,
g,h,j);return e};b.GraphPresenterFactory.registerClass("GraphPiecewiseBezierCurve2Converter",a)})(k);(function(b){function a(){}a.convert=function(a){var b=a.length,e,f=[];for(e=0;e<b;e++){var g=a[e];f.push({x:g.getX(),y:g.getY()})}return f};b.GraphPresenterFactory.registerClass("GraphPiecewiseBezierCurve3Converter",a)})(k);(function(b){function a(){}a.calculate=function(a){return a.getCenterPoint()};b.GraphPresenterFactory.registerClass("GraphCircleHomePointCalculator",a)})(k);(function(b){function a(){}
a.calculate=function(a){return a.getVertex()};b.GraphPresenterFactory.registerClass("GraphParabolaHomePointCalculator",a)})(k);(function(b){function a(){}a.calculate=function(a){return a.getPoints()[0]};b.GraphPresenterFactory.registerClass("GraphPointCollectionHomePointCalculator",a)})(k);(function(b){function a(){}a.calculate=function(a){return a};b.GraphPresenterFactory.registerClass("GraphPointHomePointCalculator",a)})(k);(function(b){function a(){}a.calculate=function(a){switch(a._TYPE){case b.GraphConstants.ELEMENT_TYPE_POINT:case b.GraphConstants.ELEMENT_TYPE_DROP_MARKER:return b.GraphPresenterFactory.getClass("GraphPointHomePointCalculator").calculate(a);
case b.GraphConstants.ELEMENT_TYPE_SEGMENT:case b.GraphConstants.ELEMENT_TYPE_RAY:case b.GraphConstants.ELEMENT_TYPE_LINE:case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_1:case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_2:case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_3:case b.GraphConstants.ELEMENT_TYPE_N_POINT_CURVE:case b.GraphConstants.ELEMENT_TYPE_RECTANGLE:case b.GraphConstants.ELEMENT_TYPE_QUADRILATERAL:case b.GraphConstants.ELEMENT_TYPE_TRIANGLE:case b.GraphConstants.ELEMENT_TYPE_POLYGON:case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_2:case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_3:case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_4:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_SLOPE_INTERCEPT:case b.GraphConstants.ELEMENT_TYPE_CATMULL_ROM:case b.GraphConstants.ELEMENT_TYPE_MONOTONIC_ARC:return b.GraphPresenterFactory.getClass("GraphPointCollectionHomePointCalculator").calculate(a);
case b.GraphConstants.ELEMENT_TYPE_CIRCLE:return b.GraphPresenterFactory.getClass("GraphCircleHomePointCalculator").calculate(a);case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_X:case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_Y:return b.GraphPresenterFactory.getClass("GraphParabolaHomePointCalculator").calculate(a)}};b.GraphPresenterFactory.registerClass("GraphPrimitiveHomePointCalculator",a)})(k);(function(b){function a(){}a.check=function(a,c,e,f,g){var h=a.getPoint(),a=h.getX(),
h=h.getY();return b.BasicMathToolkit.contains(a+f,[c.x,e.x])&&b.BasicMathToolkit.contains(h+g,[c.y,e.y])};b.GraphPresenterFactory.registerClass("GraphAreaInclusionChecker",a)})(k);(function(b){function a(){}a.check=function(a,c,e,f,g){var h=a.getCenterPoint();a.getRadius();a=a.getPointOnCircle();h=b.BasicMathToolkit.contains(h.getX()+f,[c.x,e.x])&&b.BasicMathToolkit.contains(h.getY()+g,[c.y,e.y]);c=b.BasicMathToolkit.contains(a.getX()+f,[c.x,e.x])&&b.BasicMathToolkit.contains(a.getY()+g,[c.y,e.y]);
return h&&c};b.GraphPresenterFactory.registerClass("GraphCircleInclusionChecker",a)})(k);(function(b){function a(){}a.check=function(a){return 2<=a.getIncludedPoints().length?!0:!1};b.GraphPresenterFactory.registerClass("GraphConnectedPointsInclusionChecker",a)})(k);(function(b){function a(){}a.check=function(){return!0};b.GraphPresenterFactory.registerClass("GraphFunctionInclusionChecker",a)})(k);(function(b){function a(){}a.check=function(a,c,e,f,g){var h=a.getVertex(),a=a.getPointOnParabola(),
h=b.BasicMathToolkit.contains(h.getX()+f,[c.x,e.x])&&b.BasicMathToolkit.contains(h.getY()+g,[c.y,e.y]),c=b.BasicMathToolkit.contains(a.getX()+f,[c.x,e.x])&&b.BasicMathToolkit.contains(a.getY()+g,[c.y,e.y]);return h&&c};b.GraphPresenterFactory.registerClass("GraphParabolaInclusionChecker",a)})(k);(function(b){function a(){}a.check=function(a,c,e,f,g){for(var a=a.getPoints(),h=a.length,j=!0,l=0;l<h;l++){var m=a[l],n=m.getX(),m=m.getY();if(!b.BasicMathToolkit.contains(n+f,[c.x,e.x])||!b.BasicMathToolkit.contains(m+
g,[c.y,e.y])){j=!1;break}}return j};b.GraphPresenterFactory.registerClass("GraphPointCollectionInclusionChecker",a)})(k);(function(b){function a(){}a.check=function(a,c,e,f,g){var h=a.getX(),a=a.getY();return b.BasicMathToolkit.contains(h+f,[c.x,e.x])&&b.BasicMathToolkit.contains(a+g,[c.y,e.y])};b.GraphPresenterFactory.registerClass("GraphPointInclusionChecker",a)})(k);(function(b){function a(){}a.check=function(a,c,e,f,g){f="undefined"!==typeof f?f:0;g="undefined"!==typeof g?g:0;c.x-=b.CoordinateGeometryToolkit.VIEWPORT_SLACK;
c.y-=b.CoordinateGeometryToolkit.VIEWPORT_SLACK;e.x+=b.CoordinateGeometryToolkit.VIEWPORT_SLACK;e.y+=b.CoordinateGeometryToolkit.VIEWPORT_SLACK;switch(a._TYPE){case b.GraphConstants.ELEMENT_TYPE_AREA:return b.GraphPresenterFactory.getClass("GraphAreaInclusionChecker").check(a,c,e,f,g);case b.GraphConstants.ELEMENT_TYPE_POINT:return b.GraphPresenterFactory.getClass("GraphPointInclusionChecker").check(a,c,e,f,g);case b.GraphConstants.ELEMENT_TYPE_SEGMENT:case b.GraphConstants.ELEMENT_TYPE_RAY:case b.GraphConstants.ELEMENT_TYPE_LINE:case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_1:case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_2:case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_3:case b.GraphConstants.ELEMENT_TYPE_N_POINT_CURVE:case b.GraphConstants.ELEMENT_TYPE_RECTANGLE:case b.GraphConstants.ELEMENT_TYPE_QUADRILATERAL:case b.GraphConstants.ELEMENT_TYPE_TRIANGLE:case b.GraphConstants.ELEMENT_TYPE_POLYGON:case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_2:case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_3:case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_4:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE:case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_SLOPE_INTERCEPT:case b.GraphConstants.ELEMENT_TYPE_CATMULL_ROM:case b.GraphConstants.ELEMENT_TYPE_MONOTONIC_ARC:return b.GraphPresenterFactory.getClass("GraphPointCollectionInclusionChecker").check(a,
c,e,f,g);case b.GraphConstants.ELEMENT_TYPE_CIRCLE:return b.GraphPresenterFactory.getClass("GraphCircleInclusionChecker").check(a,c,e,f,g);case b.GraphConstants.ELEMENT_TYPE_CONNECTED_POINTS:return b.GraphPresenterFactory.getClass("GraphConnectedPointsInclusionChecker").check(a,c,e,f,g);case b.GraphConstants.ELEMENT_TYPE_FUNCTION:return b.GraphPresenterFactory.getClass("GraphFunctionInclusionChecker").check(a,c,e,f,g);case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_X:case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_Y:return b.GraphPresenterFactory.getClass("GraphParabolaInclusionChecker").check(a,
c,e,f,g)}};b.GraphPresenterFactory.registerClass("GraphPrimitiveInclusionChecker",a)})(k);(function(b){function a(){}a.areaResolutions={};a.serializedEnvelope=null;a.pendingResolveAreaRequests={};a.pendingResolveAreaRequestId=0;a.getFill=function(d){var c={x:d.getPoint().getX(),y:d.getPoint().getY()};if(isNaN(c.x)||isNaN(c.y))return null;d.setIsPointOnConstraint(!1);var e=d.getSerializedConstraints();if(e){var f=[a.serializedEnvelope,e].join("|"),e=a.areaResolutions[f];if(null==e)a.processResolveAreaRequest(d,
f);else{if((f=e.lastFill)&&b.CoordinateGeometryToolkit.isPointInPolygon(c,f.getCycles(),!1))return f;for(var f=e.fills,g=0;g<f.length;g++){var h=f[g];if(b.CoordinateGeometryToolkit.isPointInPolygon(c,h.getCycles(),!1))return e.lastFill=h}e.lastFill=null;d.setIsPointOnConstraint(!0)}return null}h=a.deserializeFillString(a.serializedEnvelope);if(b.CoordinateGeometryToolkit.isPointInPolygon(c,h.getCycles(),!1))return h;d.setIsPointOnConstraint(!0);return null};a.setFills=function(b,c){var e=a.pendingResolveAreaRequests[b];
delete a.pendingResolveAreaRequests[b];for(var f=[],g=c.split("|"),h=0;h<g.length;h++){var j=a.deserializeFillString(g[h]);f.push(j)}a.areaResolutions[e]={fills:f,lastFill:null}};a.deserializeFillString=function(a){var c=null;if("P"==a.substring(0,1))for(var a=a.substring(2),c=b.GraphFactory.newInstanceByName("Fill").init(),a=a.split("~"),e=0;e<a.length;e++){for(var f=[],g=a[e].split("/"),h=0;h<g.length;h++){var j={},l=g[h].split(",");j.x=parseFloat(l[0]);j.y=parseFloat(l[1]);f.push(j)}c.addCycle(f)}return c};
a.describe=function(d,c,e,f){a.setSerializedEnvelope(e,f);for(var d=b.GraphVOFactory.newInstanceByName("graph_arearenderdescription"),e=[],f=!1,g={x:c.getPoint().getX(),y:c.getPoint().getY()},h=c.getConstraints(),j=0;j<h.length;j++){var l=h[j];if("PrimitiveSegment"===l._NAME&&(l.getPoint0()&&l.getPoint1())&&(l={P0:{x:l.getPoint0().getX(),y:l.getPoint0().getY()},P1:{x:l.getPoint1().getX(),y:l.getPoint1().getY()}},b.CoordinateGeometryToolkit.isPointOnSegment(l,g))){f=!0;break}}if(f)c.setIsPointOnConstraint(!0);
else{var m=a.getFill(c);m&&(e=m.getCycles())}0===e.length&&(e=[[{x:NaN,y:NaN},{x:NaN,y:NaN}]]);f=c.getName();g=b.GraphFactory.newInstanceByName("Area");h=c.getIsFree();j=c.getIsCorrect();c.flags.fillPattern="solid";d.init(e,f,g,"",c.flags);d.setIsDraggable(h);d.setIsCorrect(j);d.additionalInfo={center:{x:c.getPoint().getX(),y:c.getPoint().getY()},size:null==m?0:m.getSize()};return d};a.setSerializedEnvelope=function(d,c){var e=b.DiagramFrameworkFactory.newInstanceByName("Primitive2Polygon"),f=d.x,
g=d.y,h=c.x,j=c.y,l=b.DiagramFrameworkFactory.newInstanceByName("Primitive2Point");l.setX(f);l.setY(g);var m=b.DiagramFrameworkFactory.newInstanceByName("Primitive2Point");m.setX(f);m.setY(j);f=b.DiagramFrameworkFactory.newInstanceByName("Primitive2Point");f.setX(h);f.setY(j);j=b.DiagramFrameworkFactory.newInstanceByName("Primitive2Point");j.setX(h);j.setY(g);e.setExteriorCycle([l,m,f,j]);a.serializedEnvelope=b.BasicMathToolkit.serializePolygon(e)};a.processResolveAreaRequest=function(d,c){var e=
!1,f;for(f in a.pendingResolveAreaRequests)if(a.pendingResolveAreaRequests.hasOwnProperty(f)&&a.pendingResolveAreaRequests[f]===c){e=!0;break}e||(e=(a.pendingResolveAreaRequestId++).toString(),a.pendingResolveAreaRequests[e]=c,b(a).trigger(b.GraphPresenterFactory.PRESENTER_EVENT_SEND_RESOLVE_AREA_REQUEST,[e,c]));d.invalidate()};b.GraphPresenterFactory.registerClass("GraphAreaRenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c){var e=[],e=b.GraphPresenterFactory.getClass("GraphCatmullRomConverter").convert(c.getPoints()),
f=b.GraphVOFactory.newInstanceByName("graph_curverenderdescription"),g=c.getName(),h=b.GraphFactory.newInstanceByName("PiecewiseBezierCurve3"),j=c.getIsFree();f.init(e,g,h,"",c.flags);f.setIsDraggable(j);f.setIsCorrect(!0);return f};b.GraphPresenterFactory.registerClass("GraphCatmullRomRenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c){var e=b.GraphPresenterFactory.getClass("GraphCircleConverter").convert(c),f=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription"),
g=c.getName(),h=c.getIsFree(),j=b.GraphFactory.newInstanceByName("Polygon"),l=c.getIsCorrect();c.flags.linePattern=c.getIsIncluded()?"solid":"dashed";f.init(e,g,j,"",c.flags);f.setIsDraggable(h);f.setIsCorrect(l);f.additionalInfo={center:{x:c.getCenterPoint().getX(),y:c.getCenterPoint().getY()},area:c.getArea(),radius:c.getRadius(),circumference:c.getCircumference()};return f};b.GraphPresenterFactory.registerClass("GraphCircleRenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,
c){for(var e=c.getIncludedPoints(),f=e.length,g=[],h=0;h<f;h++){var j=e[h];g.push({x:j.getX(),y:j.getY()})}0===g.length?g.push({x:NaN,y:NaN},{x:NaN,y:NaN}):1===g.length&&g.push({x:NaN,y:NaN});e=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription");f=c.getName();h=b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1");j=c.getIsFree();e.init(g,f,h,"",c.flags);e.setIsDraggable(j);e.setIsCorrect(!0);return e};b.GraphPresenterFactory.registerClass("GraphConnectedPointsRenderDescriber",
a)})(k);(function(b){function a(){}a.describe=function(a,c){var e=b.GraphVOFactory.newInstanceByName("graph_pointrenderdescription"),f=[{x:{value:c.getMarkerPoint().getX(),label:c.getMarkerPoint().xLabel},y:{value:c.getMarkerPoint().getY(),label:c.getMarkerPoint().yLabel}}],g=c.getMarkerPoint().getName(),h=c.getMarkerPoint().getLabel();e.init(f,g,null,h,c.getMarkerPoint().flags);f=c.getMarkerPoint().getIsFree();g=c.getMarkerPoint().getIsCorrect();e.setIsDraggable(f);e.setIsCorrect(g);return e};b.GraphPresenterFactory.registerClass("GraphDropMarkerRenderDescriber",
a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f,g){if(c.defineSecondPointUsingSlope()){var h=a.getResolutions()[0].getPeriodicInterval().getPeriod();c.adjustSecondPointUsingSlope(h,a.resolveXToResolutionAndLimits,a.resolveYToResolutionAndLimits,e.x,e.y,f.x,f.y)}var h=c.getPoint0(),j=c.getPoint1(),a=h.getX(),l=h.getY(),h=j.getX(),j=j.getY(),a={x:a,y:l},j={x:h,y:j},h=b.CoordinateGeometryToolkit.extendAlongLine(a,j,2*g),g=b.CoordinateGeometryToolkit.extendAlongLine(j,a,2*g),e=0==b.CoordinateGeometryToolkit.computeOutCode(a,
e,f)?b.CoordinateGeometryToolkit.clipLine(h,g,e,f):[h,g],f=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription"),g=c.getName(),a=b.GraphFactory.newInstanceByName("Line"),h=c.getIsFree(),j=c.getIsCorrect();c.flags.linePattern=c.getIsIncluded()?"solid":"dashed";f.init(e,g,a,"",c.flags);f.setIsDraggable(h);f.setIsCorrect(j);if(!1===c.flags.returnToPalette)throw Error("LineDefinedByPointSlope not yet support returnToPalette === false");return f};b.GraphPresenterFactory.registerClass("GraphLineDefinedByPointSlopeRenderDescriber",
a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f,g){c.defineFirstPointUsingIntercept()&&c.adjustFirstPointUsingIntercept(h,a.resolveXToResolutionAndLimits,a.resolveYToResolutionAndLimits,e.x,e.y,f.x,f.y);if(c.defineSecondPointUsingSlope()){var h=a.getResolutions()[0].getPeriodicInterval().getPeriod();c.adjustSecondPointUsingSlope(h,a.resolveXToResolutionAndLimits,a.resolveYToResolutionAndLimits,e.x,e.y,f.x,f.y)}var h=c.getPoint0(),j=c.getPoint1(),a=h.getX(),l=h.getY(),h=j.getX(),j=j.getY(),
a={x:a,y:l},j={x:h,y:j},h=b.CoordinateGeometryToolkit.extendAlongLine(a,j,2*g),g=b.CoordinateGeometryToolkit.extendAlongLine(j,a,2*g),e=0==b.CoordinateGeometryToolkit.computeOutCode(a,e,f)?b.CoordinateGeometryToolkit.clipLine(h,g,e,f):[h,g],f=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription"),g=c.getName(),a=b.GraphFactory.newInstanceByName("Line"),h=c.getIsFree(),j=c.getIsCorrect();c.flags.linePattern=c.getIsIncluded()?"solid":"dashed";f.init(e,g,a,"",c.flags);f.setIsDraggable(h);
f.setIsCorrect(j);if(!1===c.flags.returnToPalette)throw Error("LineDefinedBySlopeIntercept not yet support returnToPalette === false");return f};b.GraphPresenterFactory.registerClass("GraphLineDefinedBySlopeInterceptRenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f,g){var h=c.getPoint0(),j=c.getPoint1(),a=h.getX(),l=h.getY(),h=j.getX(),j=j.getY(),a={x:a,y:l},h={x:h,y:j},j=b.CoordinateGeometryToolkit.extendAlongLine(a,h,2*g),l=b.CoordinateGeometryToolkit.extendAlongLine(h,
a,2*g),m;m=0==b.CoordinateGeometryToolkit.computeOutCode(a,e,f)&&0==b.CoordinateGeometryToolkit.computeOutCode(h,e,f)?b.CoordinateGeometryToolkit.clipLine(j,l,e,f):[j,l];var j=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription"),l=c.getName(),n=b.GraphFactory.newInstanceByName("Line"),k=c.getIsFree(),q=c.getIsCorrect();c.flags.linePattern=c.getIsIncluded()?"solid":"dashed";if(!1===c.flags.returnToPalette&&(!isNaN(m[0].x)||!isNaN(m[0].y)||!isNaN(m[1].x)||!isNaN(m[1].y)))e=b.CoordinateGeometryToolkit.clipOutOfBoundsLineToViewport(a,
h,e,f,g),m=null===e?[{x:0,y:0},{x:0,y:0}]:e;j.init(m,l,n,"",c.flags);j.setIsDraggable(k);j.setIsCorrect(q);return j};b.GraphPresenterFactory.registerClass("GraphLineRenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f){var a=b.GraphPresenterFactory.getClass("GraphParabolaConverter").convert(c,e,f),e=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription"),f=c.getName(),g=b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1"),h=c.getIsFree(),j=c.getIsCorrect();
c.flags.linePattern=c.getIsIncluded()?"solid":"dashed";e.init(a,f,g,"",c.flags);e.setIsDraggable(h);e.setIsCorrect(j);e.additionalInfo={center:{x:c.getVertex().getX(),y:c.getVertex().getY()}};return e};b.GraphPresenterFactory.registerClass("GraphParabolaRenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f){var a=[],a=[],g=c.getPlot(),h=g.getIndependentVarBounds(),j=g.getIndependentVar(),l=g.getDependentVarBounds(),g=c.getViewportInterval(),m,n,k,q;"x"===j?(m=h?h[0]:e.x,
n=h?h[1]:f.x,k=l?l[0]:e.y,q=l?l[1]:f.y):"y"===j&&(m=h?h[0]:e.y,n=h?h[1]:f.y,k=l?l[0]:e.x,q=l?l[1]:f.x);for(f=0;f<g.length;f++){e=(g[f].endValue-g[f].startValue)/1E3;for(h=g[f].startValue;h<=g[f].endValue;h+=e)h<n&&h>m&&(l=c.compute({independentVar:h}),l<q&&l>k&&("x"===j?a.push({x:h,y:l}):"y"===j&&a.push({y:h,x:l})))}0===a.length&&(a.push({x:NaN,y:NaN}),a.push({x:NaN,y:NaN}));m=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription");n=c.getName();k=b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1");
q=c.getIsFree();m.init(a,n,k,"",c.flags);m.setIsDraggable(q);m.setIsCorrect(!0);return m};b.GraphPresenterFactory.registerClass("GraphPlotRenderDescriber",a)})(k);(function(b){function a(){}a.getBoundingBox=function(a){for(var b=a[0].x,e=a[0].y,f=a[0].x,g=a[0].y,h=a.length,j=1;j<h;j++)var l=a[j],b=Math.min(b,l.x),f=Math.max(f,l.x),e=Math.min(e,l.y),g=Math.max(g,l.y);return[{x:b,y:e},{x:f,y:g}]};b.GraphPresenterFactory.registerClass("GraphPointCollectionRenderDescriber",a)})(k);(function(b){function a(){}
a.describe=function(a,e,f,g,h){var j=b.GraphVOFactory.newInstanceByName("graph_pointrenderdescription"),l=[{x:{value:e.getX(),label:e.xLabel},y:{value:e.getY(),label:e.yLabel}}];if(!1===e.flags.returnToPalette){var m=e.getX(),n=e.getY();if((!isNaN(m)||!isNaN(n))&&b.CoordinateGeometryToolkit.computeOutCode({x:m,y:n},f,g)!=b.CoordinateGeometryToolkit.INSIDE){var k=e.getName(),q=e.getLabel();l=a.getSuperPrimitivesForPrimitiveByName(k);0<l.length?(a=a.getPrimitiveByName(l[0]),a="Line"===a._TYPE?a:null):
a=null;void 0!==q&&null!==a?(q=a.getPoint0(),a=a.getPoint1(),q={x:q.getX(),y:q.getY()},a={x:a.getX(),y:a.getY()},g=b.CoordinateGeometryToolkit.clipOutOfBoundsLineToViewport(q,a,f,g,h),null===g?l=[d(f,e)]:(f=b.CoordinateGeometryToolkit.distancePointPoint({x:m,y:n},g[0]),l=b.CoordinateGeometryToolkit.distancePointPoint({x:m,y:n},g[1])<f?[g[1]]:[g[0]],e.setX(l[0].x),e.setY(l[0].y))):l=[d(f,e)]}}k=e.getName();q=e.getLabel();j.init(l,k,null,q,e.flags);m=e.getIsFree();e=e.getIsCorrect();j.setIsDraggable(m);
j.setIsCorrect(e);return j};var d=function(a,b){return{x:{value:a.x-1E4,label:b.xLabel},y:{value:a.y,label:b.yLabel}}};b.GraphPresenterFactory.registerClass("GraphPointRenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c){var e=c.getPoints(),f=e.length,g=[],h;for(h=0;h<=f;h++)g.push({x:NaN,y:NaN});var j=!0;for(h=0;h<f;h++)if(void 0===e[h]){j=!1;break}if(j){for(h=0;h<f;h++)j=e[h],g[h]={x:j.getX(),y:j.getY()};g[f]=g[0]}e=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription");
f=c.getName();h=b.GraphFactory.newInstanceByName("Polygon");var j=c.getIsFree(),l=c.getIsCorrect(),m;m=g[0].x;for(var n=g[0].y,k=g[0].x,q=g[0].y,r=g.length,s=1;s<r;s++){var o=g[s];m=Math.min(m,o.x);k=Math.max(k,o.x);n=Math.min(n,o.y);q=Math.max(q,o.y)}m=[{x:m,y:n},{x:k,y:q}];e.init(g,f,h,"",c.flags);e.setIsDraggable(j);e.setIsCorrect(l);e.additionalInfo={center:{x:(m[0].x+m[1].x)/2,y:(m[0].y+m[1].y)/2},area:c.getArea(),perimeter:c.getPerimeter()};return e};b.GraphPresenterFactory.registerClass("GraphPolygonRenderDescriber",
a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f){for(var g=b.CoordinateGeometryToolkit.distancePointPoint(e,f),h,j={},l=c.length-1;-1<l;l--){var m=c[l];switch(m._TYPE){case b.GraphConstants.ELEMENT_TYPE_POINT:h=b.GraphPresenterFactory.getClass("GraphPointRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_SEGMENT:h=b.GraphPresenterFactory.getClass("GraphSegmentRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_RAY:h=b.GraphPresenterFactory.getClass("GraphRayRenderDescriber").describe(a,
m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_LINE:h=b.GraphPresenterFactory.getClass("GraphLineRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_1:h=b.GraphPresenterFactory.getClass("GraphPiecewiseBezierCurve1RenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_2:h=b.GraphPresenterFactory.getClass("GraphPiecewiseBezierCurve2RenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_MONOTONIC_ARC:case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_3:h=
b.GraphPresenterFactory.getClass("GraphPiecewiseBezierCurve3RenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_N_POINT_CURVE:h=b.GraphPresenterFactory.getClass("GraphNPointCurveRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_RECTANGLE:case b.GraphConstants.ELEMENT_TYPE_QUADRILATERAL:case b.GraphConstants.ELEMENT_TYPE_TRIANGLE:case b.GraphConstants.ELEMENT_TYPE_POLYGON:h=b.GraphPresenterFactory.getClass("GraphPolygonRenderDescriber").describe(a,
m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_CIRCLE:h=b.GraphPresenterFactory.getClass("GraphCircleRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_2:h=b.GraphPresenterFactory.getClass("Graph2DPolynomialCurve2RenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_3:h=b.GraphPresenterFactory.getClass("Graph2DPolynomialCurve3RenderDescriber").describe(a,m,e,f);break;case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_4:h=
b.GraphPresenterFactory.getClass("Graph2DPolynomialCurve4RenderDescriber").describe(a,m,e,f);break;case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE:h=b.GraphPresenterFactory.getClass("GraphLineDefinedByPointSlopeRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_SLOPE_INTERCEPT:h=b.GraphPresenterFactory.getClass("GraphLineDefinedBySlopeInterceptRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_PLOT:h=null;break;
case b.GraphConstants.ELEMENT_TYPE_FUNCTION:h=b.GraphPresenterFactory.getClass("GraphPlotRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_AREA:h=b.GraphPresenterFactory.getClass("GraphAreaRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_X:case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_Y:h=b.GraphPresenterFactory.getClass("GraphParabolaRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_CATMULL_ROM:h=
b.GraphPresenterFactory.getClass("GraphCatmullRomRenderDescriber").describe(a,m,e,f,g);break;case b.GraphConstants.ELEMENT_TYPE_DROP_MARKER:h=b.GraphPresenterFactory.getClass("GraphDropMarkerRenderDescriber").describe(a,m,e,f,g)}null!==h&&(j[m.getName()]=h)}return j};b.GraphPresenterFactory.registerClass("GraphPrimitiveRenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f,g){var h=c.getPoint0(),j=c.getPoint1(),a=h.getX(),l=h.getY(),h=j.getX(),j=j.getY(),a={x:a,y:l},h={x:h,
y:j},g=b.CoordinateGeometryToolkit.extendAlongLine(a,h,2*g),e=0==b.CoordinateGeometryToolkit.computeOutCode(a,e,f)&&0==b.CoordinateGeometryToolkit.computeOutCode(h,e,f)?b.CoordinateGeometryToolkit.clipLine(a,g,e,f):[a,g],f=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription"),g=c.getName(),a=b.GraphFactory.newInstanceByName("Ray"),h=c.getIsFree();f.init(e,g,a,"",c.flags);f.setIsDraggable(h);f.setIsCorrect(!0);return f};b.GraphPresenterFactory.registerClass("GraphRayRenderDescriber",
a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f){var a=c.getPoint0(),g=c.getPoint1(),h=NaN,j=NaN,l=NaN,m=NaN;void 0!==a&&void 0!==g&&(h=a.getX(),j=a.getY(),l=g.getX(),m=g.getY());a=[{x:h,y:j},{x:l,y:m}];if(!1===c.flags.returnToPalette&&(!isNaN(h)||!isNaN(j)||!isNaN(l)||!isNaN(m)))if(h={x:h,y:j},l={x:l,y:m},m=b.CoordinateGeometryToolkit.computeOutCode(h,e,f),j=b.CoordinateGeometryToolkit.computeOutCode(l,e,f),m!=b.CoordinateGeometryToolkit.INSIDE||j!=b.CoordinateGeometryToolkit.INSIDE)a=
b.CoordinateGeometryToolkit.clipLine(h,l,e,f),a=null===a?[{x:0,y:0},{x:0,y:0}]:a;e=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription");f=c.getName();l=b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1");m=c.getIsFree();h=c.getIsCorrect();c.getIsConnectedPointSegment()&&(l.hasCorrectnessOverlay=!0);e.init(a,f,l,"",c.flags);e.setIsDraggable(m);e.setIsCorrect(h);return e};b.GraphPresenterFactory.registerClass("GraphSegmentRenderDescriber",a)})(k);(function(b){function a(){}a.describe=
function(a,c,e,f,g){var a=b.GraphPresenterFactory.getClass("GraphNPointCurveConverter").convert(c,e,f,g),e=b.GraphVOFactory.newInstanceByName("graph_curverenderdescription"),f=c.getName(),g=b.GraphFactory.newInstanceByName("NPointCurve"),h=c.getIsFree(),j=c.getIsCorrect();e.init(a,f,g,"",c.flags);e.setIsDraggable(h);e.setIsCorrect(j);return e};b.GraphPresenterFactory.registerClass("GraphNPointCurveRenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f,g){var a=b.GraphPresenterFactory.getClass("GraphPiecewiseBezierCurve1Converter").convert(c,
e,f,g),e=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription"),f=c.getName(),g=b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1"),h=c.getIsFree();e.init(a,f,g,"",c.flags);e.setIsDraggable(h);e.setIsCorrect(!0);return e};b.GraphPresenterFactory.registerClass("GraphPiecewiseBezierCurve1RenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f){var a=b.GraphPresenterFactory.getClass("GraphPiecewiseBezierCurve2Converter").convert(c,e,f),e=b.GraphVOFactory.newInstanceByName("graph_curverenderdescription"),
f=c.getName(),g=b.GraphFactory.newInstanceByName("PiecewiseBezierCurve3"),h=c.getIsFree();e.init(a,f,g,"",c.flags);e.setIsDraggable(h);e.setIsCorrect(!0);return e};b.GraphPresenterFactory.registerClass("GraphPiecewiseBezierCurve2RenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c){c.getPoints();var e=[],e=b.GraphPresenterFactory.getClass("GraphPiecewiseBezierCurve3Converter").convert(c.getPoints()),f=b.GraphVOFactory.newInstanceByName("graph_curverenderdescription"),g=c.getName(),
h=b.GraphFactory.newInstanceByName("PiecewiseBezierCurve3"),j=c.getIsFree(),l=c.getIsCorrect();f.init(e,g,h,"",c.flags);f.setIsDraggable(j);f.setIsCorrect(l);return f};b.GraphPresenterFactory.registerClass("GraphPiecewiseBezierCurve3RenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f,g){var a=c.getPoints(),h=a[0].getX(),j=a[0].getY(),l=a[1].getX(),m=a[1].getY(),n=[],n={x:h,y:j},l={x:l,y:m},m="both"==c.extension||"left"==c.extension?b.CoordinateGeometryToolkit.extendAlongLine(l,
n,2*g):n,g="both"==c.extension||"right"==c.extension?b.CoordinateGeometryToolkit.extendAlongLine(n,l,2*g):l,n=0==b.CoordinateGeometryToolkit.computeOutCode(n,e,f)&&0==b.CoordinateGeometryToolkit.computeOutCode(l,e,f)?b.CoordinateGeometryToolkit.clipLine(m,g,e,f):[m,g],e=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription"),f=c.getName(),g=b.GraphFactory.newInstanceByName("PolynomialCurve2"),l=c.getIsFree();e.init(n,f,g,"",c.flags);e.setIsDraggable(l);e.setIsCorrect(!0);f=b.GraphPresenterFactory.getClass("GraphPointCollectionRenderDescriber").getBoundingBox(n);
g=c.getA();g=g.toFixed(b.BasicMathToolkit.computeScale(g,2));n=c.getB();n=n.toFixed(b.BasicMathToolkit.computeScale(n,2));l=["Polynomial: "];"x"===c.getDomain()?(m="x",h="y"):(m="y",h="x");j=!1;if("x"===c.getDomain()){var k=!0,q=a[0].getX();for(i=1;i<=c.getDegree();i++)if(a[i].getX()!=q){k=!1;break}k&&l.push("x="+q)}else if("y"===c.getDomain()){k=!0;q=a[0].getY();for(i=1;i<=c.getDegree();i++)if(a[i].getY()!=q){k=!1;break}k&&l.push("y="+q)}if(1==l.length&&(l.push(h+"="),0!=g&&(0>g&&l.push("-"),1!=
Math.abs(g)&&l.push(Math.abs(g)),l.push(m),j=!0),0!=n))0<=n?j&&l.push("+"):l.push("-"),l.push(Math.abs(n));e.additionalInfo={center:{x:(f[0].x+f[1].x)/2,y:(f[0].y+f[1].y)/2},polynomial:[{text:l.join(""),baseline:"normal"}]};return e};b.GraphPresenterFactory.registerClass("Graph2DPolynomialCurve2RenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f){var e=b.GraphPresenterFactory.getClass("Graph2DPolynomialCurve3Converter").convert(c,e,f),a=b.GraphVOFactory.newInstanceByName("graph_curverenderdescription"),
f=c.getName(),g=b.GraphFactory.newInstanceByName("PolynomialCurve"),h=c.getIsFree();a.init(e,f,g,"",c.flags);a.setIsDraggable(h);a.setIsCorrect(!0);var e=b.GraphPresenterFactory.getClass("GraphPointCollectionRenderDescriber").getBoundingBox(e),f=c.getA(),f=f.toFixed(b.BasicMathToolkit.computeScale(f,2)),g=c.getB(),g=g.toFixed(b.BasicMathToolkit.computeScale(g,2)),h=c.getC(),h=h.toFixed(b.BasicMathToolkit.computeScale(h,2)),j=[{text:"Polynomial: ",baseline:"normal"}],l;"x"===c.getDomain()?(c="x",l=
"y"):(c="y",l="x");var m=!1;j.push({text:l+"=",baseline:"normal"});0!=f&&(0>f&&j.push({text:"-",baseline:"normal"}),1!=Math.abs(f)&&j.push({text:Math.abs(f),baseline:"normal"}),j.push({text:c,baseline:"normal"}),j.push({text:"2",baseline:"superscript"}),m=!0);0!=g&&(0<=g?m&&j.push({text:"+",baseline:"normal"}):j.push({text:"-",baseline:"normal"}),m=!0,1!=Math.abs(g)&&j.push({text:Math.abs(g),baseline:"normal"}),j.push({text:c,baseline:"normal"}));0!=h&&(0<=h?m&&j.push({text:"+",baseline:"normal"}):
j.push({text:"-",baseline:"normal"}),j.push({text:Math.abs(h),baseline:"normal"}));a.additionalInfo={center:{x:(e[0].x+e[1].x)/2,y:(e[0].y+e[1].y)/2},polynomial:j};return a};b.GraphPresenterFactory.registerClass("Graph2DPolynomialCurve3RenderDescriber",a)})(k);(function(b){function a(){}a.describe=function(a,c,e,f){var e=b.GraphPresenterFactory.getClass("Graph2DPolynomialCurve4Converter").convert(c,e,f),a=b.GraphVOFactory.newInstanceByName("graph_segmentrenderdescription"),f=c.getName(),g=b.GraphFactory.newInstanceByName("PolynomialCurve"),
h=c.getIsFree();a.init(e,f,g,"",c.flags);a.setIsDraggable(h);a.setIsCorrect(!0);var e=b.GraphPresenterFactory.getClass("GraphPointCollectionRenderDescriber").getBoundingBox(e),f=c.getA(),f=f.toFixed(b.BasicMathToolkit.computeScale(f,2)),g=c.getB(),g=g.toFixed(b.BasicMathToolkit.computeScale(g,2)),h=c.getC(),h=h.toFixed(b.BasicMathToolkit.computeScale(h,2)),j=c.getD(),j=j.toFixed(b.BasicMathToolkit.computeScale(j,2)),l=[{text:"Polynomial: ",baseline:"normal"}],m;"x"===c.getDomain()?(c="x",m="y"):(c=
"y",m="x");var n=!1;l.push({text:m+"=",baseline:"normal"});0!=f&&(0>f&&l.push({text:"-",baseline:"normal"}),1!=Math.abs(f)&&l.push({text:Math.abs(f),baseline:"normal"}),l.push({text:c,baseline:"normal"}),l.push({text:"3",baseline:"superscript"}),n=!0);0!=g&&(0<=g?n&&l.push({text:"+",baseline:"normal"}):l.push({text:"-",baseline:"normal"}),n=!0,1!=Math.abs(g)&&l.push({text:Math.abs(g),baseline:"normal"}),l.push({text:c,baseline:"normal"}),l.push({text:"2",baseline:"superscript"}));0!=h&&(0<=h?n&&l.push({text:"+",
baseline:"normal"}):l.push({text:"-",baseline:"normal"}),n=!0,1!=Math.abs(h)&&l.push({text:Math.abs(h),baseline:"normal"}),l.push({text:c,baseline:"normal"}));0!=j&&(0<=j?n&&l.push({text:"+",baseline:"normal"}):l.push({text:"-",baseline:"normal"}),l.push({text:Math.abs(j),baseline:"normal"}));a.additionalInfo={center:{x:(e[0].x+e[1].x)/2,y:(e[0].y+e[1].y)/2},polynomial:l};return a};b.GraphPresenterFactory.registerClass("Graph2DPolynomialCurve4RenderDescriber",a)})(k);(function(b){b.GraphFactory.registerClass("Area",
function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("InteractiveObject")),d=a.init;a.nodeName="Area";a.init=function(e,f,g,h,j,l,m){d(e,f,h,j,l,m);e=a.getScreenCoords();g=b.GraphFactory.newInstanceByName("AreaGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),g,a.getStyle(),e,a.getDescription().getDecorations());a.setGraphicStack(g);c(e);return a};var c=function(){var b=a.getDescription().additionalInfo.center.x,c=a.getDescription().additionalInfo.center.y;
isNaN(b)?a.getGraphicStack().setCenterX(1E3):a.getGraphicStack().setCenterX(a.domainToScreenX(b));isNaN(c)?a.getGraphicStack().setCenterY(1E3):a.getGraphicStack().setCenterY(a.domainToScreenY(c))};a.getScreenCoords=function(){var b=a.getDescription().getCoords(),c=[],d=null,h,j,l=b.length;for(h=0;h<l;h++){var m=b[h],n=[];c.push(n);var k=m.length;for(j=0;j<k;j++)d=m[j],void 0===d?n.push({x:a.domainToScreenX(NaN),y:a.domainToScreenY(NaN)}):n.push({x:a.domainToScreenX(d.x),y:a.domainToScreenY(d.y)})}return c};
a._onGraphicDragStart=function(){};a.move=function(){var b=a.getScreenCoords();c(b);a.getGraphicStack().move(b)};a._onGraphicDragStop=function(){};return a})})(k);(function(b){b.GraphFactory.registerClass("Line",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("InteractiveObject")),d=a.init,c=a.updateDescription;a.nodeName="Line";a.init=function(c,f,g,h,j,l,m){d(c,f,h,j,l,m);c=b.GraphFactory.newInstanceByName("LineGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),
g,a.getStyle(),a.getScreenCoords(),a.getDecorations());a.setGraphicStack(c);return a};a.updateDescription=function(b,d){c(b,d);a.getGraphicStack().updateDecorations(a.getDecorations())};a.getScreenCoords=function(){var b=a.getDescription().getCoords(),c=[],d,h=null;for(d in b)h=b[d],c.push({x:a.domainToScreenX(h.x),y:a.domainToScreenY(h.y)});return c};a._onGraphicDragStart=function(){};a.move=function(){a.getGraphicStack().isDragging()&&a.showTooltip();a.isObjectInBounds()&&a.show();a.getGraphicStack().move(a.getScreenCoords())};
a._onGraphicDragStop=function(){};return a})})(k);(function(b){b.GraphFactory.registerClass("NPointCurve",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("InteractiveObject")),d=a.init,c=a.updateDescription;a.nodeName="NPointCurve";a.init=function(c,f,g,h,j,l,m){d(c,f,h,j,l,m);c=b.GraphFactory.newInstanceByName("NPointCurveGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),g,a.getStyle(),a.getScreenCoords(),a.getDecorations());a.setGraphicStack(c);
return a};a.updateDescription=function(b,d){c(b,d);a.getGraphicStack().updateDecorations(a.getDecorations())};a.getScreenCoords=function(){var b=a.getDescription().getCoords(),c=[],d,h=null;for(d in b)h=b[d],c.push({x:a.domainToScreenX(h.x),y:a.domainToScreenY(h.y)});return c};a._onGraphicDragStart=function(){};a.move=function(){a.getGraphicStack().isDragging()&&a.showTooltip();a.isObjectInBounds()&&a.show();a.getGraphicStack().move(a.getScreenCoords())};a._onGraphicDragStop=function(){};return a})})(k);
(function(b){b.GraphFactory.registerClass("PiecewiseBezierCurve1",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("InteractiveObject")),d=a.init,c=a.updateDescription;a.nodeName="PiecewiseBezierCurve1";a.hasCorrectnessOverlay=!1;a.init=function(c,f,g,h,j,l,m){d(c,f,h,j,l,m);c=b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1GraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),g,a.getStyle(),a.getScreenCoords(),a.getDecorations());a.setGraphicStack(c);
return a};a.updateDescription=function(b,d){c(b,d);a.getGraphicStack().updateDecorations(a.getDecorations())};a.getScreenCoords=function(){var b=a.getDescription().getCoords(),c=[],d,h=null;for(d in b)h=b[d],c.push({x:a.domainToScreenX(h.x),y:a.domainToScreenY(h.y)});return c};a._onGraphicDragStart=function(){};a.move=function(){a.getGraphicStack().isDragging()&&a.showTooltip();a.isObjectInBounds()&&a.show();a.getGraphicStack().move(a.getScreenCoords())};a._onGraphicDragStop=function(){};return a})})(k);
(function(b){b.GraphFactory.registerClass("PiecewiseBezierCurve3",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("InteractiveObject")),d=a.init,c=a.updateDescription;a.nodeName="PiecewiseBezierCurve3";a.init=function(c,f,g,h,j,l,m){d(c,f,h,j,l,m);c=b.GraphFactory.newInstanceByName("PiecewiseBezierCurve3GraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),g,a.getStyle(),a.getScreenCoords(),a.getDecorations());a.setGraphicStack(c);return a};a.updateDescription=
function(b,d){c(b,d);a.getGraphicStack().updateDecorations(a.getDecorations())};a.getScreenCoords=function(){var b=a.getDescription().getCoords(),c=[],d,h=null;for(d in b)h=b[d],c.push({x:a.domainToScreenX(h.x),y:a.domainToScreenY(h.y)});return c};a._onGraphicDragStart=function(){};a.move=function(){a.getGraphicStack().isDragging()&&a.showTooltip();a.isObjectInBounds()&&a.show();a.getGraphicStack().move(a.getScreenCoords())};a._onGraphicDragStop=function(){};return a})})(k);(function(b){b.GraphFactory.registerClass("CirclePoint",
function(){var a=Object.create(b.GraphFactory.newInstanceByName("Point")),d=a.init;a.nodeName="CirclePoint";a.init=function(c,e,f,g,h,j,l,m){d(c,e,g,h,j,l,m);c=b.GraphFactory.newInstanceByName("CirclePointGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),f,a.getStyle(),a.getDescription().getDecorations(),a.getIsControlLever());a.setGraphicStack(c);return a};return a})})(k);(function(b){b.GraphFactory.registerClass("DashPoint",function(){var a=Object.create(b.GraphFactory.newInstanceByName("Point")),
d=a.init;a.nodeName="DashPoint";a.init=function(c,e,f,g,h,j,l,m){d(c,e,g,h,j,l,m);c=b.GraphFactory.newInstanceByName("DashPointGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),f,a.getStyle(),a.getDescription().getDecorations(),a.getIsControlLever());a.setGraphicStack(c);return a};return a})})(k);(function(b){b.GraphFactory.registerClass("DiamondPoint",function(){var a=Object.create(b.GraphFactory.newInstanceByName("Point")),d=a.init;a.nodeName="DiamondPoint";a.init=function(c,
e,f,g,h,j,l,m){d(c,e,g,h,j,l,m);c=b.GraphFactory.newInstanceByName("DiamondPointGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),f,a.getStyle(),a.getDescription().getDecorations(),a.getIsControlLever());a.setGraphicStack(c);return a};return a})})(k);(function(b){b.GraphFactory.registerClass("PlusSignPoint",function(){var a=Object.create(b.GraphFactory.newInstanceByName("Point")),d=a.init;a.nodeName="PlusSignPoint";a.init=function(c,e,f,g,h,j,l,m){d(c,e,g,h,j,l,m);c=b.GraphFactory.newInstanceByName("PlusSignPointGraphicStack").init(a.getId(),
a,a.getPaper(),a.getCoordinateMapper(),f,a.getStyle(),a.getDescription().getDecorations(),a.getIsControlLever());a.setGraphicStack(c);return a};return a})})(k);(function(b){b.GraphFactory.registerClass("Point",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("InteractiveObject")),d=a.init,c=a.updateDescription;a.DECORATION_TYPE_X_CONNECTED="xConnected";a.DECORATION_TYPE_Y_CONNECTED="yConnected";a.DECORATION_TYPE_X_DROPLINE="xDropLine";a.DECORATION_TYPE_Y_DROPLINE="yDropLine";
var e;a.init=function(b,c,f,g,n,k,q){d(b,c,f,g,n,k);e=q;return a};a.updateDescription=function(d,e){var f=a.getDescription();c(d,e);var g;void 0!==f.getLabel()&&(f.getLabel(),f.getLabel());void 0!==d.getLabel()?(f=d.getLabel().content,g=d.getLabel().alignment):(f=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(""),g=null);null!==g&&a.getGraphicStack().updateLabel(f,g)};a.getIsControlLever=function(){return e};a.getXValue=function(){return b.BasicMathToolkit.round(b.BasicMathToolkit.epsilonRound(a.getDescription().getX().value,
2),0.01)};a.getXLabel=function(){return a.getDescription().getX().label};a.getYValue=function(){return b.BasicMathToolkit.round(a.getDescription().getY().value,0.01)};a.getYLabel=function(){return a.getDescription().getY().label};var f=null,g=null;a.move=function(){if(f!=a.getXValue()||g!=a.getYValue())Infinity===a.getXValue()||Infinity===a.getYValue()?a.getGraphicStack().move(1E4,1E4):(a.getGraphicStack().invalidateDecorator(a,f,g),a.getGraphicStack().isDragging()&&a.showTooltip(),a.getGraphicStack().move(a.domainToScreenX(a.getXValue()),
a.domainToScreenY(a.getYValue()))),f=a.getXValue(),g=a.getYValue()};return a})})(k);(function(b){b.GraphFactory.registerClass("SquarePoint",function(){var a=Object.create(b.GraphFactory.newInstanceByName("Point")),d=a.init;a.nodeName="SquarePoint";a.init=function(c,e,f,g,h,j,l,m){d(c,e,g,h,j,l,m);c=b.GraphFactory.newInstanceByName("SquarePointGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),f,a.getStyle(),a.getDescription().getDecorations(),a.getIsControlLever());a.setGraphicStack(c);
return a};return a})})(k);(function(b){b.GraphFactory.registerClass("StarPoint",function(){var a=Object.create(b.GraphFactory.newInstanceByName("Point")),d=a.init;a.nodeName="StarPoint";a.init=function(c,e,f,g,h,j,l,m){d(c,e,g,h,j,l,m);c=b.GraphFactory.newInstanceByName("StarPointGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),f,a.getStyle(),a.getDescription().getDecorations(),a.getIsControlLever());a.setGraphicStack(c);return a};return a})})(k);(function(b){b.GraphFactory.registerClass("TrianglePoint",
function(){var a=Object.create(b.GraphFactory.newInstanceByName("Point")),d=a.init;a.nodeName="TrianglePoint";a.init=function(c,e,f,g,h,j,l,m){d(c,e,g,h,j,l,m);c=b.GraphFactory.newInstanceByName("TrianglePointGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),f,a.getStyle(),a.getDescription().getDecorations(),a.getIsControlLever());a.setGraphicStack(c);return a};return a})})(k);(function(b){b.GraphFactory.registerClass("Polygon",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("InteractiveObject")),
d=a.init,c=a.updateDescription;a.nodeName="Polygon";a.init=function(c,g,h,j,l,m,n){d(c,g,j,l,m,n);c=a.getScreenCoords();h=b.GraphFactory.newInstanceByName("PolygonGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),h,a.getStyle(),c,a.getDescription().getDecorations());a.setGraphicStack(h);e(c);return a};var e=function(){var b=a.getDescription().additionalInfo.center.x,c=a.getDescription().additionalInfo.center.y;isNaN(b)?a.getGraphicStack().setCenterX(1E3):a.getGraphicStack().setCenterX(a.domainToScreenX(b));
isNaN(c)?a.getGraphicStack().setCenterY(1E3):a.getGraphicStack().setCenterY(a.domainToScreenY(c))};a.updateDescription=function(b,d){c(b,d);a.getGraphicStack().updateDecorations(a.getDecorations())};a.getScreenCoords=function(){var b=a.getDescription().getCoords(),c=[],d,e=null;for(d in b)e=b[d],c.push({x:a.domainToScreenX(e.x),y:a.domainToScreenY(e.y)});return c};a._onGraphicDragStart=function(){};a.move=function(){a.getGraphicStack().isDragging()&&a.showTooltip();var b=a.getScreenCoords();e(b);
a.getGraphicStack().move(b)};a._onGraphicDragStop=function(){};return a})})(k);(function(b){b.GraphFactory.registerClass("PolynomialCurve",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("InteractiveObject")),d=a.init,c=a.updateDescription;a.nodeName="PolynomialCurve";a.init=function(c,f,g,h,j,l,m){d(c,f,h,j,l,m);c=b.GraphFactory.newInstanceByName("PolynomialCurveGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),g,a.getStyle(),a.getScreenCoords(),
a.getDecorations());a.setGraphicStack(c);return a};a.updateDescription=function(b,d){c(b,d);a.getGraphicStack().updateDecorations(a.getDecorations())};a.getScreenCoords=function(){var b=a.getDescription().getCoords(),c=[],d,h=null;for(d in b)h=b[d],c.push({x:a.domainToScreenX(h.x),y:a.domainToScreenY(h.y)});return c};a._onGraphicDragStart=function(){};a.move=function(){a.getGraphicStack().isDragging()&&a.showTooltip();a.isObjectInBounds()&&a.show();a.getGraphicStack().move(a.getScreenCoords())};a._onGraphicDragStop=
function(){};return a})})(k);(function(b){b.GraphFactory.registerClass("PolynomialCurve2",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("InteractiveObject")),d=a.init,c=a.updateDescription;a.nodeName="PolynomialCurve2";a.init=function(c,f,g,h,j,l,m){d(c,f,h,j,l,m);c=b.GraphFactory.newInstanceByName("PolynomialCurve2GraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),g,a.getStyle(),a.getScreenCoords(),a.getDecorations());a.setGraphicStack(c);return a};
a.updateDescription=function(b,d){c(b,d);a.getGraphicStack().updateDecorations(a.getDecorations())};a.getScreenCoords=function(){var b=a.getDescription().getCoords(),c=[],d,h=null;for(d in b)h=b[d],c.push({x:a.domainToScreenX(h.x),y:a.domainToScreenY(h.y)});return c};a._onGraphicDragStart=function(){};a.move=function(){a.getGraphicStack().isDragging()&&a.showTooltip();a.isObjectInBounds()&&a.show();a.getGraphicStack().move(a.getScreenCoords())};a._onGraphicDragStop=function(){};return a})})(k);(function(b){b.GraphFactory.registerClass("Ray",
function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("InteractiveObject")),d=a.init,c=a.updateDescription;a.nodeName="Ray";a.init=function(c,f,g,h,j,l,m){d(c,f,h,j,l,m);c=b.GraphFactory.newInstanceByName("RayGraphicStack").init(a.getId(),a,a.getPaper(),a.getCoordinateMapper(),g,a.getStyle(),a.getScreenCoords(),a.getDecorations());a.setGraphicStack(c);return a};a.updateDescription=function(b,d){c(b,d);a.getGraphicStack().updateDecorations(a.getDecorations())};a.getScreenCoords=
function(){var b=a.getDescription().getCoords(),c=[],d,h=null;for(d in b)h=b[d],c.push({x:a.domainToScreenX(h.x),y:a.domainToScreenY(h.y)});return c};a._onGraphicDragStart=function(){};a.move=function(){a.getGraphicStack().isDragging()&&a.showTooltip();a.isObjectInBounds()&&a.show();a.getGraphicStack().move(a.getScreenCoords())};a._onGraphicDragStop=function(){};return a})})(k);(function(b){var a=0,d=0;b.GraphViewFactory.registerClass("CartesianGrid",function(){var c=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("StaticObject")),
e=c.init;c.nodeName="CartesianGrid";var f,g,h,j,l,m,n,k;c.init=function(j,h,q,r,s){e(j,h);f=q;g=r;l=b.GraphStyleRepository.getStyle("gridStyle");a=f.getHorizontalAxis().range.isWithinRange(0,!0)?0:f.getHorizontalAxis().range.getClosestBoundToZero();d=f.getVerticalAxis().range.isWithinRange(0,!0)?0:f.getVerticalAxis().range.getClosestBoundToZero();c.getCoordinateMapper().setOrigin(a,d);m=c.getCoordinateMapper().cartesianToScreenX(a)+0;n=c.getCoordinateMapper().cartesianToScreenY(d)+0;k=s;return c};
c.getGraphicStack=function(){return{getHitAreas:function(){return[]},getRenders:function(){var a=[];a.push(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(c.getId(),b.DiagramFrameworkViewConstants.TYPE_GRID,function(){c.render()}));return a}}};c.render=function(){var e=b.GraphStyleRepository.getStyle("horizontalAxisStyle"),r=b.GraphStyleRepository.getStyle("verticalAxisStyle");if(!k){var s=b.GraphStyleRepository.getStyle("smallGraphOverridesAxisStyle");e.merge(s);r.merge(s)}var s=c.getCoordinateMapper().getYMin()+
0,w=s+c.getActualHeight(),x=c.getCoordinateMapper().getXMin()+0,B=x+c.getActualWidth(),y=q(f.getHorizontalAxis()),z=q(f.getVerticalAxis()),y=y.concat(z);if(!c.getCoordinateMapper().isHideGrid()){var z=l.getGridLineColor(),A=l.getGridLineWidth();g.path(y).attr({stroke:z,"stroke-width":A})}z=y=!1;A=c.getCoordinateMapper().getLimitsForCoordinate("x");A.getNumber0().getValue()<f.getHorizontalAxis().range.getMin()?y=!0:y=!1;A.getNumber1().getValue()>f.getHorizontalAxis().range.getMax()?z=!0:z=!1;h=b.DiagramFrameworkViewFactory.newInstanceByName("DiagramFramework_HorizontalAxis").init(g,
f.getHorizontalAxis(),e,x,B,c.getCoordinateMapper().getXResolution(),c.getCoordinateMapper().getXPixelsPerUnit(),n).initializeLine(y,z).initializeTicks().renderLine();A=c.getCoordinateMapper().getLimitsForCoordinate("y");A.getNumber0().getValue()<f.getVerticalAxis().range.getMin()?y=!0:y=!1;A.getNumber1().getValue()>f.getVerticalAxis().range.getMax()?z=!0:z=!1;j=b.DiagramFrameworkViewFactory.newInstanceByName("DiagramFramework_VerticalAxis").init(g,f.getVerticalAxis(),r,s,w,c.getCoordinateMapper().getYResolution(),
c.getCoordinateMapper().getYPixelsPerUnit(),m).initializeLine(y,z).initializeTicks().renderLine();y=f.getHorizontalAxis().range.isWithinRange(a,!1)&&f.getVerticalAxis().range.isWithinRange(d,!1);if(!c.getCoordinateMapper().isHideGrid()){var z=b.GraphStyleRepository.getStyle("horizontalAxisStyle"),D=z.getMinorTickLength(),C=z.getSemimajorTickLength(),v=z.getMajorTickLength(),A=f.getHorizontalAxis(),F=d===f.getVerticalAxis().range.getMax(),v=v/2,C=C/2,D=D/2,H=z.getTickLabelOffset(),L=h.constructTickLabelMap(),
O=j.constructTickLabelMap(),M=Number.MIN_VALUE,J;for(J in O)J=parseInt(J),J>M&&(M=J);var O=n<J?!0:!1,I;for(I in L){var M=I,E=O?J:n,N=L[I];switch(N.type){case b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR:E=F?E-v:E+v;break;case b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR:E=F?E-C:E+C;break;case b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR:E=F?E-D:E+D}var P=z.getTickLabelAtIntersectionOffset();if(m==M)if(a===d){if(y)continue;M-=P}else M-=P/2;O&&(H=5);E=F?E-H:E+H;M=Math.round(M);E=Math.round(E);
void 0!==N.label?h.createLabelForValue(M,E+-2,N.label):h.createLabelForValue(M,E+-2,h.getValueStringForPixel(A.numericLabels,N.type,I));delete L[I]}J=b.GraphStyleRepository.getStyle("verticalAxisStyle");F=J.getMinorTickLength();A=J.getSemimajorTickLength();z=J.getMajorTickLength();I=f.getVerticalAxis();var y=a===f.getHorizontalAxis().range.getMax(),z=z/2,A=A/2,F=F/2,v=J.getTickLabelOffset(),C=j.constructTickLabelMap(),K;for(K in C){D=m;H=parseInt(K);L=C[K];switch(L.type){case b.DiagramFrameworkViewConstants.TICK_TYPE_MAJOR:D=
y?D+z:D-z;break;case b.DiagramFrameworkViewConstants.TICK_TYPE_SEMIMAJOR:D=y?D+A:D-A;break;case b.DiagramFrameworkViewConstants.TICK_TYPE_MINOR:D=y?D+F:D-F}J.getTickLabelAtIntersectionOffset();D=y?D+v:D-v;D=Math.round(D);H=Math.round(H);void 0!==L.label?j.createLabelForValue(D,H+-4,L.label):j.createLabelForValue(D,H+-4,j.getValueStringForPixel(I.numericLabels,L.type,K));delete C[K]}}c.getCoordinateMapper().isHideGrid()||(K=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(f.getVerticalAxis().title),
K=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_labelGraphic").init(g,b.DiagramFrameworkViewConstants.TEXT_MEASUREMENT_NODE).setFontSize(r.getAxisLabelFontSize()).setGlyphs(K).opacity(1),J=K.getWidth(),r.getAxisLabelPosition()!==r.AXIS_LABEL_POSITION_ALONG_AXIS?K.move(x+J/2,s-20):(J=(w+s)/2+3,m==B?K.move(B+r.getAxisLabelOffset(),J):f.getHorizontalAxis().range.isWithinRange(a,!1)?K.move(x-25,J):K.move(x-r.getAxisLabelOffset(),J),K.rotate(-90)),K=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(f.getHorizontalAxis().title),
K=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_labelGraphic").init(g,b.DiagramFrameworkViewConstants.TEXT_MEASUREMENT_NODE).setFontSize(e.getAxisLabelFontSize()).setGlyphs(K).opacity(1),K.getWidth(),K.rotate(360),r=(B+x)/2,n==s?K.move(r,s-e.getAxisLabelOffset()):f.getVerticalAxis().range.isWithinRange(d,!1)?K.move(r,w+25):K.move(r,w+e.getAxisLabelOffset()))};var q=function(a){var b,c,d,e=[];if(null!==a.gridlines){b=a.gridlines;c=b.getPeriodicInterval();if(null!==c){var f=c.getInclude();
if(void 0===f||isNaN(f))f=a.range.getMin();var g=c.getPeriod();for(c=f;c>=a.range.getMin();c-=g)c>a.range.getMax()||(d=c,d=s(a,r(a.getCoordinate(),d)),e.push(d.m),e.push(d.l));for(c=f+g;c<=a.range.getMax();c+=g)c<a.range.getMin()||(d=c,d=s(a,r(a.getCoordinate(),d)),e.push(d.m),e.push(d.l))}b=b.getAperiodicInterval();if(null!==b){b=b.getNumbers();for(c=0;c<b.length;c++)d=b[c].getValue(),d=s(a,r(a.getCoordinate(),d)),e.push(d.m),e.push(d.l)}}return e},r=function(a,b){var d;switch(a){case "x":d=c.getCoordinateMapper().cartesianToScreenX(b);
break;case "y":d=c.getCoordinateMapper().cartesianToScreenY(b)}return d},s=function(a,b){var d=c.getCoordinateMapper().getYMin()+0,e=d+c.getCoordinateMapper().getActualHeight();switch(a.getCoordinate()){case "x":return{m:["M",b,d],l:["L",b,e]};case "y":return b+=0,{m:["M",c.getCoordinateMapper().getXMin(),b],l:["L",c.getCoordinateMapper().getXMax(),b]};default:return null}};return c})})(k);(function(b){b.GraphFactory.registerClass("AreaGraphicStack",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("GraphicStack")),
d=a.init,c,e=[],f,g=!0,h=!0;a.init=function(j,l,m,n,k,q,r,s){c=s;e.push([a.createGlyph()]);d(j,a,l,m,n,k,q,1);f=l;a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(j,b.DiagramFrameworkViewConstants.TYPE_AREA,function(){switch(c.fillPattern){case "empty":return b.GraphFactory.newInstanceByName("AreaGraphic").init(m,c).draw(r).stroke(q.getFillColor(),4,1).opacity(1);default:return b.GraphFactory.newInstanceByName("AreaGraphic").init(m,c).draw(r).stroke(q.getFillColor(),1,0).fill(q.getFillColor(),
0.5).opacity(1)}}));a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(a.getId(),b.DiagramFrameworkViewConstants.TYPE_CORRECTNESS,function(){return a.createCorrectnessOverlay(r)}));a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(j,b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(q.getFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(j,b.DiagramFrameworkViewConstants.TYPE_AREA,
b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){var a;switch(c.fillPattern){case "solid":a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_pathGraphic").init(m).draw(r,!0).stroke("#999999",1,0).opacity(0.01);a.getGraphic().attr({fill:q.getFillColor(),fill_opacity:0.1});break;default:a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_pathGraphic").init(m).draw(r,!0).stroke("#999999",1,0).opacity(0.01),a.getGraphic().attr({fill:"#ffffff",fill_opacity:0.1})}return a}));
c&&void 0!==c.showArea&&(g=c.showArea);c&&void 0!==c.showCoordinates&&(h=c.showCoordinates);a.bindDisplay();return a};a.bindDisplay=function(){a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS,function(){});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT,
function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)})};a.updateTooltipText=function(){if(g){var b;b=f.getDescription().additionalInfo.size;null!==b&&void 0!==b?("string"===typeof b&&(b=parseFloat(b)),b=parseFloat(b.toFixed(7)).toString(),e[0][0].setText("Area: "+b)):e[0][0].setText("Area: undefined");
a.getTooltipOverlay().getGraphic().setTextEntries(e);a.getTooltipOverlay().getGraphic().move(a.getCenterX(),a.getCenterY())}else if(h){b=f.screenToDomainX(a.getCenterX());var c=f.screenToDomainY(a.getCenterY());b=a.createXYTooltip(b,c);e[0][0].setText(b);a.getTooltipOverlay().getGraphic().setTextEntries(e);a.getTooltipOverlay().getGraphic().move(a.getCenterX(),a.getCenterY())}else return!1};a.move=function(b){a.updateTooltipText();a.getMain().getGraphic().resize(b);null!=a.getCorrectnessOverlay()&&
a.getCorrectnessOverlay().getGraphic().move(a.getCenterX(),a.getCenterY());null!=a.getHitAreaMain()&&a.getHitAreaMain().getGraphic().resize(b)};a.createCorrectnessOverlay=function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_crossmarkGraphic").init(a.getPaper()).draw(a.getCenterX(),a.getCenterY(),10,3,0,0).opacity(0)};return a})})(k);(function(b){b.GraphFactory.registerClass("LineGraphicStack",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("GraphicStack")),
d=a.init,c,e,f,g=[],h=null,j=null;a.init=function(b,n,k,q,r,s,o,u){e=u;f=[];var t=!0;e&&void 0!==e.showSlope&&(t=e.showSlope);t&&(f.push(0),g.push([a.createGlyph()]));t=!1;e&&void 0!==e.showXIntercept&&(t=e.showXIntercept);t&&(f.push(1),g.push([a.createGlyph()]));t=!0;e&&void 0!==e.showYIntercept&&(t=e.showYIntercept);t&&(f.push(2),g.push([a.createGlyph()]));d(b,a,n,k,q,r,s,f.length);h=k;j=s;c=n;u.isVisible&&l(o);return a};var l=function(d){var f=200;switch(j.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:f=
b.DiagramFrameworkViewConstants.SEGMENT_STROKE_WIDTH;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:f=b.DiagramFrameworkViewConstants.SEGMENT_STROKE_WIDTH_SMALL}var g=a.getId();a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(g,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("LineGraphic").init(h,a.getCoordinateMapper(),e).draw(d).stroke(j.getFillColor(),1.3*f,0).fill(j.getFillColor(),1).opacity(0)}));
a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(g,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("LineGraphic").init(h,a.getCoordinateMapper(),e).draw(d).stroke(j.getFillColor(),f,1).fill(j.getFillColor(),1).opacity(0)}));c.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(g,b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return b.GraphFactory.newInstanceByName("LineGraphic").init(h,
a.getCoordinateMapper(),e).draw(d).stroke(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_COLOR,3*f,0).opacity(0)}));0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(g,b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(j.getFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(g,b.DiagramFrameworkViewConstants.TYPE_LINE,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,
function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(h).draw(d).stroke("#999999",f+b.DiagramFrameworkViewConstants.HITAREA_LINE_SIZE_ADDITION,0).opacity(1.0E-4)}));a.bindDisplay();return a};a.bindDisplay=function(){a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(1);a.getMain().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(0);
a.getMain().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_OPACITY)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS,
function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)})};a.updateTooltipText=function(d){if(0!==g.length&&(d||a.isTooltipVisible())&&a.getTooltipOverlay()){for(var e=c.getDescription().getCoords(),d=e[0].x,j=e[1].x,h=e[0].y,e=e[1].y,l=0;l<f.length;l++)switch(f[l]){case 0:var k=b.CoordinateGeometryToolkit.gradientPointPoint({x:d,y:h},{x:j,y:e}),o="Slope: ",o=Infinity===k?o+"Undefined":o+k.toFixed(b.BasicMathToolkit.computeScale(k,2));g[l][0].setText(o);break;
case 1:k=b.CoordinateGeometryToolkit.xInterceptPointPoint({x:d,y:h},{x:j,y:e});o="X-Intercept: ";o=isNaN(k)?o+"None":o+k.toFixed(b.BasicMathToolkit.computeScale(k,2));g[l][0].setText(o);break;case 2:k=b.CoordinateGeometryToolkit.yInterceptPointPoint({x:d,y:h},{x:j,y:e}),o="Y-Intercept: ",o=isNaN(k)?o+"None":o+k.toFixed(b.BasicMathToolkit.computeScale(k,2)),g[l][0].setText(o)}a.getTooltipOverlay().getGraphic().setTextEntries(g);a.isDragging()&&a.getTooltipOverlay().getGraphic().move(a.getCenterX(),
a.getCenterY())}};a.move=function(b){a.setCenterX((b[0].x+b[1].x)/2);a.setCenterY((b[0].y+b[1].y)/2);a.updateTooltipText();a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().resize(b);a.getMain()&&a.getMain().getGraphic().resize(b);a.getHitAreaMain()&&a.getHitAreaMain().getGraphic().resize(b);a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().resize(b);c.isObjectInBounds()?a.clipToViewport():a.unClipToViewport()};a.updateDecorations=function(b){a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().updateDecorations(b);
a.getMain()&&a.getMain().getGraphic().updateDecorations(b)};return a})})(k);(function(b){b.GraphFactory.registerClass("NPointCurveGraphicStack",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("GraphicStack")),d=a.init,c,e,f=null,g=null;a.init=function(b,l,m,n,k,q,r,s){e=s;d(b,a,l,m,n,k,q,0);f=m;g=q;c=l;s.isVisible&&h(r);return a};var h=function(d){var h=a.getId(),m=200;switch(g.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:m=4;break;
case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:m=2}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("NPointCurveGraphic").init(f,e).draw(d).stroke(g.getFillColor(),1.3*m,0).fill(g.getFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("NPointCurveGraphic").init(f,
e).draw(d).stroke(g.getFillColor(),m,1).fill(g.getFillColor(),1).opacity(0)}));c.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return b.GraphFactory.newInstanceByName("NPointCurveGraphic").init(f,e).draw(d).stroke(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_COLOR,3*m,0).opacity(0)}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,
b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(f).draw(d).stroke("#999999",m+20,0).opacity(1.0E-4)}));a.bindDisplay();return a};a.bindDisplay=function(){a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(1);a.getMain().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(0);
a.getMain().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_OPACITY)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS,
function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)})};a.move=function(b){a.setCenterX((b[0].x+b[1].x)/2);a.setCenterY((b[0].y+b[1].y)/2);a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().resize(b);a.getMain()&&a.getMain().getGraphic().resize(b);a.getHitAreaMain()&&a.getHitAreaMain().getGraphic().resize(b);a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().resize(b);c.isObjectInBounds()?a.clipToViewport():a.unClipToViewport()};a.updateDecorations=
function(b){a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().updateDecorations(b);a.getMain()&&a.getMain().getGraphic().updateDecorations(b)};return a})})(k);(function(b){b.GraphFactory.registerClass("PiecewiseBezierCurve1GraphicStack",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("GraphicStack")),d=a.init,c,e,f=null,g=null;a.init=function(b,l,m,n,k,q,r,s){e=s;d(b,a,l,m,n,k,q,0);f=m;g=q;c=l;s.isVisible&&h(r);return a};var h=function(d){var h=a.getId(),m=200;
switch(g.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:m=4;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:m=2}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1Graphic").init(f,e).draw(d).stroke(g.getFillColor(),1.3*m,0).fill(g.getFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,
b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1Graphic").init(f,e).draw(d).stroke(g.getFillColor(),m,1).fill(g.getFillColor(),1).opacity(0)}));(c.getIsDraggable()||c.hasCorrectnessOverlay)&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1Graphic").init(f,e).draw(d).stroke(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_COLOR,
3*m,0).opacity(0)}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(f).draw(d).stroke("#999999",m+20,0).opacity(1.0E-4)}));a.bindDisplay();return a};a.bindDisplay=function(){a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(1);
a.getMain().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(0);a.getMain().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_OPACITY)});
a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)})};a.move=function(b){a.setCenterX((b[0].x+b[1].x)/2);a.setCenterY((b[0].y+b[1].y)/2);a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().resize(b);a.getMain()&&a.getMain().getGraphic().resize(b);a.getHitAreaMain()&&a.getHitAreaMain().getGraphic().resize(b);a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().resize(b);
c.isObjectInBounds()?a.clipToViewport():a.unClipToViewport()};a.updateDecorations=function(b){a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().updateDecorations(b);a.getMain()&&a.getMain().getGraphic().updateDecorations(b)};a.createCorrectnessOverlay=function(c){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_doubleSlashGraphic").init(a.getPaper()).draw(c).opacity(0)};return a})})(k);(function(b){b.GraphFactory.registerClass("PiecewiseBezierCurve3GraphicStack",function(){var a=
Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("GraphicStack")),d=a.init,c,e,f=null,g=null;a.init=function(b,l,m,n,k,q,r,s){e=s;d(b,a,l,m,n,k,q,0);f=m;g=q;c=l;s.isVisible&&h(r);return a};var h=function(d){var h=a.getId(),m=200;switch(g.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:m=4;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:m=2}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,
function(){return b.GraphFactory.newInstanceByName("PiecewiseBezierCurve3Graphic").init(f,e).draw(d).stroke(g.getFillColor(),1.3*m,0).fill(g.getFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("PiecewiseBezierCurve3Graphic").init(f,e).draw(d).stroke(g.getFillColor(),m,1).fill(g.getFillColor(),1).opacity(0)}));c.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,
b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return b.GraphFactory.newInstanceByName("PiecewiseBezierCurve3Graphic").init(f,e).draw(d).stroke(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_COLOR,3*m,0).opacity(0)}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(f).draw(d).stroke("#999999",
m+20,0).opacity(1.0E-4)}));a.bindDisplay();return a};a.bindDisplay=function(){a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(1);a.getMain().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(0);a.getMain().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT,function(){null!=a.getCorrectnessOverlay()&&
a.getCorrectnessOverlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_OPACITY)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)})};a.move=function(b){a.setCenterX((b[0].x+b[1].x)/2);
a.setCenterY((b[0].y+b[1].y)/2);a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().resize(b);a.getMain()&&a.getMain().getGraphic().resize(b);a.getHitAreaMain()&&a.getHitAreaMain().getGraphic().resize(b);a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().resize(b);c.isObjectInBounds()?a.clipToViewport():a.unClipToViewport()};a.updateDecorations=function(b){a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().updateDecorations(b);a.getMain()&&a.getMain().getGraphic().updateDecorations(b)};
return a})})(k);(function(b){b.GraphFactory.registerClass("CirclePointGraphicStack",function(){var a=Object.create(b.GraphFactory.newInstanceByName("PointGraphicStack")),d=a.init,c=null,e=null,f;a.init=function(b,j,l,m,n,k,q,r){d(b,a,j,l,m,n,k,q,r);c=l;e=k;f=j;q.isVisible&&g();return a};var g=function(){var d=a.getId(),g=200,l=200;switch(e.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:g=b.DiagramFrameworkViewConstants.POINT_RADIUS;l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH;
break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:g=b.DiagramFrameworkViewConstants.POINT_RADIUS_SMALL,l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH_SMALL}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,0,g+b.DiagramFrameworkViewConstants.UNDERLAY_CIRCLE_SIZE_ADDITION).fill(e.getFocusUnderlayFillColor(),
1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c,e.getObjectSize()).draw(0,0,g).fill(e.getFillColor(),1).stroke("#000000",l,1).opacity(0)}));f.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return a.createCorrectnessOverlay(0,
0,g)}));0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(e.getFocusUnderlayFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,
0,g+b.DiagramFrameworkViewConstants.HITAREA_CIRCLE_SIZE_ADDITION).fill("#999999",1).opacity(0)}))};return a})})(k);(function(b){b.GraphFactory.registerClass("DashPointGraphicStack",function(){var a=Object.create(b.GraphFactory.newInstanceByName("PointGraphicStack")),d=a.init,c=null,e=null,f;a.init=function(b,j,l,m,n,k,q,r){d(b,a,j,l,m,n,k,q,r);c=l;e=k;f=j;q.isVisible&&g();return a};var g=function(){var d=a.getId(),g=200,l=200,m=200,n=200;switch(e.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:g=
b.DiagramFrameworkViewConstants.POINT_RADIUS;l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH;m=b.DiagramFrameworkViewConstants.DASH_POINT_WIDTH;n=b.DiagramFrameworkViewConstants.DASH_POINT_HEIGHT;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:g=b.DiagramFrameworkViewConstants.POINT_RADIUS_SMALL,l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH_SMALL,m=b.DiagramFrameworkViewConstants.DASH_POINT_WIDTH_SMALL,n=b.DiagramFrameworkViewConstants.DASH_POINT_HEIGHT_SMALL}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,
b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,0,g+b.DiagramFrameworkViewConstants.UNDERLAY_CIRCLE_SIZE_ADDITION).fill(e.getFocusUnderlayFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(c).draw(0,
0,m,n).fill(e.getFillColor(),1).stroke("#000000",l,1).opacity(0)}));f.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return a.createCorrectnessOverlay(0,0,g)}));0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(e.getFocusUnderlayFillColor())}));
a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,0,g+b.DiagramFrameworkViewConstants.HITAREA_CIRCLE_SIZE_ADDITION).fill("#999999",1).opacity(0)}))};return a})})(k);(function(b){b.GraphFactory.registerClass("DiamondPointGraphicStack",function(){var a=Object.create(b.GraphFactory.newInstanceByName("PointGraphicStack")),
d=a.init,c=null,e=null,f;a.init=function(b,j,l,m,n,k,q,r){d(b,a,j,l,m,n,k,q,r);c=l;e=k;f=j;q.isVisible&&g();return a};var g=function(){var d=a.getId(),g=200,l=200,m=200;switch(e.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:g=b.DiagramFrameworkViewConstants.POINT_RADIUS;l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH;m=b.DiagramFrameworkViewConstants.DIAMOND_POINT_WIDTH;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:g=b.DiagramFrameworkViewConstants.POINT_RADIUS_SMALL,
l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH_SMALL,m=b.DiagramFrameworkViewConstants.DIAMOND_POINT_WIDTH_SMALL}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,0,g+b.DiagramFrameworkViewConstants.UNDERLAY_CIRCLE_SIZE_ADDITION).fill(e.getFocusUnderlayFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,
b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(c).draw(0,0,m,m).fill(e.getFillColor(),1).stroke("#000000",l,1).opacity(0)}));f.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return a.createCorrectnessOverlay(0,0,g)}));0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,
b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(e.getFocusUnderlayFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,0,g+b.DiagramFrameworkViewConstants.HITAREA_CIRCLE_SIZE_ADDITION).fill("#999999",1).opacity(0)}))};return a})})(k);
(function(b){b.GraphFactory.registerClass("PlusSignPointGraphicStack",function(){var a=Object.create(b.GraphFactory.newInstanceByName("PointGraphicStack")),d=a.init,c=null,e=null,f;a.init=function(b,j,l,m,n,k,q,r){d(b,a,j,l,m,n,k,q,r);c=l;e=k;f=j;q.isVisible&&g();return a};var g=function(){var d=a.getId(),g=200;switch(e.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:g=b.DiagramFrameworkViewConstants.PLUS_POINT_RADIUS;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:g=
b.DiagramFrameworkViewConstants.PLUS_POINT_RADIUS_SMALL}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,0,b.DiagramFrameworkViewConstants.POINT_RADIUS+b.DiagramFrameworkViewConstants.UNDERLAY_CIRCLE_SIZE_ADDITION).fill(e.getFocusUnderlayFillColor(),1).opacity(0)}));var l=null;"#ffffff"===e.getFillColor()?l=
"#000000":(l="#ffffff",g+=2);a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(0,0,g).fill(e.getFillColor(),1).stroke(l,2,1).opacity(0)}));f.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return a.createCorrectnessOverlay(0,
0,g/2.5)}));0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(e.getFocusUnderlayFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,
0,g+b.DiagramFrameworkViewConstants.PLUS_POINT_RADIUS_HIT_AREA_ADDITION).fill("#999999",1).opacity(0)}))};return a})})(k);(function(b){b.GraphFactory.registerClass("PointGraphicStack",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("GraphicStack")),d=a.init,c,e,f,g,h,j,l,m=null,n=null,k=b.DiagramFrameworkViewConstants.POINT_LABEL_OFFSET,q,r,s=[];a.init=function(h,m,n,o,t,w,x,L,O){var M=0;L.showCoordinates&&(M=1,s.push([a.createGlyph()]));L.isShortLabelDistance&&(k=b.DiagramFrameworkViewConstants.DROPLINE_LABEL_OFFSET);
d(h,m,n,o,t,w,x,M);c=o;e=x;f=L;g=O;q=n;r=t.isHideGrid();j=n.getYLabel();l=n.getXLabel();a.addDecorationGraphics();r||u(n);y();B();return a};var o=function(a){var b="n";switch(a){case "above":b="n";break;case "aboveRight":b="ne";break;case "right":b="e";break;case "belowRight":b="se";break;case "below":b="s";break;case "belowLeft":b="sw";break;case "left":b="w";break;case "aboveLeft":b="nw";break;case "on":b="center"}return b},u=function(c){var d=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(""),
e=void 0===c.getLabel()?{content:d,alignment:null}:c.getLabel();a.setPointLabelRender(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(a.getId(),b.DiagramFrameworkViewConstants.TYPE_LABEL,function(){return a.createPointLabel(e.content,e.alignment)}))};a.createPointLabel=function(a,d){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_labelGraphic").init(c,b.DiagramFrameworkViewConstants.TEXT_MEASUREMENT_NODE).setSmallGraph(r).setFontSize("12").setDirection(o(d),
k).setGlyphs(a).move(b.DiagramFrameworkViewConstants.OFFSCREEN_COORDINATE,b.DiagramFrameworkViewConstants.OFFSCREEN_COORDINATE).opacity(1)};a.setPointLabelRender=function(b){h=b;a.addRender(b)};a.getPointLabelRender=function(){return h};a.updateLabel=function(b,c){void 0!=a.getPointLabelRender()&&a.getPointLabelRender().getGraphic().setDirection(o(c),k).setGlyphs(b)};var t=function(d,e,f){return b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(a.getId(),b.DiagramFrameworkViewConstants.TYPE_LINE,
function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_labelGraphic").init(c,b.DiagramFrameworkViewConstants.TEXT_MEASUREMENT_NODE).setFontSize("12").setDirection(e,f).setGlyphs(d).move(b.DiagramFrameworkViewConstants.OFFSCREEN_COORDINATE,b.DiagramFrameworkViewConstants.OFFSCREEN_COORDINATE)})},w=function(b){m=b;a.addRender(b)},x=function(b){n=b;a.addRender(b)};a.isControlLever=function(){return g};a.addDecorationGraphics=function(){var d=200;switch(e.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:d=
b.DiagramFrameworkViewConstants.SEGMENT_STROKE_WIDTH;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:d=b.DiagramFrameworkViewConstants.SEGMENT_STROKE_WIDTH_SMALL}(!0===f.xConnected||!0===f.yConnected)&&a.setDecorator(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(a.getId(),b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(c).draw([{x:0,y:0},{x:0,y:0}]).stroke(e.getFillColor(),
d,1,f.linePattern).opacity(0)}));!0!==f.isDropMarker&&(!0===f.xDropLine||!0===f.yDropLine)&&a.setDecorator(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(a.getId(),b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(c).draw([{x:0,y:0},{x:0,y:0}]).stroke(e.getFillColor(),d,1,"dashed").opacity(0)}));!0!==f.isDropMarker&&!0===f.xDropLine&&(a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(a.getId(),
b.DiagramFrameworkViewConstants.TYPE_LINE,b.DiagramFrameworkViewConstants.HITAREA_TYPE_DECORATION,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(c).draw([{x:0,y:0},{x:0,y:0}]).stroke("#999999",20,0).opacity(0)},{lockX:!0})),void 0!==j&&w(t(j,"w",2)));!0!==f.isDropMarker&&!0===f.yDropLine&&(a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(a.getId(),b.DiagramFrameworkViewConstants.TYPE_LINE,b.DiagramFrameworkViewConstants.HITAREA_TYPE_DECORATION,
function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(c).draw([{x:0,y:0},{x:0,y:0}]).stroke("#999999",20,0).opacity(0)},{lockY:!0})),void 0!==l&&x(t(l,"s",10)))};var B=function(){g&&(a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){a.getMain()&&a.getMain().getGraphic().opacity(1);null!=a.getHitAreaMain()&&a.getHitAreaMain().enable();null!=a.getCorrectnessOverlay()&&(a.getInteractiveObject().getInGradedMode()&&!1===a.getInteractiveObject().getIsCorrect())&&
a.getCorrectnessOverlay().getGraphic().opacity(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_OPACITY)}),a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDE_CONTROL_LEVERS,function(){a.getMain()&&a.getMain().getGraphic().opacity(0);a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)}))},y=function(){a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().opacity(0.3)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS,
function(){a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_OPACITY)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS,
function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)})};a.updateTooltipText=function(b){if(0!==s.length&&(b||a.isTooltipVisible())&&null!=a.getTooltipOverlay()){var b=q.getXValue(),c=q.getYValue(),b=a.createXYTooltip(b,c);s[0][0].setText(b);a.getTooltipOverlay().getGraphic().setTextEntries(s);a.isDragging()&&a.getTooltipOverlay().getGraphic().move(a.getCenterX(),a.getCenterY())}};a.move=function(b,c){a.setCenterX(b);a.setCenterY(c);a.updateTooltipText();null!=
a.getMain()&&a.getMain().getGraphic().move(b,c);null!=a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().move(b,c);null!=a.getHitAreaMain()&&a.getHitAreaMain().move(b,c);null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().move(b,c);null!=a.getPointLabelRender()&&a.getPointLabelRender().getGraphic().move(b,c)};a.invalidateDecorator=function(b,c,d){var e=b.getDecoration(b.DECORATION_TYPE_X_CONNECTED),g=b.getDecoration(b.DECORATION_TYPE_Y_CONNECTED),j=b.getDecoration(b.DECORATION_TYPE_X_DROPLINE),
h=b.getDecoration(b.DECORATION_TYPE_Y_DROPLINE);if(e||g)if(e=b.getDecoration(b.DECORATION_TYPE_X_CONNECTED),g=b.getDecoration(b.DECORATION_TYPE_Y_CONNECTED),e||g)if(e?d=b.getXValue():(c=d,d=b.getYValue()),void 0!==c)if(e=b.getCurrentGroup().getPointBundleRegistry(),c!=d&&e.move(c,d,b),c=b.getDecoration(b.DECORATION_TYPE_X_CONNECTED),d=b.getDecoration(b.DECORATION_TYPE_Y_CONNECTED),c||d){d=b.getCurrentGroup().getPointBundleRegistry().toArray();c=[];for(e=0;e<d.length;e++)!d[e].isHidden()&&d[e].isObjectInBounds()&&
c.push(d[e]);b.getGraphicStack().getDecorator().getGraphic().opacity(0);0<c.length&&c[c.length-1].getGraphicStack().getDecorator().getGraphic().opacity(0);if(1==c.length)c[0].getGraphicStack().getDecorator().getGraphic().opacity(0);else{for(d=0;d<c.length-1;d++){var l=b,e=c[d],k=c[d+1],g=l.domainToScreenX(e.getXValue()),p=l.domainToScreenY(e.getYValue()),o=l.domainToScreenX(k.getXValue()),l=l.domainToScreenY(k.getYValue());e.getGraphicStack().getDecorator().getGraphic().resize([{x:g,y:p},{x:o,y:l}]);
e.getGraphicStack().getDecorator().getGraphic().opacity(1)}1<c.length&&c[c.length-1].getGraphicStack().getDecorator().getGraphic().opacity(0)}}if(!0!==f.isDropMarker&&(j||h))if(b.isObjectInBounds()){if(j=b.domainToScreenX(a.getCoordinateMapper().getOrigin().x),h=b.domainToScreenY(b.getYValue()),c=b.domainToScreenX(b.getXValue()),d=b.domainToScreenY(b.getYValue()),e=b.domainToScreenX(b.getXValue()),g=b.domainToScreenY(a.getCoordinateMapper().getOrigin().y),p=b.getDecoration(b.DECORATION_TYPE_X_DROPLINE),
o=b.getDecoration(b.DECORATION_TYPE_Y_DROPLINE),p&&o?b.getGraphicStack().getDecorator().getGraphic().resize([{x:j,y:h},{x:c,y:d},{x:e,y:g}]):p?b.getGraphicStack().getDecorator().getGraphic().resize([{x:j,y:h},{x:c,y:d}]):o&&b.getGraphicStack().getDecorator().getGraphic().resize([{x:c,y:d},{x:e,y:g}]),b.getGraphicStack().getDecorator().getGraphic().opacity(1),b=b.getGraphicStack().getHitAreasDecoration(),p&&o?(b[0].resize([{x:j,y:h},{x:c,y:d}]),b[1].resize([{x:c,y:d},{x:e,y:g}])):o?b[0].resize([{x:c,
y:d},{x:e,y:g}]):p&&b[0].resize([{x:j,y:h},{x:c,y:d}]),null!=m&&(m.getGraphic().opacity(1),m.getGraphic().move(j,h)),null!=n)n.getGraphic().opacity(1),n.getGraphic().move(e,g)}else b.getGraphicStack().getDecorator().getGraphic().opacity(0),null!=m&&m.getGraphic().opacity(0),null!=n&&n.getGraphic().opacity(0)};a.createCorrectnessOverlay=function(d,e,g){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c,a.getCoordinateMapper(),f).draw(d,e,2*g).fill(b.DiagramFrameworkViewConstants.INCORRECT_UNDERLAY_COLOR,
1).opacity(0)};return a})})(k);(function(b){b.GraphFactory.registerClass("SquarePointGraphicStack",function(){var a=Object.create(b.GraphFactory.newInstanceByName("PointGraphicStack")),d=a.init,c=null,e=null,f;a.init=function(b,j,l,m,n,k,q,r){d(b,a,j,l,m,n,k,q,r);c=l;e=k;f=j;q.isVisible&&g();return a};var g=function(){var d=a.getId(),g=200,l=200,m=200;switch(e.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:g=b.DiagramFrameworkViewConstants.POINT_RADIUS;l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH;
m=b.DiagramFrameworkViewConstants.SQUARE_POINT_WIDTH;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:g=b.DiagramFrameworkViewConstants.POINT_RADIUS_SMALL,l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH_SMALL,m=b.DiagramFrameworkViewConstants.SQUARE_POINT_WIDTH_SMALL}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,
0,g+b.DiagramFrameworkViewConstants.UNDERLAY_CIRCLE_SIZE_ADDITION).fill(e.getFocusUnderlayFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(c).draw(0,0,m,m).fill(e.getFillColor(),1).stroke("#000000",l,1).opacity(0)}));f.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,
b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return a.createCorrectnessOverlay(0,0,g)}));0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(e.getFocusUnderlayFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,
0,g+b.DiagramFrameworkViewConstants.HITAREA_CIRCLE_SIZE_ADDITION).fill("#999999",1).opacity(0)}))};return a})})(k);(function(b){b.GraphFactory.registerClass("StarPointGraphicStack",function(){var a=Object.create(b.GraphFactory.newInstanceByName("PointGraphicStack")),d=a.init,c=null,e=null,f;a.init=function(b,j,l,m,n,k,q,r){d(b,a,j,l,m,n,k,q,r);c=l;e=k;f=j;q.isVisible&&g();return a};var g=function(){var d=a.getId(),g=200,l=200,m=200;switch(e.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:g=
b.DiagramFrameworkViewConstants.POINT_RADIUS;l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH;m=b.DiagramFrameworkViewConstants.STAR_POINT_WIDTH;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:g=b.DiagramFrameworkViewConstants.POINT_RADIUS_SMALL,l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH_SMALL,m=b.DiagramFrameworkViewConstants.STAR_POINT_WIDTH_SMALL}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,
function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,0,g+b.DiagramFrameworkViewConstants.UNDERLAY_CIRCLE_SIZE_ADDITION).fill(e.getFocusUnderlayFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(c).draw(0,0,m).fill(e.getFillColor(),1).stroke("#000000",
l,1).opacity(0)}));f.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return a.createCorrectnessOverlay(0,0,g)}));0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(e.getFocusUnderlayFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(d,
b.DiagramFrameworkViewConstants.TYPE_POINT,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,0,g+b.DiagramFrameworkViewConstants.HITAREA_CIRCLE_SIZE_ADDITION).fill("#999999",1).opacity(0)}))};return a})})(k);(function(b){b.GraphFactory.registerClass("TrianglePointGraphicStack",function(){var a=Object.create(b.GraphFactory.newInstanceByName("PointGraphicStack")),d=a.init,c=null,e=null,
f;a.init=function(b,j,l,m,k,p,q,r){d(b,a,j,l,m,k,p,q,r);c=l;e=p;f=j;q.isVisible&&g();return a};var g=function(){var d=a.getId(),g=200,l=200,m=200;switch(e.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:g=b.DiagramFrameworkViewConstants.POINT_RADIUS;l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH;m=b.DiagramFrameworkViewConstants.TRIANGLE_POINT_WIDTH;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:g=b.DiagramFrameworkViewConstants.POINT_RADIUS_SMALL,
l=b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH_SMALL,m=b.DiagramFrameworkViewConstants.TRIANGLE_POINT_WIDTH_SMALL}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,0,g+b.DiagramFrameworkViewConstants.UNDERLAY_CIRCLE_SIZE_ADDITION).fill(e.getFocusUnderlayFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,
b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(c).draw(0,0,m).fill(e.getFillColor(),1).stroke("#000000",l,1).opacity(0)}));f.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,b.DiagramFrameworkViewConstants.TYPE_GRID,function(){return a.createCorrectnessOverlay(0,0,g)}));0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(d,
b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(e.getFocusUnderlayFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(d,b.DiagramFrameworkViewConstants.TYPE_POINT,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(c).draw(0,0,g+b.DiagramFrameworkViewConstants.HITAREA_CIRCLE_SIZE_ADDITION).fill("#999999",1).opacity(0)}))};return a})})(k);
(function(b){b.GraphFactory.registerClass("PolygonGraphicStack",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("GraphicStack")),d=a.init,c,e,f=[],g;a.init=function(f,l,m,k,p,q,r,s){c=s;h();d(f,a,l,m,k,p,q,e.length);g=l;var o=200;switch(q.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:o=4;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:o=2}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(f,
b.DiagramFrameworkViewConstants.TYPE_AREA,function(){switch(c.fillPattern){case "empty":return b.GraphFactory.newInstanceByName("PolygonGraphic").init(m,c).draw(r).stroke(q.getFillColor(),1.5*o,0).opacity(0);default:return b.GraphFactory.newInstanceByName("PolygonGraphic").init(m,c).draw(r).stroke(q.getFillColor(),1.5*o,0).fill(q.getFillColor(),1).opacity(0)}}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(f,b.DiagramFrameworkViewConstants.TYPE_AREA,function(){switch(c.fillPattern){case "empty":return b.GraphFactory.newInstanceByName("PolygonGraphic").init(m,
c).draw(r).stroke(q.getFillColor(),o,1).opacity(0);default:return b.GraphFactory.newInstanceByName("PolygonGraphic").init(m,c).draw(r).stroke(q.getFillColor(),0.01,1).fill(q.getFillColor(),0.5).opacity(0)}}));a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(f,b.DiagramFrameworkViewConstants.TYPE_CORRECTNESS,function(){return b.GraphFactory.newInstanceByName("PolygonGraphic").init(m,c).draw(r).stroke(b.DiagramFrameworkViewConstants.INCORRECT_OVERLAY_COLOR,o/2,
1).opacity(0)}));0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(f,b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(q.getFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(f,b.DiagramFrameworkViewConstants.TYPE_LINE,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){var a;switch(c.fillPattern){case "empty":a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(m).draw(r,
!0).stroke("#999999",o,0).opacity(0.01);break;default:a=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(m).draw(r,!0).stroke("#999999",o,0).opacity(0.01),a.getGraphic().attr({fill:q.getFillColor(),fill_opacity:0.1})}return a}));a.bindDisplay();return a};var h=function(){e=[];var b=!1;c&&void 0!==c.showRadius&&(b=c.showRadius);b&&(e.push(2),f.push([a.createGlyph()]));b=!0;c&&void 0!==c.showArea&&(b=c.showArea);b&&(e.push(1),f.push([a.createGlyph()]));b=!1;c&&
void 0!==c.showPerimeter&&(b=c.showPerimeter);b&&(e.push(4),f.push([a.createGlyph()]));b=!1;c&&void 0!==c.showCircumference&&(b=c.showCircumference);b&&(e.push(8),f.push([a.createGlyph()]))};a.bindDisplay=function(){a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(1);a.getMain().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(0);a.getMain().getGraphic().opacity(1)});
a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT,function(){a.getCorrectnessOverlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT,function(){a.getCorrectnessOverlay().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS,function(){})};a.updateDecorations=function(b){a.getFocusUnderlay().getGraphic().updateDecorations(b);a.getMain().getGraphic().updateDecorations(b)};a.updateTooltipText=
function(c){if(0!==f.length&&(c||a.isTooltipVisible())&&null!=a.getTooltipOverlay()){for(c=0;c<e.length;c++){var d="";switch(e[c]){case 1:var h;h=g.getDescription().additionalInfo.area;h=h.toFixed(b.BasicMathToolkit.computeScale(h,2));d+="Area: "+h;break;case 4:h=g.getDescription().additionalInfo.perimeter;h=h.toFixed(b.BasicMathToolkit.computeScale(h,2));d+="Perimeter: "+h;break;case 2:h=g.getDescription().additionalInfo.radius;h=h.toFixed(b.BasicMathToolkit.computeScale(h,2));d+="Radius: "+h;break;
case 8:h=g.getDescription().additionalInfo.circumference,h=h.toFixed(b.BasicMathToolkit.computeScale(h,2)),d+="Circumference: "+h}f[c][0].setText(d)}a.getTooltipOverlay().getGraphic().setTextEntries(f);a.isDragging()&&a.getTooltipOverlay().getGraphic().move(a.getCenterX(),a.getCenterY())}};a.move=function(b){a.updateTooltipText();a.getFocusUnderlay().getGraphic().resize(b);a.getMain().getGraphic().resize(b);a.getCorrectnessOverlay().getGraphic().resize(b);null!=a.getHitAreaMain()&&a.getHitAreaMain().getGraphic().resize(b);
g.isObjectInBounds()?a.clipToViewport():a.unClipToViewport()};return a})})(k);(function(b){b.GraphFactory.registerClass("PolynomialCurve2GraphicStack",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("GraphicStack")),d=a.init,c,e,f;a.init=function(j,h,m,k,p,q,r,s){e=s;g();d(j,a,h,m,k,p,q,f.length);c=h;var o=200;switch(q.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:o=4;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:o=
2}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(j,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1Graphic").init(m,e).draw(r).stroke(q.getFillColor(),1.5*o,0).fill(q.getFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(j,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("PiecewiseBezierCurve1Graphic").init(m,
e).draw(r).stroke(q.getFillColor(),o,1).fill(q.getFillColor(),1).opacity(0)}));a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(j,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return a.createCorrectnessOverlay(r)}));0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(j,b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(q.getFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(j,
b.DiagramFrameworkViewConstants.TYPE_LINE,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(m).draw(r).stroke("#999999",o+20,0).opacity(1.0E-4)}));a.bindDisplay();return a};var g=function(){f=[];var a=!1;e&&void 0!==e.showPolynomial&&(a=e.showPolynomial);a&&f.push(0)};a.bindDisplay=function(){a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(1);
a.getMain().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(0);a.getMain().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(1)});
a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)})};a.updateTooltipText=function(){if(null!=a.getTooltipOverlay()){for(var b=[],d=0;d<f.length;d++)switch(f[d]){case 0:b.push(h(c.getDescription().additionalInfo.polynomial))}0<b.length?(a.getTooltipOverlay().getGraphic().setTextEntries(b),a.isDragging()&&a.getTooltipOverlay().getGraphic().move(a.getCenterX(),a.getCenterY())):a.getTooltipOverlay().getGraphic().hide()}};
a.move=function(b){a.setCenterX((b[0].x+b[1].x)/2);a.setCenterY((b[0].y+b[1].y)/2);a.updateTooltipText();a.getFocusUnderlay().getGraphic().resize(b);a.getMain().getGraphic().resize(b);null!=a.getHitAreaMain()&&a.getHitAreaMain().getGraphic().resize(b);null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().move(b);c.isObjectInBounds()?a.clipToViewport():a.unClipToViewport()};a.updateDecorations=function(b){a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().updateDecorations(b);
a.getMain()&&a.getMain().getGraphic().updateDecorations(b)};a.createCorrectnessOverlay=function(c){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_doubleSlashGraphic").init(a.getPaper()).draw(c).opacity(0)};var h=function(a){return b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(a)};return a})})(k);(function(b){b.GraphFactory.registerClass("PolynomialCurveGraphicStack",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("GraphicStack")),
d=a.init,c,e,f;a.init=function(h,l,m,k,p,q,r,s){e=s;g();d(h,a,l,m,k,p,q,f.length);c=l;var o=200;switch(q.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:o=4;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:o=2}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("PolynomialCurveGraphic").init(m,e).draw(r).stroke(q.getFillColor(),
1.5*o,0).fill(q.getFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("PolynomialCurveGraphic").init(m,e).draw(r).stroke(q.getFillColor(),o,1).fill(q.getFillColor(),1).opacity(0)}));a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return a.createCorrectnessOverlay(r)}));
0<a.getNumTooltipTextElements()&&a.setTooltipOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_TOOLTIP,function(){return a.createTooltip(q.getFillColor())}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(m).draw(r).stroke("#999999",
o+20,0).opacity(1.0E-4)}));a.bindDisplay();return a};var g=function(){f=[];var a=!1;e&&void 0!==e.showPolynomial&&(a=e.showPolynomial);a&&f.push(0)};a.bindDisplay=function(){a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(1);a.getMain().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(0);a.getMain().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT,
function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)})};a.updateTooltipText=function(){if(null!=a.getTooltipOverlay()){for(var b=
[],d=0;d<f.length;d++)switch(f[d]){case 0:b.push(h(c.getDescription().additionalInfo.polynomial))}0<b.length?(a.getTooltipOverlay().getGraphic().setTextEntries(b),a.isDragging()&&a.getTooltipOverlay().getGraphic().move(a.getCenterX(),a.getCenterY())):a.getTooltipOverlay().getGraphic().hide()}};a.move=function(b){a.setCenterX((b[0].x+b[1].x)/2);a.setCenterY((b[0].y+b[1].y)/2);a.updateTooltipText();a.getFocusUnderlay().getGraphic().resize(b);a.getMain().getGraphic().resize(b);null!=a.getHitAreaMain()&&
a.getHitAreaMain().getGraphic().resize(b);null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().move(b);c.isObjectInBounds()?a.clipToViewport():a.unClipToViewport()};a.updateDecorations=function(b){a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().updateDecorations(b);a.getMain()&&a.getMain().getGraphic().updateDecorations(b)};a.createCorrectnessOverlay=function(c){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_doubleSlashGraphic").init(a.getPaper()).draw(c).opacity(0)};
var h=function(a){return b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(a)};return a})})(k);(function(b){b.GraphFactory.registerClass("RayGraphicStack",function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("GraphicStack")),d=a.init,c,e,f=null,g=null;a.init=function(b,l,m,k,p,q,r,s){e=s;d(b,a,l,m,k,p,q,0);f=m;g=q;c=l;s.isVisible&&h(r);return a};var h=function(d){var h=a.getId(),m=200;switch(g.getObjectSize()){case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE:m=
4;break;case b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL:m=2}a.setFocusUnderlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("RayGraphic").init(f,a.getCoordinateMapper(),e).draw(d).stroke(g.getFillColor(),1.3*m,0).fill(g.getFillColor(),1).opacity(0)}));a.setMain(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,function(){return b.GraphFactory.newInstanceByName("RayGraphic").init(f,
a.getCoordinateMapper(),e).draw(d).stroke(g.getFillColor(),m,1).fill(g.getFillColor(),1).opacity(0)}));c.getIsDraggable()&&a.setCorrectnessOverlay(b.DiagramFrameworkViewFactory.newInstanceByName("Render").init(h,b.DiagramFrameworkViewConstants.TYPE_POINT,function(){return a.createCorrectnessOverlay(d)}));a.addHitArea(b.DiagramFrameworkViewFactory.newInstanceByName("HitArea").init(h,b.DiagramFrameworkViewConstants.TYPE_LINE,b.DiagramFrameworkViewConstants.HITAREA_TYPE_MAIN,function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(f).draw(d).stroke("#999999",
m+b.DiagramFrameworkViewConstants.HITAREA_LINE_SIZE_ADDITION,0).opacity(1.0E-4)}));a.bindDisplay();return a};a.bindDisplay=function(){a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_FOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(1);a.getMain().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_UNFOCUS,function(){a.getFocusUnderlay().getGraphic().opacity(0);a.getMain().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWCORRECT,
function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_SHOWINCORRECT,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(1)});a.getDisplay().bindEvent(b.GraphicStackEvents.DISPLAY_STATE_HIDECORRECTNESS,function(){null!=a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().opacity(0)})};a.move=function(b){a.setCenterX((b[0].x+b[1].x)/2);a.setCenterY((b[0].y+
b[1].y)/2);a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().resize(b);a.getMain()&&a.getMain().getGraphic().resize(b);a.getHitAreaMain()&&a.getHitAreaMain().getGraphic().resize(b);a.getCorrectnessOverlay()&&a.getCorrectnessOverlay().getGraphic().move(b);c.isObjectInBounds()?a.clipToViewport():a.unClipToViewport()};a.updateDecorations=function(b){a.getFocusUnderlay()&&a.getFocusUnderlay().getGraphic().updateDecorations(b);a.getMain()&&a.getMain().getGraphic().updateDecorations(b)};a.createCorrectnessOverlay=
function(c){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_doubleSlashGraphic").init(a.getPaper()).draw(c).opacity(0)};return a})})(k);(function(b){b.GraphFactory.registerClass("AreaGraphic",function(){var a=b.GraphFactory.newInstanceByName("GraphElementGraphic"),d=a.init,c;a.init=function(b,f){d(b,f);c=b;return a};a.draw=function(d){a.setMainGraphic(b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_pathGraphic").init(c).draw(d,!0));a.addToGraphicSet(a.getMainGraphic().getGraphic());
return a};a.fill=function(b,c){a.getGraphic().attr({fill:b,"fill-opacity":c});return a};return a})})(k);(function(b){b.GraphFactory.registerClass("GraphElementGraphic",function(){var a={},b,c,e,f;a.init=function(e,h){b=e;f=h;c=b.set();return a};a.draw=function(){};a.addToGraphicSet=function(a){c.push(a)};a.setMainGraphic=function(a){e=a};a.getMainGraphic=function(){return e};a.updateDecorations=function(a){for(var b in a)if(a.hasOwnProperty(b))switch(b){case "linePattern":e.setStrokeStyle(a[b])}};
a.stroke=function(b,c,d){e.stroke(b,c,d,f.linePattern);var l=a.getGraphic();if(1<l.length)for(var m=1;m<l.length;m++)l[m].attr({stroke:b,"stroke-width":c-2,opacity:d});return a};a.getX=function(){return c[0].attr("path")[0][1]};a.getY=function(){return c[0].attr("path")[0][2]};a.opacity=function(b){c[0].attr({opacity:b});return a};a.fill=function(b){var c=a.getGraphic();if(1<c.length)for(var d=1;d<c.length;d++)c[d].attr({fill:b});return a};a.clipRect=function(a,b,c,d){e.clipRect(a,b,c,d)};a.getWidth=
function(){return c.getTotalLength()};a.sendToBack=function(){c.toBack()};a.bringToFront=function(){c.toFront()};a.resize=function(a){e.resize(a)};a.drag=function(a,b,d){c.drag(a,b,d)};a.getGraphic=function(){return c};a.appearAbove=function(b){0!=b.getGraphic().length&&a.getGraphic().insertAfter(b.getGraphic())};return a})})(k);(function(b){b.GraphFactory.registerClass("GraphElementWithArrowsGraphic",function(){var a=b.GraphFactory.newInstanceByName("GraphElementGraphic"),d=a.init,c;a.init=function(b,
e){d(b,e);c=b;return a};a.draw=function(d){a.setMainGraphic(b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(c).draw(d));a.addToGraphicSet(a.getMainGraphic().getGraphic());return a};var e=function(a,b,c,d){return[["M",a,b-d/2],["L",a+c/2,b+d/2],["L",a-c/2,b+d/2],["Z"]]};a.drawInitialArrow=function(b){var d=b[0],d=c.path(e(d.x,d.y,10,10));d.attr({fill:"#123456"});d.rotate(-90,!0);a.updateInitialArrowCoords(d,b);d.attr({opacity:0});return d};a.updateInitialArrowCoords=
function(a,c){var d=c[0],j=180*b.CoordinateGeometryToolkit.anglePointPoint(d,c[1])/Math.PI;a.attr({path:e(d.x,d.y,15,15),"stroke-width":0,"stroke-opacity":1});a.rotate(-90,!0);a.rotate(j);a.attr({"stroke-opacity":0,"fill-opacity":0})};a.drawEndArrow=function(b){var d=b[b.length-1],d=c.path(e(d.x,d.y,10,10));d.rotate(90,!0);a.updateEndArrowCoords(d,b);return d};a.updateEndArrowCoords=function(a,c){var d=c[c.length-1],j=180*b.CoordinateGeometryToolkit.anglePointPoint(c[c.length-2],d)/Math.PI;a.attr({path:e(d.x,
d.y,15,15),"stroke-width":0,"stroke-opacity":1});a.rotate(90,!0);a.rotate(j);a.attr({"stroke-opacity":0,"fill-opacity":0})};return a})})(k);(function(b){b.GraphFactory.registerClass("LineGraphic",function(){var a=b.GraphFactory.newInstanceByName("GraphElementWithArrowsGraphic"),d=a.init,c=a.draw,e;a.init=function(b,c,h){d(b,h);e=c;e.getLimitsForCoordinate("x");e.getLimitsForCoordinate("y");e.getXMin();e.getXMax();e.getYMin();e.getYMax();return a};a.draw=function(b){c(b);return a};a.resize=function(b){a.getMainGraphic().resize(b)};
return a})})(k);(function(b){b.GraphFactory.registerClass("NPointCurveGraphic",function(){var a=b.GraphFactory.newInstanceByName("GraphElementGraphic"),d=a.init,c;a.init=function(b,f){d(b,f);c=b;return a};a.draw=function(d){a.setMainGraphic(b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(c).draw(d));a.addToGraphicSet(a.getMainGraphic().getGraphic());return a};return a})})(k);(function(b){b.GraphFactory.registerClass("PiecewiseBezierCurve1Graphic",function(){var a=
b.GraphFactory.newInstanceByName("GraphElementWithArrowsGraphic"),d=a.init,c=a.draw,e;a.init=function(b,c){d(b,c);e=c;return a};a.draw=function(b){c(b);var d=e.arrows;("left"==d||"both"==d)&&a.addToGraphicSet(a.drawInitialArrow(b));("right"==d||"both"==d)&&a.addToGraphicSet(a.drawEndArrow(b));return a};a.resize=function(b){a.getMainGraphic().resize(b);var c=a.getGraphic();if(1<c.length){var d=void 0,j=void 0,l=e.arrows;if("left"==l||"both"==l)d=c[1],a.updateInitialArrowCoords(d,b);"right"==l&&(j=
c[1]);"both"==l&&(j=c[2]);void 0!==j&&a.updateEndArrowCoords(j,b)}};return a})})(k);(function(b){b.GraphFactory.registerClass("PiecewiseBezierCurve3Graphic",function(){var a=b.GraphFactory.newInstanceByName("GraphElementGraphic"),d=a.init,c;a.init=function(b,f){d(b,f);c=b;return a};a.draw=function(d){a.setMainGraphic(b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(c).draw(d));a.addToGraphicSet(a.getMainGraphic().getGraphic());return a};return a})})(k);(function(b){b.GraphFactory.registerClass("PolygonGraphic",
function(){var a=b.GraphFactory.newInstanceByName("GraphElementGraphic"),d=a.init,c;a.init=function(b,f){d(b,f);c=b;return a};a.draw=function(d){a.setMainGraphic(b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(c).draw(d,!0));a.addToGraphicSet(a.getMainGraphic().getGraphic());return a};a.fill=function(b,c){a.getGraphic().attr({fill:b,"fill-opacity":c});return a};a.stroke=function(b,c,d){a.getGraphic().attr({stroke:b,"stroke-width":c,"stroke-opacity":d});return a};
return a})})(k);(function(b){b.GraphFactory.registerClass("PolynomialCurveGraphic",function(){var a=b.GraphFactory.newInstanceByName("GraphElementWithArrowsGraphic"),d=a.init,c,e;a.init=function(b,g){d(b,g);c=b;e=g;return a};a.draw=function(d){a.setMainGraphic(b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(c).draw(d));a.addToGraphicSet(a.getMainGraphic().getGraphic());var g=e.arrows;("left"==g||"both"==g)&&a.addToGraphicSet(a.drawInitialArrow(d));("right"==g||
"both"==g)&&a.addToGraphicSet(a.drawEndArrow(d));return a};a.resize=function(b){a.getMainGraphic().resize(b)};return a})})(k);(function(b){b.GraphFactory.registerClass("RayGraphic",function(){var a=b.GraphFactory.newInstanceByName("GraphElementWithArrowsGraphic"),d=a.init,c=a.draw,e,f,g,h,j,l,m;a.init=function(b,c,k){d(b,k);e=c;f=e.getLimitsForCoordinate("x");g=e.getLimitsForCoordinate("y");j=e.getXMin();h=e.getXMax();m=e.getYMin();l=e.getYMax();return a};a.draw=function(b){c(b);var d=b[0],e=b[b.length-
1];a.addToGraphicSet(a.drawEndArrow(b));k(d,e);return a};var k=function(b,c){var d=void 0,d=a.getGraphic()[1];(c.x===j?p(f.getNumber0().getValue())<p(e.screenToCartesianX(c.x)):c.x===h?p(f.getNumber1().getValue())>p(e.screenToCartesianX(c.x)):c.y===l?q(g.getNumber0().getValue())<q(e.screenToCartesianY(c.y)):c.y===m&&q(g.getNumber1().getValue())>q(e.screenToCartesianY(c.y)))?d.attr({opacity:1}):d.attr({opacity:0})},p=function(a){return e.roundToResolution(a,"x")},q=function(a){return e.roundToResolution(a,
"y")};a.resize=function(b){a.getMainGraphic().resize(b);var c=a.getGraphic();if(1<c.length){var d=void 0,e=b[0],f=b[b.length-1],d=c[1];a.updateEndArrowCoords(d,b);k(e,f)}};return a})})(k);(function(b){b.GraphViewFactory.registerClass("graph_horizontalPalette",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("graph_palette")),d=a.init,c,e,f,g,h,j,l,m;a.nodeName="graph_horizontalPalette";a.init=function(b,k,q,r,s){d(b,r);j=b;f=k+15;g=q+5;e={};c={};m=s;l=j.set();h=f;return a};a.hidePalette=
function(){l.attr({opacity:0});for(var a in e)e[a].hide()};a.populatePalette=function(d){var l,k=[],r=40,s;for(s in d){var o=d[s],u=o.getName(),t=o.getInventoryObjects(),w;for(w in t){var x=t[w],B=x.getName();if(!a.contains(B)){var y=x.getType(),z=x.getLabel();if(void 0===z||null===z||0==z.length)z=Infinity;var A=x.getFlags();if(l=(l=y===b.GraphConstants.ELEMENT_TYPE_POINT?A.isVisible:!0)&&x.isDraggable()){l=o.getLabel();void 0===l&&(l="");if(!c.hasOwnProperty(u)){var r=0,D=h,C;0<l.length&&(D=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(l),
C=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_labelGraphic").init(j,b.DiagramFrameworkViewConstants.TEXT_MEASUREMENT_NODE).setGlyphs(D).opacity(1),k.push({label:C,group:u}),r=C.getWidth(),C.getHeight());r=Math.max(r,40);D=h+r/2;void 0!==C&&C.move(D,g+20);c[u]=D;a.addCorrectnessSymbol(u,D,g-22)}void 0===e[u]&&(e[u]={});void 0===e[u][y]&&(e[u][y]={});void 0===e[u][y][z]&&(e[u][y][z]=[]);l=-1;for(var v in e[u][y][z])if(a.checkIfFlagsAreEqual(e[u][y][z][v].flags,A)){l=v;break}if(void 0===
l||0>l){var F;l=h+r/2;F=g;h=h+r+40;var H=b.GraphStyleRepository.getStyleForGroup(u),L=A.appearance;L&&(H=b.GraphStyleRepository.getStyleForAppearance(L));l=b.GraphIconFactory.createIconByObjectType(y).init(j,{x:l,y:F},40,30,H,y,A);e[u][y][z].push({flags:A,icon:l})}else l=e[u][y][z][l].icon;a.addToIconLookup(l,B,x.isUsed())}}}}d=f+r/2;for(v=0;v<k.length;v++)u=k[v].group,k[v].label.move(d,k[v].label.getY()),s=a.getCorrectnessMap(),s[u].correctSymbol.move(d,s[u].correctSymbol.getY()),s[u].incorrectSymbol.move(d,
s[u].correctSymbol.getY()),c[u]=D,d+=r+40;a.enableExistingIcons(f,r);r>m-70&&(m=r+70,a.trigger(b.GraphConstants.VIEW_EVENT_PALETTE_WIDTH_UPDATED,[m]))};a.enableExistingIcons=function(b,c){var d=a.getIconLookup(),e=b+c/2,f;for(f in d)if(d.hasOwnProperty(f)){var g=d[f];g.icon.setCoords({x:e,y:g.icon.getY()});g.icon.renderIcon();a.enableIconFromIconLookupObject(g);e+=c+40}};return a})})(k);(function(b){b.GraphViewFactory.registerClass("graph_palette",function(){var a={},d,c,e,f,g,h,j=!0;a.nodeName="graph_palette";
a.init=function(j,l){g=l;f=j;h={};d={};c={};e={};a.bind(b.GraphConstants.VIEW_GROUP_CORRECTNESS_UPDATED,r);return a};a.bind=function(c,d){b(a).bind(c,d)};a.trigger=function(c,d){b(a).triggerHandler(c,d)};a.contains=function(a){return e.hasOwnProperty(a)};a.getIconLookup=function(){return d};a.getCorrectnessMap=function(){return c};var l=function(a){var b=g.getXMax(),c;a>b?(c=g.screenToCartesianX(b),c+=g.unroundedScreenDeltaToCartesianXDelta(a-b)):c=g.screenToCartesianX(a);return c},m=function(a){var b=
g.getYMax(),c;a>b?(c=g.screenToCartesianY(b),c+=g.unroundedScreenDeltaToCartesianYDelta(a-b)):c=g.screenToCartesianY(a);return c};a.checkIfFlagsAreEqual=function(a,b){var c={},d;for(d in a){if(!b.hasOwnProperty(d)||a[d]!==b[d])return!1;c[d]=!0}for(d in b)if(void 0===c[d]&&(!a.hasOwnProperty(d)||a[d]!==b[d]))return!1;return!0};a.hideCorrectnessSymbols=function(){for(var a in c){var b=c[a];b.correctSymbol.opacity(0);b.incorrectSymbol.opacity(0)}};a.refreshCorrectnessSymbols=function(){for(var a in c){var b=
c[a];!0===b.isCorrect&&b.correctSymbol.opacity(1);!1===b.isCorrect&&b.incorrectSymbol.opacity(1)}};a.addCorrectnessSymbol=function(a,d,e){var g;g=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_checkmarkGraphic").init(f).draw(d,e,10,3,0,0).opacity(0);d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_crossmarkGraphic").init(f).draw(d,e,10,3,0,0).opacity(0);c[a]={isCorrect:null,correctSymbol:g,incorrectSymbol:d}};a.addToIconLookup=function(a,b,c){var f=a.getID();
void 0===e[b]&&(e[b]={},e[b].icon=a);void 0!==f&&void 0===d[f]&&(d[a.getID()]={icon:a,objects:[]});c||(d[a.getID()].objects.push(b),e[b].isOnPalette=!0)};a.enableIconFromIconLookupObject=function(a){var c=0<a.objects.length,d;c&&void 0===h[a.icon.getID()]&&(d=a.objects.pop(),d=b.GraphViewFactory.newInstanceByName("PaletteObjectDragProxy").init(f,40,30,a.icon,d,g),b(d).bind(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_START,k),b(d).bind(b.GraphConstants.VIEW_EVENT_RENDER_DRAG,p),b(d).bind(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_STOP,
q),h[a.icon.getID()]=d);a.icon.enabled(c)};a.setAllowInteraction=function(a){j=a};var k=function(c,e,f){if(j){c=c.target;b(c).unbind(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_START,k);var g=c.getIcon().getID();delete h[g];a.enableIconFromIconLookupObject(d[g]);a.trigger(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_START,[c.getObjectName(),l(e),m(f)])}},p=function(c,d,e){a.trigger(b.GraphConstants.VIEW_EVENT_RENDER_DRAG,[c.target.getObjectName(),l(d),m(e)])},q=function(c,d,f){c=c.target;e[c.getObjectName()].isOnPalette=
!1;a.trigger(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_STOP,[c.getObjectName(),l(d),m(f)]);b(c).unbind();c.dispose()};a.addChild=function(b){b=b.getName();if(void 0!==e[b]){var c=e[b].icon;a.addToIconLookup(c,b,!1);a.enableIconFromIconLookupObject(d[c.getID()])}};a.removeChild=function(b){b=b.getName();if(void 0!==e[b]){var c=e[b].icon;a.addToIconLookup(c,b,!0);a.enableIconFromIconLookupObject(d[c.getID()])}};a.clearAll=function(){for(var a in d){d[a].objects=[];var c=d[a].icon.getID(),e=h[c];void 0!==
e&&(b(e).unbind(),delete h[c]);d[a].icon.enabled(!1)}};var r=function(a,b,d){for(var e in b){var a=c[e],f=b[e],g=d;void 0!==a&&(a.isCorrect=f,g&&(null===f?(a.correctSymbol.opacity(0),a.incorrectSymbol.opacity(0)):f?(a.correctSymbol.opacity(1),a.incorrectSymbol.opacity(0)):(a.correctSymbol.opacity(0),a.incorrectSymbol.opacity(1))))}};a.enableIconByRenderDescription=function(a){a=a.getName();void 0!==e[a]&&e[a].icon.enabled(!0)};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PaletteObjectDragProxy",
function(){var a={},d=null,c,e,f,g,h,j,l;a.init=function(m,k,p,q,r,s){d=m;c=k;e=p;f=q;g=r;j=!0;h=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(d).draw(f.getX(),f.getY(),c,e).fill("#000000",0).stroke("#000000",0,0);j||b(h.getHTMLNode()).hover(f.onHoverIn,f.onHoverOut);l=b.DiagramFrameworkViewFactory.newInstanceByName("DragProxy").init(s,h.getX,h.getY);l.setHitArea(a);return a};a.getObjectName=function(){return g};a.getIcon=function(){return f};a.getWidth=
function(){return c};a.getHeight=function(){return e};a.getGraphic=function(){return h};a.dispose=function(){h.undrag()};a.onDragStart=function(c,d){j||b(h.getHTMLNode()).unbind("mouseenter mouseleave");b(a).triggerHandler(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_START,[c,d])};a.onDragMove=function(c,d,e,f){b(a).triggerHandler(b.GraphConstants.VIEW_EVENT_RENDER_DRAG,[e,f])};a.onDragStop=function(c,d){b(a).triggerHandler(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_STOP,[c,d])};return a})})(k);(function(b){b.GraphViewFactory.registerClass("graph_verticalPalette",
function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("graph_palette")),d=a.init,c,e,f,g,h,j,l,m;a.nodeName="graph_verticalPalette";a.init=function(b,k,q,r,s){d(b,r);j=b;g=q+5;f=k+2;e={};c={};m=s;l=j.set();h=g;return a};a.hidePalette=function(){l.attr({opacity:0});for(var a in e)e[a].hide()};a.populatePalette=function(d){var g,l=[],k=40,s,o;for(o in d){var u=d[o],t=u.getName(),w=u.getInventoryObjects(),x;for(x in w){var B=w[x],y=B.getName();if(!a.contains(y)){var z=B.getType(),A=B.getLabel();
if(void 0===A||null===A||0==A.length)A=Infinity;var D=B.getFlags();if(D.isVisible&&(g=(g=z===b.GraphConstants.ELEMENT_TYPE_POINT?D.isVisible:!0)&&B.isDraggable())){var C=u.getLabel();void 0===C&&(C="");if(!c[t]){var v=g=0;0<C.length&&(g=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(C),C=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_labelGraphic").init(j,b.DiagramFrameworkViewConstants.TEXT_MEASUREMENT_NODE).setGlyphs(g).opacity(1),l.push(C),g=C.getWidth(),
v=C.getHeight(),k=Math.max(g,k),C.move(0,h+30+v/2+10));c[t]=!0;a.addCorrectnessSymbol(t,f+m-25,h+(v+30)/2)}void 0===e[t]&&(e[t]={});void 0===e[t][z]&&(e[t][z]={});void 0===e[t][z][A]&&(e[t][z][A]=[]);g=-1;for(s in e[t][z][A])if(a.checkIfFlagsAreEqual(e[t][z][A][s].flags,D)){g=s;break}if(void 0===g||0>g){g=f+k/2;v=h+15;h=h+30+40;var C=b.GraphStyleRepository.getStyleForGroup(t),F=D.appearance;F&&(C=b.GraphStyleRepository.getStyleForAppearance(F));F=B.getPaletteType();F=null!=F?F:z;g=b.GraphIconFactory.createIconByObjectType(F).init(j,
{x:g,y:v},40,30,C,z,D);e[t][z][A].push({flags:D,icon:g})}else g=e[t][z][A][g].icon;a.addToIconLookup(g,y,B.isUsed())}}}}for(s=0;s<l.length;s++)l[s].move(f+k/2,l[s].getY());a.enableExistingIcons(f,k);if(k>m-50){d=f;m=k+50;var k=a.getCorrectnessMap(),H;for(H in k)k[H].correctSymbol.move(d+m-25,k[H].correctSymbol.getY()),k[H].incorrectSymbol.move(d+m-25,k[H].incorrectSymbol.getY());a.trigger(b.GraphConstants.VIEW_EVENT_PALETTE_WIDTH_UPDATED,[m])}};a.enableExistingIcons=function(b,c){var d=a.getIconLookup(),
e;for(e in d)if(d.hasOwnProperty(e)){var f=d[e];f.icon.setCoords({x:b+c/2,y:f.icon.getY()});f.icon.renderIcon();a.enableIconFromIconLookupObject(f)}};return a})})(k);(function(b){var a=0;b.GraphViewFactory.registerClass("Icon",function(){var d=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),c=d.init,e=null,f=null,g=null,h=null,j=null,l=null,m,k=!1,p=a++;d.init=function(a,b,k,n,p,q,r,y){c(a,b,k,n,p);m=y;e=q;f=r;j=[];l=[];g=[];h=[];return d};d.getID=function(){return p};d.getType=
function(){return e};d.setDecorationUnderlayPropertyList=function(a){g=a};d.setDecorationOverlayPropertyList=function(a){h=a};d.addDecorationUnderlayRenderer=function(a){j.push(a)};d.getDecorationUnderlayRenderers=function(){return j};d.addDecorationOverlayRenderer=function(a){l.push(a)};d.getDecorationOverlayRenderers=function(){return l};d.isEnabled=function(){return k};d.enabled=function(a){k=a;d.applyStyles()};d.buildRendererLists=function(){m._buildBaseIconForType();m.addDecorationsToIcon()};
d.renderIcon=function(){void 0!==m._configureDecorationProperties&&m._configureDecorationProperties();d.buildRendererLists();r(function(a){a.render()});d.enabled(!1)};d.onHoverIn=function(){r(function(a){a.onHoverIn()})};d.onHoverOut=function(){r(function(a){a.onHoverOut()})};d.applyStyles=function(){r(function(a){a.applyStyles(k)})};d.hide=function(){r(function(a){a.hide()})};d.addDecorationsToIcon=function(){q(g,d.addDecorationUnderlayRenderer);q(h,d.addDecorationOverlayRenderer)};var q=function(a,
c){for(var g in a){var h=a[g];if(f.hasOwnProperty(h)){var j=b.GraphViewFactory.newInstanceByName(h.toLowerCase()+e+"IconDecorator");void 0!==j&&(j.init(d.getPaper(),d.getCoords(),d.getMaxWidth(),d.getMaxHeight(),d.getStyle(),f[h]),c(j))}}},r=function(a){b.each(d.getDecorationUnderlayRenderers(),function(b,c){a(c)});a(m);b.each(d.getDecorationOverlayRenderers(),function(b,c){a(c)})};return d})})(k);(function(b){b.GraphViewFactory.registerClass("AreaIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),
d=a.init,c,e;a.init=function(b,c,h,j,l,m,k){d(b,c,h,j,l,m,k,a);e=k;return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("AreaIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("AreaIconRenderer",
function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,h,j,l,m){d(b,e,h,j,l);c=m;return a};a.render=function(){var c,d=0.9*a.getMaxWidth(),e=0.8*a.getMaxHeight();c=a.getX()-d/2;var j=a.getY()-e/2,d=a.getX()+d/2,l=a.getY()+e/2,e=a.getX(),m=a.getY();c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(a.getX(),a.getY(),d-c,l-j,0);c.rendererType="rectangle";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(e,m,0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(e,m,0.2*a.getMaxWidth(),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(e,
m,0.3*a.getMaxWidth()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(e,m,0.2*a.getMaxWidth(),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(e,m,0.3*a.getMaxWidth());break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(e,
m,0.35*a.getMaxWidth(),0.18*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(e,m,0.3*a.getMaxWidth()).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var e=function(){b.each(a.getRenderers(),function(b,d){if("rectangle"===d.rendererType)switch(d.stroke(a.getStyle().getFillColor(),
2,0,c.linePattern),c.fillPattern){case "empty":d.fill("#ffffff",0.6);break;default:d.fill(a.getStyle().getFillColor(),0.6)}else d.stroke("#333333",2,1),void 0!==d.fill&&d.fill(a.getStyle().getFillColor(),1)})};a.onHoverOut=function(){e()};a.applyStyles=function(d){d?e():b.each(a.getRenderers(),function(a,b){if("rectangle"===b.rendererType)switch(b.stroke("#b8b8b8",2,0,c.linePattern),c.fillPattern){case "empty":b.fill("#ffffff",1);break;default:b.fill("#b8b8b8",0.6)}else b.stroke("#777777",2,1),void 0!==
b.fill&&b.fill("#b8b8b8",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("CatmullRomIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c,e;a.init=function(b,c,h,j,l,m,k){d(b,c,h,j,l,m,k,a);e=k;return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("CatmullRomIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),
a.getStyle(),e)};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("CatmullRomIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,g,h,k){d(b,e,f,g,h);c=k;return a};var e=function(b){return Math.min(a.getMaxWidth(),a.getMaxHeight())*
b},f=function(b){return a.getMaxWidth()*b},g=function(b){return a.getMaxHeight()*b};a.render=function(){var c,d=f(0.7),h=g(0.5),k=a.getX()-d/2,p=a.getY()-h/2,q=a.getX(),r=a.getY()+h,d=a.getX()+d/2,h=a.getY()-h;c=[];var s,o;s=(q-Math.pow(0.5,2)*k-Math.pow(0.5,2)*d)/0.5;o=(r-Math.pow(0.5,2)*p-Math.pow(0.5,2)*h)/0.5;c.push({x:k,y:p},{x:1/3*(k+2*s),y:1/3*(p+2*o)},{x:1/3*(2*s+d),y:1/3*(2*o+h)},{x:d,y:h});c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(a.getPaper()).draw(c);
c.rendererType="segment";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(k,p,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(k,
p,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(k,p,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,
p,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(k,p,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(q,r,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(q,
r,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(q,r,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(q,
r,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(q,r,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,
h,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,h,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,
h,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,h,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,
h,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var h=function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){h()};a.applyStyles=function(d){d?h():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?
b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("CircleIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c,e;a.init=function(b,c,h,j,l,m,k){d(b,c,h,j,l,m,k,a);e=k;return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("CircleIconRenderer").init(a.getPaper(),
a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("CircleIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,g,k,p){d(b,e,f,g,k);c=p;return a};var e=function(b){return Math.min(a.getMaxWidth(),
a.getMaxHeight())*b},f=function(b){return a.getMaxWidth()*b};a.render=function(){var c,d=a.getX(),g=a.getY();c=e(0.6);var m=a.getX()+c,k=a.getY();c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(a.getX(),a.getY(),c);c.rendererType="circle";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,g,e(0.16)).stroke("#000000",
2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,g,f(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,g,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,
g,f(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,g,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,g,f(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,
g,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(m,k,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,k,f(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(m,k,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(m,k,f(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(m,
k,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,k,f(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(m,k,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),
4,1)})};var g=function(){b.each(a.getRenderers(),function(b,d){if("circle"===d.rendererType)switch(d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern),c.fillPattern){case "empty":d.fill("#ffffff",1);break;default:d.fill(a.getStyle().getFillColor(),1)}else d.stroke(a.getStyle().getFillColor(),2,1),void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){g()};a.applyStyles=function(d){d?g():b.each(a.getRenderers(),function(a,b){if("circle"===b.rendererType)switch(b.stroke("#777777",2,1,c.linePattern),
c.fillPattern){case "empty":b.fill("#ffffff",1);break;default:b.fill("#777777",1)}else b.stroke("#777777",2,1),void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("IconDecorator",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d,c=a.init,e;a.init=function(b,g,h,j,l,m,k){c(b,g,h,j,l);e=k;d=m;return a};a.getDecorationValue=function(){return d};
a.render=function(){e.render()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("LineIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c,e;a.init=function(b,c,h,j,l,m,k){d(b,c,h,j,l,m,k,a);e=k;return a};a._buildBaseIconForType=function(){switch(a.getType()){case b.GraphConstants.ELEMENT_TYPE_LINE_DEFINED_BY_POINT_SLOPE:c=b.GraphViewFactory.newInstanceByName("LineWithOneControlPointIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),
a.getMaxHeight(),a.getStyle(),e);break;default:c=b.GraphViewFactory.newInstanceByName("LineIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)}};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("LineIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),
d=a.init,c;a.init=function(b,e,h,j,l,m){d(b,e,h,j,l);c=m;return a};a.render=function(){var c,d=1.2*a.getMaxWidth();c=a.getX()-d/2;var e=a.getX();a.getX();d=a.getX()+d/2;c=[{x:c,y:a.getY()},{x:d,y:a.getY()}];c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c);c.rendererType="line";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(e,
a.getY(),0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(e,a.getY(),0.2*a.getMaxWidth(),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(e,a.getY(),0.3*a.getMaxWidth()).stroke("#000000",
2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(e,a.getY(),0.2*a.getMaxWidth(),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(e,a.getY(),0.3*a.getMaxWidth());break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(e,
a.getY(),0.2*a.getMaxWidth(),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(e,a.getY(),0.3*a.getMaxWidth()).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var e=function(){b.each(a.getRenderers(),function(b,d){"line"===d.rendererType?d.stroke(a.getStyle().getFillColor(),
4,1,c.linePattern):d.stroke("#000000",2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){e()};a.applyStyles=function(d){d?e():b.each(a.getRenderers(),function(a,b){"line"===b.rendererType?b.stroke("#b8b8b8",4,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("LineWithOneControlPointIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),
d=a.init,c;a.init=function(b,e,h,j,l,m){d(b,e,h,j,l);c=m;return a};a.render=function(){var c,d=1.2*a.getMaxWidth();c=a.getX()-d/2;var e=a.getX(),d=a.getX()+d/2;c=[{x:c,y:a.getY()},{x:d,y:a.getY()}];c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c);c.rendererType="line";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(e,
a.getY(),0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(e,a.getY(),0.2*a.getMaxWidth(),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(e,a.getY(),0.3*a.getMaxWidth()).stroke("#000000",
2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(e,a.getY(),0.2*a.getMaxWidth(),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(e,a.getY(),0.3*a.getMaxWidth());break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(e,
a.getY(),0.2*a.getMaxWidth(),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(e,a.getY(),0.3*a.getMaxWidth()).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var e=function(){b.each(a.getRenderers(),function(b,d){"line"===d.rendererType?d.stroke(a.getStyle().getFillColor(),
4,1,c.linePattern):d.stroke("#000000",2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){e()};a.applyStyles=function(d){d?e():b.each(a.getRenderers(),function(a,b){"line"===b.rendererType?b.stroke("#b8b8b8",4,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("MonotonicArcIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),
d=a.init,c,e;a.init=function(b,c,h,j,l,m,k){d(b,c,h,j,l,m,k,a);e=k;return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("MonotonicArcIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("MonotonicArcIconRenderer",
function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,l,m,k){d(b,e,f,l,m);c=k;return a};var e=function(b){return a.getMaxWidth()*b};a.render=function(){var c;c=e(0.7);var d=0.5*a.getMaxHeight(),f=a.getX()-c/2,l=a.getY()-d,m=a.getX()+c/2,k=a.getY()+d,p=[];p.push({x:f,y:l},{x:f+c/2,y:l},{x:m,y:k-d},{x:m,y:k});c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(a.getPaper()).draw(p);c.rendererType="segment";
a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(f,l,0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,l,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(f,l,e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(f,l,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(f,
l,e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,l,e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(f,l,e(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(m,
k,0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,k,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(m,k,e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(m,k,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(m,k,e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,k,e(0.2),0.15*a.getMaxHeight()).stroke("#000000",
2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(m,k,e(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var f=function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&
d.fill("#ffffff",1)})};a.onHoverOut=function(){f()};a.applyStyles=function(d){d?f():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("ParabolaIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c,e;a.init=function(b,
c,h,j,l,m,k){d(b,c,h,j,l,m,k,a);e=k;return a};a._buildBaseIconForType=function(){switch(a.getType()){case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_X:c=b.GraphViewFactory.newInstanceByName("ParabolaWithDomainXIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e);break;case b.GraphConstants.ELEMENT_TYPE_PARABOLA_WITH_DOMAIN_Y:c=b.GraphViewFactory.newInstanceByName("ParabolaWithDomainYIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),
a.getStyle(),e)}};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("ParabolaWithDomainXIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,l,m,k){d(b,e,f,l,m);c=k;return a};var e=function(b){return a.getMaxWidth()*b};a.render=
function(){var c,d=e(0.7);c=0.5*a.getMaxHeight();var f=a.getX()-d/2,l=a.getY()-c,m=a.getX(),k=a.getY()+c/2,d=a.getX()+d/2,p=a.getY()-c;c=[];var q,r,s=0.5;q=(m-Math.pow(1-s,2)*f-Math.pow(s,2)*d)/(2*(1-s)*s);r=(k-Math.pow(1-s,2)*l-Math.pow(s,2)*p)/(2*(1-s)*s);c.push({x:f,y:l},{x:1/3*(f+2*q),y:1/3*(l+2*r)},{x:1/3*(2*q+d),y:1/3*(2*r+p)},{x:d,y:p});c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(a.getPaper()).draw(c);c.rendererType="segment";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(m,k,0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,k,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(m,
k,e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(m,k,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(m,k,e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,
k,e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(m,k,e(0.3)).stroke("#000000",2,1)}a.addRenderer(c);s=0.85;f=Math.pow(1-s,3)*f+3*Math.pow(1-s,2)*s*1/3*(f+2*q)+3*(1-s)*s*s*1/3*(2*q+d)+Math.pow(s,3)*d;l=Math.pow(1-s,3)*l+3*Math.pow(1-s,2)*s*1/3*(l+2*r)+3*(1-s)*s*s*1/3*(2*r+p)+Math.pow(s,3)*p;switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(f,l,0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,l,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(f,
l,e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(f,l,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(f,l,e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,
l,e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(f,l,e(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var f=function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),
2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){f()};a.applyStyles=function(d){d?f():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("ParabolaWithDomainYIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),
d=a.init,c;a.init=function(b,e,f,l,m,k){d(b,e,f,l,m);c=k;return a};var e=function(b){return a.getMaxWidth()*b};a.render=function(){var c;c=e(0.7);var d=0.5*a.getMaxHeight(),f=a.getX()-c/2,l=a.getY()-d,m=a.getX()-c/2,k=a.getY(),p=a.getX()+c,q=a.getY()-1.5*d,r=[],s,o,u=0.5;s=(m-Math.pow(1-u,2)*f-Math.pow(u,2)*p)/(2*(1-u)*u);o=(k-Math.pow(1-u,2)*l-Math.pow(u,2)*q)/(2*(1-u)*u);r.push({x:a.getX()+c,y:a.getY()-d},{x:a.getX()-c,y:a.getY()-d/2},{x:a.getX()-c,y:a.getY()+d/2},{x:a.getX()+c,y:a.getY()+d});c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(a.getPaper()).draw(r);c.rendererType="segment";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(m,k,0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,
k,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(m,k,e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(m,k,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(m,
k,e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,k,e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(m,k,e(0.3)).stroke("#000000",2,1)}a.addRenderer(c);u=0.85;f=Math.pow(1-u,3)*f+3*Math.pow(1-u,2)*u*1/3*(f+2*s)+3*(1-u)*u*u*1/3*(2*s+p)+Math.pow(u,
3)*p;l=Math.pow(1-u,3)*l+3*Math.pow(1-u,2)*u*1/3*(l+2*o)+3*(1-u)*u*u*1/3*(2*o+q)+Math.pow(u,3)*q;switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(f,l,0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,
l,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(f,l,e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(f,l,e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(f,
l,e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,l,e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(f,l,e(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),
4,1)})};var f=function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){f()};a.applyStyles=function(d){d?f():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,
b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PiecewiseBezierCurveIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c,e;a.init=function(b,c,h,j,l,m,k){d(b,c,h,j,l,m,k,a);e=k;return a};a._buildBaseIconForType=function(){switch(a.getType()){case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_1:c=b.GraphViewFactory.newInstanceByName("PiecewiseBezierCurve1IconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),
a.getMaxHeight(),a.getStyle(),e);break;case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_2:case b.GraphConstants.ELEMENT_TYPE_N_POINT_CURVE:c=b.GraphViewFactory.newInstanceByName("PiecewiseBezierCurve2IconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e);break;case b.GraphConstants.ELEMENT_TYPE_PIECEWISE_BEZIER_CURVE_3:c=b.GraphViewFactory.newInstanceByName("PiecewiseBezierCurve3IconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),
a.getStyle(),e)}};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PiecewiseBezierCurve1IconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,l,m,k){d(b,e,f,l,m);c=k;return a};var e=function(b){return a.getMaxWidth()*b};a.render=
function(){var c,d=e(0.7),f=a.getX()-d/2,d=a.getX()+d/2;c=[{x:f,y:a.getY()},{x:d,y:a.getY()}];c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c);c.rendererType="segment";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(f,a.getY(),0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",
2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(f,
a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(f,
a.getY(),e(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,a.getY(),0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",
2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,
a.getY(),e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),
4,1)})};var f=function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){f()};a.applyStyles=function(d){d?f():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,
b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PiecewiseBezierCurve2IconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,g,h,k){d(b,e,f,g,h);c=k;return a};var e=function(b){return Math.min(a.getMaxWidth(),a.getMaxHeight())*b},f=function(b){return a.getMaxWidth()*b},g=function(b){return a.getMaxHeight()*b};a.render=function(){var c,d=f(0.7),h=g(0.5),k=a.getX()-d/2,p=a.getY()-h/2,q=a.getX(),
r=a.getY()+h,d=a.getX()+d/2,h=a.getY()-h;c=[];var s,o;s=(q-Math.pow(0.5,2)*k-Math.pow(0.5,2)*d)/0.5;o=(r-Math.pow(0.5,2)*p-Math.pow(0.5,2)*h)/0.5;c.push({x:k,y:p},{x:1/3*(k+2*s),y:1/3*(p+2*o)},{x:1/3*(2*s+d),y:1/3*(2*o+h)},{x:d,y:h});c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(a.getPaper()).draw(c);c.rendererType="segment";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(k,
p,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(k,p,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(k,
p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(k,p,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(k,
p,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(q,r,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(q,r,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(q,r,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(q,r,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,
h,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,h,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,
h,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,h,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,
h,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var h=function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){h()};a.applyStyles=function(d){d?h():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?
b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PiecewiseBezierCurve3IconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,g,h,k){d(b,e,f,g,h);c=k;return a};var e=function(b){return Math.min(a.getMaxWidth(),a.getMaxHeight())*b},f=function(b){return a.getMaxWidth()*
b},g=function(b){return a.getMaxHeight()*b};a.render=function(){var c,d=f(0.7),h=g(0.5),k=a.getX()-d/2,p=a.getY()-h/2,q=a.getX(),r=a.getY()+h,d=a.getX()+d/2,h=a.getY()-h;c=[];var s,o;s=(q-Math.pow(0.5,2)*k-Math.pow(0.5,2)*d)/0.5;o=(r-Math.pow(0.5,2)*p-Math.pow(0.5,2)*h)/0.5;c.push({x:k,y:p},{x:1/3*(k+2*s),y:1/3*(p+2*o)},{x:1/3*(2*s+d),y:1/3*(2*o+h)},{x:d,y:h});c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(a.getPaper()).draw(c);c.rendererType="segment";a.addRenderer(c);
switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(k,p,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(k,
p,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(k,p,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,
p,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(k,p,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(q,r,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(q,
r,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(q,r,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(q,
r,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(q,r,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,
h,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,h,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,
h,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,h,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,
h,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var h=function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){h()};a.applyStyles=function(d){d?h():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?
b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PointIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c;a.init=function(b,c,g,h,j,l,m){d(b,c,g,h,j,l,m,a);return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("PointIconRenderer").init(a.getPaper(),
a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle())};a._configureDecorationProperties=function(){a.setDecorationUnderlayPropertyList(["connection","xDropLine","yDropLine","xConnected","yConnected"])};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("connectionPointIconDecorator",function(){var a=
Object.create(b.GraphViewFactory.newInstanceByName("IconDecorator")),d=a.init;a.init=function(b,c,e,j,l,m){d(b,c,e,j,l,m,a)};a.render=function(){var d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c(0.5));a.addRenderer(d)};var c=function(b){var c=a.getMaxWidth()*b,b=a.getX()-c/2,c=a.getX()+c/2;return[{x:b,y:a.getY()},{x:c,y:a.getY()}]};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,d){d.stroke(a.getStyle().getFillColor(),4,1);
d.resize(c(0.75))})};var e=function(){b.each(a.getRenderers(),function(b,d){d.stroke(a.getStyle().getFillColor(),4,1);d.resize(c(0.65))})};a.onHoverOut=function(){e()};a.applyStyles=function(d){d?e():b.each(a.getRenderers(),function(a,b){b.stroke("#b8b8b8",4,1);b.resize(c(0.65))})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("droplinesPointIconDecorator",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconDecorator")),
d=a.init;a.init=function(b,c,e,j,l,m){d(b,c,e,j,l,m,a)};a.render=function(){var d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c(0.5));a.addRenderer(d)};var c=function(b){var c;switch(a.getDecorationValue()){case "horizontal":c=a.getMaxWidth()*b;b=a.getX()-c/2;c=[{x:b,y:a.getY()},{x:a.getX(),y:a.getY()}];break;case "vertical":var d=a.getMaxHeight()*b;c=a.getY()+d/2;c=[{x:a.getX(),y:a.getY()},{x:a.getX(),y:c}];break;case "all":c=a.getMaxWidth()*
b,d=a.getMaxHeight()*b,b=a.getX()-c/2,c=a.getY()+d/2,c=[{x:b,y:a.getY()},{x:a.getX(),y:a.getY()},{x:a.getX(),y:c+2}]}return c};a.onHoverIn=function(){b.each(a.getRenderers(),function(){this.stroke(a.getStyle().getFillColor(),4,1,"dotted");this.resize(c(0.75))})};var e=function(){b.each(a.getRenderers(),function(){this.stroke(a.getStyle().getFillColor(),4,1,"dotted");this.resize(c(0.65))})};a.onHoverOut=function(){e()};a.applyStyles=function(d){d?e():b.each(a.getRenderers(),function(){this.stroke("#b8b8b8",
4,1,"dotted");this.resize(c(0.65))})};a.hide=function(){b.each(a.getRenderers(),function(){this.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("xconnectedPointIconDecorator",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconDecorator")),d=a.init;a.init=function(b,c,e,j,l,m){d(b,c,e,j,l,m,a)};a.render=function(){if(a.getDecorationValue()){var d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c(0.5));
a.addRenderer(d)}};var c=function(b){var c=a.getMaxWidth()*b,b=a.getX()-c/2,c=a.getX()+c/2;return[{x:b,y:a.getY()},{x:c,y:a.getY()}]};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,d){d.stroke(a.getStyle().getFillColor(),4,1);d.resize(c(0.75))})};var e=function(){b.each(a.getRenderers(),function(b,d){d.stroke(a.getStyle().getFillColor(),4,1);d.resize(c(0.65))})};a.onHoverOut=function(){e()};a.applyStyles=function(d){d?e():b.each(a.getRenderers(),function(a,b){b.stroke("#b8b8b8",4,1);b.resize(c(0.65))})};
a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("xdroplinePointIconDecorator",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconDecorator")),d=a.init;a.init=function(b,c,e,j,l,m){d(b,c,e,j,l,m,a)};a.render=function(){if(a.getDecorationValue()){var d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c(0.5));a.addRenderer(d)}};var c=function(b){b*=
a.getMaxWidth();return[{x:a.getX()-b/2,y:a.getY()},{x:a.getX(),y:a.getY()}]};a.onHoverIn=function(){b.each(a.getRenderers(),function(){this.stroke(a.getStyle().getFillColor(),4,1,"dotted");this.resize(c(0.75))})};var e=function(){b.each(a.getRenderers(),function(){this.stroke(a.getStyle().getFillColor(),4,1,"dotted");this.resize(c(0.65))})};a.onHoverOut=function(){e()};a.applyStyles=function(d){d?e():b.each(a.getRenderers(),function(){this.stroke("#b8b8b8",4,1,"dotted");this.resize(c(0.65))})};a.hide=
function(){b.each(a.getRenderers(),function(){this.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("yconnectedPointIconDecorator",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconDecorator")),d=a.init;a.init=function(b,c,e,j,l,m){d(b,c,e,j,l,m,a)};a.render=function(){if(a.getDecorationValue()){var d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c(0.867));a.addRenderer(d)}};var c=function(b){var c=
a.getMaxHeight()*b,b=a.getY()-c/2,c=a.getY()+c/2;return[{x:a.getX(),y:b},{x:a.getX(),y:c}]};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,d){d.stroke(a.getStyle().getFillColor(),4,1);d.resize(c(1))})};var e=function(){b.each(a.getRenderers(),function(b,d){d.stroke(a.getStyle().getFillColor(),4,1);d.resize(c(0.867))})};a.onHoverOut=function(){e()};a.applyStyles=function(d){d?e():b.each(a.getRenderers(),function(a,b){b.stroke("#b8b8b8",4,1);b.resize(c(0.867))})};a.hide=function(){b.each(a.getRenderers(),
function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("ydroplinePointIconDecorator",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconDecorator")),d=a.init;a.init=function(b,c,e,j,l,m){d(b,c,e,j,l,m,a)};a.render=function(){if(a.getDecorationValue()){var d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c(0.867));a.addRenderer(d)}};var c=function(b){b*=a.getMaxHeight();b=a.getY()+
b/2;return[{x:a.getX(),y:a.getY()},{x:a.getX(),y:b}]};a.onHoverIn=function(){b.each(a.getRenderers(),function(){this.stroke(a.getStyle().getFillColor(),4,1,"dotted");this.resize(c(0.75))})};var e=function(){b.each(a.getRenderers(),function(){this.stroke(a.getStyle().getFillColor(),4,1,"dotted");this.resize(c(0.867))})};a.onHoverOut=function(){e()};a.applyStyles=function(d){d?e():b.each(a.getRenderers(),function(){this.stroke("#b8b8b8",4,1,"dotted");this.resize(c(0.867))})};a.hide=function(){b.each(a.getRenderers(),
function(){this.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PointIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init;a.init=function(b,c,g,h,j){d(b,c,g,h,j);return a};a.render=function(){var c;switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(a.getX(),a.getY(),0.16*Math.min(a.getMaxWidth(),
a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(a.getX(),a.getY(),0.22*a.getMaxWidth(),0.29*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(a.getX(),a.getY(),0.3*a.getMaxWidth()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(a.getX(),a.getY(),0.2*a.getMaxWidth(),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(a.getX(),a.getY(),0.3*a.getMaxWidth());break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(a.getX(),
a.getY(),0.28*a.getMaxWidth(),0.18*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(a.getX(),a.getY(),0.3*a.getMaxWidth()).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var c=function(){b.each(a.getRenderers(),function(b,c){a.getStyle().getPointType()==a.getStyle().POINT_TYPE_PLUS_SIGN?
c.stroke("#000000",0,0):c.stroke("#000000",2,1);c.fill(a.getStyle().getFillColor(),1)})};a.onHoverOut=function(){c()};a.applyStyles=function(d){d?c():b.each(a.getRenderers(),function(b,c){a.getStyle().getPointType()==a.getStyle().POINT_TYPE_PLUS_SIGN?c.stroke("#000000",0,0):c.stroke("#777777",2,1);c.fill("#b8b8b8",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PolygonIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),
d=a.init,c,e;a.init=function(b,c,h,j,l,m,k){d(b,c,h,j,l,m,k,a);e=k;return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("PolygonIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PolygonIconRenderer",
function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,g,h,k){d(b,e,f,g,h);c=k;return a};var e=function(b){return Math.min(a.getMaxWidth(),a.getMaxHeight())*b},f=function(b){return a.getMaxWidth()*b},g=function(b){return a.getMaxHeight()*b};a.render=function(){var d,h=f(0.9);d=g(0.5);var m=a.getX()-h/2,k=a.getY()-d/2,p=a.getX()+h/2,q=a.getY()+d/2;d=b.GraphFactory.newInstanceByName("PolygonGraphic").init(a.getPaper(),c).draw([{x:m+h/4,
y:q},{x:p,y:q},{x:p,y:k},{x:m,y:k}]);d.rendererType="quadrilateral";a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(m+h/4,q,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m+h/4,q,f(0.2),g(0.27)).stroke("#000000",2,1);
break;case a.getStyle().POINT_TYPE_TRIANGLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(m+h/4,q,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(m+h/4,q,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(m+
h/4,q,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m+h/4,q,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(m+h/4,q,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(m,
k,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(m,k,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(m,
k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(m,k,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,k,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(m,
k,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(m+h/2,k,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m+h/2,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(m+h/2,k,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(m+h/2,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(m+
h/2,k,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m+h/2,k,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(m+h/2,k,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(p,
k,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(p,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(p,k,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(p,
k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(p,k,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(p,k,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(p,
k,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(p,q,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(p,q,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(p,q,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(p,q,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(p,q,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(p,q,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(p,q,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var h=
function(){b.each(a.getRenderers(),function(b,d){if("quadrilateral"===d.rendererType)switch(d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern),c.fillPattern){case "empty":d.fill("#ffffff",1);break;default:d.fill(a.getStyle().getFillColor(),1)}else d.stroke(a.getStyle().getFillColor(),2,1),void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){h()};a.applyStyles=function(d){d?h():b.each(a.getRenderers(),function(a,b){if("quadrilateral"===b.rendererType)switch(b.stroke("#777777",2,1,c.linePattern),
c.fillPattern){case "empty":b.fill("#ffffff",1);break;default:b.fill("#777777",1)}else b.stroke("#777777",2,1),void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PolynomialCurveIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c,e;a.init=function(b,c,h,j,l,m,k){d(b,c,h,j,l,m,k,a);e=k;return a};a._buildBaseIconForType=function(){switch(a.getType()){case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_2:c=
b.GraphViewFactory.newInstanceByName("PolynomialCurve2IconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e);break;case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_3:c=b.GraphViewFactory.newInstanceByName("PolynomialCurve3IconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e);break;case b.GraphConstants.ELEMENT_TYPE_2D_POLYNOMIAL_CURVE_4:c=b.GraphViewFactory.newInstanceByName("PolynomialCurve4IconRenderer").init(a.getPaper(),
a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)}};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PolynomialCurve2IconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,l,m,k){d(b,e,f,l,m);c=k;return a};var e=function(b){return a.getMaxWidth()*
b};a.render=function(){var c,d=e(0.7),f=a.getX()-d/2,d=a.getX()+d/2;c=[{x:f,y:a.getY()},{x:d,y:a.getY()}];c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c);c.rendererType="segment";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(f,a.getY(),0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",
2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(f,
a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(f,
a.getY(),e(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,a.getY(),0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",
2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,
a.getY(),e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),
4,1)})};var f=function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){f()};a.applyStyles=function(d){d?f():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,
b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PolynomialCurve3IconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,g,h,k){d(b,e,f,g,h);c=k;return a};var e=function(b){return Math.min(a.getMaxWidth(),a.getMaxHeight())*b},f=function(b){return a.getMaxWidth()*b},g=function(b){return a.getMaxHeight()*b};a.render=function(){var c,d=f(0.7),h=g(0.5),k=a.getX()-d/2,p=a.getY()-h/2,q=a.getX(),
r=a.getY()+h,d=a.getX()+d/2,h=a.getY()-h;c=[];var s,o;s=(q-Math.pow(0.5,2)*k-Math.pow(0.5,2)*d)/0.5;o=(r-Math.pow(0.5,2)*p-Math.pow(0.5,2)*h)/0.5;c.push({x:k,y:p},{x:1/3*(k+2*s),y:1/3*(p+2*o)},{x:1/3*(2*s+d),y:1/3*(2*o+h)},{x:d,y:h});c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(a.getPaper()).draw(c);c.rendererType="segment";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(k,
p,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(k,p,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(k,
p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(k,p,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(k,
p,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(q,r,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(q,r,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(q,r,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(q,r,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,
h,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,h,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,
h,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,h,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,
h,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var h=function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){h()};a.applyStyles=function(d){d?h():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?
b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PolynomialCurve4IconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,g,h,k){d(b,e,f,g,h);c=k;return a};var e=function(b){return Math.min(a.getMaxWidth(),a.getMaxHeight())*b},f=function(b){return a.getMaxWidth()*
b},g=function(b){return a.getMaxHeight()*b};a.render=function(){var c,d=f(0.7),h=g(0.5),k=a.getX()-2*d/3,p=a.getY()+h/2,q=a.getX()-d/3,r=a.getY()-h,s=a.getX(),o=a.getY()+h,d=a.getX()+d/3,h=a.getY()-h;c=[];var u=2/3,t=q-Math.pow(0.75,3)*k-Math.pow(0.25,3)*d,w=r-Math.pow(0.75,3)*p-Math.pow(0.25,3)*h,x=s-Math.pow(1-u,3)*k-Math.pow(u,3)*d,B=o-Math.pow(1-u,3)*p-Math.pow(u,3)*h,y=1.6875*u*(1-u)*(u-0.25),z=[1/y*3*(1-u)*Math.pow(u,2),1/y*-2.25*Math.pow(0.25,2)],u=[1/y*-3*Math.pow(1-u,2)*u,1/y*0.75*Math.pow(0.75,
2)];c.push({x:k,y:p},{x:t*z[0]+x*z[1],y:w*z[0]+B*z[1]},{x:t*u[0]+x*u[1],y:w*u[0]+B*u[1]},{x:d,y:h});c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_curveGraphic").init(a.getPaper()).draw(c);c.rendererType="segment";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(k,p,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(k,p,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(k,p,f(0.2),
g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(k,p,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(k,
p,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(q,r,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(q,r,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(q,r,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(q,r,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(q,r,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(s,
o,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(s,o,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(s,o,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(s,
o,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(s,o,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(s,o,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(s,
o,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,h,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,h,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,h,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,h,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,h,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var h=
function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){h()};a.applyStyles=function(d){d?h():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};
return a})})(k);(function(b){b.GraphViewFactory.registerClass("QuadrilateralIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c,e;a.init=function(b,c,h,j,l,m,k){d(b,c,h,j,l,m,k,a);e=k;return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("QuadrilateralIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=
function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("QuadrilateralIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,g,h,k){d(b,e,f,g,h);c=k;return a};var e=function(b){return Math.min(a.getMaxWidth(),a.getMaxHeight())*b},f=function(b){return a.getMaxWidth()*b},g=function(b){return a.getMaxHeight()*b};a.render=
function(){var d,h=f(0.9);d=g(0.5);var m=a.getX()-h/2,k=a.getY()-d/2,p=a.getX()+h/2,q=a.getY()+d/2;d=b.GraphFactory.newInstanceByName("PolygonGraphic").init(a.getPaper(),c).draw([{x:m+h/4,y:k},{x:p,y:k},{x:p,y:q},{x:m,y:q}]);d.rendererType="quadrilateral";a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(m+h/4,k,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m+h/4,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(m+h/4,k,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(m+
h/4,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(m+h/4,k,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m+h/4,k,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(m+
h/4,k,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(m,q,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,q,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(m,q,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(m,q,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(m,q,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(m,q,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(m,q,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(p,
q,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(p,q,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(p,q,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(p,
q,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(p,q,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(p,q,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(p,
q,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(p,k,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(p,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(p,k,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(p,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(p,k,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(p,k,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(p,k,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var h=
function(){b.each(a.getRenderers(),function(b,d){if("quadrilateral"===d.rendererType)switch(d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern),c.fillPattern){case "empty":d.fill("#ffffff",1);break;default:d.fill(a.getStyle().getFillColor(),1)}else d.stroke(a.getStyle().getFillColor(),2,1),void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){h()};a.applyStyles=function(d){d?h():b.each(a.getRenderers(),function(a,b){if("quadrilateral"===b.rendererType)switch(b.stroke("#777777",2,1,c.linePattern),
c.fillPattern){case "empty":b.fill("#ffffff",1);break;default:b.fill("#777777",1)}else b.stroke("#777777",2,1),void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("RayIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c,e;a.init=function(b,c,h,j,l,k,n){d(b,c,h,j,l,k,n,a);e=n;return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("RayIconRenderer").init(a.getPaper(),
a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("RayIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,h,j,l,k){d(b,e,h,j,l);c=k;return a};a.render=function(){var c,
d=0.7*a.getMaxWidth(),e=a.getX()-d/2,d=a.getX()+d/2;c=[{x:e,y:a.getY()},{x:d,y:a.getY()}];c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c);c.rendererType="ray";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(e,a.getY(),0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);
break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(e,a.getY(),0.2*a.getMaxWidth(),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(e,a.getY(),0.3*a.getMaxWidth()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(e,
a.getY(),0.2*a.getMaxWidth(),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(e,a.getY(),0.3*a.getMaxWidth());break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(e,a.getY(),0.2*a.getMaxWidth(),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(e,a.getY(),0.3*a.getMaxWidth()).stroke("#000000",2,1)}a.addRenderer(c);c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,a.getY(),0.25*a.getMaxWidth()).stroke("#000000",2,1);c.rotate(90);a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var e=function(){b.each(a.getRenderers(),
function(b,d){"ray"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){e()};a.applyStyles=function(d){d?e():b.each(a.getRenderers(),function(a,b){"ray"===b.rendererType?b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("RectangleIcon",
function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c,e;a.init=function(b,c,h,j,l,k,n){d(b,c,h,j,l,k,n,a);e=n;return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("RectangleIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};
return a})})(k);(function(b){b.GraphViewFactory.registerClass("RectangleIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,g,h,k){d(b,e,f,g,h);c=k;return a};var e=function(b){return Math.min(a.getMaxWidth(),a.getMaxHeight())*b},f=function(b){return a.getMaxWidth()*b},g=function(b){return a.getMaxHeight()*b};a.render=function(){var c,d=f(0.9);c=g(0.5);var h=a.getX()-d/2,k=a.getY()-c/2,d=a.getX()+d/2,p=a.getY()+c/2;c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(a.getX(),
a.getY(),d-h,p-k,0);c.rendererType="rectangle";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(h,k,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(h,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(h,k,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(h,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(h,k,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(h,k,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(h,k,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(h,
p,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(h,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(h,p,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(h,
p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(h,p,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(h,p,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(h,
p,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,p,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,p,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,p,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,p,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,p,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,
k,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,k,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,
k,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,k,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,k,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,
k,f(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var h=function(){b.each(a.getRenderers(),function(b,d){if("rectangle"===d.rendererType)switch(d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern),c.fillPattern){case "empty":d.fill("#ffffff",1);break;default:d.fill(a.getStyle().getFillColor(),1)}else d.stroke(a.getStyle().getFillColor(),2,1),void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=
function(){h()};a.applyStyles=function(d){d?h():b.each(a.getRenderers(),function(a,b){if("rectangle"===b.rendererType)switch(b.stroke("#777777",2,1,c.linePattern),c.fillPattern){case "empty":b.fill("#ffffff",1);break;default:b.fill("#777777",1)}else b.stroke("#777777",2,1),void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("IconRenderer",function(){var a={},b,c,e,f,g,h;a.init=
function(j,l,k,n,p){c=j;g=k;h=n;f=p;e=l;b=[];return a};a.getPaper=function(){return c};a.setCoords=function(a){e=a};a.getCoords=function(){return e};a.getX=function(){return e.x};a.getY=function(){return e.y};a.getMaxWidth=function(){return g};a.getMaxHeight=function(){return h};a.getStyle=function(){return f};a.setRenderers=function(a){b=a};a.addRenderer=function(a){b.push(a)};a.getRenderers=function(){return b};a.render=function(){};a.onHoverIn=function(){};a.onHoverOut=function(){};a.applyStyles=
function(){};a.hide=function(){};return a})})(k);(function(b){b.GraphViewFactory.registerClass("SegmentIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),d=a.init,c,e;a.init=function(b,c,h,j,l,k,n){d(b,c,h,j,l,k,n,a);e=n;return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("SegmentIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};
a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("SegmentIconRenderer",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,l,k,n){d(b,e,f,l,k);c=n;return a};var e=function(b){return a.getMaxWidth()*b};a.render=function(){var c,d=e(0.7),f=a.getX()-d/2,d=a.getX()+d/2;c=[{x:f,y:a.getY()},{x:d,y:a.getY()}];c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(a.getPaper()).draw(c);
c.rendererType="segment";a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(f,a.getY(),0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",
2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(f,
a.getY(),e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(f,a.getY(),e(0.3)).stroke("#000000",2,1)}a.addRenderer(c);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:c=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(d,a.getY(),0.16*Math.min(a.getMaxWidth(),a.getMaxHeight())).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(d,
a.getY(),e(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.2),0.27*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.3));break;case a.getStyle().POINT_TYPE_DASH:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(d,
a.getY(),e(0.2),0.15*a.getMaxHeight()).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:c=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(d,a.getY(),e(0.3)).stroke("#000000",2,1)}a.addRenderer(c)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var f=function(){b.each(a.getRenderers(),function(b,d){"segment"===d.rendererType?d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern):
d.stroke(a.getStyle().getFillColor(),2,1);void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){f()};a.applyStyles=function(d){d?f():b.each(a.getRenderers(),function(a,b){"segment"===b.rendererType?b.stroke("#777777",2,1,c.linePattern):b.stroke("#777777",2,1);void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("TriangleIcon",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("Icon")),
d=a.init,c,e;a.init=function(b,c,h,j,l,k,n){d(b,c,h,j,l,k,n,a);e=n;return a};a._buildBaseIconForType=function(){c=b.GraphViewFactory.newInstanceByName("TriangleIconRenderer").init(a.getPaper(),a.getCoords(),a.getMaxWidth(),a.getMaxHeight(),a.getStyle(),e)};a.render=function(){c.render()};a.onHoverIn=function(){c.onHoverIn()};a.onHoverOut=function(){c.onHoverOut()};a.applyStyles=function(a){c.applyStyles(a)};a.hide=function(){c.hide()};return a})})(k);(function(b){b.GraphViewFactory.registerClass("TriangleIconRenderer",
function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("IconRenderer")),d=a.init,c;a.init=function(b,e,f,g,h,k){d(b,e,f,g,h);c=k;return a};var e=function(b){return Math.min(a.getMaxWidth(),a.getMaxHeight())*b},f=function(b){return a.getMaxWidth()*b},g=function(b){return a.getMaxHeight()*b};a.render=function(){var d,h=f(0.9);d=g(0.5);var k=a.getX()-h/2,n=a.getY()-d/2,h=a.getX()+h/2,p=a.getY()+d/2;d=b.GraphFactory.newInstanceByName("PolygonGraphic").init(a.getPaper(),c).draw([{x:k,y:n},
{x:h,y:p},{x:k,y:p}]);d.rendererType="triangle";a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(k,n,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,n,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(k,n,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(k,n,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(k,n,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,n,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(k,n,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(k,
p,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(k,p,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(k,
p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(k,p,f(0.3));break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(k,p,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(k,
p,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d);switch(a.getStyle().getPointType()){case a.getStyle().POINT_TYPE_CIRCLE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a.getPaper()).draw(h,p,e(0.16)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_SQUARE:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(h,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_TRIANGLE:d=
b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_triangleGraphic").init(a.getPaper()).draw(h,p,f(0.3)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_DIAMOND:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_diamondGraphic").init(a.getPaper()).draw(h,p,f(0.2),g(0.27)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_PLUS_SIGN:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_plusSignGraphic").init(a.getPaper()).draw(h,p,f(0.3));
break;case a.getStyle().POINT_TYPE_DASH:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(a.getPaper()).draw(h,p,f(0.2),g(0.15)).stroke("#000000",2,1);break;case a.getStyle().POINT_TYPE_STAR:d=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_starGraphic").init(a.getPaper()).draw(h,p,f(0.3)).stroke("#000000",2,1)}a.addRenderer(d)};a.onHoverIn=function(){b.each(a.getRenderers(),function(b,c){c.stroke(a.getStyle().getFillColor(),4,1)})};var h=
function(){b.each(a.getRenderers(),function(b,d){if("triangle"===d.rendererType)switch(d.stroke(a.getStyle().getFillColor(),2,1,c.linePattern),c.fillPattern){case "empty":d.fill("#ffffff",1);break;default:d.fill(a.getStyle().getFillColor(),1)}else d.stroke(a.getStyle().getFillColor(),2,1),void 0!==d.fill&&d.fill("#ffffff",1)})};a.onHoverOut=function(){h()};a.applyStyles=function(d){d?h():b.each(a.getRenderers(),function(a,b){if("triangle"===b.rendererType)switch(b.stroke("#777777",2,1,c.linePattern),
c.fillPattern){case "empty":b.fill("#ffffff",1);break;default:b.fill("#777777",1)}else b.stroke("#777777",2,1),void 0!==b.fill&&b.fill("#ffffff",1)})};a.hide=function(){b.each(a.getRenderers(),function(a,b){b.opacity(0)})};return a})})(k);(function(b){b.GraphViewFactory.registerClass("graph_property_editor",function(){var a={},d,c,e=null;a.init=function(e,g){c=e;b.template("q4-graph-property-editor-tmpl",'<div class="q4-graph-property-editor"><div class="q4-graph-property-editor-content"></div><div class="q4-graph-property-editor-arrow-border"></div><div class="q4-graph-property-editor-arrow"></div></div>');
d=b.tmpl("q4-graph-property-editor-tmpl");d.appendTo(g);return a};a.hideProperties=function(){null!==e&&clearTimeout(e);d.hide()};a.showUpdateProperties=function(f,g,h,j){var l=d.find(".q4-graph-property-editor-content"),k=d.find(".q4-graph-property-editor-arrow"),n=d.find(".q4-graph-property-editor-arrow-border");d.show();d.css("left",c.cartesianToScreenX(g)-20+"px");d.css("top",c.cartesianToScreenY(h)-parseInt(k.css("borderTopWidth"))+"px");l.children().remove();l.css("width","70px");l.css("top",
parseInt(k.css("borderTopWidth"))+parseInt(k.css("borderBottomWidth"))-parseInt(l.css("borderTopWidth"))+"px");l.css("left",0);k.css("top",0);k.css("left",10);n.css("top",-parseInt(l.css("borderTopWidth"))+"px");n.css("left",10);g=j.length;for(h=0;h<g;h++){var k=j[h],p=k.name,n=b("<div class='q4-graph-property-editor-entry' />");n.appendTo(l);b("<label for='"+p+"'>"+p+"</label>").appendTo(n);switch(k.type){case "boolean":var q=b("<input type='checkbox' name='"+p+"'></input>");k.value&&q.attr("checked",
"checked");q.appendTo(n);q.change(function(){b(a).triggerHandler(b.GraphConstants.VIEW_EVENT_RENDER_UPDATE_PROPERTY,[f,p,q[0].checked])});break;case "choice":var r=b("<select><option>true</option><option>false</option></select>");r.appendTo(n);r.change(function(){b(a).triggerHandler(b.GraphConstants.VIEW_EVENT_RENDER_UPDATE_PROPERTY,[f,p,r.val()])})}}e=setTimeout(a.hideProperties,3E3)};return a})})(k);(function(b){b.extend({GraphStyleRepository:new function(){var a={},d={},c={tickLabelFontSize:10,
tickLabelColor:"#000000",tickLabelOffset:18,tickLabelAtIntersectionOffset:10,tickColor:"#666666",tickWidth:1,majorTickLength:8,semimajorTickLength:6,minorTickLength:4,axisLineColor:"#666666",axisLineWidth:1,axisLabelFontSize:"12",axisLabelOffset:45,axisLabelPosition:"AlongAxis",arrowSize:8,arrowLineWidth:1},e={tickLabelFontSize:10,tickLabelColor:"#000000",tickLabelOffset:10,tickLabelAtIntersectionOffset:0,tickColor:"#666666",tickWidth:1,majorTickLength:8,semimajorTickLength:6,minorTickLength:4,axisLineColor:"#666666",
axisLineWidth:1,axisLabelFontSize:"12",axisLabelOffset:33,axisLabelPosition:"AlongAxis",arrowSize:8,arrowLineWidth:1},f={majorTickLength:6,semimajorTickLength:4,minorTickLength:2},g=function(){var a=b.GraphViewFactory.newInstanceByName("PointStyle");a.init({pointType:a.POINT_TYPE_SQUARE,focusUnderlayFillColor:"#FF9900",fillColor:"#FF9900"});b.GraphStyleRepository.addStyle("orangeSquareStyle",a);a=b.GraphViewFactory.newInstanceByName("PointStyle");a.init({pointType:a.POINT_TYPE_TRIANGLE,focusUnderlayFillColor:"#8BD865",
fillColor:"#8BD865"});b.GraphStyleRepository.addStyle("greenTriangleStyle",a);a=b.GraphViewFactory.newInstanceByName("PointStyle");a.init({pointType:a.POINT_TYPE_TRIANGLE,focusUnderlayFillColor:"#992500",fillColor:"#992500"});b.GraphStyleRepository.addStyle("redTriangleStyle",a);a=b.GraphViewFactory.newInstanceByName("PointStyle");a.init({pointType:a.POINT_TYPE_CIRCLE,focusUnderlayFillColor:"#83ACD3",fillColor:"#83ACD3"});b.GraphStyleRepository.addStyle("blueCircleStyle",a);a=b.GraphViewFactory.newInstanceByName("PointStyle");
a.init({pointType:a.POINT_TYPE_DIAMOND,focusUnderlayFillColor:"#aa5fd3",fillColor:"#aa5fd3"});b.GraphStyleRepository.addStyle("purpleDiamondStyle",a);a=b.GraphViewFactory.newInstanceByName("PointStyle");a.init({pointType:a.POINT_TYPE_PLUS_SIGN,focusUnderlayFillColor:"#333333",fillColor:"#333333"});b.GraphStyleRepository.addStyle("blackPlusStyle",a);a=b.GraphViewFactory.newInstanceByName("PointStyle");a.init({pointType:a.POINT_TYPE_DASH,focusUnderlayFillColor:"#aaac60",fillColor:"#aaac60"});b.GraphStyleRepository.addStyle("tanDashStyle",
a);a=b.GraphViewFactory.newInstanceByName("PointStyle");a.init({pointType:a.POINT_TYPE_STAR,focusUnderlayFillColor:"#999999",fillColor:"#999999"});b.GraphStyleRepository.addStyle("greyStarStyle",a);a=b.GraphViewFactory.newInstanceByName("PointStyle");a.init({fillColor:"#e8e8e8"});b.GraphStyleRepository.addStyle("ghostStyle",a);a=b.GraphViewFactory.newInstanceByName("PointStyle");a.init({fillColor:"#ffffff"});b.GraphStyleRepository.addStyle("controlStyle",a);b.GraphStyleRepository.addStyle("gridStyle",
b.GraphViewFactory.newInstanceByName("GridStyle").init());b.GraphStyleRepository.addStyle("horizontalAxisStyle",b.DiagramFrameworkViewFactory.newInstanceByName("AxisStyle").init(e));b.GraphStyleRepository.addStyle("verticalAxisStyle",b.DiagramFrameworkViewFactory.newInstanceByName("AxisStyle").init(c));b.GraphStyleRepository.addStyle("smallGraphOverridesAxisStyle",b.DiagramFrameworkViewFactory.newInstanceByName("AxisStyle").init(f))},h;a.init=function(a){h=[];b.each(a,function(a,b){h[b.getName()]=
b});g()};a.addStyle=function(a,b){d[a]=b};a.removeStyle=function(a){delete d[a]};a.getStyle=function(a){return d[a]};a.getStyleForGroup=function(b){return a.getStyleForAppearance(h[b].getAppearance())};a.getStyleForAppearance=function(a){return b.GraphViewFactory.newInstanceByName("PointStyle").init(d[a+"Style"].getStyles())};return a}})})(k);(function(b){b.GraphViewFactory.registerClass("GridStyle",function(){var a={},b={gridLineColor:"#F0F0F0",gridLineWidth:1},c={};a.init=function(b){void 0!==b&&
null!==b&&(c=b);return a};var e=function(a){var e;c.hasOwnProperty(a)?e=c[a]:e=b[a];return e};a.getGridLineColor=function(){return e("gridLineColor")};a.getGridLineWidth=function(){return e("gridLineWidth")};return a})})(k);(function(b){b.GraphViewFactory.registerClass("PointStyle",function(){var a={POINT_TYPE_CIRCLE:"point_type_circle",POINT_TYPE_SQUARE:"point_type_square",POINT_TYPE_TRIANGLE:"point_type_triangle",POINT_TYPE_DIAMOND:"point_type_diamond",POINT_TYPE_PLUS_SIGN:"point_type_plus_sign",
POINT_TYPE_DASH:"point_type_dash",POINT_TYPE_STAR:"point_type_star"},d={pointType:a.POINT_TYPE_CIRCLE,focusUnderlayFillColor:"#83ACD3",fillColor:"#83ACD3",objectSize:b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_LARGE},c={};a.init=function(b){if(void 0!==b&&null!==b)for(var d in b)c[d]=b[d];return a};var e=function(a){var b;c.hasOwnProperty(a)?b=c[a]:b=d[a];return b};a.getStyles=function(){return c};a.merge=function(b){var b=b.getStyles(),d;for(d in b)c[d]=b[d];return a};a.getPointType=function(){return e("pointType")};
a.setPointType=function(b){switch(b){case "orangeSquare":b=a.POINT_TYPE_SQUARE;break;case "greenTriangle":case "redTriangle":b=a.POINT_TYPE_TRIANGLE;break;case "blueCircle":b=a.POINT_TYPE_CIRCLE;break;case "purpleDiamond":b=a.POINT_TYPE_DIAMOND;break;case "blackPlus":b=a.POINT_TYPE_PLUS_SIGN;break;case "tanDash":b=a.POINT_TYPE_DASH;break;case "greyStar":b=a.POINT_TYPE_STAR;break;default:b=a.POINT_TYPE_CIRCLE}c.pointType=b};a.setFocusUnderlayFillColor=function(a){c.focusUnderlayFillColor=a};a.getFocusUnderlayFillColor=
function(){return e("focusUnderlayFillColor")};a.getTooltipStrokeColor=function(){return a.getFocusUnderlayFillColor()};a.getFillColor=function(){return e("fillColor")};a.getObjectSize=function(){return e("objectSize")};a.setObjectSize=function(a){c.objectSize=a};a.getPointRenderByType=function(){var c;switch(a.getPointType()){case a.POINT_TYPE_CIRCLE:c=b.GraphFactory.newInstanceByName("CirclePoint");break;case a.POINT_TYPE_SQUARE:c=b.GraphFactory.newInstanceByName("SquarePoint");break;case a.POINT_TYPE_TRIANGLE:c=
b.GraphFactory.newInstanceByName("TrianglePoint");break;case a.POINT_TYPE_DIAMOND:c=b.GraphFactory.newInstanceByName("DiamondPoint");break;case a.POINT_TYPE_PLUS_SIGN:c=b.GraphFactory.newInstanceByName("PlusSignPoint");break;case a.POINT_TYPE_DASH:c=b.GraphFactory.newInstanceByName("DashPoint");break;case a.POINT_TYPE_STAR:c=b.GraphFactory.newInstanceByName("StarPoint")}return c};return a})})(k);(function(b){b.GraphFactory.registerClass("ObjectToElementTypeMap",function(){var a={nodeName:"ObjectToElementTypeMap"},
b;a.init=function(c){b={};for(var e in c){var f=c[e],g=f.getName();b[g]={isCorrect:!1,objects:{}};var f=f.getInventoryObjects(),h;for(h in f){var g=f[h],j=g.getName();b[j]=g.getType()}}return a};a.getElementType=function(a){return b[a]};return a})})(k);(function(b){b.GraphVOFactory.registerClass("graph_arearenderdescription",function(){var a=Object.create(b.GraphVOFactory.newInstanceByName("graph_renderdescription"));a.init=function(b,c,e,f,g){a.setType(a.TYPE_CURVE);a.setName(c);a.setCoords(b);a.setRenderer(e);
a.setLabel(f);a.setDecorations(g);return a};a.hasInvalidCoords=function(){var b=a.getCoords();if(void 0!==b){var c=!1,e,f,g=b.length;for(e=0;e<g;e++){var h=b[e],j=h.length;for(f=0;f<j;f++){var l=h[f],k;for(k in l)if(isNaN(l[k])){c=!0;break}}if(c)break}return c}};a.resetCoords=function(b){var c=a.getCoords();if(void 0!==c){var e,f,g=c.length;for(e=0;e<g;e++){var h=c[e],j=h.length;for(f=0;f<j;f++){var l=h[f],k;for(k in l)l[k]=b[k]}}}};return a})})(k);(function(b){b.GraphVOFactory.registerClass("graph_renderdescription",
function(){var a={TYPE_POINT:"POINT",TYPE_SEGMENT:"SEGMENT",TYPE_CURVE:"CURVE",TYPE_AREA:"AREA"},d,c,e,f,g=!1,h=!1,j=null,l,k,n,p,q;a.setType=function(a){d=a};a.getType=function(){return d};a.setName=function(a){c=a};a.getName=function(){return c};a.setCoords=function(a){j=a};a.getCoords=function(){return j};a.setRenderer=function(a){q=a};a.getRenderer=function(){return q};a.setIsDraggable=function(a){e=a};a.getIsDraggable=function(){return e};a.setIsGhost=function(a){f=a};a.getIsGhost=function(){return f};
a.setIsInGradedMode=function(a){g=a};a.getIsInGradedMode=function(){return g};a.setIsCorrect=function(a){h=a};a.getIsCorrect=function(){return h};a.setGroupId=function(a){l=a};a.getGroupId=function(){return l};a.setLabel=function(a){k=a};a.getLabel=function(){return k};a.setDecorations=function(a){n=a};a.getDecorations=function(){return n};a.setIsInBounds=function(a){p=a};a.getIsInBounds=function(){return p};a.getAppearance=function(){return n.appearance};a.getStyle=function(){return a.getAppearance()?
b.GraphStyleRepository.getStyleForAppearance(a.getAppearance()):b.GraphStyleRepository.getStyleForGroup(a.getGroupId())};a.hasInvalidCoords=function(){if(void 0!==j){var a=!1,b;for(b in j){var c=j[b],d;for(d in c)if(isNaN(c[d])){a=!0;break}}return a}};a.resetCoords=function(a){if(void 0!==j)for(var b in j){var c=j[b],d;for(d in c)c[d]=a[d]}};return a})})(k);(function(b){b.GraphVOFactory.registerClass("graph_curverenderdescription",function(){var a=Object.create(b.GraphVOFactory.newInstanceByName("graph_renderdescription"));
a.init=function(b,c,e,f,g){a.setType(a.TYPE_CURVE);a.setName(c);a.setCoords(b);a.setRenderer(e);a.setLabel(f);a.setDecorations(g);return a};return a})})(k);(function(b){b.GraphVOFactory.registerClass("graph_pointrenderdescription",function(){var a=Object.create(b.GraphVOFactory.newInstanceByName("graph_renderdescription")),d=null;a.init=function(b,e,f,g,h){a.setName(e);a.setType(a.TYPE_POINT);a.setCoords(b);a.setRenderer(f);a.setLabel(g);a.setDecorations(h);d=h.pointType;return a};a.getX=function(){return a.getCoords()[0].x};
a.getY=function(){return a.getCoords()[0].y};a.hasInvalidCoords=function(){if(void 0!==a.getCoords()){var b=!1,d;for(d in a.getCoords()){var f=a.getCoords()[d],g;for(g in f)if(isNaN(f[g].value)){b=!0;break}}return b}};a.getPointType=function(){return d};a.getPointRenderByType=function(){return a.getStyle().getPointRenderByType()};return a})})(k);(function(b){b.GraphVOFactory.registerClass("graph_segmentrenderdescription",function(){var a=Object.create(b.GraphVOFactory.newInstanceByName("graph_renderdescription"));
a.init=function(b,c,e,f,g){a.setType(a.TYPE_SEGMENT);a.setName(c);a.setCoords(b);a.setRenderer(e);a.setLabel(f);a.setDecorations(g);return a};return a})})(k);k.q4versions.add({module:"q4-graph-framework",version:"7.9"});(function(b){b.GraphFactory.registerClass("CorrectGraphModel",function(){var a=Object.create(b.GraphFactory.newInstanceByName("GraphModel"));a._NAME="CorrectGraphModel";var d;a.setInteractive(!1);a._parse=function(c,e){d=c;var f=Object.create(b.GraphFactory.newInstanceByName("GraphJSONParser")),
g=a._createWorkingSpace(d,e,f,a);b.jsonutil.executeForFirstChildWithAttributeValue(e,"state","@type","correct",function(a){f.parseState(a,g)})};a.isStudentModel=function(){return!1};a.generateClientQDelta=function(){return[]};return a})})(k);(function(b){b.GraphFactory.registerClass("GraphDomain",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("DiagramModel"));a.nodeName="GraphDomain";a.USE_QUESTION="question";a.USE_SCRATCH="scratch";a.USE_STATIC="static";a.parent=null;
var d=a.id=null,c=null,e=null,f=!1,g=null,h=null,j,l=!1;a._parse=function(k,n,p){a.parent=p;a.id=n["@id"];l="AUTHORING"===k.getWarningLevel();e=n["@use"].toLowerCase();void 0!==n["@isInequalityProblem"]&&(f=n["@isInequalityProblem"]);for(var q=b.jsonutil.getChildren(n),r=0,s=q.length;r<s;r++){var o=q[r].value;switch(q[r].name){case "title":j=b.GraphFactory.getClassByName("GraphLabelJSONParser").parseLabel(o);break;case "axis":"x"===o["@coordinate"]?d=b.DiagramFrameworkFactory.newInstanceByName("DiagramFramework_Axis").init(k,
o,p):"y"===o["@coordinate"]&&(c=b.DiagramFrameworkFactory.newInstanceByName("DiagramFramework_Axis").init(k,o,p))}}g=b.GraphFactory.newInstanceByName("GraphModel").init(k,n,p);h=b.GraphFactory.newInstanceByName("CorrectGraphModel").init(k,n,p)};a.showAuthoringWarning=function(){return l};a.getHorizontalAxis=function(){return d};a.getVerticalAxis=function(){return c};a.getModel=function(){return g};a.getCorrectModel=function(){return h};a.getUse=function(){return e};a.getTitle=function(){return j};
a.isInequalityProblem=function(){return f};a.swapModel=function(){b(a).trigger(b.GraphPresenterFactory.PRESENTER_EVENT_SWAP_MODEL)};return a})})(k);(function(b){b.GraphFactory.registerClass("GraphModel",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("DiagramModel"));a._NAME="GraphModel";a.SIZE_LARGE="large";a.SIZE_MEDIUM="medium";a.SIZE_SMALL="small";var d,c,e=!0,f=!1;a._parse=function(e,g){d=e;f="scratch"===g["@use"].toLowerCase();var h=Object.create(b.GraphFactory.newInstanceByName("GraphJSONParser"));
switch(g["@size"]){case "large":c=a.SIZE_LARGE;break;case "medium":c=a.SIZE_MEDIUM;break;case "small":c=a.SIZE_SMALL;break;default:c=a.SIZE_LARGE}var k=a._createWorkingSpace(d,g,h,a);b.jsonutil.executeForFirstChildWithAttributeValue(g,"state","@type","initial",function(a){h.parseState(a,k)});b.jsonutil.executeForFirstChildWithAttributeValue(g,"state","@type","working",function(a){h.parseState(a,k)});j(g,h)};a.getSize=function(){return c};a.isStudentModel=function(){return!0};a.isInteractive=function(){return e};
a.setInteractive=function(a){e=a};a._createWorkingSpace=function(c,d,e,f){e.injectDefaults(d);var j=b.jsonutil.executeForChild(d,"limits",e.parseLimits),k=b.jsonutil.executeForChild(d,"resolution",e.parseResolution),d=b.jsonutil.executeForChild(d,"axis",e.parseAxis),j=Object.create(b.DiagramFrameworkFactory.newInstanceByName("CoordinateSystem2").init(j,k,d)),c=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Space2")).init(j,c);a.setWorkingSpace(c);c.groupRegistry={};c.bind("SPACE_INVALIDATED",
g(f));c.bind("GROUP_INVALIDATED",h(f));return c};var g=function(c){return function(){var d=a.getWorkingSpace().validate();0!==d.length&&b(c).triggerHandler(b.GraphPresenterFactory.PRESENTER_EVENT_MODEL_INVALIDATED,[d])}},h=function(a){return function(c,d){b(a).triggerHandler(b.GraphPresenterFactory.PRESENTER_EVENT_GROUP_INVALIDATED,[d])}},j=function(c,e){var f=a.getWorkingSpace().getCoordinateSystem(),g=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Space2")).init(f,d);a.setTargetSpace(g);
g.groupRegistry={};b.jsonutil.executeForFirstChildWithAttributeValue(c,"state","@type","correct",function(a){e.parseState(a,g)});return g};a.addPrimitiveByName=function(c,d,e){var f=a.getWorkingSpace(),c=f.getPrimitiveByName(c);c.isUsed()||(b.GraphFactory.getClassByName("GraphPrimitiveAdder").add(c,d,e,f),a.invalidateSpace())};a.movePrimitiveByName=function(b,c,d,e){var f=a.getWorkingSpace(),g=f.getPrimitiveByName(b);"Point"===g._TYPE?f.movePrimitiveByName(b,g.getX()+c,g.getY()+d,NaN,e):f.movePrimitiveByName(b,
c,d,NaN,e);a.invalidateSpace()};a.commitMovePrimitiveByName=function(b){a.getWorkingSpace().getPrimitiveByName(b).stopMove();a.invalidateSpace()};a.removePrimitiveByName=function(c){var d=a.getWorkingSpace(),c=d.getPrimitiveByName(c);void 0!==c&&(b.GraphFactory.getClassByName("GraphPrimitiveRemover").remove(c,d),a.invalidateSpace())};a.getGroupNameForPrimitiveByName=function(b){a:{var c=a.getWorkingSpace().groupRegistry,d;for(d in c)if(c.hasOwnProperty(d)){var e=c[d];if(void 0!==e.getPrimitiveByName(b)){b=
e;break a}}b=void 0}return b.getName()};a.getDependencyBundleForPrimitiveByName=function(c){var d=a.getSuperPrimitivesForPrimitiveByName(c);0===d.length&&d.push(c);for(var c=[],e=d.length-1;-1<e;e--){var f;f=a.getPrimitiveByName(d[e]).getDescendants();for(var g=[],h=f.length-1;-1<h;h--)g.push(f[h].getName());f=g;for(g=f.length-1;-1<g;g--)h=f[g],!b.ArrayToolkit.contains(c,h)&&!b.ArrayToolkit.contains(c,h)&&c.push(h)}return{superPrimitiveNames:d,dependentPrimitiveNames:c}};a.getSiblingBundleForPrimitiveByName=
function(c){var d=[],c=a.getPrimitiveByName(c).getSiblings();b.each(c,function(a,b){d.push(b.getName())});return d};a.getSuperPrimitivesForPrimitiveByName=function(b){for(var b=a.getPrimitiveByName(b).getSuperPrimitives(),c=[],d=b.length-1;-1<d;d--)c.push(b[d].getName());return c};a.getInventory=function(){var c=a.getWorkingSpace();return Object.create(b.GraphFactory.newInstanceByName("GraphInventory")).init(c)};a.getResolutions=function(){return a.getWorkingSpace().getCoordinateSystem().getResolutions()};
a.getLimits=function(){return a.getWorkingSpace().getCoordinateSystem().getLimits()};a.resolveXToResolutionAndLimits=function(b){return a.getWorkingSpace().getCoordinateSystem().resolveCartesianXToResolutionAndLimits(b)};a.resolveYToResolutionAndLimits=function(b){return a.getWorkingSpace().getCoordinateSystem().resolveCartesianYToResolutionAndLimits(b)};a.setAllPrimitivesToFixed=function(){var b=a.getWorkingSpace().getPrimitives(),c;for(c in b)b[c].setIsFree(!1);a.setInteractive(!1)};a.generateClientQDelta=
function(){if(f)return[];var c=[],d=a.getWorkingSpace().getPrimitives(),e;for(e in d){var g=d[e].generateClientQDelta();if(null!=g)if(b.isArray(g))for(var h=0;h<g.length;h++)c.push(g[h]);else c.push(g)}var d=a.getWorkingSpace().getConstructs(),j;for(j in d)if(g=d[j],void 0!==g.generateClientQDelta&&(g=g.generateClientQDelta(),null!=g))if(b.isArray(g))for(h=0;h<g.length;h++)c.push(g[h]);else c.push(g);return c};a.graded=!1;return a})})(k);(function(b){b.GraphViewFactory.registerClass("graph_view",
function(){var a=Object.create(b.DiagramFrameworkViewFactory.newInstanceByName("DiagramView"));a.nodeName="graph_view";a.GRAPH_SIZE_LARGE="large";a.GRAPH_SIZE_SMALL="small";var d={X_MIN:50,Y_MIN:50,Y_MIN_OFFSET:-16,X_MAX:375,Y_MAX:375,X_BUFFER:40,Y_BUFFER:40,FULL_WIDTH:520,FULL_HEIGHT:440,DEFAULT_PRIMITIVE_POINT_X_BUFFER:35,DEFAULT_PRIMITIVE_POINT_Y_BUFFER:35},c={X_MIN:50,Y_MIN:50,Y_MIN_OFFSET:-20,X_MAX:300,Y_MAX:300,X_BUFFER:40,Y_BUFFER:40,FULL_WIDTH:350,FULL_HEIGHT:360,DEFAULT_PRIMITIVE_POINT_X_BUFFER:35,
DEFAULT_PRIMITIVE_POINT_Y_BUFFER:35},e,f,g,h,j,l,k,n,p,q,r,s,o,u,t,w,x,B,y,z,A=!1,D,C,v;a._render=function(b,e,f){a.setGraphSize(a.GRAPH_SIZE_LARGE);var g=null;switch(e.getSize()){case e.SIZE_LARGE:g=d;break;case e.SIZE_MEDIUM:g=c}a._doRender(b,e,f,g,!0)};a._doRender=function(c,d,j,z,A){q=c;r=d;t=r.getInventory();D=q.getUse()==q.USE_STATIC;C=q.getUse()==q.USE_SCRATCH;u=h=null;v=!A;l=z.X_MIN;k=z.X_MAX;n=z.Y_MIN;p=z.Y_MAX;d=z.FULL_WIDTH;j=z.FULL_HEIGHT;e=Raphael(a.getHtmlNode().find(".q4-diagram")[0],
d,j);f=e.rect(0,0,d,j).attr({fill:"#FFFFFF","stroke-opacity":0});if(q.getTitle()&&!v){var E;E=q.getTitle();var J=(l+k)/2,I=n+z.Y_MIN_OFFSET;E=E?b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_labelGraphic").init(e,b.DiagramFrameworkViewConstants.TEXT_MEASUREMENT_NODE).setFontSize("12").setFontWeight("bold").setGlyphs(E).move(J,I).opacity(1):void 0;E=E.getHeight();0===E&&(E=15);n+=E;p+=E}o=b.DiagramFrameworkViewFactory.newInstanceByName("CartesianCoordinateMapper2").init(c,{containerXMin:0,
containerXMax:0+d,containerYMin:0,containerYMax:0+j,viewportXMin:l,viewportXMax:k,viewportYMin:n,viewportYMax:p,hideGrid:!A});b.GraphFactory.newInstanceByName("ObjectToElementTypeMap").init(t);A&&(x=b.GraphViewFactory.newInstanceByName("graph_property_editor").init(o,a.getHtmlNode()),b(x).bind(b.GraphConstants.VIEW_EVENT_RENDER_UPDATE_PROPERTY,F));w=b.DiagramFrameworkViewFactory.newInstanceByName("TooltipManager").init(e,D);b.GraphStyleRepository.init(t);c=o.getXMax()+1.5*z.X_BUFFER;d=n;A&&(g=b.GraphViewFactory.newInstanceByName("graph_verticalPalette").init(e,
c,d,o,100,o.getActualHeight()),D?g.hidePalette():(g.bind(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_START,L),g.bind(b.GraphConstants.VIEW_EVENT_RENDER_DRAG,O),g.bind(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_STOP,M),g.bind(b.GraphConstants.VIEW_EVENT_PALETTE_WIDTH_UPDATED,H),g.populatePalette(t)));s=b.DiagramFrameworkViewFactory.newInstanceByName("LayerStack").init();A=b.GraphViewFactory.newInstanceByName("CartesianGrid").init("grid01",o,q,e,A);c=s.createLayer("__gridLayer__");d=b.DiagramFrameworkViewFactory.newInstanceByName("Group").init("gridgroup",
r.getDependencyBundleForPrimitiveByName,r.getSiblingBundleForPrimitiveByName);d.addDisplayObject(A);c.addGroup(d);s.addLayer(c);A=105;v&&(A=75);y=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(e).draw(A,10,115,18,10).stroke("#EFEFEF",2,1).fill("#EFEFEF",1).opacity(0);B=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_labelGraphic").init(e,b.DiagramFrameworkViewConstants.TEXT_MEASUREMENT_NODE).setFontSize("10").setFontWeight("bold").setHideBackground(!0).opacity(1);
A={x:q.getHorizontalAxis().range.getMin(),y:q.getVerticalAxis().range.getMin()};c={x:q.getHorizontalAxis().range.getMax(),y:q.getVerticalAxis().range.getMax()};d=o.getXPixelsPerUnit();j=o.getYPixelsPerUnit();b(a.getViewBinder()).bind(b.GraphConstants.PRESENTER_EVENT_REFRESH_CORRECTNESS,R);b(a.getViewBinder()).bind(b.GraphConstants.PRESENTER_EVENT_REFRESH_GROUP,X);q.isInequalityProblem()&&b(a.getViewBinder()).bind(b.GraphConstants.PRESENTER_EVENT_SHOW_UPDATE_PROPERTIES,Y);b(a.getViewBinder()).triggerHandler(b.GraphPresenterFactory.PRESENTER_EVENT_VIEW_READY,
{viewportBounds:[A,c],viewportBuffer:{x:z.X_BUFFER/d*o.getXResolution(),y:z.Y_BUFFER/j*o.getYResolution()},defaultPrimitivePointBuffer:{x:z.DEFAULT_PRIMITIVE_POINT_X_BUFFER/d*o.getXResolution(),y:z.DEFAULT_PRIMITIVE_POINT_Y_BUFFER/j*o.getYResolution()}});return a};a.getPaper=function(){return e};var F=function(c,d,e,f){b(a.getViewBinder()).triggerHandler(b.GraphConstants.VIEW_EVENT_RENDER_UPDATE_PROPERTY,[d,e,f])},H=function(a,b){var c=e.width+b-100;o.setContainerXMax(o.getContainerXMin()+c);e.setSize(c,
e.height)},L=function(a,c,d,e){q.isInequalityProblem()&&x.hideProperties();a=r.getDependencyBundleForPrimitiveByName(c);b.each(a.superPrimitiveNames,function(a,b){h[b].show()});b.each(a.dependentPrimitiveNames,function(a,b){h[b].show()});h[c].triggerDragEvent(b.GraphicStackEvents.GRAPHIC_DRAG_START,d,e)},O=function(a,c,d,e){h[c].triggerDragEvent(b.GraphicStackEvents.GRAPHIC_DRAG,d,e)},M=function(a,c,d,e){h[c].triggerDragEvent(b.GraphicStackEvents.GRAPHIC_DRAG_STOP,d,e)},J=function(a){var b=o.getDomainYRange();
a.getType()==a.TYPE_POINT?a.resetCoords({x:{value:0,label:""},y:{value:b.getMin()-2*(b.getMax()-b.getMin()),label:""}}):a.resetCoords({x:0,y:b.getMin()-2*(b.getMax()-b.getMin())})},I=function(a){s.render();b.each(a,function(a,b){b.hide()});for(var c in h)h[c].isObjectInBounds()&&(h[c].showOnGrid(),h[c].move())};a.updateRenders=function(a,b){if(A){j={};void 0!==g&&(g.setAllowInteraction(r.isInteractive()),g.clearAll(),g.hideCorrectnessSymbols(),r.isStudentModel()&&g.refreshCorrectnessSymbols());var c=
[],d;for(d in b){var e=b[d],f=e.getName();e.hasInvalidCoords()?(J(e),E(f,e),h[f].hide(),j[f]=h[f],void 0!==g&&(c.push(e),g.addChild(e))):(E(f,e),h[f].showOnGrid(),h[f].hideControlLevers())}for(var l in c)g.enableIconByRenderDescription(c[l]);A=!1}else{d=!1;l=[];null===h&&(h={},j={},u={},d=!0);for(c in b){var e=b[c],f=e.getName(),k=r.getGroupNameForPrimitiveByName(f);e.setGroupId(k);e.hasInvalidCoords()?(J(e),d?(N(f,e),l.push(h[f]),j[f]=h[f]):void 0!==h[f]&&void 0===j[f]&&(E(f,e),h[f].hide(),j[f]=
h[f],void 0!==g&&g.addChild(e))):void 0===h[f]?N(f,e):void 0!==j[f]?(E(f,e),j[f].show(),delete j[f]):E(f,e)}d&&I(l)}};var E=function(a,b){var c=h[a];c.updateDescription(b,Q());c.move()},N=function(c,d){var f;f=r.getSuperPrimitivesForPrimitiveByName(c);f=!b.ArrayToolkit.contains(f,c);var j=b.GraphStyleRepository.getStyleForGroup(d.getGroupId()),l=d.getAppearance();l&&j.merge(b.GraphStyleRepository.getStyleForAppearance(l));f&&j.merge(b.GraphStyleRepository.getStyleForAppearance("control"));a.getGraphSize()==
a.GRAPH_SIZE_SMALL&&j.setObjectSize(b.DiagramFrameworkViewConstants.DISPLAY_OBJECT_SIZE_SMALL);d.getType()==d.TYPE_POINT?("ghost"===l&&j.setPointType(d.getPointType()),f=j.getPointRenderByType().init(c,o,w,e,g,j,d,f)):f=d.getRenderer().init(c,o,w,e,g,j,d);D||(f.bindEvent(b.InteractiveEvents.DRAG_START_INITIATED,P),f.bindEvent(b.InteractiveEvents.DRAG_INITIATED,K),f.bindEvent(b.InteractiveEvents.DRAG_STOP_INITIATED,T));var j=f,l=j.getGroupId(),k=u[l];if(void 0===k){var m=s.createLayer(l+"Layer");s.addLayer(m);
k=b.DiagramFrameworkViewFactory.newInstanceByName("Group").init(l,r.getDependencyBundleForPrimitiveByName,r.getSiblingBundleForPrimitiveByName);m.addGroup(k);u[l]=k}k.addDisplayObject(j);h[c]=f},P=function(c,d,e){x.hideProperties();c=c.target;b(a.getViewBinder()).triggerHandler(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_START,[c.getDescription().getName(),d,e])},K=function(c,d,e){c=c.target;b(a.getViewBinder()).triggerHandler(b.GraphConstants.VIEW_EVENT_RENDER_DRAG,[c.getDescription().getName(),d,e])},
T=function(c,d,e){c=c.target;Q()&&!c.isHidden()&&c.showCorrectness();b(a.getViewBinder()).triggerHandler(b.GraphConstants.VIEW_EVENT_RENDER_DRAG_STOP,[c.getDescription().getName(),d,e])},Q=function(){return r.graded&&!D&&!C},V=!1,R=function(a,c){if(Q()){for(var d in c)if(null!==c[d]&&!c[d])break;if(!V){for(var e in h)d=h[e],d.isHidden()||d.showCorrectness();V=!0}g.trigger(b.GraphConstants.VIEW_GROUP_CORRECTNESS_UPDATED,[c])}},X=function(a,c){var d=Q(),e={};e[c.getName()]=c.getIsCorrect();g.trigger(b.GraphConstants.VIEW_GROUP_CORRECTNESS_UPDATED,
[e,d])},Y=function(a,b,c,d,e){x.showUpdateProperties(b,c,d,e)};a.switchModel=function(a){r=a;A=!0};a.refreshView=function(){A=!0};a.getGraphTypeTitleLabel=function(){return B};a.setGraphTypeTitle=function(c){var d="Your Answer";c&&(d="Correct Answer");c=0;c=v?67:99;d=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(d);a.getGraphTypeTitleLabel().setGlyphs(d).setFontSize("10").move(c,10).sendToBack();y.opacity(1).sendToBack();f.insertBefore(y.getGraphic())};a.setGraphSize=function(a){z=
a};a.getGraphSize=function(){return z};return a})})(k);(function(b){b.GraphViewFactory.registerClass("small_graph_view",function(){var a=Object.create(b.GraphViewFactory.newInstanceByName("graph_view")),d,c,e={X_MIN:20,Y_MIN:50,X_MAX:150,Y_MAX:180,X_BUFFER:0,Y_BUFFER:0,FULL_WIDTH:170,FULL_HEIGHT:230,DEFAULT_PRIMITIVE_POINT_X_BUFFER:0,DEFAULT_PRIMITIVE_POINT_Y_BUFFER:0};a._render=function(f,g,h){var j=h.getHtmlNode().find(".q4-diagram-container")[1];b(j).addClass("q4-flippy");a.setGraphSize(a.GRAPH_SIZE_SMALL);
d=f;c=h;a._doRender(f,g,h,e,!1);a.hideDisplay()};a.createSVGClickMask=function(){a.getPaper().rect(0,0,e.X_MAX+e.X_MIN,e.Y_MAX+e.Y_MIN).attr({fill:"#ffffff",opacity:0.01}).drag(function(){},function(){},function(){d.swapModel()})};a.hideDisplay=function(){var a=c.getHtmlNode().find(".q4-diagram-container")[1];b(a).addClass("q4-hidden")};a.showDisplay=function(){var a=c.getHtmlNode().find(".q4-diagram-container")[1];b(a).removeClass("q4-hidden")};return a})})(k);k.q4versions.add({module:"q4-graph",
version:"7.9"});(function(b){b.extend({NumberLineFactory:new function(){var a={},b={};a.init=function(){};a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};a.getClassByName=function(a){return b[a]};return a}})})(k);(function(b){b.extend({NumberLinePresenterFactory:new function(){var a={PRESENTER_EVENT_MODEL_INVALIDATED:"__numberline_presenter_event_model_invalidated",PRESENTER_EVENT_VIEW_READY:"__numberline_presenter_view_ready",PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT:"__numberline_presenter_drag_inside_viewport",
PRESENTER_EVENT_RENDER_DRAG_OUTSIDE_VIEWPORT:"__numberline_presenter_drag_outside_viewport",PRESENTER_EVENT_ENTER_NO_SOLUTION_MODE:"__q4_presenter_event_enter_no_solution_mode",PRESENTER_EVENT_EXIT_NO_SOLUTION_MODE:"__q4_presenter_event_exit_no_solution_mode",PRESENTER_EVENT_TOGGLE_DIALOG:"__q4_presenter_event_toggle_dialog"},b={};a.init=function(){};a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};a.getClass=function(a){return b[a]};return a}})})(k);
(function(b){b.extend({NumberLineViewFactory:new function(){var a={},b={};a.VIEW_EVENT_REFRESH_CORRECTNESS="__numberline_view_refresh_correctness";a.init=function(){};a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};return a}})})(k);(function(b){b.extend({NumberLineVOFactory:new function(){var a={},b={};a.init=function(){};a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};return a}})})(k);
(function(b){b.NumberLineFactory.registerClass("NumberLineDomain",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("DiagramModel"));a.USE_QUESTION="question";a.USE_SCRATCH="scratch";a.USE_STATIC="static";a.nodeName="NumberLineDomain";a.parent=null;var d=a.id=null,c=null,e=null,f=!0;a._parse=function(g,h,j){a.parent=j;a.id=h["@id"];e=h["@use"].toLowerCase();void 0!==h["@showCoordinates"]&&(f=h["@showCoordinates"]);for(var l=b.jsonutil.getChildren(h),k=0,n=l.length;k<n;k++){var p=
l[k].value;switch(l[k].name){case "axis":d=b.DiagramFrameworkFactory.newInstanceByName("DiagramFramework_Axis").init(g,p,j)}}c=b.NumberLineFactory.newInstanceByName("NumberLineModel").init(g,h,j)};a.getAxis=function(){return d};a.getModel=function(){return c};a.getUse=function(){return e};a.showCoordinates=function(){return f};return a})})(k);(function(b){b.NumberLineFactory.registerClass("NumberLineModel",function(){var a=Object.create(b.DiagramFrameworkFactory.newInstanceByName("DiagramModel"));
a._NAME="NumberLineModel";var d=a.initializeWorkingSpace,c,e;a.getIsNumberIncluded=function(b){return a.getWorkingSpace().getPrimitiveByName(b).isIncluded};var f=function(b,c){var d=a.getWorkingSpace().getUnusedSegments();0!==d.length&&(d=d[0],d.setPoint0(b),d.setPoint1(c))},g=function(){for(var b=a.getWorkingSpace().getOrderedUsedPoints(),d=0,e=b.length;d<e;d++){var f=b[d];"Primitive1PointConstrainedByPoints"===f._NAME&&(f.setBuffer(c),f.setPoint0(b[d-1]),f.setPoint1(b[d+1]))}};a._parse=function(f,
j){var l=Object.create(b.NumberLineFactory.newInstanceByName("NumberLineJSONParser"));l.injectDefaults(j);var k=b.jsonutil.executeForFirstChild(j,"resolution",l.parseResolution),n=b.jsonutil.executeForFirstChild(j,"limits",l.parseLimits);e=Object.create(b.DiagramFrameworkFactory.newInstanceByName("CoordinateSystem1").init([n],[k]));var p=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Space1")).init(e);a.setWorkingSpace(p);p.bind("SPACE_INVALIDATED",function(){var c=p.validate();0!==c.length&&
b(a).triggerHandler(b.NumberLinePresenterFactory.PRESENTER_EVENT_MODEL_INVALIDATED,[c])});d();c=b.jsonutil.executeForFirstChild(j,"buffer",l.parseBuffer);k=Object.create(b.DiagramFrameworkFactory.newInstanceByName("Space1")).init(e);a.setTargetSpace(k);for(var n=b.jsonutil.getChildren(j),q=0,r=n.length;q<r;q++){var s=n[q].value;"state"==n[q].name&&("initial"===s["@type"]&&(a.showIntervals=l.parseState(s,p)),"correct"===s["@type"]&&l.parseState(s,k))}g()};a.movePrimitiveByName=function(b,c){var d=
a.getWorkingSpace();"Primitive1Segment"!==d.getPrimitiveByName(b)._NAME&&(d.movePrimitiveByName(b,c),a.invalidateSpace())};a.addPrimitiveByName=function(d,e){var l=a.getWorkingSpace().getPrimitiveByName(d);switch(l._NAME){case "Primitive1PointConstrainedByPoints":if(!l.isUsed()){for(var k=a.getWorkingSpace().getOrderedUsedPoints(),n=0,p=k.length;n<p-1;n++){var q=k[n],r=k[n+1],s=q.getX(),o=r.getX();if(b.BasicMathToolkit.contains(e,[s,o])){o-s>=2*c&&(l.setPoint0(q),l.setPoint1(r),l.setBuffer(c),l.move(e));
break}}g();k=a.getWorkingSpace().getUsedSegments();n=l.getX();p=0;for(q=k.length;p<q;p++)if(r=k[p],s=r.getPoint0(),o=r.getPoint1(),b.BasicMathToolkit.contains(n,[s.getX(),o.getX()])){r.remove();f(s,l);f(o,l);break}}break;case "Primitive1Segment":if(!l.isUsed()){k=a.getWorkingSpace().getOrderedUsedPoints();n=0;for(p=k.length;n<p-1;n++)if(q=k[n],r=k[n+1],b.BasicMathToolkit.contains(e,[q.getX(),r.getX()])){l.addPoint(q);l.addPoint(r);a.invalidateSpace();break}}}};a.getPrimitiveByName=function(b){return a.getWorkingSpace().getPrimitiveByName(b)};
a.removePrimitiveByName=function(b){var c,d,e,k,p,q;q=a.getWorkingSpace();b=q.getPrimitiveByName(b);b.setIsCorrect(!0);if(void 0!==b){switch(b._NAME){case "Primitive1PointConstrainedByPoints":k=[];p=q.getUsedSegments();for(var r=0;r<p.length;r++)e=p[r],(e.getPoint0()===b||e.getPoint1()===b)&&k.push(e);switch(k.length){case 1:e=k[0];d=e.getLowestPoint();c=e.getHighestPoint();switch(b){case d:c=q.getNextLowestPoint(b);e.replacePoint(d,c);break;case c:d=q.getNextHighestPoint(b),e.replacePoint(c,d)}break;
case 2:e=k[0];k=k[1];switch(!0){case e.getPoint0()===k.getPoint0():c=e.getPoint1();d=k.getPoint1();break;case e.getPoint0()===k.getPoint1():c=e.getPoint1();d=k.getPoint0();break;case e.getPoint1()===k.getPoint0():c=e.getPoint0();d=k.getPoint1();break;case e.getPoint1()===k.getPoint1():c=e.getPoint0(),d=k.getPoint0()}e.remove();k.remove();f(c,d)}b.remove();g();break;case "Primitive1Segment":b.remove()}q.invalidate()}};a.removeDuplicateSegments=function(){for(var b=!1,c=a.getWorkingSpace().getUsedSegments(),
d=0;d<c.length;d+=1){var e=c[d];if(e.isUsed())for(var f=0;f<c.length;f+=1){var g=c[f];e!==g&&g.isUsed()&&(e.getLowestPoint().getX()===g.getLowestPoint().getX()&&e.getHighestPoint().getX()===g.getHighestPoint().getX())&&(g.remove(),b=!0)}}b&&a.invalidateSpace()};a.removeAllFinitePrimitives=function(){for(var c=a.getWorkingSpace(),d=c.getPrimitives({isUsed:!0}),e=0,f=d.length;e<f;e++){var g=d[e];("Segment"===g._TYPE||"Point"===g._TYPE&&b.BasicMathToolkit.isNumber(g.getX(),!1))&&c.removePrimitive(g)}a.invalidateSpace()};
a.checkCorrectness=function(){if(a.graded){var c=a.getWorkingSpace(),d=a.getTargetSpace(),c=b.NumberLineFactory.getClassByName("NumberLineCorrectnessChecker").check(c,d);a.invalidateSpace();return c}return null};a.invalidateSpace=function(){a.getWorkingSpace().invalidate()};a.getResolutions=function(){return a.getWorkingSpace().getCoordinateSystem().getResolutions()};a.getLimits=function(){return e.getLimits()};a.resolveXToResolutionAndLimits=function(a){return e.resolveCartesianXToResolutionAndLimits(a)};
a.setDefaultPrimitivePointBuffer=function(a){if(void 0===c){var b=e.getResolutions()[0].getPeriodicInterval().getPeriod();for(c=0;c<a;)c+=b;g()}};a.graded=!1;return a})})(k);(function(b){function a(){}a.check=function(a,c){var e=function(a,c){return b.DiagramFrameworkFactory.getClassByName("Primitive1PointCorrectnessChecker").doPointsMatch(a,c)?a.isIncluded===c.isIncluded:!1},f=function(){var f=a.getPoints(),g=c.getPoints();return b.DiagramFrameworkFactory.getClassByName("Primitive1PointCorrectnessChecker").check(f,
g,e)}(),g=function(){var e=a.getSegments(),f=c.getSegments();return b.DiagramFrameworkFactory.getClassByName("Primitive1SegmentCorrectnessChecker").check(e,f)}();return f&&g};b.NumberLineFactory.registerClass("NumberLineCorrectnessChecker",a)})(k);(function(b){b.NumberLineFactory.registerClass("NumberLineDeltaCalculator",function(){var a;a={_NAME:"NumberLineDeltaCalculator"};var b,c;a.extractDelta=function(a,f){b=a;c=f;var j=[],k=a.getPrimitives(),m;for(m in k)if(k.hasOwnProperty(m)){var n=k[m],p=
f.getPrimitiveByName(m);if(void 0!==p)switch(n._TYPE){case "Point":var q=n,r=p,n=j,p=q.getID(),s=q.getName();if(p===r.getID()){var o=p,u=q.getX(),t=r.getX(),w=n;(!isNaN(u)||!isNaN(t))&&u!==t&&w.push({replace:{"@ref":o,value:t}});q=q.getLabel();r=r.getLabel();q!==r&&n.push({replace:{"@ref":p,label:r}});q=c.isNumberIncluded[s];b.isNumberIncluded[s]!==q&&n.push({replace:{"@ref":p,included:q}})}break;case "Segment":s=j,q=n.getID(),q===p.getID()&&(e(q,n.getPoint0(),p.getPoint0(),s),e(q,n.getPoint1(),p.getPoint1(),
s))}}return{_:j}};var e=function(a,b,c,d){b.getID()!==c.getID()&&d.push({replace:{"@ref":a,number:f(c)}})},f=function(a){var b=a.getSpace(),c=a.getName();if(b.isPointGeneric(c)){var d=a.getType(),e=a.getX(),a=a.getLabel();return{number:{"@name":c,"@type":d,_:[{value:{$:e}},{label:{$:a}},{included:{$:b.isNumberIncluded[c]}}]}}}return{number:{"@nameRef":c}}};return a})})(k);(function(b){function a(){}a.parse=function(a){return parseFloat(b.jsonutil.parseCalcValueForChild(a).value)};b.NumberLineFactory.registerClass("NumberLineBufferJSONParser",
a)})(k);(function(b){function a(){}a.addSegment=function(a,c,e,f,g){c=b.DiagramFrameworkFactory.newInstanceByName("Primitive1Segment").init(c,e,a);c.addPoint(f);c.addPoint(g);c.setIsRigid(!0);a.addPrimitive(c);return c};a.parse=function(d,c){for(var e=c["@id"],f=c["@name"],g=b.jsonutil.getChildren(c),h=[],j=g.length-1;-1<j;j--){var k=g[j],m=k.value;switch(k.name){case "number":m["@nameRef"]?h.push(m["@nameRef"]):h.push(b.NumberLineFactory.getClassByName("NumberLineNumberJSONParser").parse(d,m))}}g=
d.getPrimitiveByName(h[0]);h=d.getPrimitiveByName(h[1]);a.addSegment(d,e,f,g,h)};b.NumberLineFactory.registerClass("NumberLineIntervalJSONParser",a)})(k);(function(b){b.NumberLineFactory.registerClass("NumberLineJSONParser",function(){var a={_NAME:"NumberLineJSONParser"},d={limits:{"@id":19,interval:{"@id":20,_:[{number:{"@id":21,_:[{value:{"@id":22,$:-Infinity}},{included:{"@id":23,$:!1}}]}},{number:{"@id":24,_:[{value:{"@id":25,$:Infinity}},{included:{"@id":26,$:!1}}]}}]}}},c=b.NumberLineFactory.getClassByName("NumberLineNumberJSONParser"),
e=b.NumberLineFactory.getClassByName("NumberLineIntervalJSONParser"),f=b.NumberLineFactory.getClassByName("NumberLineBufferJSONParser"),g=b.NumberLineFactory.getClassByName("NumberLineResolutionJSONParser"),h=b.NumberLineFactory.getClassByName("NumberLineLimitsJSONParser");a.parseState=function(a,d){for(var f=void 0===a["@showIntervals"]?!0:a["@showIntervals"],g=b.jsonutil.getChildren(a),h=g.length-1;-1<h;h--){var k=g[h],r=k.value;switch(k.name){case "number":c.parse(d,r);break;case "interval":f&&
e.parse(d,r)}}c.isPositiveInfinity||c.addPoint(d,NaN,null,b.DiagramFrameworkFactory.FIXED,Infinity,null,!1);c.isNegativeInfinity||c.addPoint(d,NaN,null,b.DiagramFrameworkFactory.FIXED,-Infinity,null,!1);if(f){r=d.getAllPoints();g=0;for(h=r.length-1;-1<h;h--)k=r[h],Infinity!==Math.abs(k.getX())&&(g+=1);h=d.getAllSegments();g+=1;for(h=h.length;h<g;h++)e.addSegment(d,NaN)}return f};a.injectDefaults=function(a){0===b.jsonutil.countChildrenWithAttributeValue(a,"limits","@coordinate","x")&&a._.push(d)};
a.parseBuffer=function(a){return f.parse(a)};a.parseResolution=function(b){return g.parse(b,a)};a.parseLimits=function(b){return h.parse(b,a)};return a})})(k);(function(b){function a(){}a.parse=function(a,c){return b.DiagramFrameworkFactory.newInstanceByName("Limits").init(null,a,c)};b.NumberLineFactory.registerClass("NumberLineLimitsJSONParser",a)})(k);(function(b){function a(){}a.isPositiveInfinity=!1;a.isNegativeInfinity=!1;a.addPoint=function(a,c,e,f,g,h,j){var k=Infinity===Math.abs(g);switch(f){case b.DiagramFrameworkFactory.FIXED||
k:c=b.DiagramFrameworkFactory.newInstanceByName("Primitive1PointFixed").init(c,e,a);break;default:c=b.DiagramFrameworkFactory.newInstanceByName("Primitive1PointConstrainedByPoints").init(c,e,a)}c.setX(g);c.setLabel("string"===typeof h?h:"");c.isIncluded=k?!1:void 0===j?!0:j;a.addPrimitive(c);return c};a.parse=function(d,c){var e=c["@id"],f=c["@name"],g=c["@type"],h=b.jsonutil.getChildren(c),j;for(j=h.length-1;-1<j;j--){var k=h[j],m=k.name,k=b.jsonutil.parseCalcValueForChild(k.value).value;switch(m){case "value":var n=
Number(k);break;case "label":var p=k;break;case "included":var q=k}}h=d.getUsedPoints();for(j=h.length-1;-1<j;j--)if(m=h[j],m.getX()===n)return m.getName();e=a.addPoint(d,e,f,g,n,p,q);a.isPositiveInfinity=a.isPositiveInfinity||e.getX()===Number.POSITIVE_INFINITY;a.isNegativeInfinity=a.isNegativeInfinity||e.getX()===Number.NEGATIVE_INFINITY;return e.getName()};b.NumberLineFactory.registerClass("NumberLineNumberJSONParser",a)})(k);(function(b){function a(){}a.parse=function(a,c){var e=b.DiagramFrameworkFactory.newInstanceByName("Resolution");
e.init(null,a,c);return e};b.NumberLineFactory.registerClass("NumberLineResolutionJSONParser",a)})(k);(function(b){b.extend({NumberLineConstants:new function(){return{PRESENTER_EVENT_CARTESIAN_MODEL_PATCH_CHANGED:"__q4_presenter_event_cartesian_model_path_changed",PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT:"__q4_presenter_event_drag_inside_viewport",PRESENTER_EVENT_RENDER_DRAG_OUTSIDE_VIEWPORT:"__q4_presenter_event_drag_outside_viewport",PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT_START:"__q4_presenter_event_drag_inside_viewport_start",
PRESENTER_EVENT_RENDER_DRAG_STOP_INSIDE_VIEWPORT:"__q4_presenter_event_drag_stop_inside_viewport",PRESENTER_EVENT_INVALIDATE_SPACE:"__q4_presenter_event_invalidate_space",PRESENTER_EVENT_REFRESH_CORRECTNESS:"__q4_presenter_event_check_numberline_refresh_correctness"}}})})(k);(function(b){b.NumberLinePresenterFactory.registerClass("NumberLinePresenter",function(){var a=Object.create(b.NumberLinePresenterFactory.newInstanceByName("BasePresenter")),d=null,c=null,e=null,f=null,g=null,h,j=null,k,m;a._init=
function(b,e,j,k){d=j;f=k;d.getAxis();c=d.getModel();g=e;h=c.getResolutions()[0];return a};a._createView=function(){e=b.NumberLineViewFactory.newInstanceByName("numberLine_view")};a._bindModel=function(){b(c).bind(b.NumberLinePresenterFactory.PRESENTER_EVENT_MODEL_INVALIDATED,function(a,d){j=d;for(var f=[],g=0,h=d.length;g<h;g++){var u=d[g].getName(),t=d[g].getX(),w;if(w=!isNaN(t))if(w=Infinity!==t)if(w=-Infinity!==t){w=t;var x=c.getPrimitiveByName(u);w=!("Segment"!=x._TYPE?b.NumberLinePresenterFactory.getClass("NumberLinePrimitiveInclusionChecker").check(x,
k,m,w):1)}w?c.movePrimitiveByName(u,n(t)):f.push(d[g])}for(var B,g={},u=0;u<f.length;u++)t=f[u],h=t.getName(),"Point"==t._TYPE?(B=t.getX(),w=t.getLabel(),B=b.NumberLineVOFactory.newInstanceByName("numberLine_pointrenderdescription").init(B,w,h),w=c.getIsNumberIncluded(h),B.pointType=w?B.FULL:B.EMPTY,w=t.getIsFree(),B.setIsDraggable(w),t=t.getIsCorrect(),B.setIsCorrect(t)):"Segment"==t._TYPE&&(w=t.getPoint0(),B=t.getPoint1(),w=w?w.getX():NaN,B=B?B.getX():NaN,B=b.NumberLineVOFactory.newInstanceByName("numberLine_segmentrenderdescription").init(w,
B,h),t.getIsFree(),B.setIsDraggable(!0),t=t.getIsCorrect(),B.setIsCorrect(t)),g[h]=B;e.updateRenders({},g)})};a._bindCommandBus=function(){null!=g&&g.addCommandHandler(b.q4appcontroller.COMMAND_PAGE_GRADED,function(){c.graded=!0;a.refreshCorrectness()})};a._bindView=function(){b(e).bind(b.NumberLinePresenterFactory.PRESENTER_EVENT_VIEW_READY,function(a,b){var d=b.viewportBounds;k=d[0];m=d[1];c.setDefaultPrimitivePointBuffer(b.defaultPrimitivePointBuffer);c.invalidateSpace()});b(e).bind(b.NumberLinePresenterFactory.PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT,
function(a,b,d){c.addPrimitiveByName(b,d);c.movePrimitiveByName(b,d)});b(e).bind(b.NumberLinePresenterFactory.PRESENTER_EVENT_RENDER_DRAG_OUTSIDE_VIEWPORT,function(a,b){c.removePrimitiveByName(b)});b(e).bind(b.NumberLineConstants.PRESENTER_EVENT_REFRESH_CORRECTNESS,function(){e.refreshCorrectness(c)});b(e).bind(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_STOP_INSIDE_VIEWPORT,function(){c.removeDuplicateSegments()});b(e).bind(b.NumberLinePresenterFactory.PRESENTER_EVENT_ENTER_NO_SOLUTION_MODE,
function(){c.removeAllFinitePrimitives();a.refreshCorrectness()});b(e).bind(b.NumberLinePresenterFactory.PRESENTER_EVENT_TOGGLE_DIALOG,function(a,c,d){g.fireCommand(b.q4appcontroller.COMMAND_SHOW_DIALOG,c,d)})};a._initView=function(){e.init(d,f)};a.getLastInvalidPrimitives=function(){return j};a.refreshCorrectness=function(){e.refreshCorrectness(c)};var n=function(a){var b=h.getPeriodicInterval(),c=h.getAperiodicInterval()?h.getAperiodicInterval().getNumbers():[];if(a<k.x){a+=b.getPeriod();for(b=
0;b<c.length;b++){var d=c[b];d.getValue()>=k.x&&d.getValue()<a&&(a=d.getValue())}}else{a-=b.getPeriod();for(b=0;b<c.length;b++)d=c[b],d.getValue()<=m.x&&d.getValue()>a&&(a=d.getValue())}return a};return a})})(k);(function(b){b.NumberLinePresenterFactory.registerClass("BasePresenter",function(){return{init:function(a,b,c,e){a=this._init(a,b,c,e);void 0!==a._bindModel&&a._bindModel();a._createView(e);void 0!==a._bindCommandBus&&a._bindCommandBus();void 0!==a._bindView&&a._bindView();void 0!==a._createChildPresenters&&
a._createChildPresenters();void 0!==a._initView&&a._initView();return a},createView:function(a){return b.q4viewfactory.newInstanceByName(a.nodeName+"_view")}}})})(k);(function(b){function a(){}a.check=function(a,c,e,f){return b.BasicMathToolkit.contains(f,[c.x,e.x])};b.NumberLinePresenterFactory.registerClass("NumberLinePointInclusionChecker",a)})(k);(function(b){function a(){}a.check=function(a,c,e,f){switch(a._TYPE){case "Point":return b.NumberLinePresenterFactory.getClass("NumberLinePointInclusionChecker").check(a,
c,e,f)}};b.NumberLinePresenterFactory.registerClass("NumberLinePrimitiveInclusionChecker",a)})(k);(function(b){b.NumberLineViewFactory.registerClass("base_view",function(){return{init:function(a,b){void 0!==this._bindModel&&this._bindModel(a);this._render(a,b);return this},refreshCorrectness:function(a){a.graded&&void 0!==this._refreshCorrectness&&this._refreshCorrectness(a)},refreshClientSelection:function(a){void 0!==this._refreshClientSelection&&this._refreshClientSelection(a)}}})})(k);(function(b){b.NumberLineViewFactory.registerClass("numberLine_view",
function(){var a=Object.create(b.NumberLineViewFactory.newInstanceByName("base_view"));a.nodeName="numberLine_view";var d,c,e,f,g,h,j,k,m,n,p,q,r=!1,s,o,u,t;a._render=function(j,k){n=j;p=j.getModel();q=j.getAxis();u=j.getUse()==j.USE_STATIC;t=j.getUse()==j.USE_SCRATCH;g=30;f=null;var l=b.NumberLineViewConstants;b.template("textmeasurementtmpl",'<div class="q4-textmeasurement"></div>');var m=b.tmpl("textmeasurementtmpl");m.hide();m.appendTo(document.body);l.TEXT_MEASUREMENT_NODE=m;l=u?130:245;o=b.DiagramFrameworkViewFactory.newInstanceByName("CartesianCoordinateMapper1").init(j,
{containerXMin:0,containerXMax:700,viewportXMin:g,viewportXMax:650});w(k,700);d=Raphael(b(h).find(".q4-numberline")[0],700,l);d.rect(0,0,700,l).attr({fill:"#FFFFFF","stroke-opacity":0});b.NumberLineStyleRepository.addStyle("horizontalAxisStyle",b.DiagramFrameworkViewFactory.newInstanceByName("AxisStyle").init({tickLabelFontSize:12,tickColor:"#d2d2d2",tickWidth:1,axisLineColor:"#cccccc",axisLineWidth:1,majorTickLength:65,arrowSize:18}));var m=g,l=o.getActualWidth(),r=g+l,v=p.getLimits()[0],x=!1,y=
!1;v.getNumber0().getValue()<q.range.getMin()?x=!0:x=!1;v.getNumber1().getValue()>q.range.getMax()?y=!0:y=!1;e=b.DiagramFrameworkViewFactory.newInstanceByName("DiagramFramework_HorizontalAxis").init(d,q,b.NumberLineStyleRepository.getStyle("horizontalAxisStyle"),m,r,o.getXResolution(),o.getXPixelsPerUnit(),72.5).initializeLine(x,y).initializeTicks(!0).renderLine();s=-Infinity===v.getNumber0().getValue()&&Infinity===v.getNumber1().getValue();m=g;c=b.NumberLineViewFactory.newInstanceByName("numberLine_palette").init(d,
m,185,l,55,p.showIntervals&&s);l={x:q.range.getMin(),y:72.5};m={x:q.range.getMax(),y:72.5};b(a).triggerHandler(b.NumberLinePresenterFactory.PRESENTER_EVENT_VIEW_READY,[{viewportBounds:[l,m],defaultPrimitivePointBuffer:40/o.getXPixelsPerUnit()*o.getXResolution()}]);return a};var w=function(c,d){b.template("numberLine_viewtmpl",'<div class="q4-numberline-container"><div class="q4-numberline"></div></div>');h=b.tmpl("numberLine_viewtmpl");h.appendTo(c.getHtmlNode());if(!u){b.template("numberLineCorrectGradingNodeTmpl",
'<div class="q4-numberline-answer q4-numberline-correct-answer">Correct</div>');j=b.tmpl("numberLineCorrectGradingNodeTmpl");j.prependTo(h);b.template("numberLineIncorrectGradingNodeTmpl",'<div class="q4-numberline-answer q4-numberline-wrong-answer">Incorrect</div>');k=b.tmpl("numberLineIncorrectGradingNodeTmpl");k.prependTo(h);k.hide();j.hide();b.template("numberLineNoSolutionInputNodeTmpl",'<span class="q4-numberline-no-solution-input"><input type="checkbox" />No Solution</span>');var e=b.tmpl("numberLineNoSolutionInputNodeTmpl");
e.prependTo(h);e.css("left",d-100);var f=h.find(".q4-numberline-no-solution-input input");window.Touch||f.click(function(a){f.removeAttr("checked");a.stopImmediatePropagation();x()});e.touchclick(x);b.template("numberLineDialogBoxNodeTmpl",'<div class="q4-numberline-dialog-box"><div class="q4-numberline-dialog-content"><div class="q4-numberline-dialog-message"></div><div class="q4-numberline-dialog-controls"><button class="q4-button q4-numberline-dialog-yes-button">Yes</button><button class="q4-button q4-numberline-dialog-no-button">No</button></div></div></div>');
m=b.tmpl("numberLineDialogBoxNodeTmpl");m.appendTo(h);m.find(".q4-numberline-dialog-yes-button").click(function(){B(!0);b(a).triggerHandler(b.NumberLinePresenterFactory.PRESENTER_EVENT_TOGGLE_DIALOG,[m,!1]);return!1});m.find(".q4-numberline-dialog-no-button").click(function(){B(!1);b(a).triggerHandler(b.NumberLinePresenterFactory.PRESENTER_EVENT_TOGGLE_DIALOG,[m,!1]);return!1})}},x=function(){if(r)B(!1);else{var c=o.getActualWidth();m.css({top:0,left:(c-m.width())/2});m.find(".q4-numberline-dialog-message").html("<p>Are you sure you wish to mark this question as having no solution?</p><p>Doing so will clear everything on the number-line and disable the palette (you can uncheck No Solution at any time to re-enable the palette.)</p>");
b(a).triggerHandler(b.NumberLinePresenterFactory.PRESENTER_EVENT_TOGGLE_DIALOG,[m,!0])}},B=function(d){var e=d!==r;r=d;d=h.find(".q4-numberline-no-solution-input input");r?(d.attr("checked",!0),c.enabled(!1),e&&b(a).triggerHandler(b.NumberLinePresenterFactory.PRESENTER_EVENT_ENTER_NO_SOLUTION_MODE)):(d.attr("checked",!1),c.enabled(!0),e&&b(a).triggerHandler(b.NumberLinePresenterFactory.PRESENTER_EVENT_EXIT_NO_SOLUTION_MODE))};a.getHtmlNode=function(){return h};a.updateRenders=function(a,h){null===
f&&(c.populatePalette(h),f={});var j,k;for(k in h){j=h[k];u&&j.setIsDraggable(!1);var l=j.getName();if(void 0===f[l])a:{var m=void 0;if(j.getType()==j.TYPE_POINT)m=b.NumberLineViewFactory.newInstanceByName("numberLine_pointSubview").init(d,!1,n.showCoordinates()).updateDescription(j);else{if(!s)break a;m=b.NumberLineViewFactory.newInstanceByName("numberLine_segmentSubview").init(d,!1).updateDescription(j)}b(m).bind(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT,y);b(m).bind(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_OUTSIDE_VIEWPORT,
z);b(m).bind(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_STOP_INSIDE_VIEWPORT,A);b(m).bind(b.NumberLineViewFactory.VIEW_EVENT_REFRESH_CORRECTNESS,D);var p=o.getActualWidth();m.setViewportBounds(p,72.5,g,72.5,c,e.getNegInfinityCoord(),e.getInfinityCoord());j.getType()==j.TYPE_POINT?m.draw(5,v(j.getValue()),72.5).performCheckForGradingIndicator(C()):m.draw(5,v(j.getValueFrom()),v(j.getValueTo()),72.5).performCheckForGradingIndicator(C());f[l]=m}else l=f[l],l.updateDescription(j),j.getType()==
j.TYPE_POINT?l.move(v(j.getValue()),72.5):l.move(v(j.getValueFrom()),v(j.getValueTo())),l.performCheckForGradingIndicator(C())}u&&c.hidePalette()};var y=function(c,d){var e=c.target,f=o.screenToCartesianX(d);(e.renderType===b.NumberLineViewConstants.RENDER_TYPE_SEGMENT||q.range.isWithinRange(f,!0))&&b(a).triggerHandler(b.NumberLinePresenterFactory.PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT,[e.getRenderDescription().getName(),f])},z=function(c,d){var e=c.target;b(a).triggerHandler(b.NumberLinePresenterFactory.PRESENTER_EVENT_RENDER_DRAG_OUTSIDE_VIEWPORT,
[e.getRenderDescription().getName(),o.screenToCartesianX(d)])},A=function(c,d){var e=c.target;b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_STOP_INSIDE_VIEWPORT,[e.getRenderDescription().getName(),o.screenToCartesianX(d)])},D=function(){b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_REFRESH_CORRECTNESS)},C=function(){return p.graded&&!u&&!t},v=function(a){return o.cartesianToScreenX(a)};a.refreshCorrectness=function(a){C()&&(a=a.checkCorrectness(),null==a?(k.hide(),
j.hide()):a?(k.hide(),j.show()):(j.hide(),k.show()))};return a})})(k);(function(b){b.extend({NumberLineViewConstants:new function(){var a={DEFAULT_SEGMENT_WIDTH:60,RENDER_TYPE_POINT:"POINT",RENDER_TYPE_SEGMENT:"SEGMENT"};a.TEXT_MEASUREMENT_NODE;return a}})})(k);(function(b){b.NumberLineViewFactory.registerClass("numberLine_palette",function(){var a={},d,c,e,f,g,h,j,l,m,n,p=!0,q;a.nodeName="numberLine_palette";a.init=function(d,k,o,p,t,w){l=d;q=w;g=k+40;h=o+t/2;j=q?g+b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH+
35:g;c=[];e={};f={};m=l.set();m.push(l.rect(k,o,p,t-4,10).attr({stroke:"#b8b8b8","stroke-width":2}),l.rect(k,o,20,t-4).attr({stroke:"#b8b8b8",fill:"#999999","stroke-width":2}),l.text(k+10,o+1+t/2,"Palette").attr({fill:"#FFFFFF","font-size":12,"font-weight":"bold"}).rotate(-90));n=l.set();n.push(l.rect(k,o,p,t-4,10).attr({stroke:"#666666",fill:"#666666","stroke-width":2}),l.rect(k,o,20,t-4).attr({stroke:"#666666",fill:"#666666","stroke-width":2}));a.enabled(!0);return this};a.enabled=function(a){(p=
a)?n.toBack().attr({opacity:0}):n.toFront().attr({opacity:0.4})};a.hidePalette=function(){a.enabled(!0);m.attr({opacity:0});var b;for(b=0;b<c.length;b++)c[b].hide();for(b=0;b<d.length;b++)d[b].hide()};a.populatePalette=function(a){d=[];for(var c in a){var e=a[c];if(e.getType()==e.TYPE_POINT&&Infinity!==e.getValue()&&-Infinity!==e.getValue()&&!f.hasOwnProperty(e.pointType)){var k=b.NumberLineVOFactory.newInstanceByName("numberLine_pointrenderdescription").init(NaN,"","");k.setIsDraggable(!1);k.setIsCorrect(!1);
k.pointType=e.pointType;k=b.NumberLineViewFactory.newInstanceByName("numberLine_pointSubview").init(l,!0,!1).updateDescription(k);k.draw(NaN,j,h).hideLabel();f[e.pointType]=j;j=j+k.getWidth()+30;d[d.length]=k}}q&&(a=b.NumberLineVOFactory.newInstanceByName("numberLine_segmentrenderdescription").init(NaN,NaN,""),a.setIsDraggable(!1),a.setIsCorrect(!1),a=b.NumberLineViewFactory.newInstanceByName("numberLine_segmentSubview").init(l,!0).updateDescription(a),a.draw(NaN,g,g+b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH,
h),a.setNewCoords(g,h,b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH),d[d.length]=a)};a.addChild=function(d){a.contains(d)||(e[d.getID()]=!0,c[c.length]=d);if(d.renderType!==b.NumberLineViewConstants.RENDER_TYPE_SEGMENT){var j=f[d.getPointType()];d.setNewCoords(j,h)}else d.setNewCoords(g,h,b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH)};a.contains=function(a){return void 0!==e[a.getID()]};a.removeChild=function(b){a.contains(b)&&(e[b.getID()]=void 0,c=k.grep(c,function(a){return a!=b}))};return a})})(k);
(function(b){b.NumberLineViewFactory.registerClass("numberLine_baseRenderer",function(){var a={},b,c,e,f;a.init=function(){e=this._initHitAreaViewLayer();f=this._initMainLayer();b=this._initIncorrectLayer();c=this._initHitAreaActionLayer();return this};a.getHitAreaViewLayer=function(){return e};a.getMainLayer=function(){return f};a.getIncorrectLayer=function(){return b};a.getHitAreaActionLayer=function(){return c};a.getX=function(){return f.getX()};a.getY=function(){return f.getY()};a.drag=function(a,
b,d){c.drag(a,b,d)};a.getWidth=function(){return f.getWidth()};a.displayCorrectIndicator=function(){this._displayCorrectIndicator()};a.displayIncorrectIndicator=function(){this._displayIncorrectIndicator()};a.hideGradingIndicator=function(){this._hideGradingIndicator()};return a})})(k);(function(b){var a,d,c,e,f,g;b.NumberLineViewFactory.registerClass("numberLine_circularPointRenderer",function(){var h=Object.create(b.NumberLineViewFactory.newInstanceByName("numberLine_baseRenderer"));h.superInit=
h.init;h.init=function(b,k,m,n,p,q){a=m;d=b;c=k;e=n;f=p;g=q;h.superInit();return h};h._initHitAreaViewLayer=function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a).draw(d,c,b.DiagramFrameworkViewConstants.POINT_RADIUS+25).fill(e,0).stroke("#000000",0,0).opacity(0)};h._initMainLayer=function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a).draw(d,c,b.DiagramFrameworkViewConstants.POINT_RADIUS).fill(f,
1).stroke(f,b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH,1)};h._initIncorrectLayer=function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a).draw(d,c,b.DiagramFrameworkViewConstants.POINT_RADIUS+8).fill("#000000",0).stroke(g,2,0)};h._initHitAreaActionLayer=function(){return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_circleGraphic").init(a).draw(d,c,b.DiagramFrameworkViewConstants.POINT_RADIUS+25).fill(e,0).stroke("#000000",
0,0)};h.filled=function(a){a?h.getMainLayer().fill(h.getMainLayer().getFillColor(),1):h.getMainLayer().fill(h.getMainLayer().getFillColor(),0);return h};h.opacity=function(a){h.getHitAreaViewLayer().opacity(a);h.getMainLayer().opacity(a);h.getIncorrectLayer().opacity(a)};h.setFocusColor=function(){h.getHitAreaViewLayer().fill(h.getHitAreaViewLayer().getFillColor(),0.4).opacity(0.4)};h.setUnfocusColor=function(){h.getHitAreaViewLayer().fill(h.getHitAreaViewLayer().getFillColor(),0).opacity(0)};h.sendToBack=
function(){h.getHitAreaActionLayer().sendToBack();h.getHitAreaViewLayer().sendToBack();h.getMainLayer().sendToBack();h.getIncorrectLayer().sendToBack()};h.move=function(a,b){h.getHitAreaActionLayer().move(a,b);h.getHitAreaViewLayer().move(a,b);h.getMainLayer().move(a,b);h.getIncorrectLayer().move(a,b)};h._displayCorrectIndicator=function(){h._hideGradingIndicator()};h._displayIncorrectIndicator=function(){h.getIncorrectLayer().stroke(h.getIncorrectLayer().getStrokeColor(),h.getIncorrectLayer().getStrokeWidth(),
1)};h._hideGradingIndicator=function(){h.getIncorrectLayer().stroke(h.getIncorrectLayer().getStrokeColor(),h.getIncorrectLayer().getStrokeWidth(),0)};return h})})(k);(function(b){b.NumberLineViewFactory.registerClass("numberLine_segmentRenderer",function(){var a={},d,c,e,f,g,h,j,a=Object.create(b.NumberLineViewFactory.newInstanceByName("numberLine_baseRenderer"));a.superInit=a.init;a.init=function(b,k,n,p,q,r,s){d=p;c=b;e=k;f=n;g=q;h=r;j=s;a.superInit();return a};a._initHitAreaViewLayer=function(){var a=
[];a.push({x:c+20,y:f});a.push({x:e-20,y:f});return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(d).draw(a).stroke(g,40,0).segmentCapStyle("round")};a._initMainLayer=function(){var a=[];a.push({x:c,y:f});a.push({x:e,y:f});return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(d).draw(a).stroke(h,4,1)};a._initIncorrectLayer=function(){var a=c+(e-c)/2,g=[],h=[];h.push({x:a-1,y:f-7});h.push({x:a-5,y:f+7});g.push(b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(d).draw(h).stroke(j,
2,0));h=[];h.push({x:a+5,y:f-7});h.push({x:a+1,y:f+7});g.push(b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(d).draw(h).stroke(j,2,0));return g};a._initHitAreaActionLayer=function(){var a=[];a.push({x:c+20,y:f});a.push({x:e-20,y:f});return b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_segmentGraphic").init(d).draw(a).stroke(g,40,0).opacity(0.01).segmentCapStyle("round")};a.opacity=function(b){a.getHitAreaViewLayer().opacity(b);a.getMainLayer().opacity(b);
for(var c in a.getIncorrectLayer())a.getIncorrectLayer()[c].opacity(b)};a.setFocusColor=function(){a.getHitAreaViewLayer().opacity(0.15)};a.setUnfocusColor=function(){a.getHitAreaViewLayer().opacity(0)};a.getWidth=function(){return a.getMainLayer().getWidth()};a.sendToBack=function(){a.getHitAreaViewLayer().sendToBack();a.getMainLayer().sendToBack();for(var b in a.getIncorrectLayer())a.getIncorrectLayer()[b].sendToBack();a.getHitAreaActionLayer.sendToBack()};a.bringToFront=function(){a.getHitAreaViewLayer().bringToFront();
a.getMainLayer().bringToFront();for(var b in a.getIncorrectLayer())a.getIncorrectLayer()[b].bringToFront();a.getHitAreaActionLayer().bringToFront()};a.resize=function(b,c,d){var e=[];e.push({x:b+20,y:d});e.push({x:c-20,y:d});a.getHitAreaViewLayer().resize(e);e=[];e.push({x:b,y:d});e.push({x:c,y:d});a.getMainLayer().resize(e);var f=b+(c-b)/2,e=[];e.push({x:f-1,y:d-7});e.push({x:f-5,y:d+7});a.getIncorrectLayer()[0].resize(e);e=[];e.push({x:f+5,y:d-7});e.push({x:f+1,y:d+7});a.getIncorrectLayer()[1].resize(e);
e=[];e.push({x:b+20,y:d});e.push({x:c-20,y:d});a.getHitAreaActionLayer().resize(e)};a._displayCorrectIndicator=function(){a._hideGradingIndicator()};a._displayIncorrectIndicator=function(){for(var b in a.getIncorrectLayer())a.getIncorrectLayer()[b].opacity(1)};a._hideGradingIndicator=function(){for(var b in a.getIncorrectLayer())a.getIncorrectLayer()[b].opacity(0)};return a})})(k);(function(b){b.NumberLineViewFactory.registerClass("numberLine_arrowGraphic",function(){var a={},b,c,e,f,g;a.init=function(f,
g,k){b=f;c=g;e=k;return a};a.hideLeftArrow=function(){void 0!==f&&f.attr({opacity:0})};a.hideRightArrow=function(){void 0!==g&&g.attr({opacity:0})};a.showLeftArrow=function(a,g){void 0===f?(f=b.set(),f.push(b.path([["M",a,g],["L",a+9,g-9]]),b.path([["M",a,g],["L",a+9,g+9]])),f.attr({stroke:c,"stroke-width":e})):f.attr({opacity:1})};a.showRightArrow=function(a,f){void 0===g?(g=b.set(),g.push(b.path([["M",a,f],["L",a-9,f-9]]),b.path([["M",a,f],["L",a-9,f+9]])),g.attr({stroke:c,"stroke-width":e})):g.attr({opacity:1})};
return a})})(k);(function(b){b.template("root_viewtmpl",'<div class="q4-renderer"></div>');b.NumberLineViewFactory.registerClass("root_view",function(){var a=Object.create(b.NumberLineViewFactory.newInstanceByName("base_view"));a.nodeName="root_view";var d=null;a._render=function(a){d=b.tmpl("root_viewtmpl");d.prependTo(a)};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.extend({NumberLineStyleRepository:new function(){var a={},b={};a.addStyle=function(a,e){b[a]=e};a.removeStyle=
function(a){delete b[a]};a.getStyle=function(a){return b[a]};return a}})})(k);(function(b){b.NumberLineViewFactory.registerClass("numberLine_subview",function(){var a={},d,c,e,f,g,h,j,k,m,n,p=!1,q,r,s,o,u=!0;a.init=function(a,b,c){r=this._init();o=a;n=b;u=c;return r};a.getPaper=function(){return o};a.showCoordinates=function(){return u};a.setIsOutsideBoundsAlready=function(a){p=a};a.getIsOutsideBoundsAlready=function(){return p};a.getIsDragging=function(){return q};a.setIsDragging=function(a){q=a};
a.getIsGhost=function(){return n};a.getID=function(){return g.getName()};a.setRenderOnScreen=function(a){m=a};a.getRenderOnScreen=function(){return m};a.updateDescription=function(a){g=a;return this};a.getPointType=function(){return g.pointType};a.isMouseInsideViewport=function(a,b){var g=!1,h=a-e,j=b-f;0<=h&&(h<=d&&0<=j&&j<=c)&&(g=!0);return g};a.setViewportBounds=function(a,b,g,m,n,o,p){d=a;c=b;e=g;f=m;h=n;j=p;k=o};a.restrictXToBounds=function(b){var c=a.getXOffset()+a.getViewportWidth();b<a.getXOffset()?
b=a.getXOffset():b>c&&(b=c);return b};a.restrictYToBounds=function(b){b<a.getYOffset()&&(b=a.getYOffset());return b};a.hide=function(){m.opacity(0)};a.getDragOffsetX=function(a){return b.jsonutil.getEventCoordsWithRespectToDocument(a).documentX-b(o.canvas).parent().offset().left};a.onDragStart=function(b,c,d){m.ox=m.getX();m.oy=m.getY();m.dx=a.getDragOffsetX(d)-m.ox;m.setFocusColor();m.hideGradingIndicator();q=!0;void 0!==r._onDragStart&&r._onDragStart(b,c,d)};a.onDragMove=function(a,b,c,d,e){void 0!==
r._onDragMove&&r._onDragMove(a,b,c,d,e)};a.onDragEnd=function(b){m.setUnfocusColor();q=!1;a.performCheckForGradingIndicator(s);void 0!==r._onDragEnd&&r._onDragEnd(b)};a.setNewCoords=function(){};a.getWidth=function(){};a.getRenderDescription=function(){return g};a.sendToPalette=function(a){h.addChild(a)};a.removeFromPalette=function(a){h.contains(a)&&h.removeChild(a)};a.checkIfPaletteContains=function(a){return h.contains(a)};a.getViewportHeight=function(){return c};a.getViewportWidth=function(){return d};
a.getXOffset=function(){return e};a.getYOffset=function(){return f};a.getNegInfinityX=function(){return k};a.getInfinityX=function(){return j};a.getWidth=function(){return m.getWidth()};a.getActualX=function(a){switch(a){case -Infinity:a=isNaN(k)?e:k;break;case Infinity:a=isNaN(j)?e+d:j;break}return a};a.performCheckForGradingIndicator=function(b){if(s=b)return p?m.hideGradingIndicator():a.getRenderDescription().getIsCorrect()||null===a.getRenderDescription().getIsCorrect()?m.displayCorrectIndicator():
m.displayIncorrectIndicator(),this};return a})})(k);(function(b){b.NumberLineViewFactory.registerClass("numberLine_pointSubview",function(){var a=Object.create(b.NumberLineViewFactory.newInstanceByName("numberLine_subview")),d,c,e,f=!1;a.renderType=b.NumberLineViewConstants.RENDER_TYPE_POINT;a._init=function(){return a};a._onDragStart=function(){e=0;a.checkIfPaletteContains(a)||a.showTooltip()};a._onDragEnd=function(){a.hideTooltip();var c=a.getRenderOnScreen().getX(),d=a.getRenderOnScreen().getY();
a.isMouseInsideViewport(c,d)?(a.setIsOutsideBoundsAlready(!1),a.removeFromPalette(a),a.showLabel()):h();b(a).triggerHandler(b.NumberLineViewFactory.VIEW_EVENT_REFRESH_CORRECTNESS,[c])};a._onDragMove=function(c,d){if(a.getRenderDescription().getIsDraggable()){var f=Math.floor(a.getRenderOnScreen().ox+c),g=Math.floor(a.getRenderOnScreen().oy+d),f=a.restrictXToBounds(f),g=a.restrictYToBounds(g);if(a.isMouseInsideViewport(f,g)){if(a.getIsOutsideBoundsAlready()||0<Math.abs(c)&&Math.abs(c-e)>=Math.floor(a.getRenderOnScreen().pixelsPerSnap))a.setIsOutsideBoundsAlready(!1),
a.getYOffset(),e=c,a.showTooltip(),b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT,[f])}else a.getIsOutsideBoundsAlready()||(a.setIsOutsideBoundsAlready(!0),b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_OUTSIDE_VIEWPORT,[f])),j(),a.setNewCoords(f,g)}};a.draw=function(e,j,k){var p=a.getActualX(j),q=a.getPaper();a.getIsGhost()?a.setRenderOnScreen(b.NumberLineViewFactory.newInstanceByName("numberLine_circularPointRenderer").init(p,k,q,"#b8b8b8",
"#b8b8b8","#E04820")):(a.setRenderOnScreen(b.NumberLineViewFactory.newInstanceByName("numberLine_circularPointRenderer").init(p,k,q,"#5393c5","#5393c5","#E04820")),a.getRenderOnScreen().drag(a.onDragMove,a.onDragStart,a.onDragEnd));a.getRenderOnScreen().pixelsPerSnap=e;switch(a.getPointType()){case a.getRenderDescription().FULL:a.getRenderOnScreen().filled(!0);break;case a.getRenderDescription().EMPTY:a.getRenderOnScreen().filled(!1)}d=a.getIsGhost()?q.text(p,k-12-6,a.getRenderDescription().getLabel()).attr({"font-size":12,
"font-weight":"bold",fill:"#b8b8b8"}):q.text(p,k-12-6,a.getRenderDescription().getLabel()).attr({"font-size":12,"font-weight":"bold",fill:"#5393c5"});d.move=function(a,b){d.attr({x:a,y:b-12-6})};a.showCoordinates()&&!a.getIsGhost()&&(c=b.NumberLineViewFactory.newInstanceByName("Tooltip").init(q,"#cccccc",1).setTextEntries([g()]).move(p,k));a.hideTooltip();if(Infinity===j||-Infinity===j)f=!0,a.getRenderOnScreen().opacity(0),a.getRenderOnScreen().sendToBack();isNaN(j)&&h();return a};a.hideTooltip=function(){c&&
c.hide()};a.showTooltip=function(){!f&&c&&c.show()};a.hideLabel=function(){d.attr({opacity:0})};a.showLabel=function(){d.attr({opacity:1})};a.setNewCoords=function(b,e){a.getRenderOnScreen().move(b,e);d.move(b,e);c&&c.move(b,e)};a.move=function(b,d){isNaN(a.getRenderDescription().getValue())?a.getIsDragging()||h():(a.setIsOutsideBoundsAlready(!1),a.removeFromPalette(a),a.showLabel(),c&&c.setTextEntries([g()]),a.setNewCoords(b,d));return a};var g=function(){var c=a.getRenderDescription().getValue(),
c=!isNaN(c)&&!isNaN(c)&&Infinity!=c&&-Infinity!=c?c.toFixed(b.BasicMathToolkit.computeScale(a.getRenderDescription().getValue(),2)):"";return b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(c)},h=function(){a.setIsOutsideBoundsAlready(!0);j();a.hideLabel();a.sendToPalette(a)},j=function(){if(c){c.hide();var a=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText("");c.setTextEntries([a])}};return a})})(k);(function(b){b.NumberLineViewFactory.registerClass("numberLine_segmentSubview",
function(){var a=Object.create(b.NumberLineViewFactory.newInstanceByName("numberLine_subview")),d,c;a.renderType=b.NumberLineViewConstants.RENDER_TYPE_SEGMENT;a._init=function(){return a};a.draw=function(c,e,g,k){e=a.getActualX(e);g=a.getActualX(g);d=k;isNaN(e)||isNaN(g)?(a.setRenderOnScreen(f(c,10,10+b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH,k)),a.setIsOutsideBoundsAlready(!0),a.sendToPalette(a)):a.setRenderOnScreen(f(c,e,g,k));return a};a._onDragStart=function(){c.hideLeftArrow();c.hideRightArrow()};
a._onDragEnd=function(c){c=a.getDragOffsetX(c)-a.getXOffset();g(a.getRenderOnScreen().getX(),a.getRenderOnScreen().getX()+a.getRenderOnScreen().getWidth(),a.getRenderOnScreen().getY());a.getIsOutsideBoundsAlready()?a.sendToPalette(a):(a.removeFromPalette(a),b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_STOP_INSIDE_VIEWPORT,[c]));b(a).triggerHandler(b.NumberLineViewFactory.VIEW_EVENT_REFRESH_CORRECTNESS,[c])};a._onDragMove=function(c,d,e,f,g){if(a.getRenderDescription().getIsDraggable())if(c=
e=a.getDragOffsetX(g),d=a.getRenderOnScreen().oy+d,c=a.restrictXToBounds(c),d=a.restrictYToBounds(d),a.isMouseInsideViewport(c,d))a.getYOffset(),c>a.getRenderOnScreen().getX()+a.getRenderOnScreen().getWidth()+20?(b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_OUTSIDE_VIEWPORT,[c]),b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT,[c])):c<a.getRenderOnScreen().getX()-20?(b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_OUTSIDE_VIEWPORT,
[c]),b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT,[c])):a.getIsOutsideBoundsAlready()&&(a.setIsOutsideBoundsAlready(!1),b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_INSIDE_VIEWPORT,[c]));else if(f=b.BasicMathToolkit.round(a.getRenderOnScreen().dx/a.getRenderOnScreen().getWidth(),0.01),a.getIsOutsideBoundsAlready())e=c-Math.floor(b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH*f),c+=b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH-Math.floor(b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH*
f),a.getRenderOnScreen().resize(e,c,d);else{a.setIsOutsideBoundsAlready(!0);var g=c-Math.floor(b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH*f),k=c+(b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH-Math.floor(b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH*f));a.getRenderOnScreen().resize(g,k,d);a.getRenderOnScreen().dx=e-a.getRenderOnScreen().getX();b(a).triggerHandler(b.NumberLineConstants.PRESENTER_EVENT_RENDER_DRAG_OUTSIDE_VIEWPORT,[c-Math.floor(b.NumberLineViewConstants.DEFAULT_SEGMENT_WIDTH*
f)])}};var e=function(c,d){var e,f;d>=c?(e=c,f=d):(e=d,f=c);e!==a.getNegInfinityX()&&(e+=b.DiagramFrameworkViewConstants.POINT_RADIUS+b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH-2);f!==a.getInfinityX()&&(f-=b.DiagramFrameworkViewConstants.POINT_RADIUS+b.DiagramFrameworkViewConstants.POINT_STROKE_WIDTH-2);return[e,f]},f=function(d,f,k,m){k=e(f,k);f=k[0];k=k[1];c=b.NumberLineViewFactory.newInstanceByName("numberLine_arrowGraphic").init(a.getPaper(),"#5393c5",2);g(f,k,m);a.getIsGhost()?m=b.NumberLineViewFactory.newInstanceByName("numberLine_segmentRenderer").init(f,
k,m,a.getPaper(),"#b8b8b8","#b8b8b8","#E04820"):(m=b.NumberLineViewFactory.newInstanceByName("numberLine_segmentRenderer").init(f,k,m,a.getPaper(),"#5393c5","#5393c5","#E04820"),m.drag(a.onDragMove,a.onDragStart,a.onDragEnd));m.pixelsPerSnap=d;m.bringToFront();return m};a.setNewCoords=function(b,c,d){a.getRenderOnScreen().resize(b,b+d,c)};a.move=function(b,f){if(!isNaN(b)&&!isNaN(f)){a.setIsOutsideBoundsAlready(!1);a.removeFromPalette(a);var k=a.getActualX(b),m=a.getActualX(f),m=e(k,m),k=m[0],m=m[1],
n=d;a.getRenderOnScreen().resize(k,m,n);a.getIsDragging()||g(k,m,d)}else a.getIsDragging()||(c.hideLeftArrow(),c.hideRightArrow(),a.setIsOutsideBoundsAlready(!0),a.sendToPalette(a));return a};var g=function(b,d,e){b!==a.getNegInfinityX()?c.hideLeftArrow():c.showLeftArrow(b,e);d!==a.getInfinityX()?c.hideRightArrow():c.showRightArrow(d,e)};return a})})(k);(function(b){b.NumberLineViewFactory.registerClass("Tooltip",function(){var a={},d,c,e,f,g=0,h=0;a.init=function(k,m,n){d=k;f=[];c=[];e=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_rectangleGraphic").init(d).draw(0,
0,70,18,9).fill("#ffffff",1).stroke("#cccccc",1,1);for(k=g=h=0;k<n;k++)m=b.DiagramFrameworkViewFactory.getClass("GlyphFactory").getGlyphsForText(""),m=b.DiagramFrameworkViewFactory.newInstanceByName("diagramFramework_labelGraphic").init(d,b.NumberLineViewConstants.TEXT_MEASUREMENT_NODE).setFontFamily("Arial").setFontSize("12").setFontWeight("bold").setGlyphs(m),c.push(m),g=Math.max(g,m.getWidth()),m=m.getHeight(),h+=m,k!==n-1&&(h+=j);a.hide();return a};a.setTextEntries=function(b){f=b;return a};var j=
0;a.move=function(b,d){if(isNaN(b)||isNaN(d))return a;var k=d-34-h/2+h/(2*f.length),p;h=g=0;var q=f.length;for(p=0;p<q;p++){var r=c[p];r.setGlyphs(f[p]);r.move(b,k);g=Math.max(g,r.getWidth());r=r.getHeight();h+=r;k+=r+j;p!==q-1&&(h+=j)}e.setHeight(h);e.setWidth(g+20);e.move(b,d-34);return a};a.hide=function(){e.opacity(0);for(var b=0;b<c.length;b++)c[b].opacity(0);return a};a.show=function(){e.opacity(1);for(var b=0;b<c.length;b++)c[b].opacity(1);return a};a.appearAbove=function(){for(var a=0;a<c.length;a++)c[a].appearAbove(e)};
return a})})(k);(function(b){b.NumberLineVOFactory.registerClass("numberLine_renderdescription",function(){var a={FULL:"Full",EMPTY:"Empty",TYPE_POINT:"POINT",TYPE_SEGMENT:"SEGMENT"},b,c,e,f,g=!1;a.setType=function(a){b=a};a.getType=function(){return b};a.setName=function(a){c=a};a.getName=function(){return c};a.setIsDraggable=function(a){e=a};a.getIsDraggable=function(){return e};a.setIsGhost=function(a){f=a};a.getIsGhost=function(){return f};a.setIsCorrect=function(a){g=a};a.getIsCorrect=function(){return g};
return a})})(k);(function(b){b.NumberLineVOFactory.registerClass("numberLine_pointrenderdescription",function(){var a=Object.create(b.NumberLineVOFactory.newInstanceByName("numberLine_renderdescription")),d=NaN,c;a.init=function(b,f,g){d=b;c=f;a.setName(g);a.setType(a.TYPE_POINT);return a};a.getLabel=function(){return c};a.getValue=function(){return d};return a})})(k);(function(b){b.NumberLineVOFactory.registerClass("numberLine_segmentrenderdescription",function(){var a=Object.create(b.NumberLineVOFactory.newInstanceByName("numberLine_renderdescription")),
d=NaN,c=NaN;a.init=function(b,f,g){d=b;c=f;a.setType(a.TYPE_SEGMENT);a.setName(g);return a};a.getValueFrom=function(){return d};a.getValueTo=function(){return c};return a})})(k);k.q4versions.add({module:"q4-number-line",version:"7.9"});(function(b){b.extend({q4containermodelfactory:new function(){var a={},b={};a.registerClass=function(a,e){b[a]=e};a.newInstanceByName=function(a){a=b[a];if(void 0!==a)return new a};return a}})})(k);(function(b){b.extend({q4containerpresenterfactory:new function(){var a=
{PRESENTER_EVENT_TOGGLE_DIALOG:"__q4_presenter_event_toggle_dialog",PRESENTER_EVENT_SHOW_CORRECT_ANSWER:"__q4_presenter_event_show_correct_answer",PRESENTER_EVENT_REFRESH_VIEW:"__q4_presenter_event_refresh_view"},b={};a.init=function(){};a.registerClass=function(a,e){b[a]=e};a.getClass=function(a){return b[a]};a.newInstanceByName=function(a){a=b[a];return void 0===a?null:new a};return a}})})(k);(function(b){var a=function(){var a={},c=null,e=null,f=null,g=null;a.init=function(a){c=a.protocol;e=a.server;
f=a.uri;g=a.requestType;return this};a.requestQDoc=function(a,d){var k={format:"json",requestContext:b.toJSON(a)},m=f;c&&(m=c+"://"+e+f);"jsonp"==g?b.getJSONP(m,k,d):b.postJSON(m,k,d)};return a};b.extend({q4docfactoryservice:new function(){return{newInstance:function(){return new a}}}})})(k);(function(b){b.extend({q4containerviewfactory:new function(){return{classDictionary:{},registerClass:function(a,b){this.classDictionary[a]=b},newInstanceByName:function(a){a=this.classDictionary[a];if(void 0!==
a)return new a}}}})})(k);(function(b){var a=function(){var a={busName:null,init:function(b){a.busName=b;return a},addCommandHandler:function(c,e){b(a).bind(c,e)},fireCommand:function(c){for(var e=[],f=0;f<arguments.length;f++)0!=f&&e.push(arguments[f]);b(a).triggerHandler(c,e)}};return a};b.extend({commandbus:new function(){return{newInstance:function(){return new a}}}})})(k);(function(b){Object.create=function(a){function b(){}b.prototype=a;return new b};b.extend({log:function(a){"object"===typeof console&&
console.log(a)}});b.extend({getJSONP:function(a,d,c,e){d.callback="jsonpCallback";b.jsonp({url:a,data:d,callback:"jsonpCallback",success:c,error:e})}});b.extend({postJSONP:function(a,d,c,e){b.ajax({url:a,data:d,dataType:"jsonp",type:"post",success:c,error:e})}});b.extend({postJSON:function(a,d,c,e){b.ajax({url:a,data:d,dataType:"json",type:"post",success:c,error:e})}});b.extend({evalMetric:function(a){a=parseInt(a,10);isNaN(a)&&(a=0);return a}})})(k);(function(b){var a=function(){function a(){p.requestQDoc(m.requestContext,
function(a){!0==a.qResponse.status.success&&(c(a.qResponse.qGradingContext),r.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_RENDER_QDOC,a.qResponse.qDoc,a.qResponse.status.warningLevel),void 0!==a.qResponse.qDelta&&r.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_APPLY_QDELTA,a.qResponse.qDelta),m.gradingContext.showAnswers&&r.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_SHOW_ANSWERS))})}function c(a){m.gradingContext=b.q4containermodelfactory.newInstanceByName("gradingContext");m.gradingContext.parse(a);
m.requestContext=m.gradingContext.requestContext;k.fireCommand(b.q4containercontroller.COMMAND_GRADING_CONTEXT_UPDATED,m.gradingContext)}function e(a){!0==a.qResponse.status.success&&(c(a.qResponse.qGradingContext),void 0!==a.qResponse.qDelta&&r.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_APPLY_QDELTA,a.qResponse.qDelta),m.gradingContext.showAnswers&&r.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_SHOW_ANSWERS))}function f(a,b,c){q.grade(m.requestContext,a,b,function(a){void 0!==c?c():e(a)})}
function g(a,b,c){q.gradeWithClientQDelta(m.requestContext,a,b,function(a){void 0!==c?c():e(a)})}function h(){q.nextVersion(m.requestContext,function(a){!0==a.qResponse.status.success&&(c(a.qResponse.qGradingContext),k.fireCommand(b.q4containercontroller.COMMAND_INIT_RENDERER))})}var j={},k=null,m=null,n=null,p=null,q=null,r=null;j.init=function(a){k=a;j.bindCommandBus();return this};j.start=function(a,c,d,e){var f=b.q4containerviewfactory.newInstanceByName("root_view");f.render(a);m=b.q4containermodelfactory.newInstanceByName("container");
m.requestContext=c.requestContext;m.navigationContext=c.navigationContext;p=d;q=e;a=b.q4containerpresenterfactory.newInstanceByName("container_presenter");a.init(k,m,f);n=a.getNodeView().getHtmlNode();k.fireCommand(b.q4containercontroller.COMMAND_INIT_RENDERER)};j.bindCommandBus=function(){k.addCommandHandler(b.q4containercontroller.COMMAND_RELOAD,function(a,b){j.handleNextVersion(a,b)});k.addCommandHandler(b.q4containercontroller.COMMAND_CONTINUE,function(a,b,c){j.handleContinue(a,b,c)});k.addCommandHandler(b.q4containercontroller.COMMAND_GRADE,
function(a,b,c){j.handleGrade(a,b,c)});k.addCommandHandler(b.q4containercontroller.COMMAND_GRADE_WITH_CLIENT_QDELTA,function(a,b,c){j.handleGradeWithClientQDelta(a,b,c)});k.addCommandHandler(b.q4containercontroller.COMMAND_INIT_RENDERER,function(){var c=n;c.empty();r=b.commandbus.newInstance().init("q4_commandbus");b.q4appcontroller.newInstance().init(r).start(c);a()})};j.handleNextVersion=function(a,b){m.requestContext.action=b;h()};j.handleContinue=function(a,b,c){c()};j.handleGrade=function(a,
c,d){m.requestContext.action=c;r.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_GET_CLIENTDELTA,function(a,b){f(a,b,d)})};j.handleGradeWithClientQDelta=function(a,c,d){m.requestContext.action=c;r.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_GET_CLIENT_QDELTA,function(a,b){g(a,b,d)})};return j};b.extend({q4containercontroller:new function(){return{COMMAND_INIT_RENDERER:"__q4c_initialize_renderer",COMMAND_GRADE:"__q4c_grade",COMMAND_GRADE_WITH_CLIENT_QDELTA:"__q4c_grade_with_client_qdelta",COMMAND_CONTINUE:"__q4c_continue",
COMMAND_RELOAD:"__q4c_reload",COMMAND_GRADING_CONTEXT_UPDATED:"__q4c_grading_context_is_updated",newInstance:function(){return new a}}}})})(k);(function(b){var a=function(){function a(){f.empty();g=b.commandbus.newInstance().init("q4_commandbus");j();b.q4appcontroller.newInstance().init(g).start(f)}var c={},e=null,f=null,g=null,h=null;c.init=function(a){e=a;c.bindCommandBus();return this};c.start=function(b){f=b;a()};c.bindCommandBus=function(){e.addCommandHandler(b.covalentcontainercontroller.COMMAND_COVALENT_APPLY_ACTIVITY,
function(a,b){c.handleApplyActivity(b)});e.addCommandHandler(b.covalentcontainercontroller.COMMAND_COVALENT_APPLY_QRESPONSE,function(a,b){c.handleApplyQResponse(b)});e.addCommandHandler(b.covalentcontainercontroller.COMMAND_COVALENT_APPLY_RESOLVE_AREA_REQUEST_RESPONSE,function(a,b,d){c.handleApplyResolveAreaRequestResponse(b,d)});e.addCommandHandler(b.covalentcontainercontroller.COMMAND_COVALENT_GET_CLIENT_DELTA,function(a,b){c.handleGetClientDelta(b)});e.addCommandHandler(b.covalentcontainercontroller.COMMAND_COVALENT_APPLY_CLIENT_DELTA,
function(a,b){c.handleApplyClientDelta(b)});e.addCommandHandler(b.covalentcontainercontroller.COMMAND_COVALENT_GET_CLIENT_QDELTA,function(a,b){c.handleGetClientQDelta(b)});e.addCommandHandler(b.covalentcontainercontroller.COMMAND_COVALENT_APPLY_CLIENT_QDELTA,function(a,b){c.handleApplyClientQDelta(b)});e.addCommandHandler(b.covalentcontainercontroller.COMMAND_COVALENT_SHOW_ANSWERS,function(){c.handleShowAnswers()});e.addCommandHandler(b.covalentcontainercontroller.MESSAGE_ANSWER_SUBMISSION_ERROR,
function(a,c){g.fireCommand(b.q4appcontroller.COMMAND_SEND_ANSWER_SUBMISSION_ERROR,c)});e.addCommandHandler(b.covalentcontainercontroller.MESSAGE_AUTHORING_ERROR,function(a,c){g.fireCommand(b.q4appcontroller.COMMAND_SEND_AUTHORING_ERROR,c)});e.addCommandHandler(b.covalentcontainercontroller.MESSAGE_COMMUNICATION_ERROR,function(a,c){g.fireCommand(b.q4appcontroller.COMMAND_SEND_COMMUNICATION_ERROR,c)});e.addCommandHandler(b.covalentcontainercontroller.MESSAGE_RUNTIME_ERROR,function(a,c){g.fireCommand(b.q4appcontroller.COMMAND_SEND_RUNTIME_ERROR,
c)});e.addCommandHandler(b.covalentcontainercontroller.MESSAGE_SHOW_LOADING,function(){g.fireCommand(b.q4appcontroller.COMMAND_SEND_SHOW_LOADING_MESSAGE)});e.addCommandHandler(b.covalentcontainercontroller.MESSAGE_HIDE_LOADING,function(){g.fireCommand(b.q4appcontroller.COMMAND_SEND_HIDE_LOADING_MESSAGE)})};var j=function(){g.addCommandHandler(b.q4appcontroller.COMMAND_SEND_RESOLVE_AREA_REQUEST,function(a,c,d){e.fireCommand(b.q4appcontroller.COMMAND_SEND_RESOLVE_AREA_REQUEST,c,d)})},k=function(){h.addCommandHandler(b.activityAppcontroller.COMMAND_GRADE_STEP,
function(a,c,d){e.fireCommand(b.activityAppcontroller.COMMAND_GRADE_STEP,c,d)});h.addCommandHandler(b.activityAppcontroller.COMMAND_GOTO_STEP,function(a,c,d){e.fireCommand(b.activityAppcontroller.COMMAND_GOTO_STEP,c,d)})};c.handleApplyActivity=function(a){var c=!1;if(void 0!==a.visibleItemContent)for(var d in a.visibleItemContent)if(void 0!==a.visibleItemContent[d].qDoc&&(f.empty(),h=b.commandbus.newInstance().init("activity_commandbus"),k(),b.activityAppcontroller.newInstance().init(h).start(f),
h.fireCommand(b.activityAppcontroller.COMMAND_CONTAINER_RENDER_ACTIVITY,a.activity,a.visibleItemContent),g=b.activityAppcontroller.getQ4CommandBus(),j()),b.isEmptyObject(a.visibleItemContent[d].state)||h.fireCommand(b.activityAppcontroller.COMMAND_CONTAINER_APPLY_ACTIVITYNODE_DELTA,a.visibleItemContent[d].state),!0===a.visibleItemContent[d].gradedFeedback&&!c)h.fireCommand(b.activityAppcontroller.COMMAND_CONTAINER_SHOW_ANSWERS),c=!0;b.isEmptyObject(a.state)||b.isEmptyObject(a.state.gradedFeedback)||
h.fireCommand(b.activityAppcontroller.COMMAND_CONTAINER_APPLY_ACTIVITY_DELTA,a.state.gradedFeedback);!0===a.gradedFeedback&&!c&&h.fireCommand(b.activityAppcontroller.COMMAND_CONTAINER_SHOW_ANSWERS)};c.handleApplyQResponse=function(c){void 0!==c.qResponse.qDoc&&(a(),g.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_RENDER_QDOC,c.qResponse.qDoc,c.qResponse.status.warningLevel));void 0!==c.qResponse.qDelta&&g.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_APPLY_QDELTA,c.qResponse.qDelta)};c.handleApplyResolveAreaRequestResponse=
function(a,c){g.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_RECEIVE_AREA_REQUEST_RESPONSE,a,c)};c.handleGetClientDelta=function(a){g.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_GET_CLIENTDELTA,function(b,c){a(b,c)})};c.handleApplyClientDelta=function(a){g.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_APPLY_CLIENTDELTA,a)};c.handleGetClientQDelta=function(a){g.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_GET_CLIENT_QDELTA,function(b,c){a(b,c)})};c.handleApplyClientQDelta=function(a){g.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_APPLY_CLIENT_QDELTA,
a)};c.handleShowAnswers=function(){g.fireCommand(b.q4appcontroller.COMMAND_CONTAINER_SHOW_ANSWERS)};return c};b.extend({covalentcontainercontroller:new function(){return{COMMAND_COVALENT_APPLY_ACTIVITY:"__ccc_apply_activity",COMMAND_COVALENT_APPLY_QRESPONSE:"__ccc_apply_qresponse",COMMAND_COVALENT_APPLY_RESOLVE_AREA_REQUEST_RESPONSE:"__ccc_apply_area_resolve_area_request_response",COMMAND_COVALENT_GET_CLIENT_DELTA:"__ccc_get_client_delta",COMMAND_COVALENT_APPLY_CLIENT_DELTA:"__ccc_apply_client_delta",
COMMAND_COVALENT_GET_CLIENT_QDELTA:"__ccc_get_client_qdelta",COMMAND_COVALENT_APPLY_CLIENT_QDELTA:"__ccc_apply_client_qdelta",COMMAND_COVALENT_SHOW_ANSWERS:"__ccc_show_answers",MESSAGE_ANSWER_SUBMISSION_ERROR:"__ccc_msg_err_answer_submission",MESSAGE_AUTHORING_ERROR:"__ccc_msg_err_authoring",MESSAGE_COMMUNICATION_ERROR:"__ccc_msg_err_communication",MESSAGE_RUNTIME_ERROR:"__ccc_msg_err_runtime",MESSAGE_SHOW_LOADING:"__ccc_msg_show_loading",MESSAGE_HIDE_LOADING:"__ccc_msg_hide_loading",newInstance:function(){return new a}}}})})(k);
(function(b){b.q4containermodelfactory.registerClass("container",function(){return{nodeName:"container",requestContext:null,navigationContext:null,gradingContext:null}})})(k);(function(b){b.q4containermodelfactory.registerClass("gradingContext",function(){var a={nodeName:"gradingContext",attemptCurrent:null,attemptMax:null,scorePossible:void 0,scoreTotal:void 0,showAnswers:!1,view:null,capabilities:{},requestContext:{},scoreAttempts:[],title:null,parse:function(d){a.attemptCurrent=d["@attemptCurrent"];
a.attemptMax=d["@attemptMax"];a.scorePossible=d["@scorePossible"];a.scoreTotal=d["@scoreTotal"];a.showAnswers=d["@showAnswers"];a.view=d["@view"];for(var d=b.jsonutil.getChildren(d),c=0,e=d.length;c<e;c++){var f=d[c].name,g=d[c].value;if(null!==g)switch(f){case "capabilities":for(var h=b.jsonutil.getChildren(g),f=0,g=h.length;f<g;f++){var j=h[f].value;a.capabilities[h[f].name]=j.$}break;case "requestContext":a.requestContext=b.jsonutil.getAttributes(g);break;case "scoreAttempts":h=b.jsonutil.getChildren(g);
f=0;for(g=h.length;f<g;f++)j=h[f].value,a.scoreAttempts.push(j.$);break;case "title":a.title=g.$}}}};return a})})(k);(function(b){b.q4containerpresenterfactory.registerClass("actionbar_presenter",function(){var a=Object.create(b.q4containerpresenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null,f=null;a._init=function(b,c,j){f=b;d=c;e=j;return a};a._createView=function(a){c=b.q4containerviewfactory.newInstanceByName("actionbar_view");c.render(d,a)};a._bindCommandBus=function(){f.addCommandHandler(b.q4containercontroller.COMMAND_GRADING_CONTEXT_UPDATED,
function(b,c){a.refresh(b,c)})};a._refresh=function(a,h){c.render(d,e);switch(h.view){case "Practice":b.q4containerpresenterfactory.newInstanceByName("practice_presenter").init(f,d,c);break;case "GradeItNow":b.q4containerpresenterfactory.newInstanceByName("gradeitnow_presenter").init(f,d,c);break;case "Graded":b.q4containerpresenterfactory.newInstanceByName("graded_presenter").init(f,d,c)}};return a})})(k);(function(b){b.q4containerpresenterfactory.registerClass("base_presenter",function(){return{init:function(a,
b,c){a=this._init(a,b,c);this._createView(c);void 0!==this._createChildPresenters&&this._createChildPresenters();void 0!==this._bindCommandBus&&this._bindCommandBus();void 0!==this._bindView&&this._bindView();void 0!==this._bindModel&&this._bindModel();return a},refresh:function(a,b){void 0!==this._refresh&&this._refresh(a,b)}}})})(k);(function(b){b.q4containerpresenterfactory.registerClass("container_presenter",function(){var a=Object.create(b.q4containerpresenterfactory.newInstanceByName("base_presenter")),
d=null,c=null,e=null;a._init=function(a,b){e=a;d=b;return this};a._createChildPresenters=function(){b.q4containerpresenterfactory.newInstanceByName("titlebar_presenter").init(e,d,c);b.q4containerpresenterfactory.newInstanceByName("actionbar_presenter").init(e,d,c)};a._createView=function(a){c=b.q4containerviewfactory.newInstanceByName("container_view");c.render(d,a)};a.getNodeView=function(){return c};return a})})(k);(function(b){b.q4containerpresenterfactory.registerClass("graded_presenter",function(){var a=
Object.create(b.q4containerpresenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null;a._init=function(a,b){e=a;d=b;return this};a._createView=function(a){c=b.q4containerviewfactory.newInstanceByName("graded_view");c.render(d,a);a=d.gradingContext;void 0!==a.scoreTotal&&void 0!==a.scorePossible&&c.getButtonDock().setScore(a.scoreTotal,a.scorePossible);void 0!==a.capabilities["continue"]&&c.getButtonDock().getContinueButton().show();void 0!==a.capabilities.saveAndContinue&&c.getButtonDock().getSaveAndContinueButton().show()};
a._bindView=function(){c.getButtonDock().getContinueButtonProxy().addViewHandler("continue",function(){e.fireCommand(b.q4containercontroller.COMMAND_CONTINUE,"continue",f)});c.getButtonDock().getSaveAndContinueButtonProxy().addViewHandler("saveAndContinue",function(){e.fireCommand(b.q4containercontroller.COMMAND_GRADE,"saveAndContinue",f)})};var f=function(){window.location.href=d.navigationContext.next};return a})})(k);(function(b){b.q4containerpresenterfactory.registerClass("gradeitnow_presenter",
function(){var a=Object.create(b.q4containerpresenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null;a._init=function(a,b){e=a;d=b;return this};a._createView=function(a){c=b.q4containerviewfactory.newInstanceByName("gradeitnow_view");c.render(d,a);a=d.gradingContext;void 0!==a.attemptCurrent&&void 0!==a.attemptMax&&c.getButtonDock().setAttempt(a.attemptCurrent,a.attemptMax);void 0!==a.scoreTotal&&void 0!==a.scorePossible&&c.getButtonDock().setScore(a.scoreTotal,a.scorePossible);
void 0!==a.capabilities.tryAgain&&c.getButtonDock().getTryAgainButton().show();void 0!==a.capabilities.tryAnotherVersion&&c.getButtonDock().getTryAnotherVersionButton().show();void 0!==a.capabilities.gradeItNow&&c.getButtonDock().getGradeItNowButton().show();void 0!==a.capabilities["continue"]&&c.getButtonDock().getContinueButton().show();void 0!==a.capabilities.saveAndContinue&&c.getButtonDock().getSaveAndContinueButton().show()};a._bindView=function(){c.getButtonDock().getTryAgainButtonProxy().addViewHandler("tryAgain",
function(){e.fireCommand(b.q4containercontroller.COMMAND_RELOAD,"tryAgain")});c.getButtonDock().getTryAnotherVersionButtonProxy().addViewHandler("tryAnotherVersion",function(){e.fireCommand(b.q4containercontroller.COMMAND_RELOAD,"tryAnotherVersion")});c.getButtonDock().getGradeItNowButtonProxy().addViewHandler("gradeItNow",function(){e.fireCommand(b.q4containercontroller.COMMAND_GRADE,"gradeItNow")});c.getButtonDock().getContinueButtonProxy().addViewHandler("continue",function(){e.fireCommand(b.q4containercontroller.COMMAND_CONTINUE,
"continue",f)});c.getButtonDock().getSaveAndContinueButtonProxy().addViewHandler("saveAndContinue",function(){e.fireCommand(b.q4containercontroller.COMMAND_GRADE,"saveAndContinue",f)})};var f=function(){window.location.href=d.navigationContext.next};return a})})(k);(function(b){b.q4containerpresenterfactory.registerClass("practice_presenter",function(){var a=Object.create(b.q4containerpresenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null;a._init=function(a,b){e=a;d=b;return this};
a._createView=function(a){c=b.q4containerviewfactory.newInstanceByName("practice_view");c.render(d,a);a=d.gradingContext;void 0!==a.scoreTotal&&void 0!==a.scorePossible&&c.getButtonDock().setScore(a.scoreTotal,a.scorePossible);void 0!==a.capabilities.checkAnswer&&c.getButtonDock().getCheckAnswerButton().show();void 0!==a.capabilities.save&&c.getButtonDock().getSaveButton().show();void 0!==a.capabilities["continue"]&&c.getButtonDock().getContinueButton().show();void 0!==a.capabilities.saveAndContinue&&
c.getButtonDock().getSaveAndContinueButton().show()};a._bindView=function(){c.getButtonDock().getCheckAnswerButtonProxy().addViewHandler("checkAnswer",function(){e.fireCommand(b.q4containercontroller.COMMAND_GRADE,"checkAnswer")});c.getButtonDock().getSaveButtonProxy().addViewHandler("save",function(){e.fireCommand(b.q4containercontroller.COMMAND_GRADE,"save")});c.getButtonDock().getContinueButtonProxy().addViewHandler("continue",function(){e.fireCommand(b.q4containercontroller.COMMAND_CONTINUE,"continue",
f)});c.getButtonDock().getSaveAndContinueButtonProxy().addViewHandler("saveAndContinue",function(){e.fireCommand(b.q4containercontroller.COMMAND_GRADE,"saveAndContinue",f)})};var f=function(){window.location.href=d.navigationContext.next};return a})})(k);(function(b){b.q4containerpresenterfactory.registerClass("titlebar_presenter",function(){var a=Object.create(b.q4containerpresenterfactory.newInstanceByName("base_presenter")),d=null,c=null,e=null;a._init=function(a,b){e=a;d=b;return this};a._createView=
function(a){c=b.q4containerviewfactory.newInstanceByName("titlebar_view");c.render(d,a)};a._bindCommandBus=function(){e.addCommandHandler(b.q4containercontroller.COMMAND_GRADING_CONTEXT_UPDATED,function(b,c){a.refresh(b,c)})};a._refresh=function(a,b){void 0!==b.capabilities.showTitle?c.setTitle(b.title):c.setTitle("")};return a})})(k);(function(b){b.extend({q4containerbootstrap:new function(){function a(a,c){c.addCommandHandler(b.q4appcontroller.COMMAND_SEND_QDELTA_FEEDBACK,function(c,d,f){b(a).trigger("sendQDeltaFeedback",
[d,f])});c.addCommandHandler(b.q4appcontroller.COMMAND_SEND_RESOLVE_AREA_REQUEST,function(c,d,f){b(a).trigger("sendResolveAreaRequest",[d,f])});c.addCommandHandler(b.activityAppcontroller.COMMAND_GRADE_STEP,function(c,d,f){b(a).trigger("gradeStep",[d,f])});c.addCommandHandler(b.activityAppcontroller.COMMAND_GOTO_STEP,function(c,d,f){b(a).trigger("gotoStep",[d,f])})}function d(a,c){a.bind("applyActivity",function(a,d){c.fireCommand(b.covalentcontainercontroller.COMMAND_COVALENT_APPLY_ACTIVITY,d)});
a.bind("applyQResponse",function(a,d){c.fireCommand(b.covalentcontainercontroller.COMMAND_COVALENT_APPLY_QRESPONSE,d)});a.bind("applyResolveAreaRequestResponse",function(a,d,e){c.fireCommand(b.covalentcontainercontroller.COMMAND_COVALENT_APPLY_RESOLVE_AREA_REQUEST_RESPONSE,d,e)});a.bind("getClientDelta",function(a,d){c.fireCommand(b.covalentcontainercontroller.COMMAND_COVALENT_GET_CLIENT_QDELTA,d)});a.bind("applyClientDelta",function(a,d){c.fireCommand(b.covalentcontainercontroller.COMMAND_COVALENT_APPLY_CLIENT_DELTA,
d)});a.bind("showAnswers",function(){c.fireCommand(b.covalentcontainercontroller.COMMAND_COVALENT_SHOW_ANSWERS)});a.bind("getClientQDelta",function(a,d){c.fireCommand(b.covalentcontainercontroller.COMMAND_COVALENT_GET_CLIENT_QDELTA,d)});a.bind("applyClientQDelta",function(a,d){c.fireCommand(b.covalentcontainercontroller.COMMAND_COVALENT_APPLY_CLIENT_QDELTA,d)})}function c(a,c){a.bind("answerSubmissionError",function(a,d){c.fireCommand(b.covalentcontainercontroller.MESSAGE_ANSWER_SUBMISSION_ERROR,
d)});a.bind("authoringError",function(a,d){c.fireCommand(b.covalentcontainercontroller.MESSAGE_AUTHORING_ERROR,d)});a.bind("communicationError",function(a,d){c.fireCommand(b.covalentcontainercontroller.MESSAGE_COMMUNICATION_ERROR,d)});a.bind("runtimeError",function(a,d){c.fireCommand(b.covalentcontainercontroller.MESSAGE_RUNTIME_ERROR,d)});a.bind("showNowLoading",function(){c.fireCommand(b.covalentcontainercontroller.MESSAGE_SHOW_LOADING)});a.bind("hideNowLoading",function(){c.fireCommand(b.covalentcontainercontroller.MESSAGE_HIDE_LOADING)})}
b(document).bind("initq4",function(a,c,d,h,j){a=b.commandbus.newInstance().init("q4containercontroller_commandbus");h=b.q4docfactoryservice.newInstance().init(h);j=b.q4gradingservice.newInstance().init(j);b.q4containercontroller.newInstance().init(a).start(c,d,h,j)});b(document).bind("initq4covalent",function(e,f){var g=b.commandbus.newInstance().init("covalentcontainercontroller_commandbus");d(f,g);c(f,g);a(f,g);b.covalentcontainercontroller.newInstance().init(g).start(f)})}})})(k);(function(b){var a=
function(){var a={},c=null,e=null,f=null,g=null;a.init=function(a){c=a.protocol;e=a.server;f=a.uri;g=a.requestType;return this};a.grade=function(a,d,k,m){a=b.toJSON(a);k=b.toJSON(k);d={format:"json",requestContext:a,qdocid:d,replaceAttributes:k};k=f;c&&(k=c+"://"+e+f);"jsonp"==g?b.getJSONP(k,d,m):b.postJSON(k,d,m)};a.gradeWithClientQDelta=function(a,d,k,m){a=b.toJSON(a);k=b.toJSON(k);d={format:"json",requestContext:a,qdocid:d,qDelta:k};k=f;c&&(k=c+"://"+e+f);"jsonp"==g?b.getJSONP(k,d,m):b.postJSON(k,
d,m)};a.nextVersion=function(a,d){var k={format:"json",requestContext:b.toJSON(a)},m=f;c&&(m=c+"://"+e+f);"jsonp"==g?b.getJSONP(m,k,d):b.postJSON(m,k,d)};return a};b.extend({q4gradingservice:new function(){return{newInstance:function(){return new a}}}})})(k);(function(b){b.template("actionbar_viewtmpl",'<div class="q4-actionbar"></div>');b.q4containerviewfactory.registerClass("actionbar_view",function(){var a={nodeName:"actionbar_view"},d=null;a.render=function(a,e){null!=d&&d.remove();d=b.tmpl("actionbar_viewtmpl");
d.appendTo(e.getActionBarNode())};a.getHtmlNode=function(){return d};return a})})(k);(function(b){b.template("container_viewtmpl",'<div class="q4-container"><div class="q4-titlebar"></div><div class="q4-renderer-root"></div><div class="q4-actionbar"></div></div>');b.q4containerviewfactory.registerClass("container_view",function(){var a={},d=null,c=null,e=null;a.nodeName="container_view";a.render=function(a,g){var h=b.tmpl("container_viewtmpl");h.appendTo(g.getHtmlNode());c=h.find("div.q4-titlebar");
d=h.find("div.q4-renderer-root");e=h.find("div.q4-actionbar")};a.getHtmlNode=function(){return d};a.getTitleBarNode=function(){return c};a.getActionBarNode=function(){return e};return a})})(k);(function(b){b.template("graded_viewtmpl",'<div class="q4-button-dock"><span class="q4-scores-display q4-hidden"></span><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-continue">Continue</button><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-save-and-continue">Save &amp; Continue</button></div>');
b.q4containerviewfactory.registerClass("graded_view",function(){var a={},d=null,c=null,e=null,f=null;a.nodeName="graded_view";a.render=function(a,g){d=b.tmpl("graded_viewtmpl");d.appendTo(g.getHtmlNode());c=d.find("span.q4-scores-display");e=d.find("button.q4-button-continue");f=d.find("button.q4-button-save-and-continue")};a.getHtmlNode=function(){return d};var g=new function(){return{setScore:function(a,b){c.html("Score: "+a+" / "+b+" ");c.removeClass("q4-hidden")},getContinueButton:function(){return{show:function(){e.removeClass("q4-button-hidden")}}},
getSaveAndContinueButton:function(){return{show:function(){f.removeClass("q4-button-hidden")}}},getSaveAndContinueButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,b){"saveAndContinue"==a&&f.touchclick(b)})},getContinueButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,b){"continue"==a&&e.touchclick(b)})}}};a.getButtonDock=function(){return g};return a})})(k);(function(b){b.template("gradeitnow_viewtmpl",'<div class="q4-button-dock"><span class="q4-attempts-display q4-hidden"></span><span class="q4-scores-display q4-hidden"></span><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-try-again">Try Again</button><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-try-another-version">Try Another Version</button><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-grade-it-now">Grade It Now</button><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-continue">Continue</button><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-save-and-continue">Save &amp; Continue</button></div>');
b.q4containerviewfactory.registerClass("gradeitnow_view",function(){var a={},d=null,c=null,e=null,f=null,g=null,h=null,j=null,k=null;a.nodeName="gradeitnow_view";a.render=function(a,m){d=b.tmpl("gradeitnow_viewtmpl");d.appendTo(m.getHtmlNode());c=d.find("span.q4-attempts-display");e=d.find("span.q4-scores-display");f=d.find("button.q4-button-try-again");g=d.find("button.q4-button-try-another-version");h=d.find("button.q4-button-grade-it-now");j=d.find("button.q4-button-continue");k=d.find("button.q4-button-save-and-continue")};
a.getHtmlNode=function(){return d};var m=new function(){return{setAttempt:function(a,b){c.html("Attempt: "+a+"/"+b+" ");c.removeClass("q4-hidden")},setScore:function(a,b){e.html("Score: "+a+" / "+b+" ");e.removeClass("q4-hidden")},getTryAgainButton:function(){return{show:function(){f.removeClass("q4-button-hidden")}}},getTryAnotherVersionButton:function(){return{show:function(){g.removeClass("q4-button-hidden")}}},getGradeItNowButton:function(){return{show:function(){h.removeClass("q4-button-hidden")}}},
getContinueButton:function(){return{show:function(){j.removeClass("q4-button-hidden")}}},getSaveAndContinueButton:function(){return{show:function(){k.removeClass("q4-button-hidden")}}},getTryAgainButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,b){"tryAgain"==a&&f.touchclick(b)})},getTryAnotherVersionButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,b){"tryAnotherVersion"==a&&g.touchclick(b)})},getGradeItNowButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,
b){"gradeItNow"==a&&h.touchclick(b)})},getSaveAndContinueButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,b){"saveAndContinue"==a&&k.touchclick(b)})},getContinueButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,b){"continue"==a&&j.touchclick(b)})}}};a.getButtonDock=function(){return m};return a})})(k);(function(b){b.template("practice_viewtmpl",'<div class="q4-button-dock"><span class="q4-scores-display q4-hidden"></span><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-checkanswer">Check Answer</button><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-save">Save</button><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-continue">Continue</button><button type="button" class="q4-button q4-button-text q4-button-hidden q4-button-save-and-continue">Save &amp; Continue</button></div>');
b.q4containerviewfactory.registerClass("practice_view",function(){var a={},d=null,c=null,e=null,f=null,g=null,h=null;a.nodeName="practice_view";a.render=function(a,j){d=b.tmpl("practice_viewtmpl");d.appendTo(j.getHtmlNode());h=d.find("span.q4-scores-display");c=d.find("button.q4-button-checkanswer");e=d.find("button.q4-button-save");f=d.find("button.q4-button-continue");g=d.find("button.q4-button-save-and-continue")};a.getHtmlNode=function(){return d};var j=new function(){return{getCheckAnswerButton:function(){return{show:function(){c.removeClass("q4-button-hidden")}}},
getSaveButton:function(){return{show:function(){e.removeClass("q4-button-hidden")}}},getContinueButton:function(){return{show:function(){f.removeClass("q4-button-hidden")}}},getSaveAndContinueButton:function(){return{show:function(){g.removeClass("q4-button-hidden")}}},setScore:function(a,b){h.html("Score: "+a+" / "+b+" ");h.removeClass("q4-hidden")},getCheckAnswerButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,b){"checkAnswer"==a&&c.touchclick(b)})},getSaveButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,
b){"save"==a&&e.touchclick(b)})},getSaveAndContinueButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,b){"saveAndContinue"==a&&g.touchclick(b)})},getContinueButtonProxy:function(){return b.eventproxy.createAddViewHandler(function(a,b){"continue"==a&&f.touchclick(b)})}}};a.getButtonDock=function(){return j};return a})})(k);(function(b){b.q4containerviewfactory.registerClass("root_view",function(){var a={},b=null;a.nodeName="root_view";a.render=function(a){b=a};a.getHtmlNode=
function(){return b};return a})})(k);(function(b){b.template("titlebar_viewtmpl",'<div class="q4-title"></div>');b.q4containerviewfactory.registerClass("titlebar_view",function(){var a={},d=null;a.nodeName="titlebar_view";a.render=function(a,e){null!=d&&d.remove();d=b.tmpl("titlebar_viewtmpl");d.appendTo(e.getTitleBarNode())};a.getHtmlNode=function(){return d};a.setTitle=function(a){d.html(a)};return a})})(k);k.q4versions.add({module:"q4-aplia-container-web",version:"7.9"})})(jQ4);